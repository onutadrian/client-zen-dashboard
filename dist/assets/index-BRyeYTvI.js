function _A(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function bv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function jA(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var op={exports:{}},dl={},lp={exports:{}},st={};var Bw;function SA(){if(Bw)return st;Bw=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function g(W){return W===null||typeof W!="object"?null:(W=m&&W[m]||W["@@iterator"],typeof W=="function"?W:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,v={};function b(W,H,ie){this.props=W,this.context=H,this.refs=v,this.updater=ie||y}b.prototype.isReactComponent={},b.prototype.setState=function(W,H){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,H,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function w(){}w.prototype=b.prototype;function E(W,H,ie){this.props=W,this.context=H,this.refs=v,this.updater=ie||y}var _=E.prototype=new w;_.constructor=E,x(_,b.prototype),_.isPureReactComponent=!0;var S=Array.isArray,P=Object.prototype.hasOwnProperty,B={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function U(W,H,ie){var le,fe={},ae=null,D=null;if(H!=null)for(le in H.ref!==void 0&&(D=H.ref),H.key!==void 0&&(ae=""+H.key),H)P.call(H,le)&&!L.hasOwnProperty(le)&&(fe[le]=H[le]);var O=arguments.length-2;if(O===1)fe.children=ie;else if(1<O){for(var re=Array(O),Q=0;Q<O;Q++)re[Q]=arguments[Q+2];fe.children=re}if(W&&W.defaultProps)for(le in O=W.defaultProps,O)fe[le]===void 0&&(fe[le]=O[le]);return{$$typeof:e,type:W,key:ae,ref:D,props:fe,_owner:B.current}}function F(W,H){return{$$typeof:e,type:W.type,key:H,ref:W.ref,props:W.props,_owner:W._owner}}function ee(W){return typeof W=="object"&&W!==null&&W.$$typeof===e}function me(W){var H={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ie){return H[ie]})}var z=/\/+/g;function G(W,H){return typeof W=="object"&&W!==null&&W.key!=null?me(""+W.key):H.toString(36)}function A(W,H,ie,le,fe){var ae=typeof W;(ae==="undefined"||ae==="boolean")&&(W=null);var D=!1;if(W===null)D=!0;else switch(ae){case"string":case"number":D=!0;break;case"object":switch(W.$$typeof){case e:case t:D=!0}}if(D)return D=W,fe=fe(D),W=le===""?"."+G(D,0):le,S(fe)?(ie="",W!=null&&(ie=W.replace(z,"$&/")+"/"),A(fe,H,ie,"",function(Q){return Q})):fe!=null&&(ee(fe)&&(fe=F(fe,ie+(!fe.key||D&&D.key===fe.key?"":(""+fe.key).replace(z,"$&/")+"/")+W)),H.push(fe)),1;if(D=0,le=le===""?".":le+":",S(W))for(var O=0;O<W.length;O++){ae=W[O];var re=le+G(ae,O);D+=A(ae,H,ie,re,fe)}else if(re=g(W),typeof re=="function")for(W=re.call(W),O=0;!(ae=W.next()).done;)ae=ae.value,re=le+G(ae,O++),D+=A(ae,H,ie,re,fe);else if(ae==="object")throw H=String(W),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return D}function te(W,H,ie){if(W==null)return W;var le=[],fe=0;return A(W,le,"","",function(ae){return H.call(ie,ae,fe++)}),le}function J(W){if(W._status===-1){var H=W._result;H=H(),H.then(function(ie){(W._status===0||W._status===-1)&&(W._status=1,W._result=ie)},function(ie){(W._status===0||W._status===-1)&&(W._status=2,W._result=ie)}),W._status===-1&&(W._status=0,W._result=H)}if(W._status===1)return W._result.default;throw W._result}var V={current:null},X={transition:null},ne={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:X,ReactCurrentOwner:B};function he(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:te,forEach:function(W,H,ie){te(W,function(){H.apply(this,arguments)},ie)},count:function(W){var H=0;return te(W,function(){H++}),H},toArray:function(W){return te(W,function(H){return H})||[]},only:function(W){if(!ee(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},st.Component=b,st.Fragment=r,st.Profiler=i,st.PureComponent=E,st.StrictMode=n,st.Suspense=d,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,st.act=he,st.cloneElement=function(W,H,ie){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var le=x({},W.props),fe=W.key,ae=W.ref,D=W._owner;if(H!=null){if(H.ref!==void 0&&(ae=H.ref,D=B.current),H.key!==void 0&&(fe=""+H.key),W.type&&W.type.defaultProps)var O=W.type.defaultProps;for(re in H)P.call(H,re)&&!L.hasOwnProperty(re)&&(le[re]=H[re]===void 0&&O!==void 0?O[re]:H[re])}var re=arguments.length-2;if(re===1)le.children=ie;else if(1<re){O=Array(re);for(var Q=0;Q<re;Q++)O[Q]=arguments[Q+2];le.children=O}return{$$typeof:e,type:W.type,key:fe,ref:ae,props:le,_owner:D}},st.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:a,_context:W},W.Consumer=W},st.createElement=U,st.createFactory=function(W){var H=U.bind(null,W);return H.type=W,H},st.createRef=function(){return{current:null}},st.forwardRef=function(W){return{$$typeof:c,render:W}},st.isValidElement=ee,st.lazy=function(W){return{$$typeof:f,_payload:{_status:-1,_result:W},_init:J}},st.memo=function(W,H){return{$$typeof:h,type:W,compare:H===void 0?null:H}},st.startTransition=function(W){var H=X.transition;X.transition={};try{W()}finally{X.transition=H}},st.unstable_act=he,st.useCallback=function(W,H){return V.current.useCallback(W,H)},st.useContext=function(W){return V.current.useContext(W)},st.useDebugValue=function(){},st.useDeferredValue=function(W){return V.current.useDeferredValue(W)},st.useEffect=function(W,H){return V.current.useEffect(W,H)},st.useId=function(){return V.current.useId()},st.useImperativeHandle=function(W,H,ie){return V.current.useImperativeHandle(W,H,ie)},st.useInsertionEffect=function(W,H){return V.current.useInsertionEffect(W,H)},st.useLayoutEffect=function(W,H){return V.current.useLayoutEffect(W,H)},st.useMemo=function(W,H){return V.current.useMemo(W,H)},st.useReducer=function(W,H,ie){return V.current.useReducer(W,H,ie)},st.useRef=function(W){return V.current.useRef(W)},st.useState=function(W){return V.current.useState(W)},st.useSyncExternalStore=function(W,H,ie){return V.current.useSyncExternalStore(W,H,ie)},st.useTransition=function(){return V.current.useTransition()},st.version="18.3.1",st}var $w;function _v(){return $w||($w=1,lp.exports=SA()),lp.exports}var zw;function EA(){if(zw)return dl;zw=1;var e=_v(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,h){var f,m={},g=null,y=null;h!==void 0&&(g=""+h),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(y=d.ref);for(f in d)n.call(d,f)&&!a.hasOwnProperty(f)&&(m[f]=d[f]);if(c&&c.defaultProps)for(f in d=c.defaultProps,d)m[f]===void 0&&(m[f]=d[f]);return{$$typeof:t,type:c,key:g,ref:y,props:m,_owner:i.current}}return dl.Fragment=r,dl.jsx=l,dl.jsxs=l,dl}var Hw;function NA(){return Hw||(Hw=1,op.exports=EA()),op.exports}var s=NA(),N=_v();const _t=bv(N),Uj=_A({__proto__:null,default:_t},[N]);var Pu={},cp={exports:{}},Or={},up={exports:{}},dp={};var Ww;function CA(){return Ww||(Ww=1,(function(e){function t(X,ne){var he=X.length;X.push(ne);e:for(;0<he;){var W=he-1>>>1,H=X[W];if(0<i(H,ne))X[W]=ne,X[he]=H,he=W;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var ne=X[0],he=X.pop();if(he!==ne){X[0]=he;e:for(var W=0,H=X.length,ie=H>>>1;W<ie;){var le=2*(W+1)-1,fe=X[le],ae=le+1,D=X[ae];if(0>i(fe,he))ae<H&&0>i(D,fe)?(X[W]=D,X[ae]=he,W=ae):(X[W]=fe,X[le]=he,W=le);else if(ae<H&&0>i(D,he))X[W]=D,X[ae]=he,W=ae;else break e}}return ne}function i(X,ne){var he=X.sortIndex-ne.sortIndex;return he!==0?he:X.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],h=[],f=1,m=null,g=3,y=!1,x=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(X){for(var ne=r(h);ne!==null;){if(ne.callback===null)n(h);else if(ne.startTime<=X)n(h),ne.sortIndex=ne.expirationTime,t(d,ne);else break;ne=r(h)}}function S(X){if(v=!1,_(X),!x)if(r(d)!==null)x=!0,J(P);else{var ne=r(h);ne!==null&&V(S,ne.startTime-X)}}function P(X,ne){x=!1,v&&(v=!1,w(U),U=-1),y=!0;var he=g;try{for(_(ne),m=r(d);m!==null&&(!(m.expirationTime>ne)||X&&!me());){var W=m.callback;if(typeof W=="function"){m.callback=null,g=m.priorityLevel;var H=W(m.expirationTime<=ne);ne=e.unstable_now(),typeof H=="function"?m.callback=H:m===r(d)&&n(d),_(ne)}else n(d);m=r(d)}if(m!==null)var ie=!0;else{var le=r(h);le!==null&&V(S,le.startTime-ne),ie=!1}return ie}finally{m=null,g=he,y=!1}}var B=!1,L=null,U=-1,F=5,ee=-1;function me(){return!(e.unstable_now()-ee<F)}function z(){if(L!==null){var X=e.unstable_now();ee=X;var ne=!0;try{ne=L(!0,X)}finally{ne?G():(B=!1,L=null)}}else B=!1}var G;if(typeof E=="function")G=function(){E(z)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,te=A.port2;A.port1.onmessage=z,G=function(){te.postMessage(null)}}else G=function(){b(z,0)};function J(X){L=X,B||(B=!0,G())}function V(X,ne){U=b(function(){X(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,J(P))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(X){switch(g){case 1:case 2:case 3:var ne=3;break;default:ne=g}var he=g;g=ne;try{return X()}finally{g=he}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,ne){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var he=g;g=X;try{return ne()}finally{g=he}},e.unstable_scheduleCallback=function(X,ne,he){var W=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?W+he:W):he=W,X){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=he+H,X={id:f++,callback:ne,priorityLevel:X,startTime:he,expirationTime:H,sortIndex:-1},he>W?(X.sortIndex=he,t(h,X),r(d)===null&&X===r(h)&&(v?(w(U),U=-1):v=!0,V(S,he-W))):(X.sortIndex=H,t(d,X),x||y||(x=!0,J(P))),X},e.unstable_shouldYield=me,e.unstable_wrapCallback=function(X){var ne=g;return function(){var he=g;g=ne;try{return X.apply(this,arguments)}finally{g=he}}}})(dp)),dp}var qw;function kA(){return qw||(qw=1,up.exports=CA()),up.exports}var Vw;function TA(){if(Vw)return Or;Vw=1;var e=_v(),t=kA();function r(o){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+o,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(o,u){l(o,u),l(o+"Capture",u)}function l(o,u){for(i[o]=u,o=0;o<u.length;o++)n.add(u[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function g(o){return d.call(m,o)?!0:d.call(f,o)?!1:h.test(o)?m[o]=!0:(f[o]=!0,!1)}function y(o,u,p,j){if(p!==null&&p.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return j?!1:p!==null?!p.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function x(o,u,p,j){if(u===null||typeof u>"u"||y(o,u,p,j))return!0;if(j)return!1;if(p!==null)switch(p.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function v(o,u,p,j,T,R,q){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=j,this.attributeNamespace=T,this.mustUseProperty=p,this.propertyName=o,this.type=u,this.sanitizeURL=R,this.removeEmptyString=q}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){b[o]=new v(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var u=o[0];b[u]=new v(u,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){b[o]=new v(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){b[o]=new v(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){b[o]=new v(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){b[o]=new v(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){b[o]=new v(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){b[o]=new v(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){b[o]=new v(o,5,!1,o.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function E(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var u=o.replace(w,E);b[u]=new v(u,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var u=o.replace(w,E);b[u]=new v(u,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var u=o.replace(w,E);b[u]=new v(u,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){b[o]=new v(o,1,!1,o.toLowerCase(),null,!1,!1)}),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){b[o]=new v(o,1,!1,o.toLowerCase(),null,!0,!0)});function _(o,u,p,j){var T=b.hasOwnProperty(u)?b[u]:null;(T!==null?T.type!==0:j||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(x(u,p,T,j)&&(p=null),j||T===null?g(u)&&(p===null?o.removeAttribute(u):o.setAttribute(u,""+p)):T.mustUseProperty?o[T.propertyName]=p===null?T.type===3?!1:"":p:(u=T.attributeName,j=T.attributeNamespace,p===null?o.removeAttribute(u):(T=T.type,p=T===3||T===4&&p===!0?"":""+p,j?o.setAttributeNS(j,u,p):o.setAttribute(u,p))))}var S=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),B=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),me=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),X=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=X&&o[X]||o["@@iterator"],typeof o=="function"?o:null)}var he=Object.assign,W;function H(o){if(W===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+o}var ie=!1;function le(o,u){if(!o||ie)return"";ie=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(xe){var j=xe}Reflect.construct(o,[],u)}else{try{u.call()}catch(xe){j=xe}o.call(u.prototype)}else{try{throw Error()}catch(xe){j=xe}o()}}catch(xe){if(xe&&j&&typeof xe.stack=="string"){for(var T=xe.stack.split(`
`),R=j.stack.split(`
`),q=T.length-1,oe=R.length-1;1<=q&&0<=oe&&T[q]!==R[oe];)oe--;for(;1<=q&&0<=oe;q--,oe--)if(T[q]!==R[oe]){if(q!==1||oe!==1)do if(q--,oe--,0>oe||T[q]!==R[oe]){var ue=`
`+T[q].replace(" at new "," at ");return o.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",o.displayName)),ue}while(1<=q&&0<=oe);break}}}finally{ie=!1,Error.prepareStackTrace=p}return(o=o?o.displayName||o.name:"")?H(o):""}function fe(o){switch(o.tag){case 5:return H(o.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return o=le(o.type,!1),o;case 11:return o=le(o.type.render,!1),o;case 1:return o=le(o.type,!0),o;default:return""}}function ae(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case L:return"Fragment";case B:return"Portal";case F:return"Profiler";case U:return"StrictMode";case G:return"Suspense";case A:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case me:return(o.displayName||"Context")+".Consumer";case ee:return(o._context.displayName||"Context")+".Provider";case z:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case te:return u=o.displayName||null,u!==null?u:ae(o.type)||"Memo";case J:u=o._payload,o=o._init;try{return ae(o(u))}catch{}}return null}function D(o){var u=o.type;switch(o.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=u.render,o=o.displayName||o.name||"",u.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(u);case 8:return u===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function O(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function re(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Q(o){var u=re(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),j=""+o[u];if(!o.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var T=p.get,R=p.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return T.call(this)},set:function(q){j=""+q,R.call(this,q)}}),Object.defineProperty(o,u,{enumerable:p.enumerable}),{getValue:function(){return j},setValue:function(q){j=""+q},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function K(o){o._valueTracker||(o._valueTracker=Q(o))}function Y(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var p=u.getValue(),j="";return o&&(j=re(o)?o.checked?"true":"false":o.value),o=j,o!==p?(u.setValue(o),!0):!1}function pe(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function I(o,u){var p=u.checked;return he({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??o._wrapperState.initialChecked})}function ge(o,u){var p=u.defaultValue==null?"":u.defaultValue,j=u.checked!=null?u.checked:u.defaultChecked;p=O(u.value!=null?u.value:p),o._wrapperState={initialChecked:j,initialValue:p,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function $(o,u){u=u.checked,u!=null&&_(o,"checked",u,!1)}function C(o,u){$(o,u);var p=O(u.value),j=u.type;if(p!=null)j==="number"?(p===0&&o.value===""||o.value!=p)&&(o.value=""+p):o.value!==""+p&&(o.value=""+p);else if(j==="submit"||j==="reset"){o.removeAttribute("value");return}u.hasOwnProperty("value")?M(o,u.type,p):u.hasOwnProperty("defaultValue")&&M(o,u.type,O(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(o.defaultChecked=!!u.defaultChecked)}function k(o,u,p){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var j=u.type;if(!(j!=="submit"&&j!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+o._wrapperState.initialValue,p||u===o.value||(o.value=u),o.defaultValue=u}p=o.name,p!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,p!==""&&(o.name=p)}function M(o,u,p){(u!=="number"||pe(o.ownerDocument)!==o)&&(p==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+p&&(o.defaultValue=""+p))}var Z=Array.isArray;function ce(o,u,p,j){if(o=o.options,u){u={};for(var T=0;T<p.length;T++)u["$"+p[T]]=!0;for(p=0;p<o.length;p++)T=u.hasOwnProperty("$"+o[p].value),o[p].selected!==T&&(o[p].selected=T),T&&j&&(o[p].defaultSelected=!0)}else{for(p=""+O(p),u=null,T=0;T<o.length;T++){if(o[T].value===p){o[T].selected=!0,j&&(o[T].defaultSelected=!0);return}u!==null||o[T].disabled||(u=o[T])}u!==null&&(u.selected=!0)}}function se(o,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return he({},u,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function be(o,u){var p=u.value;if(p==null){if(p=u.children,u=u.defaultValue,p!=null){if(u!=null)throw Error(r(92));if(Z(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),p=u}o._wrapperState={initialValue:O(p)}}function Ee(o,u){var p=O(u.value),j=O(u.defaultValue);p!=null&&(p=""+p,p!==o.value&&(o.value=p),u.defaultValue==null&&o.defaultValue!==p&&(o.defaultValue=p)),j!=null&&(o.defaultValue=""+j)}function je(o){var u=o.textContent;u===o._wrapperState.initialValue&&u!==""&&u!==null&&(o.value=u)}function Ie(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $e(o,u){return o==null||o==="http://www.w3.org/1999/xhtml"?Ie(u):o==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Ge,Zt=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,p,j,T){MSApp.execUnsafeLocalFunction(function(){return o(u,p,j,T)})}:o})(function(o,u){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=u;else{for(Ge=Ge||document.createElement("div"),Ge.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Ge.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}});function kr(o,u){if(u){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=u;return}}o.textContent=u}var gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pi=["Webkit","ms","Moz","O"];Object.keys(gr).forEach(function(o){pi.forEach(function(u){u=u+o.charAt(0).toUpperCase()+o.substring(1),gr[u]=gr[o]})});function Pt(o,u,p){return u==null||typeof u=="boolean"||u===""?"":p||typeof u!="number"||u===0||gr.hasOwnProperty(o)&&gr[o]?(""+u).trim():u+"px"}function mi(o,u){o=o.style;for(var p in u)if(u.hasOwnProperty(p)){var j=p.indexOf("--")===0,T=Pt(p,u[p],j);p==="float"&&(p="cssFloat"),j?o.setProperty(p,T):o[p]=T}}var Eo=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ur(o,u){if(u){if(Eo[o]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function Ji(o,u){if(o.indexOf("-")===-1)return typeof u.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var No=null;function Co(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ko=null,ts=null,Yr=null;function gi(o){if(o=Xo(o)){if(typeof ko!="function")throw Error(r(280));var u=o.stateNode;u&&(u=qc(u),ko(o.stateNode,o.type,u))}}function sx(o){ts?Yr?Yr.push(o):Yr=[o]:ts=o}function ix(){if(ts){var o=ts,u=Yr;if(Yr=ts=null,gi(o),u)for(o=0;o<u.length;o++)gi(u[o])}}function ax(o,u){return o(u)}function ox(){}var jh=!1;function lx(o,u,p){if(jh)return o(u,p);jh=!0;try{return ax(o,u,p)}finally{jh=!1,(ts!==null||Yr!==null)&&(ox(),ix())}}function To(o,u){var p=o.stateNode;if(p===null)return null;var j=qc(p);if(j===null)return null;p=j[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(o=o.type,j=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!j;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,u,typeof p));return p}var Sh=!1;if(c)try{var Po={};Object.defineProperty(Po,"passive",{get:function(){Sh=!0}}),window.addEventListener("test",Po,Po),window.removeEventListener("test",Po,Po)}catch{Sh=!1}function k2(o,u,p,j,T,R,q,oe,ue){var xe=Array.prototype.slice.call(arguments,3);try{u.apply(p,xe)}catch(ke){this.onError(ke)}}var Ao=!1,jc=null,Sc=!1,Eh=null,T2={onError:function(o){Ao=!0,jc=o}};function P2(o,u,p,j,T,R,q,oe,ue){Ao=!1,jc=null,k2.apply(T2,arguments)}function A2(o,u,p,j,T,R,q,oe,ue){if(P2.apply(this,arguments),Ao){if(Ao){var xe=jc;Ao=!1,jc=null}else throw Error(r(198));Sc||(Sc=!0,Eh=xe)}}function vi(o){var u=o,p=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(p=u.return),o=u.return;while(o)}return u.tag===3?p:null}function cx(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function ux(o){if(vi(o)!==o)throw Error(r(188))}function R2(o){var u=o.alternate;if(!u){if(u=vi(o),u===null)throw Error(r(188));return u!==o?null:o}for(var p=o,j=u;;){var T=p.return;if(T===null)break;var R=T.alternate;if(R===null){if(j=T.return,j!==null){p=j;continue}break}if(T.child===R.child){for(R=T.child;R;){if(R===p)return ux(T),o;if(R===j)return ux(T),u;R=R.sibling}throw Error(r(188))}if(p.return!==j.return)p=T,j=R;else{for(var q=!1,oe=T.child;oe;){if(oe===p){q=!0,p=T,j=R;break}if(oe===j){q=!0,j=T,p=R;break}oe=oe.sibling}if(!q){for(oe=R.child;oe;){if(oe===p){q=!0,p=R,j=T;break}if(oe===j){q=!0,j=R,p=T;break}oe=oe.sibling}if(!q)throw Error(r(189))}}if(p.alternate!==j)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:u}function dx(o){return o=R2(o),o!==null?hx(o):null}function hx(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var u=hx(o);if(u!==null)return u;o=o.sibling}return null}var fx=t.unstable_scheduleCallback,px=t.unstable_cancelCallback,D2=t.unstable_shouldYield,O2=t.unstable_requestPaint,Ft=t.unstable_now,I2=t.unstable_getCurrentPriorityLevel,Nh=t.unstable_ImmediatePriority,mx=t.unstable_UserBlockingPriority,Ec=t.unstable_NormalPriority,M2=t.unstable_LowPriority,gx=t.unstable_IdlePriority,Nc=null,Pn=null;function F2(o){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(Nc,o,void 0,(o.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:B2,L2=Math.log,U2=Math.LN2;function B2(o){return o>>>=0,o===0?32:31-(L2(o)/U2|0)|0}var Cc=64,kc=4194304;function Ro(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Tc(o,u){var p=o.pendingLanes;if(p===0)return 0;var j=0,T=o.suspendedLanes,R=o.pingedLanes,q=p&268435455;if(q!==0){var oe=q&~T;oe!==0?j=Ro(oe):(R&=q,R!==0&&(j=Ro(R)))}else q=p&~T,q!==0?j=Ro(q):R!==0&&(j=Ro(R));if(j===0)return 0;if(u!==0&&u!==j&&(u&T)===0&&(T=j&-j,R=u&-u,T>=R||T===16&&(R&4194240)!==0))return u;if((j&4)!==0&&(j|=p&16),u=o.entangledLanes,u!==0)for(o=o.entanglements,u&=j;0<u;)p=31-ln(u),T=1<<p,j|=o[p],u&=~T;return j}function $2(o,u){switch(o){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z2(o,u){for(var p=o.suspendedLanes,j=o.pingedLanes,T=o.expirationTimes,R=o.pendingLanes;0<R;){var q=31-ln(R),oe=1<<q,ue=T[q];ue===-1?((oe&p)===0||(oe&j)!==0)&&(T[q]=$2(oe,u)):ue<=u&&(o.expiredLanes|=oe),R&=~oe}}function Ch(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function vx(){var o=Cc;return Cc<<=1,(Cc&4194240)===0&&(Cc=64),o}function kh(o){for(var u=[],p=0;31>p;p++)u.push(o);return u}function Do(o,u,p){o.pendingLanes|=u,u!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,u=31-ln(u),o[u]=p}function H2(o,u){var p=o.pendingLanes&~u;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=u,o.mutableReadLanes&=u,o.entangledLanes&=u,u=o.entanglements;var j=o.eventTimes;for(o=o.expirationTimes;0<p;){var T=31-ln(p),R=1<<T;u[T]=0,j[T]=-1,o[T]=-1,p&=~R}}function Th(o,u){var p=o.entangledLanes|=u;for(o=o.entanglements;p;){var j=31-ln(p),T=1<<j;T&u|o[j]&u&&(o[j]|=u),p&=~T}}var vt=0;function yx(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var xx,Ph,wx,bx,_x,Ah=!1,Pc=[],js=null,Ss=null,Es=null,Oo=new Map,Io=new Map,Ns=[],W2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jx(o,u){switch(o){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":Oo.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(u.pointerId)}}function Mo(o,u,p,j,T,R){return o===null||o.nativeEvent!==R?(o={blockedOn:u,domEventName:p,eventSystemFlags:j,nativeEvent:R,targetContainers:[T]},u!==null&&(u=Xo(u),u!==null&&Ph(u)),o):(o.eventSystemFlags|=j,u=o.targetContainers,T!==null&&u.indexOf(T)===-1&&u.push(T),o)}function q2(o,u,p,j,T){switch(u){case"focusin":return js=Mo(js,o,u,p,j,T),!0;case"dragenter":return Ss=Mo(Ss,o,u,p,j,T),!0;case"mouseover":return Es=Mo(Es,o,u,p,j,T),!0;case"pointerover":var R=T.pointerId;return Oo.set(R,Mo(Oo.get(R)||null,o,u,p,j,T)),!0;case"gotpointercapture":return R=T.pointerId,Io.set(R,Mo(Io.get(R)||null,o,u,p,j,T)),!0}return!1}function Sx(o){var u=yi(o.target);if(u!==null){var p=vi(u);if(p!==null){if(u=p.tag,u===13){if(u=cx(p),u!==null){o.blockedOn=u,_x(o.priority,function(){wx(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ac(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var p=Dh(o.domEventName,o.eventSystemFlags,u[0],o.nativeEvent);if(p===null){p=o.nativeEvent;var j=new p.constructor(p.type,p);No=j,p.target.dispatchEvent(j),No=null}else return u=Xo(p),u!==null&&Ph(u),o.blockedOn=p,!1;u.shift()}return!0}function Ex(o,u,p){Ac(o)&&p.delete(u)}function V2(){Ah=!1,js!==null&&Ac(js)&&(js=null),Ss!==null&&Ac(Ss)&&(Ss=null),Es!==null&&Ac(Es)&&(Es=null),Oo.forEach(Ex),Io.forEach(Ex)}function Fo(o,u){o.blockedOn===u&&(o.blockedOn=null,Ah||(Ah=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,V2)))}function Lo(o){function u(T){return Fo(T,o)}if(0<Pc.length){Fo(Pc[0],o);for(var p=1;p<Pc.length;p++){var j=Pc[p];j.blockedOn===o&&(j.blockedOn=null)}}for(js!==null&&Fo(js,o),Ss!==null&&Fo(Ss,o),Es!==null&&Fo(Es,o),Oo.forEach(u),Io.forEach(u),p=0;p<Ns.length;p++)j=Ns[p],j.blockedOn===o&&(j.blockedOn=null);for(;0<Ns.length&&(p=Ns[0],p.blockedOn===null);)Sx(p),p.blockedOn===null&&Ns.shift()}var Zi=S.ReactCurrentBatchConfig,Rc=!0;function K2(o,u,p,j){var T=vt,R=Zi.transition;Zi.transition=null;try{vt=1,Rh(o,u,p,j)}finally{vt=T,Zi.transition=R}}function G2(o,u,p,j){var T=vt,R=Zi.transition;Zi.transition=null;try{vt=4,Rh(o,u,p,j)}finally{vt=T,Zi.transition=R}}function Rh(o,u,p,j){if(Rc){var T=Dh(o,u,p,j);if(T===null)Xh(o,u,j,Dc,p),jx(o,j);else if(q2(T,o,u,p,j))j.stopPropagation();else if(jx(o,j),u&4&&-1<W2.indexOf(o)){for(;T!==null;){var R=Xo(T);if(R!==null&&xx(R),R=Dh(o,u,p,j),R===null&&Xh(o,u,j,Dc,p),R===T)break;T=R}T!==null&&j.stopPropagation()}else Xh(o,u,j,null,p)}}var Dc=null;function Dh(o,u,p,j){if(Dc=null,o=Co(j),o=yi(o),o!==null)if(u=vi(o),u===null)o=null;else if(p=u.tag,p===13){if(o=cx(u),o!==null)return o;o=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null);return Dc=o,null}function Nx(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I2()){case Nh:return 1;case mx:return 4;case Ec:case M2:return 16;case gx:return 536870912;default:return 16}default:return 16}}var Cs=null,Oh=null,Oc=null;function Cx(){if(Oc)return Oc;var o,u=Oh,p=u.length,j,T="value"in Cs?Cs.value:Cs.textContent,R=T.length;for(o=0;o<p&&u[o]===T[o];o++);var q=p-o;for(j=1;j<=q&&u[p-j]===T[R-j];j++);return Oc=T.slice(o,1<j?1-j:void 0)}function Ic(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Mc(){return!0}function kx(){return!1}function Br(o){function u(p,j,T,R,q){this._reactName=p,this._targetInst=T,this.type=j,this.nativeEvent=R,this.target=q,this.currentTarget=null;for(var oe in o)o.hasOwnProperty(oe)&&(p=o[oe],this[oe]=p?p(R):R[oe]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Mc:kx,this.isPropagationStopped=kx,this}return he(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Mc)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Mc)},persist:function(){},isPersistent:Mc}),u}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ih=Br(ea),Uo=he({},ea,{view:0,detail:0}),Y2=Br(Uo),Mh,Fh,Bo,Fc=he({},Uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uh,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Bo&&(Bo&&o.type==="mousemove"?(Mh=o.screenX-Bo.screenX,Fh=o.screenY-Bo.screenY):Fh=Mh=0,Bo=o),Mh)},movementY:function(o){return"movementY"in o?o.movementY:Fh}}),Tx=Br(Fc),X2=he({},Fc,{dataTransfer:0}),Q2=Br(X2),J2=he({},Uo,{relatedTarget:0}),Lh=Br(J2),Z2=he({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),eP=Br(Z2),tP=he({},ea,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),rP=Br(tP),nP=he({},ea,{data:0}),Px=Br(nP),sP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oP(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=aP[o])?!!u[o]:!1}function Uh(){return oP}var lP=he({},Uo,{key:function(o){if(o.key){var u=sP[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Ic(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?iP[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uh,charCode:function(o){return o.type==="keypress"?Ic(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ic(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),cP=Br(lP),uP=he({},Fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ax=Br(uP),dP=he({},Uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uh}),hP=Br(dP),fP=he({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),pP=Br(fP),mP=he({},Fc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),gP=Br(mP),vP=[9,13,27,32],Bh=c&&"CompositionEvent"in window,$o=null;c&&"documentMode"in document&&($o=document.documentMode);var yP=c&&"TextEvent"in window&&!$o,Rx=c&&(!Bh||$o&&8<$o&&11>=$o),Dx=" ",Ox=!1;function Ix(o,u){switch(o){case"keyup":return vP.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mx(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ta=!1;function xP(o,u){switch(o){case"compositionend":return Mx(u);case"keypress":return u.which!==32?null:(Ox=!0,Dx);case"textInput":return o=u.data,o===Dx&&Ox?null:o;default:return null}}function wP(o,u){if(ta)return o==="compositionend"||!Bh&&Ix(o,u)?(o=Cx(),Oc=Oh=Cs=null,ta=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Rx&&u.locale!=="ko"?null:u.data;default:return null}}var bP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fx(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!bP[o.type]:u==="textarea"}function Lx(o,u,p,j){sx(j),u=zc(u,"onChange"),0<u.length&&(p=new Ih("onChange","change",null,p,j),o.push({event:p,listeners:u}))}var zo=null,Ho=null;function _P(o){r0(o,0)}function Lc(o){var u=aa(o);if(Y(u))return o}function jP(o,u){if(o==="change")return u}var Ux=!1;if(c){var $h;if(c){var zh="oninput"in document;if(!zh){var Bx=document.createElement("div");Bx.setAttribute("oninput","return;"),zh=typeof Bx.oninput=="function"}$h=zh}else $h=!1;Ux=$h&&(!document.documentMode||9<document.documentMode)}function $x(){zo&&(zo.detachEvent("onpropertychange",zx),Ho=zo=null)}function zx(o){if(o.propertyName==="value"&&Lc(Ho)){var u=[];Lx(u,Ho,o,Co(o)),lx(_P,u)}}function SP(o,u,p){o==="focusin"?($x(),zo=u,Ho=p,zo.attachEvent("onpropertychange",zx)):o==="focusout"&&$x()}function EP(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Lc(Ho)}function NP(o,u){if(o==="click")return Lc(u)}function CP(o,u){if(o==="input"||o==="change")return Lc(u)}function kP(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var cn=typeof Object.is=="function"?Object.is:kP;function Wo(o,u){if(cn(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var p=Object.keys(o),j=Object.keys(u);if(p.length!==j.length)return!1;for(j=0;j<p.length;j++){var T=p[j];if(!d.call(u,T)||!cn(o[T],u[T]))return!1}return!0}function Hx(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Wx(o,u){var p=Hx(o);o=0;for(var j;p;){if(p.nodeType===3){if(j=o+p.textContent.length,o<=u&&j>=u)return{node:p,offset:u-o};o=j}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Hx(p)}}function qx(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?qx(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function Vx(){for(var o=window,u=pe();u instanceof o.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)o=u.contentWindow;else break;u=pe(o.document)}return u}function Hh(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}function TP(o){var u=Vx(),p=o.focusedElem,j=o.selectionRange;if(u!==p&&p&&p.ownerDocument&&qx(p.ownerDocument.documentElement,p)){if(j!==null&&Hh(p)){if(u=j.start,o=j.end,o===void 0&&(o=u),"selectionStart"in p)p.selectionStart=u,p.selectionEnd=Math.min(o,p.value.length);else if(o=(u=p.ownerDocument||document)&&u.defaultView||window,o.getSelection){o=o.getSelection();var T=p.textContent.length,R=Math.min(j.start,T);j=j.end===void 0?R:Math.min(j.end,T),!o.extend&&R>j&&(T=j,j=R,R=T),T=Wx(p,R);var q=Wx(p,j);T&&q&&(o.rangeCount!==1||o.anchorNode!==T.node||o.anchorOffset!==T.offset||o.focusNode!==q.node||o.focusOffset!==q.offset)&&(u=u.createRange(),u.setStart(T.node,T.offset),o.removeAllRanges(),R>j?(o.addRange(u),o.extend(q.node,q.offset)):(u.setEnd(q.node,q.offset),o.addRange(u)))}}for(u=[],o=p;o=o.parentNode;)o.nodeType===1&&u.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<u.length;p++)o=u[p],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var PP=c&&"documentMode"in document&&11>=document.documentMode,ra=null,Wh=null,qo=null,qh=!1;function Kx(o,u,p){var j=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;qh||ra==null||ra!==pe(j)||(j=ra,"selectionStart"in j&&Hh(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),qo&&Wo(qo,j)||(qo=j,j=zc(Wh,"onSelect"),0<j.length&&(u=new Ih("onSelect","select",null,u,p),o.push({event:u,listeners:j}),u.target=ra)))}function Uc(o,u){var p={};return p[o.toLowerCase()]=u.toLowerCase(),p["Webkit"+o]="webkit"+u,p["Moz"+o]="moz"+u,p}var na={animationend:Uc("Animation","AnimationEnd"),animationiteration:Uc("Animation","AnimationIteration"),animationstart:Uc("Animation","AnimationStart"),transitionend:Uc("Transition","TransitionEnd")},Vh={},Gx={};c&&(Gx=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function Bc(o){if(Vh[o])return Vh[o];if(!na[o])return o;var u=na[o],p;for(p in u)if(u.hasOwnProperty(p)&&p in Gx)return Vh[o]=u[p];return o}var Yx=Bc("animationend"),Xx=Bc("animationiteration"),Qx=Bc("animationstart"),Jx=Bc("transitionend"),Zx=new Map,e0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ks(o,u){Zx.set(o,u),a(u,[o])}for(var Kh=0;Kh<e0.length;Kh++){var Gh=e0[Kh],AP=Gh.toLowerCase(),RP=Gh[0].toUpperCase()+Gh.slice(1);ks(AP,"on"+RP)}ks(Yx,"onAnimationEnd"),ks(Xx,"onAnimationIteration"),ks(Qx,"onAnimationStart"),ks("dblclick","onDoubleClick"),ks("focusin","onFocus"),ks("focusout","onBlur"),ks(Jx,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vo));function t0(o,u,p){var j=o.type||"unknown-event";o.currentTarget=p,A2(j,u,void 0,o),o.currentTarget=null}function r0(o,u){u=(u&4)!==0;for(var p=0;p<o.length;p++){var j=o[p],T=j.event;j=j.listeners;e:{var R=void 0;if(u)for(var q=j.length-1;0<=q;q--){var oe=j[q],ue=oe.instance,xe=oe.currentTarget;if(oe=oe.listener,ue!==R&&T.isPropagationStopped())break e;t0(T,oe,xe),R=ue}else for(q=0;q<j.length;q++){if(oe=j[q],ue=oe.instance,xe=oe.currentTarget,oe=oe.listener,ue!==R&&T.isPropagationStopped())break e;t0(T,oe,xe),R=ue}}}if(Sc)throw o=Eh,Sc=!1,Eh=null,o}function Nt(o,u){var p=u[rf];p===void 0&&(p=u[rf]=new Set);var j=o+"__bubble";p.has(j)||(n0(u,o,2,!1),p.add(j))}function Yh(o,u,p){var j=0;u&&(j|=4),n0(p,o,j,u)}var $c="_reactListening"+Math.random().toString(36).slice(2);function Ko(o){if(!o[$c]){o[$c]=!0,n.forEach(function(p){p!=="selectionchange"&&(DP.has(p)||Yh(p,!1,o),Yh(p,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[$c]||(u[$c]=!0,Yh("selectionchange",!1,u))}}function n0(o,u,p,j){switch(Nx(u)){case 1:var T=K2;break;case 4:T=G2;break;default:T=Rh}p=T.bind(null,u,p,o),T=void 0,!Sh||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(T=!0),j?T!==void 0?o.addEventListener(u,p,{capture:!0,passive:T}):o.addEventListener(u,p,!0):T!==void 0?o.addEventListener(u,p,{passive:T}):o.addEventListener(u,p,!1)}function Xh(o,u,p,j,T){var R=j;if((u&1)===0&&(u&2)===0&&j!==null)e:for(;;){if(j===null)return;var q=j.tag;if(q===3||q===4){var oe=j.stateNode.containerInfo;if(oe===T||oe.nodeType===8&&oe.parentNode===T)break;if(q===4)for(q=j.return;q!==null;){var ue=q.tag;if((ue===3||ue===4)&&(ue=q.stateNode.containerInfo,ue===T||ue.nodeType===8&&ue.parentNode===T))return;q=q.return}for(;oe!==null;){if(q=yi(oe),q===null)return;if(ue=q.tag,ue===5||ue===6){j=R=q;continue e}oe=oe.parentNode}}j=j.return}lx(function(){var xe=R,ke=Co(p),Ae=[];e:{var Ne=Zx.get(o);if(Ne!==void 0){var Fe=Ih,Be=o;switch(o){case"keypress":if(Ic(p)===0)break e;case"keydown":case"keyup":Fe=cP;break;case"focusin":Be="focus",Fe=Lh;break;case"focusout":Be="blur",Fe=Lh;break;case"beforeblur":case"afterblur":Fe=Lh;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=Tx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=Q2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=hP;break;case Yx:case Xx:case Qx:Fe=eP;break;case Jx:Fe=pP;break;case"scroll":Fe=Y2;break;case"wheel":Fe=gP;break;case"copy":case"cut":case"paste":Fe=rP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=Ax}var ze=(u&4)!==0,Lt=!ze&&o==="scroll",ve=ze?Ne!==null?Ne+"Capture":null:Ne;ze=[];for(var de=xe,ye;de!==null;){ye=de;var Oe=ye.stateNode;if(ye.tag===5&&Oe!==null&&(ye=Oe,ve!==null&&(Oe=To(de,ve),Oe!=null&&ze.push(Go(de,Oe,ye)))),Lt)break;de=de.return}0<ze.length&&(Ne=new Fe(Ne,Be,null,p,ke),Ae.push({event:Ne,listeners:ze}))}}if((u&7)===0){e:{if(Ne=o==="mouseover"||o==="pointerover",Fe=o==="mouseout"||o==="pointerout",Ne&&p!==No&&(Be=p.relatedTarget||p.fromElement)&&(yi(Be)||Be[rs]))break e;if((Fe||Ne)&&(Ne=ke.window===ke?ke:(Ne=ke.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Fe?(Be=p.relatedTarget||p.toElement,Fe=xe,Be=Be?yi(Be):null,Be!==null&&(Lt=vi(Be),Be!==Lt||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(Fe=null,Be=xe),Fe!==Be)){if(ze=Tx,Oe="onMouseLeave",ve="onMouseEnter",de="mouse",(o==="pointerout"||o==="pointerover")&&(ze=Ax,Oe="onPointerLeave",ve="onPointerEnter",de="pointer"),Lt=Fe==null?Ne:aa(Fe),ye=Be==null?Ne:aa(Be),Ne=new ze(Oe,de+"leave",Fe,p,ke),Ne.target=Lt,Ne.relatedTarget=ye,Oe=null,yi(ke)===xe&&(ze=new ze(ve,de+"enter",Be,p,ke),ze.target=ye,ze.relatedTarget=Lt,Oe=ze),Lt=Oe,Fe&&Be)t:{for(ze=Fe,ve=Be,de=0,ye=ze;ye;ye=sa(ye))de++;for(ye=0,Oe=ve;Oe;Oe=sa(Oe))ye++;for(;0<de-ye;)ze=sa(ze),de--;for(;0<ye-de;)ve=sa(ve),ye--;for(;de--;){if(ze===ve||ve!==null&&ze===ve.alternate)break t;ze=sa(ze),ve=sa(ve)}ze=null}else ze=null;Fe!==null&&s0(Ae,Ne,Fe,ze,!1),Be!==null&&Lt!==null&&s0(Ae,Lt,Be,ze,!0)}}e:{if(Ne=xe?aa(xe):window,Fe=Ne.nodeName&&Ne.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Ne.type==="file")var He=jP;else if(Fx(Ne))if(Ux)He=CP;else{He=EP;var Ve=SP}else(Fe=Ne.nodeName)&&Fe.toLowerCase()==="input"&&(Ne.type==="checkbox"||Ne.type==="radio")&&(He=NP);if(He&&(He=He(o,xe))){Lx(Ae,He,p,ke);break e}Ve&&Ve(o,Ne,xe),o==="focusout"&&(Ve=Ne._wrapperState)&&Ve.controlled&&Ne.type==="number"&&M(Ne,"number",Ne.value)}switch(Ve=xe?aa(xe):window,o){case"focusin":(Fx(Ve)||Ve.contentEditable==="true")&&(ra=Ve,Wh=xe,qo=null);break;case"focusout":qo=Wh=ra=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,Kx(Ae,p,ke);break;case"selectionchange":if(PP)break;case"keydown":case"keyup":Kx(Ae,p,ke)}var Ke;if(Bh)e:{switch(o){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else ta?Ix(o,p)&&(Xe="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(Xe="onCompositionStart");Xe&&(Rx&&p.locale!=="ko"&&(ta||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&ta&&(Ke=Cx()):(Cs=ke,Oh="value"in Cs?Cs.value:Cs.textContent,ta=!0)),Ve=zc(xe,Xe),0<Ve.length&&(Xe=new Px(Xe,o,null,p,ke),Ae.push({event:Xe,listeners:Ve}),Ke?Xe.data=Ke:(Ke=Mx(p),Ke!==null&&(Xe.data=Ke)))),(Ke=yP?xP(o,p):wP(o,p))&&(xe=zc(xe,"onBeforeInput"),0<xe.length&&(ke=new Px("onBeforeInput","beforeinput",null,p,ke),Ae.push({event:ke,listeners:xe}),ke.data=Ke))}r0(Ae,u)})}function Go(o,u,p){return{instance:o,listener:u,currentTarget:p}}function zc(o,u){for(var p=u+"Capture",j=[];o!==null;){var T=o,R=T.stateNode;T.tag===5&&R!==null&&(T=R,R=To(o,p),R!=null&&j.unshift(Go(o,R,T)),R=To(o,u),R!=null&&j.push(Go(o,R,T))),o=o.return}return j}function sa(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function s0(o,u,p,j,T){for(var R=u._reactName,q=[];p!==null&&p!==j;){var oe=p,ue=oe.alternate,xe=oe.stateNode;if(ue!==null&&ue===j)break;oe.tag===5&&xe!==null&&(oe=xe,T?(ue=To(p,R),ue!=null&&q.unshift(Go(p,ue,oe))):T||(ue=To(p,R),ue!=null&&q.push(Go(p,ue,oe)))),p=p.return}q.length!==0&&o.push({event:u,listeners:q})}var OP=/\r\n?/g,IP=/\u0000|\uFFFD/g;function i0(o){return(typeof o=="string"?o:""+o).replace(OP,`
`).replace(IP,"")}function Hc(o,u,p){if(u=i0(u),i0(o)!==u&&p)throw Error(r(425))}function Wc(){}var Qh=null,Jh=null;function Zh(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var ef=typeof setTimeout=="function"?setTimeout:void 0,MP=typeof clearTimeout=="function"?clearTimeout:void 0,a0=typeof Promise=="function"?Promise:void 0,FP=typeof queueMicrotask=="function"?queueMicrotask:typeof a0<"u"?function(o){return a0.resolve(null).then(o).catch(LP)}:ef;function LP(o){setTimeout(function(){throw o})}function tf(o,u){var p=u,j=0;do{var T=p.nextSibling;if(o.removeChild(p),T&&T.nodeType===8)if(p=T.data,p==="/$"){if(j===0){o.removeChild(T),Lo(u);return}j--}else p!=="$"&&p!=="$?"&&p!=="$!"||j++;p=T}while(p);Lo(u)}function Ts(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return o}function o0(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return o;u--}else p==="/$"&&u++}o=o.previousSibling}return null}var ia=Math.random().toString(36).slice(2),An="__reactFiber$"+ia,Yo="__reactProps$"+ia,rs="__reactContainer$"+ia,rf="__reactEvents$"+ia,UP="__reactListeners$"+ia,BP="__reactHandles$"+ia;function yi(o){var u=o[An];if(u)return u;for(var p=o.parentNode;p;){if(u=p[rs]||p[An]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(o=o0(o);o!==null;){if(p=o[An])return p;o=o0(o)}return u}o=p,p=o.parentNode}return null}function Xo(o){return o=o[An]||o[rs],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function aa(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function qc(o){return o[Yo]||null}var nf=[],oa=-1;function Ps(o){return{current:o}}function Ct(o){0>oa||(o.current=nf[oa],nf[oa]=null,oa--)}function jt(o,u){oa++,nf[oa]=o.current,o.current=u}var As={},vr=Ps(As),Tr=Ps(!1),xi=As;function la(o,u){var p=o.type.contextTypes;if(!p)return As;var j=o.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===u)return j.__reactInternalMemoizedMaskedChildContext;var T={},R;for(R in p)T[R]=u[R];return j&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=u,o.__reactInternalMemoizedMaskedChildContext=T),T}function Pr(o){return o=o.childContextTypes,o!=null}function Vc(){Ct(Tr),Ct(vr)}function l0(o,u,p){if(vr.current!==As)throw Error(r(168));jt(vr,u),jt(Tr,p)}function c0(o,u,p){var j=o.stateNode;if(u=u.childContextTypes,typeof j.getChildContext!="function")return p;j=j.getChildContext();for(var T in j)if(!(T in u))throw Error(r(108,D(o)||"Unknown",T));return he({},p,j)}function Kc(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||As,xi=vr.current,jt(vr,o),jt(Tr,Tr.current),!0}function u0(o,u,p){var j=o.stateNode;if(!j)throw Error(r(169));p?(o=c0(o,u,xi),j.__reactInternalMemoizedMergedChildContext=o,Ct(Tr),Ct(vr),jt(vr,o)):Ct(Tr),jt(Tr,p)}var ns=null,Gc=!1,sf=!1;function d0(o){ns===null?ns=[o]:ns.push(o)}function $P(o){Gc=!0,d0(o)}function Rs(){if(!sf&&ns!==null){sf=!0;var o=0,u=vt;try{var p=ns;for(vt=1;o<p.length;o++){var j=p[o];do j=j(!0);while(j!==null)}ns=null,Gc=!1}catch(T){throw ns!==null&&(ns=ns.slice(o+1)),fx(Nh,Rs),T}finally{vt=u,sf=!1}}return null}var ca=[],ua=0,Yc=null,Xc=0,Xr=[],Qr=0,wi=null,ss=1,is="";function bi(o,u){ca[ua++]=Xc,ca[ua++]=Yc,Yc=o,Xc=u}function h0(o,u,p){Xr[Qr++]=ss,Xr[Qr++]=is,Xr[Qr++]=wi,wi=o;var j=ss;o=is;var T=32-ln(j)-1;j&=~(1<<T),p+=1;var R=32-ln(u)+T;if(30<R){var q=T-T%5;R=(j&(1<<q)-1).toString(32),j>>=q,T-=q,ss=1<<32-ln(u)+T|p<<T|j,is=R+o}else ss=1<<R|p<<T|j,is=o}function af(o){o.return!==null&&(bi(o,1),h0(o,1,0))}function of(o){for(;o===Yc;)Yc=ca[--ua],ca[ua]=null,Xc=ca[--ua],ca[ua]=null;for(;o===wi;)wi=Xr[--Qr],Xr[Qr]=null,is=Xr[--Qr],Xr[Qr]=null,ss=Xr[--Qr],Xr[Qr]=null}var $r=null,zr=null,At=!1,un=null;function f0(o,u){var p=tn(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=o,u=o.deletions,u===null?(o.deletions=[p],o.flags|=16):u.push(p)}function p0(o,u){switch(o.tag){case 5:var p=o.type;return u=u.nodeType!==1||p.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(o.stateNode=u,$r=o,zr=Ts(u.firstChild),!0):!1;case 6:return u=o.pendingProps===""||u.nodeType!==3?null:u,u!==null?(o.stateNode=u,$r=o,zr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(p=wi!==null?{id:ss,overflow:is}:null,o.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},p=tn(18,null,null,0),p.stateNode=u,p.return=o,o.child=p,$r=o,zr=null,!0):!1;default:return!1}}function lf(o){return(o.mode&1)!==0&&(o.flags&128)===0}function cf(o){if(At){var u=zr;if(u){var p=u;if(!p0(o,u)){if(lf(o))throw Error(r(418));u=Ts(p.nextSibling);var j=$r;u&&p0(o,u)?f0(j,p):(o.flags=o.flags&-4097|2,At=!1,$r=o)}}else{if(lf(o))throw Error(r(418));o.flags=o.flags&-4097|2,At=!1,$r=o}}}function m0(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;$r=o}function Qc(o){if(o!==$r)return!1;if(!At)return m0(o),At=!0,!1;var u;if((u=o.tag!==3)&&!(u=o.tag!==5)&&(u=o.type,u=u!=="head"&&u!=="body"&&!Zh(o.type,o.memoizedProps)),u&&(u=zr)){if(lf(o))throw g0(),Error(r(418));for(;u;)f0(o,u),u=Ts(u.nextSibling)}if(m0(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"){if(u===0){zr=Ts(o.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++}o=o.nextSibling}zr=null}}else zr=$r?Ts(o.stateNode.nextSibling):null;return!0}function g0(){for(var o=zr;o;)o=Ts(o.nextSibling)}function da(){zr=$r=null,At=!1}function uf(o){un===null?un=[o]:un.push(o)}var zP=S.ReactCurrentBatchConfig;function Qo(o,u,p){if(o=p.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(r(309));var j=p.stateNode}if(!j)throw Error(r(147,o));var T=j,R=""+o;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===R?u.ref:(u=function(q){var oe=T.refs;q===null?delete oe[R]:oe[R]=q},u._stringRef=R,u)}if(typeof o!="string")throw Error(r(284));if(!p._owner)throw Error(r(290,o))}return o}function Jc(o,u){throw o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o))}function v0(o){var u=o._init;return u(o._payload)}function y0(o){function u(ve,de){if(o){var ye=ve.deletions;ye===null?(ve.deletions=[de],ve.flags|=16):ye.push(de)}}function p(ve,de){if(!o)return null;for(;de!==null;)u(ve,de),de=de.sibling;return null}function j(ve,de){for(ve=new Map;de!==null;)de.key!==null?ve.set(de.key,de):ve.set(de.index,de),de=de.sibling;return ve}function T(ve,de){return ve=Bs(ve,de),ve.index=0,ve.sibling=null,ve}function R(ve,de,ye){return ve.index=ye,o?(ye=ve.alternate,ye!==null?(ye=ye.index,ye<de?(ve.flags|=2,de):ye):(ve.flags|=2,de)):(ve.flags|=1048576,de)}function q(ve){return o&&ve.alternate===null&&(ve.flags|=2),ve}function oe(ve,de,ye,Oe){return de===null||de.tag!==6?(de=tp(ye,ve.mode,Oe),de.return=ve,de):(de=T(de,ye),de.return=ve,de)}function ue(ve,de,ye,Oe){var He=ye.type;return He===L?ke(ve,de,ye.props.children,Oe,ye.key):de!==null&&(de.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===J&&v0(He)===de.type)?(Oe=T(de,ye.props),Oe.ref=Qo(ve,de,ye),Oe.return=ve,Oe):(Oe=_u(ye.type,ye.key,ye.props,null,ve.mode,Oe),Oe.ref=Qo(ve,de,ye),Oe.return=ve,Oe)}function xe(ve,de,ye,Oe){return de===null||de.tag!==4||de.stateNode.containerInfo!==ye.containerInfo||de.stateNode.implementation!==ye.implementation?(de=rp(ye,ve.mode,Oe),de.return=ve,de):(de=T(de,ye.children||[]),de.return=ve,de)}function ke(ve,de,ye,Oe,He){return de===null||de.tag!==7?(de=Ti(ye,ve.mode,Oe,He),de.return=ve,de):(de=T(de,ye),de.return=ve,de)}function Ae(ve,de,ye){if(typeof de=="string"&&de!==""||typeof de=="number")return de=tp(""+de,ve.mode,ye),de.return=ve,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case P:return ye=_u(de.type,de.key,de.props,null,ve.mode,ye),ye.ref=Qo(ve,null,de),ye.return=ve,ye;case B:return de=rp(de,ve.mode,ye),de.return=ve,de;case J:var Oe=de._init;return Ae(ve,Oe(de._payload),ye)}if(Z(de)||ne(de))return de=Ti(de,ve.mode,ye,null),de.return=ve,de;Jc(ve,de)}return null}function Ne(ve,de,ye,Oe){var He=de!==null?de.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number")return He!==null?null:oe(ve,de,""+ye,Oe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case P:return ye.key===He?ue(ve,de,ye,Oe):null;case B:return ye.key===He?xe(ve,de,ye,Oe):null;case J:return He=ye._init,Ne(ve,de,He(ye._payload),Oe)}if(Z(ye)||ne(ye))return He!==null?null:ke(ve,de,ye,Oe,null);Jc(ve,ye)}return null}function Fe(ve,de,ye,Oe,He){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return ve=ve.get(ye)||null,oe(de,ve,""+Oe,He);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case P:return ve=ve.get(Oe.key===null?ye:Oe.key)||null,ue(de,ve,Oe,He);case B:return ve=ve.get(Oe.key===null?ye:Oe.key)||null,xe(de,ve,Oe,He);case J:var Ve=Oe._init;return Fe(ve,de,ye,Ve(Oe._payload),He)}if(Z(Oe)||ne(Oe))return ve=ve.get(ye)||null,ke(de,ve,Oe,He,null);Jc(de,Oe)}return null}function Be(ve,de,ye,Oe){for(var He=null,Ve=null,Ke=de,Xe=de=0,rr=null;Ke!==null&&Xe<ye.length;Xe++){Ke.index>Xe?(rr=Ke,Ke=null):rr=Ke.sibling;var ut=Ne(ve,Ke,ye[Xe],Oe);if(ut===null){Ke===null&&(Ke=rr);break}o&&Ke&&ut.alternate===null&&u(ve,Ke),de=R(ut,de,Xe),Ve===null?He=ut:Ve.sibling=ut,Ve=ut,Ke=rr}if(Xe===ye.length)return p(ve,Ke),At&&bi(ve,Xe),He;if(Ke===null){for(;Xe<ye.length;Xe++)Ke=Ae(ve,ye[Xe],Oe),Ke!==null&&(de=R(Ke,de,Xe),Ve===null?He=Ke:Ve.sibling=Ke,Ve=Ke);return At&&bi(ve,Xe),He}for(Ke=j(ve,Ke);Xe<ye.length;Xe++)rr=Fe(Ke,ve,Xe,ye[Xe],Oe),rr!==null&&(o&&rr.alternate!==null&&Ke.delete(rr.key===null?Xe:rr.key),de=R(rr,de,Xe),Ve===null?He=rr:Ve.sibling=rr,Ve=rr);return o&&Ke.forEach(function($s){return u(ve,$s)}),At&&bi(ve,Xe),He}function ze(ve,de,ye,Oe){var He=ne(ye);if(typeof He!="function")throw Error(r(150));if(ye=He.call(ye),ye==null)throw Error(r(151));for(var Ve=He=null,Ke=de,Xe=de=0,rr=null,ut=ye.next();Ke!==null&&!ut.done;Xe++,ut=ye.next()){Ke.index>Xe?(rr=Ke,Ke=null):rr=Ke.sibling;var $s=Ne(ve,Ke,ut.value,Oe);if($s===null){Ke===null&&(Ke=rr);break}o&&Ke&&$s.alternate===null&&u(ve,Ke),de=R($s,de,Xe),Ve===null?He=$s:Ve.sibling=$s,Ve=$s,Ke=rr}if(ut.done)return p(ve,Ke),At&&bi(ve,Xe),He;if(Ke===null){for(;!ut.done;Xe++,ut=ye.next())ut=Ae(ve,ut.value,Oe),ut!==null&&(de=R(ut,de,Xe),Ve===null?He=ut:Ve.sibling=ut,Ve=ut);return At&&bi(ve,Xe),He}for(Ke=j(ve,Ke);!ut.done;Xe++,ut=ye.next())ut=Fe(Ke,ve,Xe,ut.value,Oe),ut!==null&&(o&&ut.alternate!==null&&Ke.delete(ut.key===null?Xe:ut.key),de=R(ut,de,Xe),Ve===null?He=ut:Ve.sibling=ut,Ve=ut);return o&&Ke.forEach(function(bA){return u(ve,bA)}),At&&bi(ve,Xe),He}function Lt(ve,de,ye,Oe){if(typeof ye=="object"&&ye!==null&&ye.type===L&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case P:e:{for(var He=ye.key,Ve=de;Ve!==null;){if(Ve.key===He){if(He=ye.type,He===L){if(Ve.tag===7){p(ve,Ve.sibling),de=T(Ve,ye.props.children),de.return=ve,ve=de;break e}}else if(Ve.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===J&&v0(He)===Ve.type){p(ve,Ve.sibling),de=T(Ve,ye.props),de.ref=Qo(ve,Ve,ye),de.return=ve,ve=de;break e}p(ve,Ve);break}else u(ve,Ve);Ve=Ve.sibling}ye.type===L?(de=Ti(ye.props.children,ve.mode,Oe,ye.key),de.return=ve,ve=de):(Oe=_u(ye.type,ye.key,ye.props,null,ve.mode,Oe),Oe.ref=Qo(ve,de,ye),Oe.return=ve,ve=Oe)}return q(ve);case B:e:{for(Ve=ye.key;de!==null;){if(de.key===Ve)if(de.tag===4&&de.stateNode.containerInfo===ye.containerInfo&&de.stateNode.implementation===ye.implementation){p(ve,de.sibling),de=T(de,ye.children||[]),de.return=ve,ve=de;break e}else{p(ve,de);break}else u(ve,de);de=de.sibling}de=rp(ye,ve.mode,Oe),de.return=ve,ve=de}return q(ve);case J:return Ve=ye._init,Lt(ve,de,Ve(ye._payload),Oe)}if(Z(ye))return Be(ve,de,ye,Oe);if(ne(ye))return ze(ve,de,ye,Oe);Jc(ve,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"?(ye=""+ye,de!==null&&de.tag===6?(p(ve,de.sibling),de=T(de,ye),de.return=ve,ve=de):(p(ve,de),de=tp(ye,ve.mode,Oe),de.return=ve,ve=de),q(ve)):p(ve,de)}return Lt}var ha=y0(!0),x0=y0(!1),Zc=Ps(null),eu=null,fa=null,df=null;function hf(){df=fa=eu=null}function ff(o){var u=Zc.current;Ct(Zc),o._currentValue=u}function pf(o,u,p){for(;o!==null;){var j=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,j!==null&&(j.childLanes|=u)):j!==null&&(j.childLanes&u)!==u&&(j.childLanes|=u),o===p)break;o=o.return}}function pa(o,u){eu=o,df=fa=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&u)!==0&&(Ar=!0),o.firstContext=null)}function Jr(o){var u=o._currentValue;if(df!==o)if(o={context:o,memoizedValue:u,next:null},fa===null){if(eu===null)throw Error(r(308));fa=o,eu.dependencies={lanes:0,firstContext:o}}else fa=fa.next=o;return u}var _i=null;function mf(o){_i===null?_i=[o]:_i.push(o)}function w0(o,u,p,j){var T=u.interleaved;return T===null?(p.next=p,mf(u)):(p.next=T.next,T.next=p),u.interleaved=p,as(o,j)}function as(o,u){o.lanes|=u;var p=o.alternate;for(p!==null&&(p.lanes|=u),p=o,o=o.return;o!==null;)o.childLanes|=u,p=o.alternate,p!==null&&(p.childLanes|=u),p=o,o=o.return;return p.tag===3?p.stateNode:null}var Ds=!1;function gf(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b0(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function os(o,u){return{eventTime:o,lane:u,tag:0,payload:null,callback:null,next:null}}function Os(o,u,p){var j=o.updateQueue;if(j===null)return null;if(j=j.shared,(ct&2)!==0){var T=j.pending;return T===null?u.next=u:(u.next=T.next,T.next=u),j.pending=u,as(o,p)}return T=j.interleaved,T===null?(u.next=u,mf(j)):(u.next=T.next,T.next=u),j.interleaved=u,as(o,p)}function tu(o,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194240)!==0)){var j=u.lanes;j&=o.pendingLanes,p|=j,u.lanes=p,Th(o,p)}}function _0(o,u){var p=o.updateQueue,j=o.alternate;if(j!==null&&(j=j.updateQueue,p===j)){var T=null,R=null;if(p=p.firstBaseUpdate,p!==null){do{var q={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};R===null?T=R=q:R=R.next=q,p=p.next}while(p!==null);R===null?T=R=u:R=R.next=u}else T=R=u;p={baseState:j.baseState,firstBaseUpdate:T,lastBaseUpdate:R,shared:j.shared,effects:j.effects},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=u:o.next=u,p.lastBaseUpdate=u}function ru(o,u,p,j){var T=o.updateQueue;Ds=!1;var R=T.firstBaseUpdate,q=T.lastBaseUpdate,oe=T.shared.pending;if(oe!==null){T.shared.pending=null;var ue=oe,xe=ue.next;ue.next=null,q===null?R=xe:q.next=xe,q=ue;var ke=o.alternate;ke!==null&&(ke=ke.updateQueue,oe=ke.lastBaseUpdate,oe!==q&&(oe===null?ke.firstBaseUpdate=xe:oe.next=xe,ke.lastBaseUpdate=ue))}if(R!==null){var Ae=T.baseState;q=0,ke=xe=ue=null,oe=R;do{var Ne=oe.lane,Fe=oe.eventTime;if((j&Ne)===Ne){ke!==null&&(ke=ke.next={eventTime:Fe,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var Be=o,ze=oe;switch(Ne=u,Fe=p,ze.tag){case 1:if(Be=ze.payload,typeof Be=="function"){Ae=Be.call(Fe,Ae,Ne);break e}Ae=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=ze.payload,Ne=typeof Be=="function"?Be.call(Fe,Ae,Ne):Be,Ne==null)break e;Ae=he({},Ae,Ne);break e;case 2:Ds=!0}}oe.callback!==null&&oe.lane!==0&&(o.flags|=64,Ne=T.effects,Ne===null?T.effects=[oe]:Ne.push(oe))}else Fe={eventTime:Fe,lane:Ne,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},ke===null?(xe=ke=Fe,ue=Ae):ke=ke.next=Fe,q|=Ne;if(oe=oe.next,oe===null){if(oe=T.shared.pending,oe===null)break;Ne=oe,oe=Ne.next,Ne.next=null,T.lastBaseUpdate=Ne,T.shared.pending=null}}while(!0);if(ke===null&&(ue=Ae),T.baseState=ue,T.firstBaseUpdate=xe,T.lastBaseUpdate=ke,u=T.shared.interleaved,u!==null){T=u;do q|=T.lane,T=T.next;while(T!==u)}else R===null&&(T.shared.lanes=0);Ei|=q,o.lanes=q,o.memoizedState=Ae}}function j0(o,u,p){if(o=u.effects,u.effects=null,o!==null)for(u=0;u<o.length;u++){var j=o[u],T=j.callback;if(T!==null){if(j.callback=null,j=p,typeof T!="function")throw Error(r(191,T));T.call(j)}}}var Jo={},Rn=Ps(Jo),Zo=Ps(Jo),el=Ps(Jo);function ji(o){if(o===Jo)throw Error(r(174));return o}function vf(o,u){switch(jt(el,u),jt(Zo,o),jt(Rn,Jo),o=u.nodeType,o){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:$e(null,"");break;default:o=o===8?u.parentNode:u,u=o.namespaceURI||null,o=o.tagName,u=$e(u,o)}Ct(Rn),jt(Rn,u)}function ma(){Ct(Rn),Ct(Zo),Ct(el)}function S0(o){ji(el.current);var u=ji(Rn.current),p=$e(u,o.type);u!==p&&(jt(Zo,o),jt(Rn,p))}function yf(o){Zo.current===o&&(Ct(Rn),Ct(Zo))}var Rt=Ps(0);function nu(o){for(var u=o;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var xf=[];function wf(){for(var o=0;o<xf.length;o++)xf[o]._workInProgressVersionPrimary=null;xf.length=0}var su=S.ReactCurrentDispatcher,bf=S.ReactCurrentBatchConfig,Si=0,Dt=null,Gt=null,er=null,iu=!1,tl=!1,rl=0,HP=0;function yr(){throw Error(r(321))}function _f(o,u){if(u===null)return!1;for(var p=0;p<u.length&&p<o.length;p++)if(!cn(o[p],u[p]))return!1;return!0}function jf(o,u,p,j,T,R){if(Si=R,Dt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,su.current=o===null||o.memoizedState===null?KP:GP,o=p(j,T),tl){R=0;do{if(tl=!1,rl=0,25<=R)throw Error(r(301));R+=1,er=Gt=null,u.updateQueue=null,su.current=YP,o=p(j,T)}while(tl)}if(su.current=lu,u=Gt!==null&&Gt.next!==null,Si=0,er=Gt=Dt=null,iu=!1,u)throw Error(r(300));return o}function Sf(){var o=rl!==0;return rl=0,o}function Dn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?Dt.memoizedState=er=o:er=er.next=o,er}function Zr(){if(Gt===null){var o=Dt.alternate;o=o!==null?o.memoizedState:null}else o=Gt.next;var u=er===null?Dt.memoizedState:er.next;if(u!==null)er=u,Gt=o;else{if(o===null)throw Error(r(310));Gt=o,o={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},er===null?Dt.memoizedState=er=o:er=er.next=o}return er}function nl(o,u){return typeof u=="function"?u(o):u}function Ef(o){var u=Zr(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var j=Gt,T=j.baseQueue,R=p.pending;if(R!==null){if(T!==null){var q=T.next;T.next=R.next,R.next=q}j.baseQueue=T=R,p.pending=null}if(T!==null){R=T.next,j=j.baseState;var oe=q=null,ue=null,xe=R;do{var ke=xe.lane;if((Si&ke)===ke)ue!==null&&(ue=ue.next={lane:0,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),j=xe.hasEagerState?xe.eagerState:o(j,xe.action);else{var Ae={lane:ke,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null};ue===null?(oe=ue=Ae,q=j):ue=ue.next=Ae,Dt.lanes|=ke,Ei|=ke}xe=xe.next}while(xe!==null&&xe!==R);ue===null?q=j:ue.next=oe,cn(j,u.memoizedState)||(Ar=!0),u.memoizedState=j,u.baseState=q,u.baseQueue=ue,p.lastRenderedState=j}if(o=p.interleaved,o!==null){T=o;do R=T.lane,Dt.lanes|=R,Ei|=R,T=T.next;while(T!==o)}else T===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function Nf(o){var u=Zr(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var j=p.dispatch,T=p.pending,R=u.memoizedState;if(T!==null){p.pending=null;var q=T=T.next;do R=o(R,q.action),q=q.next;while(q!==T);cn(R,u.memoizedState)||(Ar=!0),u.memoizedState=R,u.baseQueue===null&&(u.baseState=R),p.lastRenderedState=R}return[R,j]}function E0(){}function N0(o,u){var p=Dt,j=Zr(),T=u(),R=!cn(j.memoizedState,T);if(R&&(j.memoizedState=T,Ar=!0),j=j.queue,Cf(T0.bind(null,p,j,o),[o]),j.getSnapshot!==u||R||er!==null&&er.memoizedState.tag&1){if(p.flags|=2048,sl(9,k0.bind(null,p,j,T,u),void 0,null),tr===null)throw Error(r(349));(Si&30)!==0||C0(p,u,T)}return T}function C0(o,u,p){o.flags|=16384,o={getSnapshot:u,value:p},u=Dt.updateQueue,u===null?(u={lastEffect:null,stores:null},Dt.updateQueue=u,u.stores=[o]):(p=u.stores,p===null?u.stores=[o]:p.push(o))}function k0(o,u,p,j){u.value=p,u.getSnapshot=j,P0(u)&&A0(o)}function T0(o,u,p){return p(function(){P0(u)&&A0(o)})}function P0(o){var u=o.getSnapshot;o=o.value;try{var p=u();return!cn(o,p)}catch{return!0}}function A0(o){var u=as(o,1);u!==null&&pn(u,o,1,-1)}function R0(o){var u=Dn();return typeof o=="function"&&(o=o()),u.memoizedState=u.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:o},u.queue=o,o=o.dispatch=VP.bind(null,Dt,o),[u.memoizedState,o]}function sl(o,u,p,j){return o={tag:o,create:u,destroy:p,deps:j,next:null},u=Dt.updateQueue,u===null?(u={lastEffect:null,stores:null},Dt.updateQueue=u,u.lastEffect=o.next=o):(p=u.lastEffect,p===null?u.lastEffect=o.next=o:(j=p.next,p.next=o,o.next=j,u.lastEffect=o)),o}function D0(){return Zr().memoizedState}function au(o,u,p,j){var T=Dn();Dt.flags|=o,T.memoizedState=sl(1|u,p,void 0,j===void 0?null:j)}function ou(o,u,p,j){var T=Zr();j=j===void 0?null:j;var R=void 0;if(Gt!==null){var q=Gt.memoizedState;if(R=q.destroy,j!==null&&_f(j,q.deps)){T.memoizedState=sl(u,p,R,j);return}}Dt.flags|=o,T.memoizedState=sl(1|u,p,R,j)}function O0(o,u){return au(8390656,8,o,u)}function Cf(o,u){return ou(2048,8,o,u)}function I0(o,u){return ou(4,2,o,u)}function M0(o,u){return ou(4,4,o,u)}function F0(o,u){if(typeof u=="function")return o=o(),u(o),function(){u(null)};if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function L0(o,u,p){return p=p!=null?p.concat([o]):null,ou(4,4,F0.bind(null,u,o),p)}function kf(){}function U0(o,u){var p=Zr();u=u===void 0?null:u;var j=p.memoizedState;return j!==null&&u!==null&&_f(u,j[1])?j[0]:(p.memoizedState=[o,u],o)}function B0(o,u){var p=Zr();u=u===void 0?null:u;var j=p.memoizedState;return j!==null&&u!==null&&_f(u,j[1])?j[0]:(o=o(),p.memoizedState=[o,u],o)}function $0(o,u,p){return(Si&21)===0?(o.baseState&&(o.baseState=!1,Ar=!0),o.memoizedState=p):(cn(p,u)||(p=vx(),Dt.lanes|=p,Ei|=p,o.baseState=!0),u)}function WP(o,u){var p=vt;vt=p!==0&&4>p?p:4,o(!0);var j=bf.transition;bf.transition={};try{o(!1),u()}finally{vt=p,bf.transition=j}}function z0(){return Zr().memoizedState}function qP(o,u,p){var j=Ls(o);if(p={lane:j,action:p,hasEagerState:!1,eagerState:null,next:null},H0(o))W0(u,p);else if(p=w0(o,u,p,j),p!==null){var T=Sr();pn(p,o,j,T),q0(p,u,j)}}function VP(o,u,p){var j=Ls(o),T={lane:j,action:p,hasEagerState:!1,eagerState:null,next:null};if(H0(o))W0(u,T);else{var R=o.alternate;if(o.lanes===0&&(R===null||R.lanes===0)&&(R=u.lastRenderedReducer,R!==null))try{var q=u.lastRenderedState,oe=R(q,p);if(T.hasEagerState=!0,T.eagerState=oe,cn(oe,q)){var ue=u.interleaved;ue===null?(T.next=T,mf(u)):(T.next=ue.next,ue.next=T),u.interleaved=T;return}}catch{}p=w0(o,u,T,j),p!==null&&(T=Sr(),pn(p,o,j,T),q0(p,u,j))}}function H0(o){var u=o.alternate;return o===Dt||u!==null&&u===Dt}function W0(o,u){tl=iu=!0;var p=o.pending;p===null?u.next=u:(u.next=p.next,p.next=u),o.pending=u}function q0(o,u,p){if((p&4194240)!==0){var j=u.lanes;j&=o.pendingLanes,p|=j,u.lanes=p,Th(o,p)}}var lu={readContext:Jr,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useInsertionEffect:yr,useLayoutEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useMutableSource:yr,useSyncExternalStore:yr,useId:yr,unstable_isNewReconciler:!1},KP={readContext:Jr,useCallback:function(o,u){return Dn().memoizedState=[o,u===void 0?null:u],o},useContext:Jr,useEffect:O0,useImperativeHandle:function(o,u,p){return p=p!=null?p.concat([o]):null,au(4194308,4,F0.bind(null,u,o),p)},useLayoutEffect:function(o,u){return au(4194308,4,o,u)},useInsertionEffect:function(o,u){return au(4,2,o,u)},useMemo:function(o,u){var p=Dn();return u=u===void 0?null:u,o=o(),p.memoizedState=[o,u],o},useReducer:function(o,u,p){var j=Dn();return u=p!==void 0?p(u):u,j.memoizedState=j.baseState=u,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:u},j.queue=o,o=o.dispatch=qP.bind(null,Dt,o),[j.memoizedState,o]},useRef:function(o){var u=Dn();return o={current:o},u.memoizedState=o},useState:R0,useDebugValue:kf,useDeferredValue:function(o){return Dn().memoizedState=o},useTransition:function(){var o=R0(!1),u=o[0];return o=WP.bind(null,o[1]),Dn().memoizedState=o,[u,o]},useMutableSource:function(){},useSyncExternalStore:function(o,u,p){var j=Dt,T=Dn();if(At){if(p===void 0)throw Error(r(407));p=p()}else{if(p=u(),tr===null)throw Error(r(349));(Si&30)!==0||C0(j,u,p)}T.memoizedState=p;var R={value:p,getSnapshot:u};return T.queue=R,O0(T0.bind(null,j,R,o),[o]),j.flags|=2048,sl(9,k0.bind(null,j,R,p,u),void 0,null),p},useId:function(){var o=Dn(),u=tr.identifierPrefix;if(At){var p=is,j=ss;p=(j&~(1<<32-ln(j)-1)).toString(32)+p,u=":"+u+"R"+p,p=rl++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=HP++,u=":"+u+"r"+p.toString(32)+":";return o.memoizedState=u},unstable_isNewReconciler:!1},GP={readContext:Jr,useCallback:U0,useContext:Jr,useEffect:Cf,useImperativeHandle:L0,useInsertionEffect:I0,useLayoutEffect:M0,useMemo:B0,useReducer:Ef,useRef:D0,useState:function(){return Ef(nl)},useDebugValue:kf,useDeferredValue:function(o){var u=Zr();return $0(u,Gt.memoizedState,o)},useTransition:function(){var o=Ef(nl)[0],u=Zr().memoizedState;return[o,u]},useMutableSource:E0,useSyncExternalStore:N0,useId:z0,unstable_isNewReconciler:!1},YP={readContext:Jr,useCallback:U0,useContext:Jr,useEffect:Cf,useImperativeHandle:L0,useInsertionEffect:I0,useLayoutEffect:M0,useMemo:B0,useReducer:Nf,useRef:D0,useState:function(){return Nf(nl)},useDebugValue:kf,useDeferredValue:function(o){var u=Zr();return Gt===null?u.memoizedState=o:$0(u,Gt.memoizedState,o)},useTransition:function(){var o=Nf(nl)[0],u=Zr().memoizedState;return[o,u]},useMutableSource:E0,useSyncExternalStore:N0,useId:z0,unstable_isNewReconciler:!1};function dn(o,u){if(o&&o.defaultProps){u=he({},u),o=o.defaultProps;for(var p in o)u[p]===void 0&&(u[p]=o[p]);return u}return u}function Tf(o,u,p,j){u=o.memoizedState,p=p(j,u),p=p==null?u:he({},u,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var cu={isMounted:function(o){return(o=o._reactInternals)?vi(o)===o:!1},enqueueSetState:function(o,u,p){o=o._reactInternals;var j=Sr(),T=Ls(o),R=os(j,T);R.payload=u,p!=null&&(R.callback=p),u=Os(o,R,T),u!==null&&(pn(u,o,T,j),tu(u,o,T))},enqueueReplaceState:function(o,u,p){o=o._reactInternals;var j=Sr(),T=Ls(o),R=os(j,T);R.tag=1,R.payload=u,p!=null&&(R.callback=p),u=Os(o,R,T),u!==null&&(pn(u,o,T,j),tu(u,o,T))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var p=Sr(),j=Ls(o),T=os(p,j);T.tag=2,u!=null&&(T.callback=u),u=Os(o,T,j),u!==null&&(pn(u,o,j,p),tu(u,o,j))}};function V0(o,u,p,j,T,R,q){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(j,R,q):u.prototype&&u.prototype.isPureReactComponent?!Wo(p,j)||!Wo(T,R):!0}function K0(o,u,p){var j=!1,T=As,R=u.contextType;return typeof R=="object"&&R!==null?R=Jr(R):(T=Pr(u)?xi:vr.current,j=u.contextTypes,R=(j=j!=null)?la(o,T):As),u=new u(p,R),o.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=cu,o.stateNode=u,u._reactInternals=o,j&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=T,o.__reactInternalMemoizedMaskedChildContext=R),u}function G0(o,u,p,j){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,j),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,j),u.state!==o&&cu.enqueueReplaceState(u,u.state,null)}function Pf(o,u,p,j){var T=o.stateNode;T.props=p,T.state=o.memoizedState,T.refs={},gf(o);var R=u.contextType;typeof R=="object"&&R!==null?T.context=Jr(R):(R=Pr(u)?xi:vr.current,T.context=la(o,R)),T.state=o.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(Tf(o,u,R,p),T.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(u=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),u!==T.state&&cu.enqueueReplaceState(T,T.state,null),ru(o,p,T,j),T.state=o.memoizedState),typeof T.componentDidMount=="function"&&(o.flags|=4194308)}function ga(o,u){try{var p="",j=u;do p+=fe(j),j=j.return;while(j);var T=p}catch(R){T=`
Error generating stack: `+R.message+`
`+R.stack}return{value:o,source:u,stack:T,digest:null}}function Af(o,u,p){return{value:o,source:null,stack:p??null,digest:u??null}}function Rf(o,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var XP=typeof WeakMap=="function"?WeakMap:Map;function Y0(o,u,p){p=os(-1,p),p.tag=3,p.payload={element:null};var j=u.value;return p.callback=function(){gu||(gu=!0,Kf=j),Rf(o,u)},p}function X0(o,u,p){p=os(-1,p),p.tag=3;var j=o.type.getDerivedStateFromError;if(typeof j=="function"){var T=u.value;p.payload=function(){return j(T)},p.callback=function(){Rf(o,u)}}var R=o.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(p.callback=function(){Rf(o,u),typeof j!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var q=u.stack;this.componentDidCatch(u.value,{componentStack:q!==null?q:""})}),p}function Q0(o,u,p){var j=o.pingCache;if(j===null){j=o.pingCache=new XP;var T=new Set;j.set(u,T)}else T=j.get(u),T===void 0&&(T=new Set,j.set(u,T));T.has(p)||(T.add(p),o=uA.bind(null,o,u,p),u.then(o,o))}function J0(o){do{var u;if((u=o.tag===13)&&(u=o.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return o;o=o.return}while(o!==null);return null}function Z0(o,u,p,j,T){return(o.mode&1)===0?(o===u?o.flags|=65536:(o.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(u=os(-1,1),u.tag=2,Os(p,u,1))),p.lanes|=1),o):(o.flags|=65536,o.lanes=T,o)}var QP=S.ReactCurrentOwner,Ar=!1;function jr(o,u,p,j){u.child=o===null?x0(u,null,p,j):ha(u,o.child,p,j)}function ew(o,u,p,j,T){p=p.render;var R=u.ref;return pa(u,T),j=jf(o,u,p,j,R,T),p=Sf(),o!==null&&!Ar?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~T,ls(o,u,T)):(At&&p&&af(u),u.flags|=1,jr(o,u,j,T),u.child)}function tw(o,u,p,j,T){if(o===null){var R=p.type;return typeof R=="function"&&!ep(R)&&R.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(u.tag=15,u.type=R,rw(o,u,R,j,T)):(o=_u(p.type,null,j,u,u.mode,T),o.ref=u.ref,o.return=u,u.child=o)}if(R=o.child,(o.lanes&T)===0){var q=R.memoizedProps;if(p=p.compare,p=p!==null?p:Wo,p(q,j)&&o.ref===u.ref)return ls(o,u,T)}return u.flags|=1,o=Bs(R,j),o.ref=u.ref,o.return=u,u.child=o}function rw(o,u,p,j,T){if(o!==null){var R=o.memoizedProps;if(Wo(R,j)&&o.ref===u.ref)if(Ar=!1,u.pendingProps=j=R,(o.lanes&T)!==0)(o.flags&131072)!==0&&(Ar=!0);else return u.lanes=o.lanes,ls(o,u,T)}return Df(o,u,p,j,T)}function nw(o,u,p){var j=u.pendingProps,T=j.children,R=o!==null?o.memoizedState:null;if(j.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(ya,Hr),Hr|=p;else{if((p&1073741824)===0)return o=R!==null?R.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:o,cachePool:null,transitions:null},u.updateQueue=null,jt(ya,Hr),Hr|=o,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=R!==null?R.baseLanes:p,jt(ya,Hr),Hr|=j}else R!==null?(j=R.baseLanes|p,u.memoizedState=null):j=p,jt(ya,Hr),Hr|=j;return jr(o,u,T,p),u.child}function sw(o,u){var p=u.ref;(o===null&&p!==null||o!==null&&o.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function Df(o,u,p,j,T){var R=Pr(p)?xi:vr.current;return R=la(u,R),pa(u,T),p=jf(o,u,p,j,R,T),j=Sf(),o!==null&&!Ar?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~T,ls(o,u,T)):(At&&j&&af(u),u.flags|=1,jr(o,u,p,T),u.child)}function iw(o,u,p,j,T){if(Pr(p)){var R=!0;Kc(u)}else R=!1;if(pa(u,T),u.stateNode===null)du(o,u),K0(u,p,j),Pf(u,p,j,T),j=!0;else if(o===null){var q=u.stateNode,oe=u.memoizedProps;q.props=oe;var ue=q.context,xe=p.contextType;typeof xe=="object"&&xe!==null?xe=Jr(xe):(xe=Pr(p)?xi:vr.current,xe=la(u,xe));var ke=p.getDerivedStateFromProps,Ae=typeof ke=="function"||typeof q.getSnapshotBeforeUpdate=="function";Ae||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(oe!==j||ue!==xe)&&G0(u,q,j,xe),Ds=!1;var Ne=u.memoizedState;q.state=Ne,ru(u,j,q,T),ue=u.memoizedState,oe!==j||Ne!==ue||Tr.current||Ds?(typeof ke=="function"&&(Tf(u,p,ke,j),ue=u.memoizedState),(oe=Ds||V0(u,p,oe,j,Ne,ue,xe))?(Ae||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(u.flags|=4194308)):(typeof q.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=j,u.memoizedState=ue),q.props=j,q.state=ue,q.context=xe,j=oe):(typeof q.componentDidMount=="function"&&(u.flags|=4194308),j=!1)}else{q=u.stateNode,b0(o,u),oe=u.memoizedProps,xe=u.type===u.elementType?oe:dn(u.type,oe),q.props=xe,Ae=u.pendingProps,Ne=q.context,ue=p.contextType,typeof ue=="object"&&ue!==null?ue=Jr(ue):(ue=Pr(p)?xi:vr.current,ue=la(u,ue));var Fe=p.getDerivedStateFromProps;(ke=typeof Fe=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(oe!==Ae||Ne!==ue)&&G0(u,q,j,ue),Ds=!1,Ne=u.memoizedState,q.state=Ne,ru(u,j,q,T);var Be=u.memoizedState;oe!==Ae||Ne!==Be||Tr.current||Ds?(typeof Fe=="function"&&(Tf(u,p,Fe,j),Be=u.memoizedState),(xe=Ds||V0(u,p,xe,j,Ne,Be,ue)||!1)?(ke||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(j,Be,ue),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(j,Be,ue)),typeof q.componentDidUpdate=="function"&&(u.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof q.componentDidUpdate!="function"||oe===o.memoizedProps&&Ne===o.memoizedState||(u.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||oe===o.memoizedProps&&Ne===o.memoizedState||(u.flags|=1024),u.memoizedProps=j,u.memoizedState=Be),q.props=j,q.state=Be,q.context=ue,j=xe):(typeof q.componentDidUpdate!="function"||oe===o.memoizedProps&&Ne===o.memoizedState||(u.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||oe===o.memoizedProps&&Ne===o.memoizedState||(u.flags|=1024),j=!1)}return Of(o,u,p,j,R,T)}function Of(o,u,p,j,T,R){sw(o,u);var q=(u.flags&128)!==0;if(!j&&!q)return T&&u0(u,p,!1),ls(o,u,R);j=u.stateNode,QP.current=u;var oe=q&&typeof p.getDerivedStateFromError!="function"?null:j.render();return u.flags|=1,o!==null&&q?(u.child=ha(u,o.child,null,R),u.child=ha(u,null,oe,R)):jr(o,u,oe,R),u.memoizedState=j.state,T&&u0(u,p,!0),u.child}function aw(o){var u=o.stateNode;u.pendingContext?l0(o,u.pendingContext,u.pendingContext!==u.context):u.context&&l0(o,u.context,!1),vf(o,u.containerInfo)}function ow(o,u,p,j,T){return da(),uf(T),u.flags|=256,jr(o,u,p,j),u.child}var If={dehydrated:null,treeContext:null,retryLane:0};function Mf(o){return{baseLanes:o,cachePool:null,transitions:null}}function lw(o,u,p){var j=u.pendingProps,T=Rt.current,R=!1,q=(u.flags&128)!==0,oe;if((oe=q)||(oe=o!==null&&o.memoizedState===null?!1:(T&2)!==0),oe?(R=!0,u.flags&=-129):(o===null||o.memoizedState!==null)&&(T|=1),jt(Rt,T&1),o===null)return cf(u),o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((u.mode&1)===0?u.lanes=1:o.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(q=j.children,o=j.fallback,R?(j=u.mode,R=u.child,q={mode:"hidden",children:q},(j&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=q):R=ju(q,j,0,null),o=Ti(o,j,p,null),R.return=u,o.return=u,R.sibling=o,u.child=R,u.child.memoizedState=Mf(p),u.memoizedState=If,o):Ff(u,q));if(T=o.memoizedState,T!==null&&(oe=T.dehydrated,oe!==null))return JP(o,u,q,j,oe,T,p);if(R){R=j.fallback,q=u.mode,T=o.child,oe=T.sibling;var ue={mode:"hidden",children:j.children};return(q&1)===0&&u.child!==T?(j=u.child,j.childLanes=0,j.pendingProps=ue,u.deletions=null):(j=Bs(T,ue),j.subtreeFlags=T.subtreeFlags&14680064),oe!==null?R=Bs(oe,R):(R=Ti(R,q,p,null),R.flags|=2),R.return=u,j.return=u,j.sibling=R,u.child=j,j=R,R=u.child,q=o.child.memoizedState,q=q===null?Mf(p):{baseLanes:q.baseLanes|p,cachePool:null,transitions:q.transitions},R.memoizedState=q,R.childLanes=o.childLanes&~p,u.memoizedState=If,j}return R=o.child,o=R.sibling,j=Bs(R,{mode:"visible",children:j.children}),(u.mode&1)===0&&(j.lanes=p),j.return=u,j.sibling=null,o!==null&&(p=u.deletions,p===null?(u.deletions=[o],u.flags|=16):p.push(o)),u.child=j,u.memoizedState=null,j}function Ff(o,u){return u=ju({mode:"visible",children:u},o.mode,0,null),u.return=o,o.child=u}function uu(o,u,p,j){return j!==null&&uf(j),ha(u,o.child,null,p),o=Ff(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function JP(o,u,p,j,T,R,q){if(p)return u.flags&256?(u.flags&=-257,j=Af(Error(r(422))),uu(o,u,q,j)):u.memoizedState!==null?(u.child=o.child,u.flags|=128,null):(R=j.fallback,T=u.mode,j=ju({mode:"visible",children:j.children},T,0,null),R=Ti(R,T,q,null),R.flags|=2,j.return=u,R.return=u,j.sibling=R,u.child=j,(u.mode&1)!==0&&ha(u,o.child,null,q),u.child.memoizedState=Mf(q),u.memoizedState=If,R);if((u.mode&1)===0)return uu(o,u,q,null);if(T.data==="$!"){if(j=T.nextSibling&&T.nextSibling.dataset,j)var oe=j.dgst;return j=oe,R=Error(r(419)),j=Af(R,j,void 0),uu(o,u,q,j)}if(oe=(q&o.childLanes)!==0,Ar||oe){if(j=tr,j!==null){switch(q&-q){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(j.suspendedLanes|q))!==0?0:T,T!==0&&T!==R.retryLane&&(R.retryLane=T,as(o,T),pn(j,o,T,-1))}return Zf(),j=Af(Error(r(421))),uu(o,u,q,j)}return T.data==="$?"?(u.flags|=128,u.child=o.child,u=dA.bind(null,o),T._reactRetry=u,null):(o=R.treeContext,zr=Ts(T.nextSibling),$r=u,At=!0,un=null,o!==null&&(Xr[Qr++]=ss,Xr[Qr++]=is,Xr[Qr++]=wi,ss=o.id,is=o.overflow,wi=u),u=Ff(u,j.children),u.flags|=4096,u)}function cw(o,u,p){o.lanes|=u;var j=o.alternate;j!==null&&(j.lanes|=u),pf(o.return,u,p)}function Lf(o,u,p,j,T){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:j,tail:p,tailMode:T}:(R.isBackwards=u,R.rendering=null,R.renderingStartTime=0,R.last=j,R.tail=p,R.tailMode=T)}function uw(o,u,p){var j=u.pendingProps,T=j.revealOrder,R=j.tail;if(jr(o,u,j.children,p),j=Rt.current,(j&2)!==0)j=j&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&cw(o,p,u);else if(o.tag===19)cw(o,p,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}j&=1}if(jt(Rt,j),(u.mode&1)===0)u.memoizedState=null;else switch(T){case"forwards":for(p=u.child,T=null;p!==null;)o=p.alternate,o!==null&&nu(o)===null&&(T=p),p=p.sibling;p=T,p===null?(T=u.child,u.child=null):(T=p.sibling,p.sibling=null),Lf(u,!1,T,p,R);break;case"backwards":for(p=null,T=u.child,u.child=null;T!==null;){if(o=T.alternate,o!==null&&nu(o)===null){u.child=T;break}o=T.sibling,T.sibling=p,p=T,T=o}Lf(u,!0,p,null,R);break;case"together":Lf(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function du(o,u){(u.mode&1)===0&&o!==null&&(o.alternate=null,u.alternate=null,u.flags|=2)}function ls(o,u,p){if(o!==null&&(u.dependencies=o.dependencies),Ei|=u.lanes,(p&u.childLanes)===0)return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,p=Bs(o,o.pendingProps),u.child=p,p.return=u;o.sibling!==null;)o=o.sibling,p=p.sibling=Bs(o,o.pendingProps),p.return=u;p.sibling=null}return u.child}function ZP(o,u,p){switch(u.tag){case 3:aw(u),da();break;case 5:S0(u);break;case 1:Pr(u.type)&&Kc(u);break;case 4:vf(u,u.stateNode.containerInfo);break;case 10:var j=u.type._context,T=u.memoizedProps.value;jt(Zc,j._currentValue),j._currentValue=T;break;case 13:if(j=u.memoizedState,j!==null)return j.dehydrated!==null?(jt(Rt,Rt.current&1),u.flags|=128,null):(p&u.child.childLanes)!==0?lw(o,u,p):(jt(Rt,Rt.current&1),o=ls(o,u,p),o!==null?o.sibling:null);jt(Rt,Rt.current&1);break;case 19:if(j=(p&u.childLanes)!==0,(o.flags&128)!==0){if(j)return uw(o,u,p);u.flags|=128}if(T=u.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),jt(Rt,Rt.current),j)break;return null;case 22:case 23:return u.lanes=0,nw(o,u,p)}return ls(o,u,p)}var dw,Uf,hw,fw;dw=function(o,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)o.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Uf=function(){},hw=function(o,u,p,j){var T=o.memoizedProps;if(T!==j){o=u.stateNode,ji(Rn.current);var R=null;switch(p){case"input":T=I(o,T),j=I(o,j),R=[];break;case"select":T=he({},T,{value:void 0}),j=he({},j,{value:void 0}),R=[];break;case"textarea":T=se(o,T),j=se(o,j),R=[];break;default:typeof T.onClick!="function"&&typeof j.onClick=="function"&&(o.onclick=Wc)}Ur(p,j);var q;p=null;for(xe in T)if(!j.hasOwnProperty(xe)&&T.hasOwnProperty(xe)&&T[xe]!=null)if(xe==="style"){var oe=T[xe];for(q in oe)oe.hasOwnProperty(q)&&(p||(p={}),p[q]="")}else xe!=="dangerouslySetInnerHTML"&&xe!=="children"&&xe!=="suppressContentEditableWarning"&&xe!=="suppressHydrationWarning"&&xe!=="autoFocus"&&(i.hasOwnProperty(xe)?R||(R=[]):(R=R||[]).push(xe,null));for(xe in j){var ue=j[xe];if(oe=T?.[xe],j.hasOwnProperty(xe)&&ue!==oe&&(ue!=null||oe!=null))if(xe==="style")if(oe){for(q in oe)!oe.hasOwnProperty(q)||ue&&ue.hasOwnProperty(q)||(p||(p={}),p[q]="");for(q in ue)ue.hasOwnProperty(q)&&oe[q]!==ue[q]&&(p||(p={}),p[q]=ue[q])}else p||(R||(R=[]),R.push(xe,p)),p=ue;else xe==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,oe=oe?oe.__html:void 0,ue!=null&&oe!==ue&&(R=R||[]).push(xe,ue)):xe==="children"?typeof ue!="string"&&typeof ue!="number"||(R=R||[]).push(xe,""+ue):xe!=="suppressContentEditableWarning"&&xe!=="suppressHydrationWarning"&&(i.hasOwnProperty(xe)?(ue!=null&&xe==="onScroll"&&Nt("scroll",o),R||oe===ue||(R=[])):(R=R||[]).push(xe,ue))}p&&(R=R||[]).push("style",p);var xe=R;(u.updateQueue=xe)&&(u.flags|=4)}},fw=function(o,u,p,j){p!==j&&(u.flags|=4)};function il(o,u){if(!At)switch(o.tailMode){case"hidden":u=o.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var j=null;p!==null;)p.alternate!==null&&(j=p),p=p.sibling;j===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:j.sibling=null}}function xr(o){var u=o.alternate!==null&&o.alternate.child===o.child,p=0,j=0;if(u)for(var T=o.child;T!==null;)p|=T.lanes|T.childLanes,j|=T.subtreeFlags&14680064,j|=T.flags&14680064,T.return=o,T=T.sibling;else for(T=o.child;T!==null;)p|=T.lanes|T.childLanes,j|=T.subtreeFlags,j|=T.flags,T.return=o,T=T.sibling;return o.subtreeFlags|=j,o.childLanes=p,u}function eA(o,u,p){var j=u.pendingProps;switch(of(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(u),null;case 1:return Pr(u.type)&&Vc(),xr(u),null;case 3:return j=u.stateNode,ma(),Ct(Tr),Ct(vr),wf(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(o===null||o.child===null)&&(Qc(u)?u.flags|=4:o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,un!==null&&(Xf(un),un=null))),Uf(o,u),xr(u),null;case 5:yf(u);var T=ji(el.current);if(p=u.type,o!==null&&u.stateNode!=null)hw(o,u,p,j,T),o.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!j){if(u.stateNode===null)throw Error(r(166));return xr(u),null}if(o=ji(Rn.current),Qc(u)){j=u.stateNode,p=u.type;var R=u.memoizedProps;switch(j[An]=u,j[Yo]=R,o=(u.mode&1)!==0,p){case"dialog":Nt("cancel",j),Nt("close",j);break;case"iframe":case"object":case"embed":Nt("load",j);break;case"video":case"audio":for(T=0;T<Vo.length;T++)Nt(Vo[T],j);break;case"source":Nt("error",j);break;case"img":case"image":case"link":Nt("error",j),Nt("load",j);break;case"details":Nt("toggle",j);break;case"input":ge(j,R),Nt("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!R.multiple},Nt("invalid",j);break;case"textarea":be(j,R),Nt("invalid",j)}Ur(p,R),T=null;for(var q in R)if(R.hasOwnProperty(q)){var oe=R[q];q==="children"?typeof oe=="string"?j.textContent!==oe&&(R.suppressHydrationWarning!==!0&&Hc(j.textContent,oe,o),T=["children",oe]):typeof oe=="number"&&j.textContent!==""+oe&&(R.suppressHydrationWarning!==!0&&Hc(j.textContent,oe,o),T=["children",""+oe]):i.hasOwnProperty(q)&&oe!=null&&q==="onScroll"&&Nt("scroll",j)}switch(p){case"input":K(j),k(j,R,!0);break;case"textarea":K(j),je(j);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(j.onclick=Wc)}j=T,u.updateQueue=j,j!==null&&(u.flags|=4)}else{q=T.nodeType===9?T:T.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Ie(p)),o==="http://www.w3.org/1999/xhtml"?p==="script"?(o=q.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof j.is=="string"?o=q.createElement(p,{is:j.is}):(o=q.createElement(p),p==="select"&&(q=o,j.multiple?q.multiple=!0:j.size&&(q.size=j.size))):o=q.createElementNS(o,p),o[An]=u,o[Yo]=j,dw(o,u,!1,!1),u.stateNode=o;e:{switch(q=Ji(p,j),p){case"dialog":Nt("cancel",o),Nt("close",o),T=j;break;case"iframe":case"object":case"embed":Nt("load",o),T=j;break;case"video":case"audio":for(T=0;T<Vo.length;T++)Nt(Vo[T],o);T=j;break;case"source":Nt("error",o),T=j;break;case"img":case"image":case"link":Nt("error",o),Nt("load",o),T=j;break;case"details":Nt("toggle",o),T=j;break;case"input":ge(o,j),T=I(o,j),Nt("invalid",o);break;case"option":T=j;break;case"select":o._wrapperState={wasMultiple:!!j.multiple},T=he({},j,{value:void 0}),Nt("invalid",o);break;case"textarea":be(o,j),T=se(o,j),Nt("invalid",o);break;default:T=j}Ur(p,T),oe=T;for(R in oe)if(oe.hasOwnProperty(R)){var ue=oe[R];R==="style"?mi(o,ue):R==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ue!=null&&Zt(o,ue)):R==="children"?typeof ue=="string"?(p!=="textarea"||ue!=="")&&kr(o,ue):typeof ue=="number"&&kr(o,""+ue):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(i.hasOwnProperty(R)?ue!=null&&R==="onScroll"&&Nt("scroll",o):ue!=null&&_(o,R,ue,q))}switch(p){case"input":K(o),k(o,j,!1);break;case"textarea":K(o),je(o);break;case"option":j.value!=null&&o.setAttribute("value",""+O(j.value));break;case"select":o.multiple=!!j.multiple,R=j.value,R!=null?ce(o,!!j.multiple,R,!1):j.defaultValue!=null&&ce(o,!!j.multiple,j.defaultValue,!0);break;default:typeof T.onClick=="function"&&(o.onclick=Wc)}switch(p){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return xr(u),null;case 6:if(o&&u.stateNode!=null)fw(o,u,o.memoizedProps,j);else{if(typeof j!="string"&&u.stateNode===null)throw Error(r(166));if(p=ji(el.current),ji(Rn.current),Qc(u)){if(j=u.stateNode,p=u.memoizedProps,j[An]=u,(R=j.nodeValue!==p)&&(o=$r,o!==null))switch(o.tag){case 3:Hc(j.nodeValue,p,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Hc(j.nodeValue,p,(o.mode&1)!==0)}R&&(u.flags|=4)}else j=(p.nodeType===9?p:p.ownerDocument).createTextNode(j),j[An]=u,u.stateNode=j}return xr(u),null;case 13:if(Ct(Rt),j=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(At&&zr!==null&&(u.mode&1)!==0&&(u.flags&128)===0)g0(),da(),u.flags|=98560,R=!1;else if(R=Qc(u),j!==null&&j.dehydrated!==null){if(o===null){if(!R)throw Error(r(318));if(R=u.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[An]=u}else da(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;xr(u),R=!1}else un!==null&&(Xf(un),un=null),R=!0;if(!R)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=p,u):(j=j!==null,j!==(o!==null&&o.memoizedState!==null)&&j&&(u.child.flags|=8192,(u.mode&1)!==0&&(o===null||(Rt.current&1)!==0?Yt===0&&(Yt=3):Zf())),u.updateQueue!==null&&(u.flags|=4),xr(u),null);case 4:return ma(),Uf(o,u),o===null&&Ko(u.stateNode.containerInfo),xr(u),null;case 10:return ff(u.type._context),xr(u),null;case 17:return Pr(u.type)&&Vc(),xr(u),null;case 19:if(Ct(Rt),R=u.memoizedState,R===null)return xr(u),null;if(j=(u.flags&128)!==0,q=R.rendering,q===null)if(j)il(R,!1);else{if(Yt!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(q=nu(o),q!==null){for(u.flags|=128,il(R,!1),j=q.updateQueue,j!==null&&(u.updateQueue=j,u.flags|=4),u.subtreeFlags=0,j=p,p=u.child;p!==null;)R=p,o=j,R.flags&=14680066,q=R.alternate,q===null?(R.childLanes=0,R.lanes=o,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=q.childLanes,R.lanes=q.lanes,R.child=q.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=q.memoizedProps,R.memoizedState=q.memoizedState,R.updateQueue=q.updateQueue,R.type=q.type,o=q.dependencies,R.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),p=p.sibling;return jt(Rt,Rt.current&1|2),u.child}o=o.sibling}R.tail!==null&&Ft()>xa&&(u.flags|=128,j=!0,il(R,!1),u.lanes=4194304)}else{if(!j)if(o=nu(q),o!==null){if(u.flags|=128,j=!0,p=o.updateQueue,p!==null&&(u.updateQueue=p,u.flags|=4),il(R,!0),R.tail===null&&R.tailMode==="hidden"&&!q.alternate&&!At)return xr(u),null}else 2*Ft()-R.renderingStartTime>xa&&p!==1073741824&&(u.flags|=128,j=!0,il(R,!1),u.lanes=4194304);R.isBackwards?(q.sibling=u.child,u.child=q):(p=R.last,p!==null?p.sibling=q:u.child=q,R.last=q)}return R.tail!==null?(u=R.tail,R.rendering=u,R.tail=u.sibling,R.renderingStartTime=Ft(),u.sibling=null,p=Rt.current,jt(Rt,j?p&1|2:p&1),u):(xr(u),null);case 22:case 23:return Jf(),j=u.memoizedState!==null,o!==null&&o.memoizedState!==null!==j&&(u.flags|=8192),j&&(u.mode&1)!==0?(Hr&1073741824)!==0&&(xr(u),u.subtreeFlags&6&&(u.flags|=8192)):xr(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function tA(o,u){switch(of(u),u.tag){case 1:return Pr(u.type)&&Vc(),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return ma(),Ct(Tr),Ct(vr),wf(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 5:return yf(u),null;case 13:if(Ct(Rt),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));da()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return Ct(Rt),null;case 4:return ma(),null;case 10:return ff(u.type._context),null;case 22:case 23:return Jf(),null;case 24:return null;default:return null}}var hu=!1,wr=!1,rA=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function va(o,u){var p=o.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(j){Ot(o,u,j)}else p.current=null}function Bf(o,u,p){try{p()}catch(j){Ot(o,u,j)}}var pw=!1;function nA(o,u){if(Qh=Rc,o=Vx(),Hh(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var j=p.getSelection&&p.getSelection();if(j&&j.rangeCount!==0){p=j.anchorNode;var T=j.anchorOffset,R=j.focusNode;j=j.focusOffset;try{p.nodeType,R.nodeType}catch{p=null;break e}var q=0,oe=-1,ue=-1,xe=0,ke=0,Ae=o,Ne=null;t:for(;;){for(var Fe;Ae!==p||T!==0&&Ae.nodeType!==3||(oe=q+T),Ae!==R||j!==0&&Ae.nodeType!==3||(ue=q+j),Ae.nodeType===3&&(q+=Ae.nodeValue.length),(Fe=Ae.firstChild)!==null;)Ne=Ae,Ae=Fe;for(;;){if(Ae===o)break t;if(Ne===p&&++xe===T&&(oe=q),Ne===R&&++ke===j&&(ue=q),(Fe=Ae.nextSibling)!==null)break;Ae=Ne,Ne=Ae.parentNode}Ae=Fe}p=oe===-1||ue===-1?null:{start:oe,end:ue}}else p=null}p=p||{start:0,end:0}}else p=null;for(Jh={focusedElem:o,selectionRange:p},Rc=!1,Ue=u;Ue!==null;)if(u=Ue,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,Ue=o;else for(;Ue!==null;){u=Ue;try{var Be=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var ze=Be.memoizedProps,Lt=Be.memoizedState,ve=u.stateNode,de=ve.getSnapshotBeforeUpdate(u.elementType===u.type?ze:dn(u.type,ze),Lt);ve.__reactInternalSnapshotBeforeUpdate=de}break;case 3:var ye=u.stateNode.containerInfo;ye.nodeType===1?ye.textContent="":ye.nodeType===9&&ye.documentElement&&ye.removeChild(ye.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Oe){Ot(u,u.return,Oe)}if(o=u.sibling,o!==null){o.return=u.return,Ue=o;break}Ue=u.return}return Be=pw,pw=!1,Be}function al(o,u,p){var j=u.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var T=j=j.next;do{if((T.tag&o)===o){var R=T.destroy;T.destroy=void 0,R!==void 0&&Bf(u,p,R)}T=T.next}while(T!==j)}}function fu(o,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&o)===o){var j=p.create;p.destroy=j()}p=p.next}while(p!==u)}}function $f(o){var u=o.ref;if(u!==null){var p=o.stateNode;o.tag,o=p,typeof u=="function"?u(o):u.current=o}}function mw(o){var u=o.alternate;u!==null&&(o.alternate=null,mw(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&(delete u[An],delete u[Yo],delete u[rf],delete u[UP],delete u[BP])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function gw(o){return o.tag===5||o.tag===3||o.tag===4}function vw(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||gw(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function zf(o,u,p){var j=o.tag;if(j===5||j===6)o=o.stateNode,u?p.nodeType===8?p.parentNode.insertBefore(o,u):p.insertBefore(o,u):(p.nodeType===8?(u=p.parentNode,u.insertBefore(o,p)):(u=p,u.appendChild(o)),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=Wc));else if(j!==4&&(o=o.child,o!==null))for(zf(o,u,p),o=o.sibling;o!==null;)zf(o,u,p),o=o.sibling}function Hf(o,u,p){var j=o.tag;if(j===5||j===6)o=o.stateNode,u?p.insertBefore(o,u):p.appendChild(o);else if(j!==4&&(o=o.child,o!==null))for(Hf(o,u,p),o=o.sibling;o!==null;)Hf(o,u,p),o=o.sibling}var dr=null,hn=!1;function Is(o,u,p){for(p=p.child;p!==null;)yw(o,u,p),p=p.sibling}function yw(o,u,p){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(Nc,p)}catch{}switch(p.tag){case 5:wr||va(p,u);case 6:var j=dr,T=hn;dr=null,Is(o,u,p),dr=j,hn=T,dr!==null&&(hn?(o=dr,p=p.stateNode,o.nodeType===8?o.parentNode.removeChild(p):o.removeChild(p)):dr.removeChild(p.stateNode));break;case 18:dr!==null&&(hn?(o=dr,p=p.stateNode,o.nodeType===8?tf(o.parentNode,p):o.nodeType===1&&tf(o,p),Lo(o)):tf(dr,p.stateNode));break;case 4:j=dr,T=hn,dr=p.stateNode.containerInfo,hn=!0,Is(o,u,p),dr=j,hn=T;break;case 0:case 11:case 14:case 15:if(!wr&&(j=p.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){T=j=j.next;do{var R=T,q=R.destroy;R=R.tag,q!==void 0&&((R&2)!==0||(R&4)!==0)&&Bf(p,u,q),T=T.next}while(T!==j)}Is(o,u,p);break;case 1:if(!wr&&(va(p,u),j=p.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=p.memoizedProps,j.state=p.memoizedState,j.componentWillUnmount()}catch(oe){Ot(p,u,oe)}Is(o,u,p);break;case 21:Is(o,u,p);break;case 22:p.mode&1?(wr=(j=wr)||p.memoizedState!==null,Is(o,u,p),wr=j):Is(o,u,p);break;default:Is(o,u,p)}}function xw(o){var u=o.updateQueue;if(u!==null){o.updateQueue=null;var p=o.stateNode;p===null&&(p=o.stateNode=new rA),u.forEach(function(j){var T=hA.bind(null,o,j);p.has(j)||(p.add(j),j.then(T,T))})}}function fn(o,u){var p=u.deletions;if(p!==null)for(var j=0;j<p.length;j++){var T=p[j];try{var R=o,q=u,oe=q;e:for(;oe!==null;){switch(oe.tag){case 5:dr=oe.stateNode,hn=!1;break e;case 3:dr=oe.stateNode.containerInfo,hn=!0;break e;case 4:dr=oe.stateNode.containerInfo,hn=!0;break e}oe=oe.return}if(dr===null)throw Error(r(160));yw(R,q,T),dr=null,hn=!1;var ue=T.alternate;ue!==null&&(ue.return=null),T.return=null}catch(xe){Ot(T,u,xe)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)ww(u,o),u=u.sibling}function ww(o,u){var p=o.alternate,j=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(fn(u,o),On(o),j&4){try{al(3,o,o.return),fu(3,o)}catch(ze){Ot(o,o.return,ze)}try{al(5,o,o.return)}catch(ze){Ot(o,o.return,ze)}}break;case 1:fn(u,o),On(o),j&512&&p!==null&&va(p,p.return);break;case 5:if(fn(u,o),On(o),j&512&&p!==null&&va(p,p.return),o.flags&32){var T=o.stateNode;try{kr(T,"")}catch(ze){Ot(o,o.return,ze)}}if(j&4&&(T=o.stateNode,T!=null)){var R=o.memoizedProps,q=p!==null?p.memoizedProps:R,oe=o.type,ue=o.updateQueue;if(o.updateQueue=null,ue!==null)try{oe==="input"&&R.type==="radio"&&R.name!=null&&$(T,R),Ji(oe,q);var xe=Ji(oe,R);for(q=0;q<ue.length;q+=2){var ke=ue[q],Ae=ue[q+1];ke==="style"?mi(T,Ae):ke==="dangerouslySetInnerHTML"?Zt(T,Ae):ke==="children"?kr(T,Ae):_(T,ke,Ae,xe)}switch(oe){case"input":C(T,R);break;case"textarea":Ee(T,R);break;case"select":var Ne=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!R.multiple;var Fe=R.value;Fe!=null?ce(T,!!R.multiple,Fe,!1):Ne!==!!R.multiple&&(R.defaultValue!=null?ce(T,!!R.multiple,R.defaultValue,!0):ce(T,!!R.multiple,R.multiple?[]:"",!1))}T[Yo]=R}catch(ze){Ot(o,o.return,ze)}}break;case 6:if(fn(u,o),On(o),j&4){if(o.stateNode===null)throw Error(r(162));T=o.stateNode,R=o.memoizedProps;try{T.nodeValue=R}catch(ze){Ot(o,o.return,ze)}}break;case 3:if(fn(u,o),On(o),j&4&&p!==null&&p.memoizedState.isDehydrated)try{Lo(u.containerInfo)}catch(ze){Ot(o,o.return,ze)}break;case 4:fn(u,o),On(o);break;case 13:fn(u,o),On(o),T=o.child,T.flags&8192&&(R=T.memoizedState!==null,T.stateNode.isHidden=R,!R||T.alternate!==null&&T.alternate.memoizedState!==null||(Vf=Ft())),j&4&&xw(o);break;case 22:if(ke=p!==null&&p.memoizedState!==null,o.mode&1?(wr=(xe=wr)||ke,fn(u,o),wr=xe):fn(u,o),On(o),j&8192){if(xe=o.memoizedState!==null,(o.stateNode.isHidden=xe)&&!ke&&(o.mode&1)!==0)for(Ue=o,ke=o.child;ke!==null;){for(Ae=Ue=ke;Ue!==null;){switch(Ne=Ue,Fe=Ne.child,Ne.tag){case 0:case 11:case 14:case 15:al(4,Ne,Ne.return);break;case 1:va(Ne,Ne.return);var Be=Ne.stateNode;if(typeof Be.componentWillUnmount=="function"){j=Ne,p=Ne.return;try{u=j,Be.props=u.memoizedProps,Be.state=u.memoizedState,Be.componentWillUnmount()}catch(ze){Ot(j,p,ze)}}break;case 5:va(Ne,Ne.return);break;case 22:if(Ne.memoizedState!==null){jw(Ae);continue}}Fe!==null?(Fe.return=Ne,Ue=Fe):jw(Ae)}ke=ke.sibling}e:for(ke=null,Ae=o;;){if(Ae.tag===5){if(ke===null){ke=Ae;try{T=Ae.stateNode,xe?(R=T.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(oe=Ae.stateNode,ue=Ae.memoizedProps.style,q=ue!=null&&ue.hasOwnProperty("display")?ue.display:null,oe.style.display=Pt("display",q))}catch(ze){Ot(o,o.return,ze)}}}else if(Ae.tag===6){if(ke===null)try{Ae.stateNode.nodeValue=xe?"":Ae.memoizedProps}catch(ze){Ot(o,o.return,ze)}}else if((Ae.tag!==22&&Ae.tag!==23||Ae.memoizedState===null||Ae===o)&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===o)break e;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===o)break e;ke===Ae&&(ke=null),Ae=Ae.return}ke===Ae&&(ke=null),Ae.sibling.return=Ae.return,Ae=Ae.sibling}}break;case 19:fn(u,o),On(o),j&4&&xw(o);break;case 21:break;default:fn(u,o),On(o)}}function On(o){var u=o.flags;if(u&2){try{e:{for(var p=o.return;p!==null;){if(gw(p)){var j=p;break e}p=p.return}throw Error(r(160))}switch(j.tag){case 5:var T=j.stateNode;j.flags&32&&(kr(T,""),j.flags&=-33);var R=vw(o);Hf(o,R,T);break;case 3:case 4:var q=j.stateNode.containerInfo,oe=vw(o);zf(o,oe,q);break;default:throw Error(r(161))}}catch(ue){Ot(o,o.return,ue)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function sA(o,u,p){Ue=o,bw(o)}function bw(o,u,p){for(var j=(o.mode&1)!==0;Ue!==null;){var T=Ue,R=T.child;if(T.tag===22&&j){var q=T.memoizedState!==null||hu;if(!q){var oe=T.alternate,ue=oe!==null&&oe.memoizedState!==null||wr;oe=hu;var xe=wr;if(hu=q,(wr=ue)&&!xe)for(Ue=T;Ue!==null;)q=Ue,ue=q.child,q.tag===22&&q.memoizedState!==null?Sw(T):ue!==null?(ue.return=q,Ue=ue):Sw(T);for(;R!==null;)Ue=R,bw(R),R=R.sibling;Ue=T,hu=oe,wr=xe}_w(o)}else(T.subtreeFlags&8772)!==0&&R!==null?(R.return=T,Ue=R):_w(o)}}function _w(o){for(;Ue!==null;){var u=Ue;if((u.flags&8772)!==0){var p=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:wr||fu(5,u);break;case 1:var j=u.stateNode;if(u.flags&4&&!wr)if(p===null)j.componentDidMount();else{var T=u.elementType===u.type?p.memoizedProps:dn(u.type,p.memoizedProps);j.componentDidUpdate(T,p.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var R=u.updateQueue;R!==null&&j0(u,R,j);break;case 3:var q=u.updateQueue;if(q!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=u.child.stateNode;break;case 1:p=u.child.stateNode}j0(u,q,p)}break;case 5:var oe=u.stateNode;if(p===null&&u.flags&4){p=oe;var ue=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":ue.autoFocus&&p.focus();break;case"img":ue.src&&(p.src=ue.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var xe=u.alternate;if(xe!==null){var ke=xe.memoizedState;if(ke!==null){var Ae=ke.dehydrated;Ae!==null&&Lo(Ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}wr||u.flags&512&&$f(u)}catch(Ne){Ot(u,u.return,Ne)}}if(u===o){Ue=null;break}if(p=u.sibling,p!==null){p.return=u.return,Ue=p;break}Ue=u.return}}function jw(o){for(;Ue!==null;){var u=Ue;if(u===o){Ue=null;break}var p=u.sibling;if(p!==null){p.return=u.return,Ue=p;break}Ue=u.return}}function Sw(o){for(;Ue!==null;){var u=Ue;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{fu(4,u)}catch(ue){Ot(u,p,ue)}break;case 1:var j=u.stateNode;if(typeof j.componentDidMount=="function"){var T=u.return;try{j.componentDidMount()}catch(ue){Ot(u,T,ue)}}var R=u.return;try{$f(u)}catch(ue){Ot(u,R,ue)}break;case 5:var q=u.return;try{$f(u)}catch(ue){Ot(u,q,ue)}}}catch(ue){Ot(u,u.return,ue)}if(u===o){Ue=null;break}var oe=u.sibling;if(oe!==null){oe.return=u.return,Ue=oe;break}Ue=u.return}}var iA=Math.ceil,pu=S.ReactCurrentDispatcher,Wf=S.ReactCurrentOwner,en=S.ReactCurrentBatchConfig,ct=0,tr=null,Vt=null,hr=0,Hr=0,ya=Ps(0),Yt=0,ol=null,Ei=0,mu=0,qf=0,ll=null,Rr=null,Vf=0,xa=1/0,cs=null,gu=!1,Kf=null,Ms=null,vu=!1,Fs=null,yu=0,cl=0,Gf=null,xu=-1,wu=0;function Sr(){return(ct&6)!==0?Ft():xu!==-1?xu:xu=Ft()}function Ls(o){return(o.mode&1)===0?1:(ct&2)!==0&&hr!==0?hr&-hr:zP.transition!==null?(wu===0&&(wu=vx()),wu):(o=vt,o!==0||(o=window.event,o=o===void 0?16:Nx(o.type)),o)}function pn(o,u,p,j){if(50<cl)throw cl=0,Gf=null,Error(r(185));Do(o,p,j),((ct&2)===0||o!==tr)&&(o===tr&&((ct&2)===0&&(mu|=p),Yt===4&&Us(o,hr)),Dr(o,j),p===1&&ct===0&&(u.mode&1)===0&&(xa=Ft()+500,Gc&&Rs()))}function Dr(o,u){var p=o.callbackNode;z2(o,u);var j=Tc(o,o===tr?hr:0);if(j===0)p!==null&&px(p),o.callbackNode=null,o.callbackPriority=0;else if(u=j&-j,o.callbackPriority!==u){if(p!=null&&px(p),u===1)o.tag===0?$P(Nw.bind(null,o)):d0(Nw.bind(null,o)),FP(function(){(ct&6)===0&&Rs()}),p=null;else{switch(yx(j)){case 1:p=Nh;break;case 4:p=mx;break;case 16:p=Ec;break;case 536870912:p=gx;break;default:p=Ec}p=Ow(p,Ew.bind(null,o))}o.callbackPriority=u,o.callbackNode=p}}function Ew(o,u){if(xu=-1,wu=0,(ct&6)!==0)throw Error(r(327));var p=o.callbackNode;if(wa()&&o.callbackNode!==p)return null;var j=Tc(o,o===tr?hr:0);if(j===0)return null;if((j&30)!==0||(j&o.expiredLanes)!==0||u)u=bu(o,j);else{u=j;var T=ct;ct|=2;var R=kw();(tr!==o||hr!==u)&&(cs=null,xa=Ft()+500,Ci(o,u));do try{lA();break}catch(oe){Cw(o,oe)}while(!0);hf(),pu.current=R,ct=T,Vt!==null?u=0:(tr=null,hr=0,u=Yt)}if(u!==0){if(u===2&&(T=Ch(o),T!==0&&(j=T,u=Yf(o,T))),u===1)throw p=ol,Ci(o,0),Us(o,j),Dr(o,Ft()),p;if(u===6)Us(o,j);else{if(T=o.current.alternate,(j&30)===0&&!aA(T)&&(u=bu(o,j),u===2&&(R=Ch(o),R!==0&&(j=R,u=Yf(o,R))),u===1))throw p=ol,Ci(o,0),Us(o,j),Dr(o,Ft()),p;switch(o.finishedWork=T,o.finishedLanes=j,u){case 0:case 1:throw Error(r(345));case 2:ki(o,Rr,cs);break;case 3:if(Us(o,j),(j&130023424)===j&&(u=Vf+500-Ft(),10<u)){if(Tc(o,0)!==0)break;if(T=o.suspendedLanes,(T&j)!==j){Sr(),o.pingedLanes|=o.suspendedLanes&T;break}o.timeoutHandle=ef(ki.bind(null,o,Rr,cs),u);break}ki(o,Rr,cs);break;case 4:if(Us(o,j),(j&4194240)===j)break;for(u=o.eventTimes,T=-1;0<j;){var q=31-ln(j);R=1<<q,q=u[q],q>T&&(T=q),j&=~R}if(j=T,j=Ft()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*iA(j/1960))-j,10<j){o.timeoutHandle=ef(ki.bind(null,o,Rr,cs),j);break}ki(o,Rr,cs);break;case 5:ki(o,Rr,cs);break;default:throw Error(r(329))}}}return Dr(o,Ft()),o.callbackNode===p?Ew.bind(null,o):null}function Yf(o,u){var p=ll;return o.current.memoizedState.isDehydrated&&(Ci(o,u).flags|=256),o=bu(o,u),o!==2&&(u=Rr,Rr=p,u!==null&&Xf(u)),o}function Xf(o){Rr===null?Rr=o:Rr.push.apply(Rr,o)}function aA(o){for(var u=o;;){if(u.flags&16384){var p=u.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var j=0;j<p.length;j++){var T=p[j],R=T.getSnapshot;T=T.value;try{if(!cn(R(),T))return!1}catch{return!1}}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Us(o,u){for(u&=~qf,u&=~mu,o.suspendedLanes|=u,o.pingedLanes&=~u,o=o.expirationTimes;0<u;){var p=31-ln(u),j=1<<p;o[p]=-1,u&=~j}}function Nw(o){if((ct&6)!==0)throw Error(r(327));wa();var u=Tc(o,0);if((u&1)===0)return Dr(o,Ft()),null;var p=bu(o,u);if(o.tag!==0&&p===2){var j=Ch(o);j!==0&&(u=j,p=Yf(o,j))}if(p===1)throw p=ol,Ci(o,0),Us(o,u),Dr(o,Ft()),p;if(p===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=u,ki(o,Rr,cs),Dr(o,Ft()),null}function Qf(o,u){var p=ct;ct|=1;try{return o(u)}finally{ct=p,ct===0&&(xa=Ft()+500,Gc&&Rs())}}function Ni(o){Fs!==null&&Fs.tag===0&&(ct&6)===0&&wa();var u=ct;ct|=1;var p=en.transition,j=vt;try{if(en.transition=null,vt=1,o)return o()}finally{vt=j,en.transition=p,ct=u,(ct&6)===0&&Rs()}}function Jf(){Hr=ya.current,Ct(ya)}function Ci(o,u){o.finishedWork=null,o.finishedLanes=0;var p=o.timeoutHandle;if(p!==-1&&(o.timeoutHandle=-1,MP(p)),Vt!==null)for(p=Vt.return;p!==null;){var j=p;switch(of(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&Vc();break;case 3:ma(),Ct(Tr),Ct(vr),wf();break;case 5:yf(j);break;case 4:ma();break;case 13:Ct(Rt);break;case 19:Ct(Rt);break;case 10:ff(j.type._context);break;case 22:case 23:Jf()}p=p.return}if(tr=o,Vt=o=Bs(o.current,null),hr=Hr=u,Yt=0,ol=null,qf=mu=Ei=0,Rr=ll=null,_i!==null){for(u=0;u<_i.length;u++)if(p=_i[u],j=p.interleaved,j!==null){p.interleaved=null;var T=j.next,R=p.pending;if(R!==null){var q=R.next;R.next=T,j.next=q}p.pending=j}_i=null}return o}function Cw(o,u){do{var p=Vt;try{if(hf(),su.current=lu,iu){for(var j=Dt.memoizedState;j!==null;){var T=j.queue;T!==null&&(T.pending=null),j=j.next}iu=!1}if(Si=0,er=Gt=Dt=null,tl=!1,rl=0,Wf.current=null,p===null||p.return===null){Yt=1,ol=u,Vt=null;break}e:{var R=o,q=p.return,oe=p,ue=u;if(u=hr,oe.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var xe=ue,ke=oe,Ae=ke.tag;if((ke.mode&1)===0&&(Ae===0||Ae===11||Ae===15)){var Ne=ke.alternate;Ne?(ke.updateQueue=Ne.updateQueue,ke.memoizedState=Ne.memoizedState,ke.lanes=Ne.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var Fe=J0(q);if(Fe!==null){Fe.flags&=-257,Z0(Fe,q,oe,R,u),Fe.mode&1&&Q0(R,xe,u),u=Fe,ue=xe;var Be=u.updateQueue;if(Be===null){var ze=new Set;ze.add(ue),u.updateQueue=ze}else Be.add(ue);break e}else{if((u&1)===0){Q0(R,xe,u),Zf();break e}ue=Error(r(426))}}else if(At&&oe.mode&1){var Lt=J0(q);if(Lt!==null){(Lt.flags&65536)===0&&(Lt.flags|=256),Z0(Lt,q,oe,R,u),uf(ga(ue,oe));break e}}R=ue=ga(ue,oe),Yt!==4&&(Yt=2),ll===null?ll=[R]:ll.push(R),R=q;do{switch(R.tag){case 3:R.flags|=65536,u&=-u,R.lanes|=u;var ve=Y0(R,ue,u);_0(R,ve);break e;case 1:oe=ue;var de=R.type,ye=R.stateNode;if((R.flags&128)===0&&(typeof de.getDerivedStateFromError=="function"||ye!==null&&typeof ye.componentDidCatch=="function"&&(Ms===null||!Ms.has(ye)))){R.flags|=65536,u&=-u,R.lanes|=u;var Oe=X0(R,oe,u);_0(R,Oe);break e}}R=R.return}while(R!==null)}Pw(p)}catch(He){u=He,Vt===p&&p!==null&&(Vt=p=p.return);continue}break}while(!0)}function kw(){var o=pu.current;return pu.current=lu,o===null?lu:o}function Zf(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),tr===null||(Ei&268435455)===0&&(mu&268435455)===0||Us(tr,hr)}function bu(o,u){var p=ct;ct|=2;var j=kw();(tr!==o||hr!==u)&&(cs=null,Ci(o,u));do try{oA();break}catch(T){Cw(o,T)}while(!0);if(hf(),ct=p,pu.current=j,Vt!==null)throw Error(r(261));return tr=null,hr=0,Yt}function oA(){for(;Vt!==null;)Tw(Vt)}function lA(){for(;Vt!==null&&!D2();)Tw(Vt)}function Tw(o){var u=Dw(o.alternate,o,Hr);o.memoizedProps=o.pendingProps,u===null?Pw(o):Vt=u,Wf.current=null}function Pw(o){var u=o;do{var p=u.alternate;if(o=u.return,(u.flags&32768)===0){if(p=eA(p,u,Hr),p!==null){Vt=p;return}}else{if(p=tA(p,u),p!==null){p.flags&=32767,Vt=p;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Yt=6,Vt=null;return}}if(u=u.sibling,u!==null){Vt=u;return}Vt=u=o}while(u!==null);Yt===0&&(Yt=5)}function ki(o,u,p){var j=vt,T=en.transition;try{en.transition=null,vt=1,cA(o,u,p,j)}finally{en.transition=T,vt=j}return null}function cA(o,u,p,j){do wa();while(Fs!==null);if((ct&6)!==0)throw Error(r(327));p=o.finishedWork;var T=o.finishedLanes;if(p===null)return null;if(o.finishedWork=null,o.finishedLanes=0,p===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var R=p.lanes|p.childLanes;if(H2(o,R),o===tr&&(Vt=tr=null,hr=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||vu||(vu=!0,Ow(Ec,function(){return wa(),null})),R=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||R){R=en.transition,en.transition=null;var q=vt;vt=1;var oe=ct;ct|=4,Wf.current=null,nA(o,p),ww(p,o),TP(Jh),Rc=!!Qh,Jh=Qh=null,o.current=p,sA(p),O2(),ct=oe,vt=q,en.transition=R}else o.current=p;if(vu&&(vu=!1,Fs=o,yu=T),R=o.pendingLanes,R===0&&(Ms=null),F2(p.stateNode),Dr(o,Ft()),u!==null)for(j=o.onRecoverableError,p=0;p<u.length;p++)T=u[p],j(T.value,{componentStack:T.stack,digest:T.digest});if(gu)throw gu=!1,o=Kf,Kf=null,o;return(yu&1)!==0&&o.tag!==0&&wa(),R=o.pendingLanes,(R&1)!==0?o===Gf?cl++:(cl=0,Gf=o):cl=0,Rs(),null}function wa(){if(Fs!==null){var o=yx(yu),u=en.transition,p=vt;try{if(en.transition=null,vt=16>o?16:o,Fs===null)var j=!1;else{if(o=Fs,Fs=null,yu=0,(ct&6)!==0)throw Error(r(331));var T=ct;for(ct|=4,Ue=o.current;Ue!==null;){var R=Ue,q=R.child;if((Ue.flags&16)!==0){var oe=R.deletions;if(oe!==null){for(var ue=0;ue<oe.length;ue++){var xe=oe[ue];for(Ue=xe;Ue!==null;){var ke=Ue;switch(ke.tag){case 0:case 11:case 15:al(8,ke,R)}var Ae=ke.child;if(Ae!==null)Ae.return=ke,Ue=Ae;else for(;Ue!==null;){ke=Ue;var Ne=ke.sibling,Fe=ke.return;if(mw(ke),ke===xe){Ue=null;break}if(Ne!==null){Ne.return=Fe,Ue=Ne;break}Ue=Fe}}}var Be=R.alternate;if(Be!==null){var ze=Be.child;if(ze!==null){Be.child=null;do{var Lt=ze.sibling;ze.sibling=null,ze=Lt}while(ze!==null)}}Ue=R}}if((R.subtreeFlags&2064)!==0&&q!==null)q.return=R,Ue=q;else e:for(;Ue!==null;){if(R=Ue,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:al(9,R,R.return)}var ve=R.sibling;if(ve!==null){ve.return=R.return,Ue=ve;break e}Ue=R.return}}var de=o.current;for(Ue=de;Ue!==null;){q=Ue;var ye=q.child;if((q.subtreeFlags&2064)!==0&&ye!==null)ye.return=q,Ue=ye;else e:for(q=de;Ue!==null;){if(oe=Ue,(oe.flags&2048)!==0)try{switch(oe.tag){case 0:case 11:case 15:fu(9,oe)}}catch(He){Ot(oe,oe.return,He)}if(oe===q){Ue=null;break e}var Oe=oe.sibling;if(Oe!==null){Oe.return=oe.return,Ue=Oe;break e}Ue=oe.return}}if(ct=T,Rs(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(Nc,o)}catch{}j=!0}return j}finally{vt=p,en.transition=u}}return!1}function Aw(o,u,p){u=ga(p,u),u=Y0(o,u,1),o=Os(o,u,1),u=Sr(),o!==null&&(Do(o,1,u),Dr(o,u))}function Ot(o,u,p){if(o.tag===3)Aw(o,o,p);else for(;u!==null;){if(u.tag===3){Aw(u,o,p);break}else if(u.tag===1){var j=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Ms===null||!Ms.has(j))){o=ga(p,o),o=X0(u,o,1),u=Os(u,o,1),o=Sr(),u!==null&&(Do(u,1,o),Dr(u,o));break}}u=u.return}}function uA(o,u,p){var j=o.pingCache;j!==null&&j.delete(u),u=Sr(),o.pingedLanes|=o.suspendedLanes&p,tr===o&&(hr&p)===p&&(Yt===4||Yt===3&&(hr&130023424)===hr&&500>Ft()-Vf?Ci(o,0):qf|=p),Dr(o,u)}function Rw(o,u){u===0&&((o.mode&1)===0?u=1:(u=kc,kc<<=1,(kc&130023424)===0&&(kc=4194304)));var p=Sr();o=as(o,u),o!==null&&(Do(o,u,p),Dr(o,p))}function dA(o){var u=o.memoizedState,p=0;u!==null&&(p=u.retryLane),Rw(o,p)}function hA(o,u){var p=0;switch(o.tag){case 13:var j=o.stateNode,T=o.memoizedState;T!==null&&(p=T.retryLane);break;case 19:j=o.stateNode;break;default:throw Error(r(314))}j!==null&&j.delete(u),Rw(o,p)}var Dw;Dw=function(o,u,p){if(o!==null)if(o.memoizedProps!==u.pendingProps||Tr.current)Ar=!0;else{if((o.lanes&p)===0&&(u.flags&128)===0)return Ar=!1,ZP(o,u,p);Ar=(o.flags&131072)!==0}else Ar=!1,At&&(u.flags&1048576)!==0&&h0(u,Xc,u.index);switch(u.lanes=0,u.tag){case 2:var j=u.type;du(o,u),o=u.pendingProps;var T=la(u,vr.current);pa(u,p),T=jf(null,u,j,o,T,p);var R=Sf();return u.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Pr(j)?(R=!0,Kc(u)):R=!1,u.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,gf(u),T.updater=cu,u.stateNode=T,T._reactInternals=u,Pf(u,j,o,p),u=Of(null,u,j,!0,R,p)):(u.tag=0,At&&R&&af(u),jr(null,u,T,p),u=u.child),u;case 16:j=u.elementType;e:{switch(du(o,u),o=u.pendingProps,T=j._init,j=T(j._payload),u.type=j,T=u.tag=pA(j),o=dn(j,o),T){case 0:u=Df(null,u,j,o,p);break e;case 1:u=iw(null,u,j,o,p);break e;case 11:u=ew(null,u,j,o,p);break e;case 14:u=tw(null,u,j,dn(j.type,o),p);break e}throw Error(r(306,j,""))}return u;case 0:return j=u.type,T=u.pendingProps,T=u.elementType===j?T:dn(j,T),Df(o,u,j,T,p);case 1:return j=u.type,T=u.pendingProps,T=u.elementType===j?T:dn(j,T),iw(o,u,j,T,p);case 3:e:{if(aw(u),o===null)throw Error(r(387));j=u.pendingProps,R=u.memoizedState,T=R.element,b0(o,u),ru(u,j,null,p);var q=u.memoizedState;if(j=q.element,R.isDehydrated)if(R={element:j,isDehydrated:!1,cache:q.cache,pendingSuspenseBoundaries:q.pendingSuspenseBoundaries,transitions:q.transitions},u.updateQueue.baseState=R,u.memoizedState=R,u.flags&256){T=ga(Error(r(423)),u),u=ow(o,u,j,p,T);break e}else if(j!==T){T=ga(Error(r(424)),u),u=ow(o,u,j,p,T);break e}else for(zr=Ts(u.stateNode.containerInfo.firstChild),$r=u,At=!0,un=null,p=x0(u,null,j,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(da(),j===T){u=ls(o,u,p);break e}jr(o,u,j,p)}u=u.child}return u;case 5:return S0(u),o===null&&cf(u),j=u.type,T=u.pendingProps,R=o!==null?o.memoizedProps:null,q=T.children,Zh(j,T)?q=null:R!==null&&Zh(j,R)&&(u.flags|=32),sw(o,u),jr(o,u,q,p),u.child;case 6:return o===null&&cf(u),null;case 13:return lw(o,u,p);case 4:return vf(u,u.stateNode.containerInfo),j=u.pendingProps,o===null?u.child=ha(u,null,j,p):jr(o,u,j,p),u.child;case 11:return j=u.type,T=u.pendingProps,T=u.elementType===j?T:dn(j,T),ew(o,u,j,T,p);case 7:return jr(o,u,u.pendingProps,p),u.child;case 8:return jr(o,u,u.pendingProps.children,p),u.child;case 12:return jr(o,u,u.pendingProps.children,p),u.child;case 10:e:{if(j=u.type._context,T=u.pendingProps,R=u.memoizedProps,q=T.value,jt(Zc,j._currentValue),j._currentValue=q,R!==null)if(cn(R.value,q)){if(R.children===T.children&&!Tr.current){u=ls(o,u,p);break e}}else for(R=u.child,R!==null&&(R.return=u);R!==null;){var oe=R.dependencies;if(oe!==null){q=R.child;for(var ue=oe.firstContext;ue!==null;){if(ue.context===j){if(R.tag===1){ue=os(-1,p&-p),ue.tag=2;var xe=R.updateQueue;if(xe!==null){xe=xe.shared;var ke=xe.pending;ke===null?ue.next=ue:(ue.next=ke.next,ke.next=ue),xe.pending=ue}}R.lanes|=p,ue=R.alternate,ue!==null&&(ue.lanes|=p),pf(R.return,p,u),oe.lanes|=p;break}ue=ue.next}}else if(R.tag===10)q=R.type===u.type?null:R.child;else if(R.tag===18){if(q=R.return,q===null)throw Error(r(341));q.lanes|=p,oe=q.alternate,oe!==null&&(oe.lanes|=p),pf(q,p,u),q=R.sibling}else q=R.child;if(q!==null)q.return=R;else for(q=R;q!==null;){if(q===u){q=null;break}if(R=q.sibling,R!==null){R.return=q.return,q=R;break}q=q.return}R=q}jr(o,u,T.children,p),u=u.child}return u;case 9:return T=u.type,j=u.pendingProps.children,pa(u,p),T=Jr(T),j=j(T),u.flags|=1,jr(o,u,j,p),u.child;case 14:return j=u.type,T=dn(j,u.pendingProps),T=dn(j.type,T),tw(o,u,j,T,p);case 15:return rw(o,u,u.type,u.pendingProps,p);case 17:return j=u.type,T=u.pendingProps,T=u.elementType===j?T:dn(j,T),du(o,u),u.tag=1,Pr(j)?(o=!0,Kc(u)):o=!1,pa(u,p),K0(u,j,T),Pf(u,j,T,p),Of(null,u,j,!0,o,p);case 19:return uw(o,u,p);case 22:return nw(o,u,p)}throw Error(r(156,u.tag))};function Ow(o,u){return fx(o,u)}function fA(o,u,p,j){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(o,u,p,j){return new fA(o,u,p,j)}function ep(o){return o=o.prototype,!(!o||!o.isReactComponent)}function pA(o){if(typeof o=="function")return ep(o)?1:0;if(o!=null){if(o=o.$$typeof,o===z)return 11;if(o===te)return 14}return 2}function Bs(o,u){var p=o.alternate;return p===null?(p=tn(o.tag,u,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=u,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&14680064,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,u=o.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p}function _u(o,u,p,j,T,R){var q=2;if(j=o,typeof o=="function")ep(o)&&(q=1);else if(typeof o=="string")q=5;else e:switch(o){case L:return Ti(p.children,T,R,u);case U:q=8,T|=8;break;case F:return o=tn(12,p,u,T|2),o.elementType=F,o.lanes=R,o;case G:return o=tn(13,p,u,T),o.elementType=G,o.lanes=R,o;case A:return o=tn(19,p,u,T),o.elementType=A,o.lanes=R,o;case V:return ju(p,T,R,u);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case ee:q=10;break e;case me:q=9;break e;case z:q=11;break e;case te:q=14;break e;case J:q=16,j=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return u=tn(q,p,u,T),u.elementType=o,u.type=j,u.lanes=R,u}function Ti(o,u,p,j){return o=tn(7,o,j,u),o.lanes=p,o}function ju(o,u,p,j){return o=tn(22,o,j,u),o.elementType=V,o.lanes=p,o.stateNode={isHidden:!1},o}function tp(o,u,p){return o=tn(6,o,null,u),o.lanes=p,o}function rp(o,u,p){return u=tn(4,o.children!==null?o.children:[],o.key,u),u.lanes=p,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}function mA(o,u,p,j,T){this.tag=u,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kh(0),this.expirationTimes=kh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kh(0),this.identifierPrefix=j,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function np(o,u,p,j,T,R,q,oe,ue){return o=new mA(o,u,p,oe,ue),u===1?(u=1,R===!0&&(u|=8)):u=0,R=tn(3,null,null,u),o.current=R,R.stateNode=o,R.memoizedState={element:j,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},gf(R),o}function gA(o,u,p){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:j==null?null:""+j,children:o,containerInfo:u,implementation:p}}function Iw(o){if(!o)return As;o=o._reactInternals;e:{if(vi(o)!==o||o.tag!==1)throw Error(r(170));var u=o;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Pr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(o.tag===1){var p=o.type;if(Pr(p))return c0(o,p,u)}return u}function Mw(o,u,p,j,T,R,q,oe,ue){return o=np(p,j,!0,o,T,R,q,oe,ue),o.context=Iw(null),p=o.current,j=Sr(),T=Ls(p),R=os(j,T),R.callback=u??null,Os(p,R,T),o.current.lanes=T,Do(o,T,j),Dr(o,j),o}function Su(o,u,p,j){var T=u.current,R=Sr(),q=Ls(T);return p=Iw(p),u.context===null?u.context=p:u.pendingContext=p,u=os(R,q),u.payload={element:o},j=j===void 0?null:j,j!==null&&(u.callback=j),o=Os(T,u,q),o!==null&&(pn(o,T,q,R),tu(o,T,q)),q}function Eu(o){return o=o.current,o.child?(o.child.tag===5,o.child.stateNode):null}function Fw(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<u?p:u}}function sp(o,u){Fw(o,u),(o=o.alternate)&&Fw(o,u)}function vA(){return null}var Lw=typeof reportError=="function"?reportError:function(o){console.error(o)};function ip(o){this._internalRoot=o}Nu.prototype.render=ip.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));Su(o,u,null,null)},Nu.prototype.unmount=ip.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;Ni(function(){Su(null,o,null,null)}),u[rs]=null}};function Nu(o){this._internalRoot=o}Nu.prototype.unstable_scheduleHydration=function(o){if(o){var u=bx();o={blockedOn:null,target:o,priority:u};for(var p=0;p<Ns.length&&u!==0&&u<Ns[p].priority;p++);Ns.splice(p,0,o),p===0&&Sx(o)}};function ap(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Cu(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Uw(){}function yA(o,u,p,j,T){if(T){if(typeof j=="function"){var R=j;j=function(){var xe=Eu(q);R.call(xe)}}var q=Mw(u,j,o,0,null,!1,!1,"",Uw);return o._reactRootContainer=q,o[rs]=q.current,Ko(o.nodeType===8?o.parentNode:o),Ni(),q}for(;T=o.lastChild;)o.removeChild(T);if(typeof j=="function"){var oe=j;j=function(){var xe=Eu(ue);oe.call(xe)}}var ue=np(o,0,!1,null,null,!1,!1,"",Uw);return o._reactRootContainer=ue,o[rs]=ue.current,Ko(o.nodeType===8?o.parentNode:o),Ni(function(){Su(u,ue,p,j)}),ue}function ku(o,u,p,j,T){var R=p._reactRootContainer;if(R){var q=R;if(typeof T=="function"){var oe=T;T=function(){var ue=Eu(q);oe.call(ue)}}Su(u,q,o,T)}else q=yA(p,u,o,T,j);return Eu(q)}xx=function(o){switch(o.tag){case 3:var u=o.stateNode;if(u.current.memoizedState.isDehydrated){var p=Ro(u.pendingLanes);p!==0&&(Th(u,p|1),Dr(u,Ft()),(ct&6)===0&&(xa=Ft()+500,Rs()))}break;case 13:Ni(function(){var j=as(o,1);if(j!==null){var T=Sr();pn(j,o,1,T)}}),sp(o,1)}},Ph=function(o){if(o.tag===13){var u=as(o,134217728);if(u!==null){var p=Sr();pn(u,o,134217728,p)}sp(o,134217728)}},wx=function(o){if(o.tag===13){var u=Ls(o),p=as(o,u);if(p!==null){var j=Sr();pn(p,o,u,j)}sp(o,u)}},bx=function(){return vt},_x=function(o,u){var p=vt;try{return vt=o,u()}finally{vt=p}},ko=function(o,u,p){switch(u){case"input":if(C(o,p),u=p.name,p.type==="radio"&&u!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<p.length;u++){var j=p[u];if(j!==o&&j.form===o.form){var T=qc(j);if(!T)throw Error(r(90));Y(j),C(j,T)}}}break;case"textarea":Ee(o,p);break;case"select":u=p.value,u!=null&&ce(o,!!p.multiple,u,!1)}},ax=Qf,ox=Ni;var xA={usingClientEntryPoint:!1,Events:[Xo,aa,qc,sx,ix,Qf]},ul={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wA={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=dx(o),o===null?null:o.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||vA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tu.isDisabled&&Tu.supportsFiber)try{Nc=Tu.inject(wA),Pn=Tu}catch{}}return Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xA,Or.createPortal=function(o,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ap(u))throw Error(r(200));return gA(o,u,null,p)},Or.createRoot=function(o,u){if(!ap(o))throw Error(r(299));var p=!1,j="",T=Lw;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(j=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),u=np(o,1,!1,null,null,p,!1,j,T),o[rs]=u.current,Ko(o.nodeType===8?o.parentNode:o),new ip(u)},Or.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=dx(u),o=o===null?null:o.stateNode,o},Or.flushSync=function(o){return Ni(o)},Or.hydrate=function(o,u,p){if(!Cu(u))throw Error(r(200));return ku(null,o,u,!0,p)},Or.hydrateRoot=function(o,u,p){if(!ap(o))throw Error(r(405));var j=p!=null&&p.hydratedSources||null,T=!1,R="",q=Lw;if(p!=null&&(p.unstable_strictMode===!0&&(T=!0),p.identifierPrefix!==void 0&&(R=p.identifierPrefix),p.onRecoverableError!==void 0&&(q=p.onRecoverableError)),u=Mw(u,null,o,1,p??null,T,!1,R,q),o[rs]=u.current,Ko(o),j)for(o=0;o<j.length;o++)p=j[o],T=p._getVersion,T=T(p._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[p,T]:u.mutableSourceEagerHydrationData.push(p,T);return new Nu(u)},Or.render=function(o,u,p){if(!Cu(u))throw Error(r(200));return ku(null,o,u,!1,p)},Or.unmountComponentAtNode=function(o){if(!Cu(o))throw Error(r(40));return o._reactRootContainer?(Ni(function(){ku(null,null,o,!1,function(){o._reactRootContainer=null,o[rs]=null})}),!0):!1},Or.unstable_batchedUpdates=Qf,Or.unstable_renderSubtreeIntoContainer=function(o,u,p,j){if(!Cu(p))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return ku(o,u,p,!1,j)},Or.version="18.3.1-next-f1338f8080-20240426",Or}var Kw;function Bj(){if(Kw)return cp.exports;Kw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cp.exports=TA(),cp.exports}var Gw;function PA(){if(Gw)return Pu;Gw=1;var e=Bj();return Pu.createRoot=e.createRoot,Pu.hydrateRoot=e.hydrateRoot,Pu}var AA=PA(),fo=Bj();const RA=bv(fo);function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ol.apply(this,arguments)}var Xs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xs||(Xs={}));const Yw="popstate";function DA(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:l,hash:c}=n.location;return Pg("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:dd(i)}return IA(t,r,null,e)}function Kt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function OA(){return Math.random().toString(36).substr(2,8)}function Xw(e,t){return{usr:e.state,key:e.key,idx:t}}function Pg(e,t,r,n){return r===void 0&&(r=null),Ol({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?po(t):t,{state:r,key:t&&t.key||n||OA()})}function dd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function po(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function IA(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,c=Xs.Pop,d=null,h=f();h==null&&(h=0,l.replaceState(Ol({},l.state,{idx:h}),""));function f(){return(l.state||{idx:null}).idx}function m(){c=Xs.Pop;let b=f(),w=b==null?null:b-h;h=b,d&&d({action:c,location:v.location,delta:w})}function g(b,w){c=Xs.Push;let E=Pg(v.location,b,w);h=f()+1;let _=Xw(E,h),S=v.createHref(E);try{l.pushState(_,"",S)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(S)}a&&d&&d({action:c,location:v.location,delta:1})}function y(b,w){c=Xs.Replace;let E=Pg(v.location,b,w);h=f();let _=Xw(E,h),S=v.createHref(E);l.replaceState(_,"",S),a&&d&&d({action:c,location:v.location,delta:0})}function x(b){let w=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof b=="string"?b:dd(b);return E=E.replace(/ $/,"%20"),Kt(w,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,w)}let v={get action(){return c},get location(){return e(i,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(Yw,m),d=b,()=>{i.removeEventListener(Yw,m),d=null}},createHref(b){return t(i,b)},createURL:x,encodeLocation(b){let w=x(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:y,go(b){return l.go(b)}};return v}var Qw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Qw||(Qw={}));function MA(e,t,r){return r===void 0&&(r="/"),FA(e,t,r)}function FA(e,t,r,n){let i=typeof t=="string"?po(t):t,a=Sv(i.pathname||"/",r);if(a==null)return null;let l=$j(e);LA(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=XA(a);c=KA(l[d],h)}return c}function $j(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,l,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(Kt(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let h=Qs([n,d.relativePath]),f=r.concat(d);a.children&&a.children.length>0&&(Kt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),$j(a.children,t,f,h)),!(a.path==null&&!a.index)&&t.push({path:h,score:qA(h,a.index),routesMeta:f})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let d of zj(a.path))i(a,l,d)}),t}function zj(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=zj(n.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...l),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function LA(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:VA(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const UA=/^:[\w-]+$/,BA=3,$A=2,zA=1,HA=10,WA=-2,Jw=e=>e==="*";function qA(e,t){let r=e.split("/"),n=r.length;return r.some(Jw)&&(n+=WA),t&&(n+=$A),r.filter(i=>!Jw(i)).reduce((i,a)=>i+(UA.test(a)?BA:a===""?zA:HA),n)}function VA(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function KA(e,t,r){let{routesMeta:n}=e,i={},a="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],h=c===n.length-1,f=a==="/"?t:t.slice(a.length)||"/",m=GA({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},f),g=d.route;if(!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:Qs([a,m.pathname]),pathnameBase:tR(Qs([a,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(a=Qs([a,m.pathnameBase]))}return l}function GA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=YA(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((h,f,m)=>{let{paramName:g,isOptional:y}=f;if(g==="*"){let v=c[m]||"";l=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const x=c[m];return y&&!x?h[g]=void 0:h[g]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:e}}function YA(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),jv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function XA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Sv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const QA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JA=e=>QA.test(e);function ZA(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?po(e):e,a;if(r)if(JA(r))a=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),jv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+r))}r.startsWith("/")?a=Zw(r.substring(1),"/"):a=Zw(r,t)}else a=t;return{pathname:a,search:rR(n),hash:nR(i)}}function Zw(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function hp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Hj(e,t){let r=eR(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Wj(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=po(e):(i=Ol({},e),Kt(!i.pathname||!i.pathname.includes("?"),hp("?","pathname","search",i)),Kt(!i.pathname||!i.pathname.includes("#"),hp("#","pathname","hash",i)),Kt(!i.search||!i.search.includes("#"),hp("#","search","hash",i)));let a=e===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=r;else{let m=t.length-1;if(!n&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}c=m>=0?t[m]:"/"}let d=ZA(i,c),h=l&&l!=="/"&&l.endsWith("/"),f=(a||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||f)&&(d.pathname+="/"),d}const Qs=e=>e.join("/").replace(/\/\/+/g,"/"),tR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function sR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qj=["post","put","patch","delete"];new Set(qj);const iR=["get",...qj];new Set(iR);function Il(){return Il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Il.apply(this,arguments)}const Ev=N.createContext(null),aR=N.createContext(null),qi=N.createContext(null),Rd=N.createContext(null),si=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Vj=N.createContext(null);function oR(e,t){let{relative:r}=t===void 0?{}:t;Kl()||Kt(!1);let{basename:n,navigator:i}=N.useContext(qi),{hash:a,pathname:l,search:c}=Yj(e,{relative:r}),d=l;return n!=="/"&&(d=l==="/"?n:Qs([n,l])),i.createHref({pathname:d,search:c,hash:a})}function Kl(){return N.useContext(Rd)!=null}function Vi(){return Kl()||Kt(!1),N.useContext(Rd).location}function Kj(e){N.useContext(qi).static||N.useLayoutEffect(e)}function ii(){let{isDataRoute:e}=N.useContext(si);return e?wR():lR()}function lR(){Kl()||Kt(!1);let e=N.useContext(Ev),{basename:t,future:r,navigator:n}=N.useContext(qi),{matches:i}=N.useContext(si),{pathname:a}=Vi(),l=JSON.stringify(Hj(i,r.v7_relativeSplatPath)),c=N.useRef(!1);return Kj(()=>{c.current=!0}),N.useCallback(function(h,f){if(f===void 0&&(f={}),!c.current)return;if(typeof h=="number"){n.go(h);return}let m=Wj(h,JSON.parse(l),a,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Qs([t,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[t,n,l,a,e])}function Gj(){let{matches:e}=N.useContext(si),t=e[e.length-1];return t?t.params:{}}function Yj(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=N.useContext(qi),{matches:i}=N.useContext(si),{pathname:a}=Vi(),l=JSON.stringify(Hj(i,n.v7_relativeSplatPath));return N.useMemo(()=>Wj(e,JSON.parse(l),a,r==="path"),[e,l,a,r])}function cR(e,t){return uR(e,t)}function uR(e,t,r,n){Kl()||Kt(!1);let{navigator:i}=N.useContext(qi),{matches:a}=N.useContext(si),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let h=Vi(),f;if(t){var m;let b=typeof t=="string"?po(t):t;d==="/"||(m=b.pathname)!=null&&m.startsWith(d)||Kt(!1),f=b}else f=h;let g=f.pathname||"/",y=g;if(d!=="/"){let b=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=MA(e,{pathname:y}),v=mR(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:Qs([d,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:Qs([d,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,r,n);return t&&v?N.createElement(Rd.Provider,{value:{location:Il({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Xs.Pop}},v):v}function dR(){let e=xR(),t=sR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:i},r):null,null)}const hR=N.createElement(dR,null);class fR extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?N.createElement(si.Provider,{value:this.props.routeContext},N.createElement(Vj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pR(e){let{routeContext:t,match:r,children:n}=e,i=N.useContext(Ev);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(si.Provider,{value:t},n)}function mR(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,c=(i=r)==null?void 0:i.errors;if(c!=null){let f=l.findIndex(m=>m.route.id&&c?.[m.route.id]!==void 0);f>=0||Kt(!1),l=l.slice(0,Math.min(l.length,f+1))}let d=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<l.length;f++){let m=l[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:g,errors:y}=r,x=m.route.loader&&g[m.route.id]===void 0&&(!y||y[m.route.id]===void 0);if(m.route.lazy||x){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((f,m,g)=>{let y,x=!1,v=null,b=null;r&&(y=c&&m.route.id?c[m.route.id]:void 0,v=m.route.errorElement||hR,d&&(h<0&&g===0?(bR("route-fallback"),x=!0,b=null):h===g&&(x=!0,b=m.route.hydrateFallbackElement||null)));let w=t.concat(l.slice(0,g+1)),E=()=>{let _;return y?_=v:x?_=b:m.route.Component?_=N.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=f,N.createElement(pR,{match:m,routeContext:{outlet:f,matches:w,isDataRoute:r!=null},children:_})};return r&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?N.createElement(fR,{location:r.location,revalidation:r.revalidation,component:v,error:y,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}var Xj=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(Xj||{}),Qj=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(Qj||{});function gR(e){let t=N.useContext(Ev);return t||Kt(!1),t}function vR(e){let t=N.useContext(aR);return t||Kt(!1),t}function yR(e){let t=N.useContext(si);return t||Kt(!1),t}function Jj(e){let t=yR(),r=t.matches[t.matches.length-1];return r.route.id||Kt(!1),r.route.id}function xR(){var e;let t=N.useContext(Vj),r=vR(),n=Jj();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function wR(){let{router:e}=gR(Xj.UseNavigateStable),t=Jj(Qj.UseNavigateStable),r=N.useRef(!1);return Kj(()=>{r.current=!0}),N.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Il({fromRouteId:t},a)))},[e,t])}const eb={};function bR(e,t,r){eb[e]||(eb[e]=!0)}function _R(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function gn(e){Kt(!1)}function jR(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Xs.Pop,navigator:a,static:l=!1,future:c}=e;Kl()&&Kt(!1);let d=t.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:d,navigator:a,static:l,future:Il({v7_relativeSplatPath:!1},c)}),[d,c,a,l]);typeof n=="string"&&(n=po(n));let{pathname:f="/",search:m="",hash:g="",state:y=null,key:x="default"}=n,v=N.useMemo(()=>{let b=Sv(f,d);return b==null?null:{location:{pathname:b,search:m,hash:g,state:y,key:x},navigationType:i}},[d,f,m,g,y,x,i]);return v==null?null:N.createElement(qi.Provider,{value:h},N.createElement(Rd.Provider,{children:r,value:v}))}function SR(e){let{children:t,location:r}=e;return cR(Ag(t),r)}new Promise(()=>{});function Ag(e,t){t===void 0&&(t=[]);let r=[];return N.Children.forEach(e,(n,i)=>{if(!N.isValidElement(n))return;let a=[...t,i];if(n.type===N.Fragment){r.push.apply(r,Ag(n.props.children,a));return}n.type!==gn&&Kt(!1),!n.props.index||!n.props.children||Kt(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Ag(n.props.children,a)),r.push(l)}),r}function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(this,arguments)}function ER(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function NR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function CR(e,t){return e.button===0&&(!t||t==="_self")&&!NR(e)}function Dg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function kR(e,t){let r=Dg(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const TR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PR="6";try{window.__reactRouterVersion=PR}catch{}const AR="startTransition",tb=Uj[AR];function RR(e){let{basename:t,children:r,future:n,window:i}=e,a=N.useRef();a.current==null&&(a.current=DA({window:i,v5Compat:!0}));let l=a.current,[c,d]=N.useState({action:l.action,location:l.location}),{v7_startTransition:h}=n||{},f=N.useCallback(m=>{h&&tb?tb(()=>d(m)):d(m)},[d,h]);return N.useLayoutEffect(()=>l.listen(f),[l,f]),N.useEffect(()=>_R(n),[n]),N.createElement(jR,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:n})}const DR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IR=N.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:l,state:c,target:d,to:h,preventScrollReset:f,viewTransition:m}=t,g=ER(t,TR),{basename:y}=N.useContext(qi),x,v=!1;if(typeof h=="string"&&OR.test(h)&&(x=h,DR))try{let _=new URL(window.location.href),S=h.startsWith("//")?new URL(_.protocol+h):new URL(h),P=Sv(S.pathname,y);S.origin===_.origin&&P!=null?h=P+S.search+S.hash:v=!0}catch{}let b=oR(h,{relative:i}),w=MR(h,{replace:l,state:c,target:d,preventScrollReset:f,relative:i,viewTransition:m});function E(_){n&&n(_),_.defaultPrevented||w(_)}return N.createElement("a",Rg({},g,{href:x||b,onClick:v||a?n:E,ref:r,target:d}))});var rb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rb||(rb={}));var nb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(nb||(nb={}));function MR(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c}=t===void 0?{}:t,d=ii(),h=Vi(),f=Yj(e,{relative:l});return N.useCallback(m=>{if(CR(m,r)){m.preventDefault();let g=n!==void 0?n:dd(h)===dd(f);d(e,{replace:g,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[h,d,f,n,i,r,e,a,l,c])}function FR(e){let t=N.useRef(Dg(e)),r=N.useRef(!1),n=Vi(),i=N.useMemo(()=>kR(n.search,r.current?null:t.current),[n.search]),a=ii(),l=N.useCallback((c,d)=>{const h=Dg(typeof c=="function"?c(i):c);r.current=!0,a("?"+h,d)},[a,i]);return[i,l]}var Dd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Od=typeof window>"u"||"Deno"in globalThis;function wn(){}function LR(e,t){return typeof e=="function"?e(t):e}function UR(e){return typeof e=="number"&&e>=0&&e!==1/0}function BR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function sb(e,t){return typeof e=="function"?e(t):e}function $R(e,t){return typeof e=="function"?e(t):e}function ib(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:l,stale:c}=e;if(l){if(n){if(t.queryHash!==Nv(l,t.options))return!1}else if(!Fl(t.queryKey,l))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||i&&i!==t.state.fetchStatus||a&&!a(t))}function ab(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Ml(t.options.mutationKey)!==Ml(a))return!1}else if(!Fl(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function Nv(e,t){return(t?.queryKeyHashFn||Ml)(e)}function Ml(e){return JSON.stringify(e,(t,r)=>Og(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Fl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Fl(e[r],t[r])):!1}function Zj(e,t){if(e===t)return e;const r=ob(e)&&ob(t);if(r||Og(e)&&Og(t)){const n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),l=a.length,c=r?[]:{};let d=0;for(let h=0;h<l;h++){const f=r?h:a[h];(!r&&n.includes(f)||r)&&e[f]===void 0&&t[f]===void 0?(c[f]=void 0,d++):(c[f]=Zj(e[f],t[f]),c[f]===e[f]&&e[f]!==void 0&&d++)}return i===l&&d===i?e:c}return t}function ob(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Og(e){if(!lb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!lb(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function lb(e){return Object.prototype.toString.call(e)==="[object Object]"}function zR(e){return new Promise(t=>{setTimeout(t,e)})}function HR(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Zj(e,t):t}function WR(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function qR(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Cv=Symbol();function eS(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Cv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var VR=class extends Dd{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Od&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},tS=new VR,KR=class extends Dd{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Od&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},hd=new KR;function GR(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function YR(e){return Math.min(1e3*2**e,3e4)}function rS(e){return(e??"online")==="online"?hd.isOnline():!0}var nS=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function fp(e){return e instanceof nS}function sS(e){let t=!1,r=0,n=!1,i;const a=GR(),l=v=>{n||(g(new nS(v)),e.abort?.())},c=()=>{t=!0},d=()=>{t=!1},h=()=>tS.isFocused()&&(e.networkMode==="always"||hd.isOnline())&&e.canRun(),f=()=>rS(e.networkMode)&&e.canRun(),m=v=>{n||(n=!0,e.onSuccess?.(v),i?.(),a.resolve(v))},g=v=>{n||(n=!0,e.onError?.(v),i?.(),a.reject(v))},y=()=>new Promise(v=>{i=b=>{(n||h())&&v(b)},e.onPause?.()}).then(()=>{i=void 0,n||e.onContinue?.()}),x=()=>{if(n)return;let v;const b=r===0?e.initialPromise:void 0;try{v=b??e.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(m).catch(w=>{if(n)return;const E=e.retry??(Od?0:3),_=e.retryDelay??YR,S=typeof _=="function"?_(r,w):_,P=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,w);if(t||!P){g(w);return}r++,e.onFail?.(r,w),zR(S).then(()=>h()?void 0:y()).then(()=>{t?g(w):x()})})};return{promise:a,cancel:l,continue:()=>(i?.(),a),cancelRetry:c,continueRetry:d,canStart:f,start:()=>(f()?x():y().then(x),a)}}function XR(){let e=[],t=0,r=c=>{c()},n=c=>{c()},i=c=>setTimeout(c,0);const a=c=>{t?e.push(c):i(()=>{r(c)})},l=()=>{const c=e;e=[],c.length&&i(()=>{n(()=>{c.forEach(d=>{r(d)})})})};return{batch:c=>{let d;t++;try{d=c()}finally{t--,t||l()}return d},batchCalls:c=>(...d)=>{a(()=>{c(...d)})},schedule:a,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{i=c}}}var Nr=XR(),iS=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),UR(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Od?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},QR=class extends iS{#e;#t;#r;#n;#a;#i;constructor(e){super(),this.#i=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=ZR(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=HR(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(wn).catch(wn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>$R(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Cv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!BR(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#i?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},i=()=>{const c=eS(this.options,t),d={queryKey:this.queryKey,meta:this.meta};return n(d),this.#i=!1,this.options.persister?this.options.persister(c,d,this):c(d)},a={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};n(a),this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta});const l=c=>{fp(c)&&c.silent||this.#s({type:"error",error:c}),fp(c)||(this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#n=sS({initialPromise:t?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(d){l(d);return}this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,d)=>{this.#s({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...JR(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return fp(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Nr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function JR(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ZR(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var e4=class extends Dd{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,i=t.queryHash??Nv(n,t);let a=this.get(i);return a||(a=new QR({cache:this,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(a)),a}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Nr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>ib(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>ib(e,r)):t}notify(e){Nr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Nr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Nr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},t4=class extends iS{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||r4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=sS({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(n,i)=>{this.#n({type:"failed",failureCount:n,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",r=!this.#r.canStart();try{if(!t){this.#n({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&this.#n({type:"pending",context:i,variables:e,isPaused:r})}const n=await this.#r.start();return await this.#t.config.onSuccess?.(n,e,this.state.context,this),await this.options.onSuccess?.(n,e,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,e,this.state.context),this.#n({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,e,this.state.context,this),await this.options.onError?.(n,e,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,e,this.state.context),n}finally{this.#n({type:"error",error:n})}}finally{this.#t.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Nr.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function r4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var n4=class extends Dd{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,r){const n=new t4({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){const t=Au(e),r=this.#e.get(t)??[];r.push(e),this.#e.set(t,r),this.notify({type:"added",mutation:e})}remove(e){const t=Au(e);if(this.#e.has(t)){const r=this.#e.get(t)?.filter(n=>n!==e);r&&(r.length===0?this.#e.delete(t):this.#e.set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(Au(e))?.find(r=>r.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(Au(e))?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){Nr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(r=>ab(t,r))}findAll(e={}){return this.getAll().filter(t=>ab(e,t))}notify(e){Nr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Nr.batch(()=>Promise.all(e.map(t=>t.continue().catch(wn))))}};function Au(e){return e.options.scope?.id??String(e.mutationId)}function cb(e){return{onFetch:(t,r)=>{const n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let f=!1;const m=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},g=eS(t.options,t.fetchOptions),y=async(x,v,b)=>{if(f)return Promise.reject();if(v==null&&x.pages.length)return Promise.resolve(x);const w={queryKey:t.queryKey,pageParam:v,direction:b?"backward":"forward",meta:t.options.meta};m(w);const E=await g(w),{maxPages:_}=t.options,S=b?qR:WR;return{pages:S(x.pages,E,_),pageParams:S(x.pageParams,v,_)}};if(i&&a.length){const x=i==="backward",v=x?s4:ub,b={pages:a,pageParams:l},w=v(n,b);c=await y(b,w,x)}else{const x=e??a.length;do{const v=d===0?l[0]??n.initialPageParam:ub(n,c);if(d>0&&v==null)break;c=await y(c,v),d++}while(d<x)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=h}}}function ub(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function s4(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var i4=class{#e;#t;#r;#n;#a;#i;#s;#o;constructor(e={}){this.#e=e.queryCache||new e4,this.#t=e.mutationCache||new n4,this.#r=e.defaultOptions||{},this.#n=new Map,this.#a=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#s=tS.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=hd.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#s?.(),this.#s=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=this.#e.build(this,r);return e.revalidateIfStale&&n.isStaleByTime(sb(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=this.#e.get(n.queryHash)?.state.data,l=LR(t,a);if(l!==void 0)return this.#e.build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return Nr.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Nr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e,n={type:"active",...e};return Nr.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Nr.batch(()=>this.#e.findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(wn).catch(wn)}invalidateQueries(e={},t={}){return Nr.batch(()=>{if(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:t?.cancelRefetch??!0},n=Nr.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(wn)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(wn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(sb(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(wn).catch(wn)}fetchInfiniteQuery(e){return e.behavior=cb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(wn).catch(wn)}ensureInfiniteQueryData(e){return e.behavior=cb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return hd.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Ml(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()];let r={};return t.forEach(n=>{Fl(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){this.#a.set(Ml(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#a.values()];let r={};return t.forEach(n=>{Fl(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Nv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Cv&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},a4=N.createContext(void 0),o4=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(a4.Provider,{value:e,children:t})),fd=["light","dark"],kv="(prefers-color-scheme: dark)",l4=typeof window>"u",aS=N.createContext(void 0),c4=e=>N.useContext(aS)?e.children:N.createElement(d4,{...e}),u4=["light","dark"],d4=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:i="theme",themes:a=u4,defaultTheme:l=r?"system":"light",attribute:c="data-theme",value:d,children:h,nonce:f})=>{let[m,g]=N.useState(()=>db(i,l)),[y,x]=N.useState(()=>db(i)),v=d?Object.values(d):a,b=N.useCallback(S=>{let P=S;if(!P)return;S==="system"&&r&&(P=hb());let B=d?d[P]:P,L=t?f4():null,U=document.documentElement;if(c==="class"?(U.classList.remove(...v),B&&U.classList.add(B)):B?U.setAttribute(c,B):U.removeAttribute(c),n){let F=fd.includes(l)?l:null,ee=fd.includes(P)?P:F;U.style.colorScheme=ee}L?.()},[]),w=N.useCallback(S=>{let P=typeof S=="function"?S(S):S;g(P);try{localStorage.setItem(i,P)}catch{}},[e]),E=N.useCallback(S=>{let P=hb(S);x(P),m==="system"&&r&&!e&&b("system")},[m,e]);N.useEffect(()=>{let S=window.matchMedia(kv);return S.addListener(E),E(S),()=>S.removeListener(E)},[E]),N.useEffect(()=>{let S=P=>{if(P.key!==i)return;let B=P.newValue||l;w(B)};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[w]),N.useEffect(()=>{b(e??m)},[e,m]);let _=N.useMemo(()=>({theme:m,setTheme:w,forcedTheme:e,resolvedTheme:m==="system"?y:m,themes:r?[...a,"system"]:a,systemTheme:r?y:void 0}),[m,w,e,y,r,a]);return N.createElement(aS.Provider,{value:_},N.createElement(h4,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:i,themes:a,defaultTheme:l,attribute:c,value:d,children:h,attrs:v,nonce:f}),h)},h4=N.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:l,attrs:c,nonce:d})=>{let h=a==="system",f=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,m=i?fd.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(x,v=!1,b=!0)=>{let w=l?l[x]:x,E=v?x+"|| ''":`'${w}'`,_="";return i&&b&&!v&&fd.includes(x)&&(_+=`d.style.colorScheme = '${x}';`),r==="class"?v||w?_+=`c.add(${E})`:_+="null":w&&(_+=`d[s](n,${E})`),_},y=e?`!function(){${f}${g(e)}}()`:n?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${h})){var t='${kv}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${g(l?"x[e]":"e",!0)}}${h?"":"else{"+g(a,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${l?`var x=${JSON.stringify(l)};`:""}${g(l?"x[e]":"e",!0)}}else{${g(a,!1,!1)};}${m}}catch(t){}}();`;return N.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:y}})}),db=(e,t)=>{if(l4)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},f4=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},hb=e=>(e||(e=window.matchMedia(kv)),e.matches?"dark":"light");const p4=1,m4=1e6;let pp=0;function g4(){return pp=(pp+1)%Number.MAX_SAFE_INTEGER,pp.toString()}const mp=new Map,fb=e=>{if(mp.has(e))return;const t=setTimeout(()=>{mp.delete(e),Nl({type:"REMOVE_TOAST",toastId:e})},m4);mp.set(e,t)},v4=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,p4)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?fb(r):e.toasts.forEach(n=>{fb(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},nd=[];let sd={toasts:[]};function Nl(e){sd=v4(sd,e),nd.forEach(t=>{t(sd)})}function y4({...e}){const t=g4(),r=i=>Nl({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>Nl({type:"DISMISS_TOAST",toastId:t});return Nl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function Jt(){const[e,t]=N.useState(sd);return N.useEffect(()=>(nd.push(t),()=>{const r=nd.indexOf(t);r>-1&&nd.splice(r,1)}),[e]),{...e,toast:y4,dismiss:r=>Nl({type:"DISMISS_TOAST",toastId:r})}}function Le(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}function x4(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function oS(...e){return t=>e.forEach(r=>x4(r,t))}function rt(...e){return N.useCallback(oS(...e),e)}function w4(e,t=[]){let r=[];function n(a,l){const c=N.createContext(l),d=r.length;r=[...r,l];function h(m){const{scope:g,children:y,...x}=m,v=g?.[e][d]||c,b=N.useMemo(()=>x,Object.values(x));return s.jsx(v.Provider,{value:b,children:y})}function f(m,g){const y=g?.[e][d]||c,x=N.useContext(y);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${a}\``)}return h.displayName=a+"Provider",[h,f]}const i=()=>{const a=r.map(l=>N.createContext(l));return function(c){const d=c?.[e]||a;return N.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return i.scopeName=e,[n,b4(i,...t)]}function b4(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=n.reduce((c,{useScope:d,scopeName:h})=>{const m=d(a)[`__scope${h}`];return{...c,...m}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var Vr=N.forwardRef((e,t)=>{const{children:r,...n}=e,i=N.Children.toArray(r),a=i.find(_4);if(a){const l=a.props.children,c=i.map(d=>d===a?N.Children.count(l)>1?N.Children.only(null):N.isValidElement(l)?l.props.children:null:d);return s.jsx(Ig,{...n,ref:t,children:N.isValidElement(l)?N.cloneElement(l,void 0,c):null})}return s.jsx(Ig,{...n,ref:t,children:r})});Vr.displayName="Slot";var Ig=N.forwardRef((e,t)=>{const{children:r,...n}=e;if(N.isValidElement(r)){const i=S4(r);return N.cloneElement(r,{...j4(n,r.props),ref:t?oS(t,i):i})}return N.Children.count(r)>1?N.Children.only(null):null});Ig.displayName="SlotClone";var Tv=({children:e})=>s.jsx(s.Fragment,{children:e});function _4(e){return N.isValidElement(e)&&e.type===Tv}function j4(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...c)=>{a(...c),i(...c)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function S4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Pv(e){const t=e+"CollectionProvider",[r,n]=w4(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=y=>{const{scope:x,children:v}=y,b=_t.useRef(null),w=_t.useRef(new Map).current;return s.jsx(i,{scope:x,itemMap:w,collectionRef:b,children:v})};l.displayName=t;const c=e+"CollectionSlot",d=_t.forwardRef((y,x)=>{const{scope:v,children:b}=y,w=a(c,v),E=rt(x,w.collectionRef);return s.jsx(Vr,{ref:E,children:b})});d.displayName=c;const h=e+"CollectionItemSlot",f="data-radix-collection-item",m=_t.forwardRef((y,x)=>{const{scope:v,children:b,...w}=y,E=_t.useRef(null),_=rt(x,E),S=a(h,v);return _t.useEffect(()=>(S.itemMap.set(E,{ref:E,...w}),()=>{S.itemMap.delete(E)})),s.jsx(Vr,{[f]:"",ref:_,children:b})});m.displayName=h;function g(y){const x=a(e+"CollectionConsumer",y);return _t.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((S,P)=>w.indexOf(S.ref.current)-w.indexOf(P.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:l,Slot:d,ItemSlot:m},g,n]}function E4(e,t){const r=N.createContext(t),n=a=>{const{children:l,...c}=a,d=N.useMemo(()=>c,Object.values(c));return s.jsx(r.Provider,{value:d,children:l})};n.displayName=e+"Provider";function i(a){const l=N.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function an(e,t=[]){let r=[];function n(a,l){const c=N.createContext(l),d=r.length;r=[...r,l];const h=m=>{const{scope:g,children:y,...x}=m,v=g?.[e]?.[d]||c,b=N.useMemo(()=>x,Object.values(x));return s.jsx(v.Provider,{value:b,children:y})};h.displayName=a+"Provider";function f(m,g){const y=g?.[e]?.[d]||c,x=N.useContext(y);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[h,f]}const i=()=>{const a=r.map(l=>N.createContext(l));return function(c){const d=c?.[e]||a;return N.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return i.scopeName=e,[n,N4(i,...t)]}function N4(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=n.reduce((c,{useScope:d,scopeName:h})=>{const m=d(a)[`__scope${h}`];return{...c,...m}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var C4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],We=C4.reduce((e,t)=>{const r=N.forwardRef((n,i)=>{const{asChild:a,...l}=n,c=a?Vr:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function lS(e,t){e&&fo.flushSync(()=>e.dispatchEvent(t))}function zt(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...r)=>t.current?.(...r),[])}function k4(e,t=globalThis?.document){const r=zt(e);N.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var T4="DismissableLayer",Mg="dismissableLayer.update",P4="dismissableLayer.pointerDownOutside",A4="dismissableLayer.focusOutside",pb,cS=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mo=N.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...d}=e,h=N.useContext(cS),[f,m]=N.useState(null),g=f?.ownerDocument??globalThis?.document,[,y]=N.useState({}),x=rt(t,L=>m(L)),v=Array.from(h.layers),[b]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(b),E=f?v.indexOf(f):-1,_=h.layersWithOutsidePointerEventsDisabled.size>0,S=E>=w,P=D4(L=>{const U=L.target,F=[...h.branches].some(ee=>ee.contains(U));!S||F||(i?.(L),l?.(L),L.defaultPrevented||c?.())},g),B=O4(L=>{const U=L.target;[...h.branches].some(ee=>ee.contains(U))||(a?.(L),l?.(L),L.defaultPrevented||c?.())},g);return k4(L=>{E===h.layers.size-1&&(n?.(L),!L.defaultPrevented&&c&&(L.preventDefault(),c()))},g),N.useEffect(()=>{if(f)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(pb=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),mb(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=pb)}},[f,g,r,h]),N.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),mb())},[f,h]),N.useEffect(()=>{const L=()=>y({});return document.addEventListener(Mg,L),()=>document.removeEventListener(Mg,L)},[]),s.jsx(We.div,{...d,ref:x,style:{pointerEvents:_?S?"auto":"none":void 0,...e.style},onFocusCapture:Le(e.onFocusCapture,B.onFocusCapture),onBlurCapture:Le(e.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Le(e.onPointerDownCapture,P.onPointerDownCapture)})});mo.displayName=T4;var R4="DismissableLayerBranch",uS=N.forwardRef((e,t)=>{const r=N.useContext(cS),n=N.useRef(null),i=rt(t,n);return N.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(We.div,{...e,ref:i})});uS.displayName=R4;function D4(e,t=globalThis?.document){const r=zt(e),n=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const a=c=>{if(c.target&&!n.current){let d=function(){dS(P4,r,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function O4(e,t=globalThis?.document){const r=zt(e),n=N.useRef(!1);return N.useEffect(()=>{const i=a=>{a.target&&!n.current&&dS(A4,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function mb(){const e=new CustomEvent(Mg);document.dispatchEvent(e)}function dS(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?lS(i,a):i.dispatchEvent(a)}var I4=mo,M4=uS,fr=globalThis?.document?N.useLayoutEffect:()=>{},F4="Portal",Gl=N.forwardRef((e,t)=>{const{container:r,...n}=e,[i,a]=N.useState(!1);fr(()=>a(!0),[]);const l=r||i&&globalThis?.document?.body;return l?RA.createPortal(s.jsx(We.div,{...n,ref:t}),l):null});Gl.displayName=F4;function L4(e,t){return N.useReducer((r,n)=>t[r][n]??r,e)}var Cr=e=>{const{present:t,children:r}=e,n=U4(t),i=typeof r=="function"?r({present:n.isPresent}):N.Children.only(r),a=rt(n.ref,B4(i));return typeof r=="function"||n.isPresent?N.cloneElement(i,{ref:a}):null};Cr.displayName="Presence";function U4(e){const[t,r]=N.useState(),n=N.useRef({}),i=N.useRef(e),a=N.useRef("none"),l=e?"mounted":"unmounted",[c,d]=L4(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const h=Ru(n.current);a.current=c==="mounted"?h:"none"},[c]),fr(()=>{const h=n.current,f=i.current;if(f!==e){const g=a.current,y=Ru(h);e?d("MOUNT"):y==="none"||h?.display==="none"?d("UNMOUNT"):d(f&&g!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),fr(()=>{if(t){let h;const f=t.ownerDocument.defaultView??window,m=y=>{const v=Ru(n.current).includes(y.animationName);if(y.target===t&&v&&(d("ANIMATION_END"),!i.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",h=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},g=y=>{y.target===t&&(a.current=Ru(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(h),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:N.useCallback(h=>{h&&(n.current=getComputedStyle(h)),r(h)},[])}}function Ru(e){return e?.animationName||"none"}function B4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function jn({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=$4({defaultProp:t,onChange:r}),a=e!==void 0,l=a?e:n,c=zt(r),d=N.useCallback(h=>{if(a){const m=typeof h=="function"?h(e):h;m!==e&&c(m)}else i(h)},[a,e,i,c]);return[l,d]}function $4({defaultProp:e,onChange:t}){const r=N.useState(e),[n]=r,i=N.useRef(n),a=zt(t);return N.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}var z4="VisuallyHidden",Yl=N.forwardRef((e,t)=>s.jsx(We.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Yl.displayName=z4;var H4=Yl,Av="ToastProvider",[Rv,W4,q4]=Pv("Toast"),[hS]=an("Toast",[q4]),[V4,Id]=hS(Av),fS=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:l}=e,[c,d]=N.useState(null),[h,f]=N.useState(0),m=N.useRef(!1),g=N.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Av}\`. Expected non-empty \`string\`.`),s.jsx(Rv.Provider,{scope:t,children:s.jsx(V4,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:h,viewport:c,onViewportChange:d,onToastAdd:N.useCallback(()=>f(y=>y+1),[]),onToastRemove:N.useCallback(()=>f(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:g,children:l})})};fS.displayName=Av;var pS="ToastViewport",K4=["F8"],Fg="toast.viewportPause",Lg="toast.viewportResume",mS=N.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=K4,label:i="Notifications ({hotkey})",...a}=e,l=Id(pS,r),c=W4(r),d=N.useRef(null),h=N.useRef(null),f=N.useRef(null),m=N.useRef(null),g=rt(t,m,l.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=l.toastCount>0;N.useEffect(()=>{const b=w=>{n.length!==0&&n.every(_=>w[_]||w.code===_)&&m.current?.focus()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),N.useEffect(()=>{const b=d.current,w=m.current;if(x&&b&&w){const E=()=>{if(!l.isClosePausedRef.current){const B=new CustomEvent(Fg);w.dispatchEvent(B),l.isClosePausedRef.current=!0}},_=()=>{if(l.isClosePausedRef.current){const B=new CustomEvent(Lg);w.dispatchEvent(B),l.isClosePausedRef.current=!1}},S=B=>{!b.contains(B.relatedTarget)&&_()},P=()=>{b.contains(document.activeElement)||_()};return b.addEventListener("focusin",E),b.addEventListener("focusout",S),b.addEventListener("pointermove",E),b.addEventListener("pointerleave",P),window.addEventListener("blur",E),window.addEventListener("focus",_),()=>{b.removeEventListener("focusin",E),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",E),b.removeEventListener("pointerleave",P),window.removeEventListener("blur",E),window.removeEventListener("focus",_)}}},[x,l.isClosePausedRef]);const v=N.useCallback(({tabbingDirection:b})=>{const E=c().map(_=>{const S=_.ref.current,P=[S,...aD(S)];return b==="forwards"?P:P.reverse()});return(b==="forwards"?E.reverse():E).flat()},[c]);return N.useEffect(()=>{const b=m.current;if(b){const w=E=>{const _=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!_){const P=document.activeElement,B=E.shiftKey;if(E.target===b&&B){h.current?.focus();return}const F=v({tabbingDirection:B?"backwards":"forwards"}),ee=F.findIndex(me=>me===P);gp(F.slice(ee+1))?E.preventDefault():B?h.current?.focus():f.current?.focus()}};return b.addEventListener("keydown",w),()=>b.removeEventListener("keydown",w)}},[c,v]),s.jsxs(M4,{ref:d,role:"region","aria-label":i.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(Ug,{ref:h,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});gp(b)}}),s.jsx(Rv.Slot,{scope:r,children:s.jsx(We.ol,{tabIndex:-1,...a,ref:g})}),x&&s.jsx(Ug,{ref:f,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});gp(b)}})]})});mS.displayName=pS;var gS="ToastFocusProxy",Ug=N.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=Id(gS,r);return s.jsx(Yl,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:l=>{const c=l.relatedTarget;!a.viewport?.contains(c)&&n()}})});Ug.displayName=gS;var Md="Toast",G4="toast.swipeStart",Y4="toast.swipeMove",X4="toast.swipeCancel",Q4="toast.swipeEnd",vS=N.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...l}=e,[c=!0,d]=jn({prop:n,defaultProp:i,onChange:a});return s.jsx(Cr,{present:r||c,children:s.jsx(eD,{open:c,...l,ref:t,onClose:()=>d(!1),onPause:zt(e.onPause),onResume:zt(e.onResume),onSwipeStart:Le(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Le(e.onSwipeMove,h=>{const{x:f,y:m}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Le(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Le(e.onSwipeEnd,h=>{const{x:f,y:m}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),d(!1)})})})});vS.displayName=Md;var[J4,Z4]=hS(Md,{onClose(){}}),eD=N.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:l,onEscapeKeyDown:c,onPause:d,onResume:h,onSwipeStart:f,onSwipeMove:m,onSwipeCancel:g,onSwipeEnd:y,...x}=e,v=Id(Md,r),[b,w]=N.useState(null),E=rt(t,A=>w(A)),_=N.useRef(null),S=N.useRef(null),P=i||v.duration,B=N.useRef(0),L=N.useRef(P),U=N.useRef(0),{onToastAdd:F,onToastRemove:ee}=v,me=zt(()=>{b?.contains(document.activeElement)&&v.viewport?.focus(),l()}),z=N.useCallback(A=>{!A||A===1/0||(window.clearTimeout(U.current),B.current=new Date().getTime(),U.current=window.setTimeout(me,A))},[me]);N.useEffect(()=>{const A=v.viewport;if(A){const te=()=>{z(L.current),h?.()},J=()=>{const V=new Date().getTime()-B.current;L.current=L.current-V,window.clearTimeout(U.current),d?.()};return A.addEventListener(Fg,J),A.addEventListener(Lg,te),()=>{A.removeEventListener(Fg,J),A.removeEventListener(Lg,te)}}},[v.viewport,P,d,h,z]),N.useEffect(()=>{a&&!v.isClosePausedRef.current&&z(P)},[a,P,v.isClosePausedRef,z]),N.useEffect(()=>(F(),()=>ee()),[F,ee]);const G=N.useMemo(()=>b?SS(b):null,[b]);return v.viewport?s.jsxs(s.Fragment,{children:[G&&s.jsx(tD,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:G}),s.jsx(J4,{scope:r,onClose:me,children:fo.createPortal(s.jsx(Rv.ItemSlot,{scope:r,children:s.jsx(I4,{asChild:!0,onEscapeKeyDown:Le(c,()=>{v.isFocusedToastEscapeKeyDownRef.current||me(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(We.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:E,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Le(e.onKeyDown,A=>{A.key==="Escape"&&(c?.(A.nativeEvent),A.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,me()))}),onPointerDown:Le(e.onPointerDown,A=>{A.button===0&&(_.current={x:A.clientX,y:A.clientY})}),onPointerMove:Le(e.onPointerMove,A=>{if(!_.current)return;const te=A.clientX-_.current.x,J=A.clientY-_.current.y,V=!!S.current,X=["left","right"].includes(v.swipeDirection),ne=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,he=X?ne(0,te):0,W=X?0:ne(0,J),H=A.pointerType==="touch"?10:2,ie={x:he,y:W},le={originalEvent:A,delta:ie};V?(S.current=ie,Du(Y4,m,le,{discrete:!1})):gb(ie,v.swipeDirection,H)?(S.current=ie,Du(G4,f,le,{discrete:!1}),A.target.setPointerCapture(A.pointerId)):(Math.abs(te)>H||Math.abs(J)>H)&&(_.current=null)}),onPointerUp:Le(e.onPointerUp,A=>{const te=S.current,J=A.target;if(J.hasPointerCapture(A.pointerId)&&J.releasePointerCapture(A.pointerId),S.current=null,_.current=null,te){const V=A.currentTarget,X={originalEvent:A,delta:te};gb(te,v.swipeDirection,v.swipeThreshold)?Du(Q4,y,X,{discrete:!0}):Du(X4,g,X,{discrete:!0}),V.addEventListener("click",ne=>ne.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),tD=e=>{const{__scopeToast:t,children:r,...n}=e,i=Id(Md,t),[a,l]=N.useState(!1),[c,d]=N.useState(!1);return sD(()=>l(!0)),N.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:s.jsx(Gl,{asChild:!0,children:s.jsx(Yl,{...n,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",r]})})})},rD="ToastTitle",yS=N.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(We.div,{...n,ref:t})});yS.displayName=rD;var nD="ToastDescription",xS=N.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(We.div,{...n,ref:t})});xS.displayName=nD;var wS="ToastAction",bS=N.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(jS,{altText:r,asChild:!0,children:s.jsx(Dv,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${wS}\`. Expected non-empty \`string\`.`),null)});bS.displayName=wS;var _S="ToastClose",Dv=N.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=Z4(_S,r);return s.jsx(jS,{asChild:!0,children:s.jsx(We.button,{type:"button",...n,ref:t,onClick:Le(e.onClick,i.onClose)})})});Dv.displayName=_S;var jS=N.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return s.jsx(We.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function SS(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),iD(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const l=n.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...SS(n))}}),t}function Du(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?lS(i,a):i.dispatchEvent(a)}var gb=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function sD(e=()=>{}){const t=zt(e);fr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function iD(e){return e.nodeType===e.ELEMENT_NODE}function aD(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function gp(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var oD=fS,ES=mS,NS=vS,CS=yS,kS=xS,TS=bS,PS=Dv;function AS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=AS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function RS(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=AS(e))&&(n&&(n+=" "),n+=t);return n}const vb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,yb=RS,Ki=(e,t)=>r=>{var n;if(t?.variants==null)return yb(e,r?.class,r?.className);const{variants:i,defaultVariants:a}=t,l=Object.keys(i).map(h=>{const f=r?.[h],m=a?.[h];if(f===null)return null;const g=vb(f)||vb(m);return i[h][g]}),c=r&&Object.entries(r).reduce((h,f)=>{let[m,g]=f;return g===void 0||(h[m]=g),h},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((h,f)=>{let{class:m,className:g,...y}=f;return Object.entries(y).every(x=>{let[v,b]=x;return Array.isArray(b)?b.includes({...a,...c}[v]):{...a,...c}[v]===b})?[...h,m,g]:h},[]);return yb(e,l,d,r?.class,r?.className)};const lD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DS=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();var cD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uD=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:l,...c},d)=>N.createElement("svg",{ref:d,...cD,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:DS("lucide",i),...c},[...l.map(([h,f])=>N.createElement(h,f)),...Array.isArray(a)?a:[a]]));const qe=(e,t)=>{const r=N.forwardRef(({className:n,...i},a)=>N.createElement(uD,{ref:a,iconNode:t,className:DS(`lucide-${lD(e)}`,n),...i}));return r.displayName=`${e}`,r};const OS=qe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const xb=qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const IS=qe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);const Xn=qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const dD=qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const Ov=qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Iv=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const hD=qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const fD=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const pD=qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const MS=qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Ll=qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const mD=qe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const gD=qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const Kr=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Mv=qe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const vD=qe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Bg=qe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const FS=qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Fd=qe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const Fv=qe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const Ld=qe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const LS=qe("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);const yD=qe("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);const xD=qe("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);const Hn=qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const wD=qe("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);const bD=qe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const _D=qe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const Lv=qe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const Va=qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const jD=qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Xl=qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const SD=qe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);const ED=qe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const Tt=qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const ND=qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const Ud=qe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const CD=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const wb=qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const vs=qe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);const Bd=qe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const Wn=qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const kD=qe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const TD=qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const PD=qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const AD=qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const US=qe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const BS=qe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const Uv=qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const qn=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Fr=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const RD=qe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);const DD=qe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Bv="-",OD=e=>{const t=MD(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{const c=l.split(Bv);return c[0]===""&&c.length!==1&&c.shift(),$S(c,t)||ID(l)},getConflictingClassGroupIds:(l,c)=>{const d=r[l]||[];return c&&n[l]?[...d,...n[l]]:d}}},$S=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?$S(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(Bv);return t.validators.find(({validator:l})=>l(a))?.classGroupId},bb=/^\[(.+)\]$/,ID=e=>{if(bb.test(e)){const t=bb.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},MD=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return LD(Object.entries(e.classGroups),r).forEach(([a,l])=>{$g(l,n,a,t)}),n},$g=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:_b(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(FD(i)){$g(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,l])=>{$g(l,_b(t,a),r,n)})})},_b=(e,t)=>{let r=e;return t.split(Bv).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},FD=e=>e.isThemeGetter,LD=(e,t)=>t?e.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,c])=>[t+l,c])):a);return[r,i]}):e,UD=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,l)=>{r.set(a,l),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let l=r.get(a);if(l!==void 0)return l;if((l=n.get(a))!==void 0)return i(a,l),l},set(a,l){r.has(a)?r.set(a,l):i(a,l)}}},zS="!",BD=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],a=t.length,l=c=>{const d=[];let h=0,f=0,m;for(let b=0;b<c.length;b++){let w=c[b];if(h===0){if(w===i&&(n||c.slice(b,b+a)===t)){d.push(c.slice(f,b)),f=b+a;continue}if(w==="/"){m=b;continue}}w==="["?h++:w==="]"&&h--}const g=d.length===0?c:c.substring(f),y=g.startsWith(zS),x=y?g.substring(1):g,v=m&&m>f?m-f:void 0;return{modifiers:d,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:v}};return r?c=>r({className:c,parseClassName:l}):l},$D=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},zD=e=>({cache:UD(e.cacheSize),parseClassName:BD(e),...OD(e)}),HD=/\s+/,WD=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],l=e.trim().split(HD);let c="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{modifiers:f,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:y}=r(h);let x=!!y,v=n(x?g.substring(0,y):g);if(!v){if(!x){c=h+(c.length>0?" "+c:c);continue}if(v=n(g),!v){c=h+(c.length>0?" "+c:c);continue}x=!1}const b=$D(f).join(":"),w=m?b+zS:b,E=w+v;if(a.includes(E))continue;a.push(E);const _=i(v,x);for(let S=0;S<_.length;++S){const P=_[S];a.push(w+P)}c=h+(c.length>0?" "+c:c)}return c};function qD(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=HS(t))&&(n&&(n+=" "),n+=r);return n}const HS=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=HS(e[n]))&&(r&&(r+=" "),r+=t);return r};function VD(e,...t){let r,n,i,a=l;function l(d){const h=t.reduce((f,m)=>m(f),e());return r=zD(h),n=r.cache.get,i=r.cache.set,a=c,c(d)}function c(d){const h=n(d);if(h)return h;const f=WD(d,r);return i(d,f),f}return function(){return a(qD.apply(null,arguments))}}const kt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},WS=/^\[(?:([a-z-]+):)?(.+)\]$/i,KD=/^\d+\/\d+$/,GD=new Set(["px","full","screen"]),YD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,JD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,us=e=>La(e)||GD.has(e)||KD.test(e),zs=e=>go(e,"length",oO),La=e=>!!e&&!Number.isNaN(Number(e)),vp=e=>go(e,"number",La),hl=e=>!!e&&Number.isInteger(Number(e)),eO=e=>e.endsWith("%")&&La(e.slice(0,-1)),tt=e=>WS.test(e),Hs=e=>YD.test(e),tO=new Set(["length","size","percentage"]),rO=e=>go(e,tO,qS),nO=e=>go(e,"position",qS),sO=new Set(["image","url"]),iO=e=>go(e,sO,cO),aO=e=>go(e,"",lO),fl=()=>!0,go=(e,t,r)=>{const n=WS.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},oO=e=>XD.test(e)&&!QD.test(e),qS=()=>!1,lO=e=>JD.test(e),cO=e=>ZD.test(e),uO=()=>{const e=kt("colors"),t=kt("spacing"),r=kt("blur"),n=kt("brightness"),i=kt("borderColor"),a=kt("borderRadius"),l=kt("borderSpacing"),c=kt("borderWidth"),d=kt("contrast"),h=kt("grayscale"),f=kt("hueRotate"),m=kt("invert"),g=kt("gap"),y=kt("gradientColorStops"),x=kt("gradientColorStopPositions"),v=kt("inset"),b=kt("margin"),w=kt("opacity"),E=kt("padding"),_=kt("saturate"),S=kt("scale"),P=kt("sepia"),B=kt("skew"),L=kt("space"),U=kt("translate"),F=()=>["auto","contain","none"],ee=()=>["auto","hidden","clip","visible","scroll"],me=()=>["auto",tt,t],z=()=>[tt,t],G=()=>["",us,zs],A=()=>["auto",La,tt],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],ne=()=>["","0",tt],he=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[La,tt];return{cacheSize:500,separator:":",theme:{colors:[fl],spacing:[us,zs],blur:["none","",Hs,tt],brightness:W(),borderColor:[e],borderRadius:["none","","full",Hs,tt],borderSpacing:z(),borderWidth:G(),contrast:W(),grayscale:ne(),hueRotate:W(),invert:ne(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[eO,zs],inset:me(),margin:me(),opacity:W(),padding:z(),saturate:W(),scale:W(),sepia:ne(),skew:W(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",tt]}],container:["container"],columns:[{columns:[Hs]}],"break-after":[{"break-after":he()}],"break-before":[{"break-before":he()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),tt]}],overflow:[{overflow:ee()}],"overflow-x":[{"overflow-x":ee()}],"overflow-y":[{"overflow-y":ee()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hl,tt]}],basis:[{basis:me()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",tt]}],grow:[{grow:ne()}],shrink:[{shrink:ne()}],order:[{order:["first","last","none",hl,tt]}],"grid-cols":[{"grid-cols":[fl]}],"col-start-end":[{col:["auto",{span:["full",hl,tt]},tt]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[fl]}],"row-start-end":[{row:["auto",{span:[hl,tt]},tt]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",tt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",tt]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",tt,t]}],"min-w":[{"min-w":[tt,t,"min","max","fit"]}],"max-w":[{"max-w":[tt,t,"none","full","min","max","fit","prose",{screen:[Hs]},Hs]}],h:[{h:[tt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[tt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[tt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[tt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Hs,zs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vp]}],"font-family":[{font:[fl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",tt]}],"line-clamp":[{"line-clamp":["none",La,vp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",us,tt]}],"list-image":[{"list-image":["none",tt]}],"list-style-type":[{list:["none","disc","decimal",tt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",us,zs]}],"underline-offset":[{"underline-offset":["auto",us,tt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),nO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},iO]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:J()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[us,tt]}],"outline-w":[{outline:[us,zs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[us,zs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Hs,aO]}],"shadow-color":[{shadow:[fl]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Hs,tt]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[_]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",tt]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",tt]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",tt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[hl,tt]}],"translate-x":[{"translate-x":[U]}],"translate-y":[{"translate-y":[U]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",tt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[us,zs,vp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},dO=VD(uO);function Pe(...e){return dO(RS(e))}function pd(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}const hO=oD,VS=N.forwardRef(({className:e,...t},r)=>s.jsx(ES,{ref:r,className:Pe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));VS.displayName=ES.displayName;const fO=Ki("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),KS=N.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(NS,{ref:n,className:Pe(fO({variant:t}),e),...r}));KS.displayName=NS.displayName;const pO=N.forwardRef(({className:e,...t},r)=>s.jsx(TS,{ref:r,className:Pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));pO.displayName=TS.displayName;const GS=N.forwardRef(({className:e,...t},r)=>s.jsx(PS,{ref:r,className:Pe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Fr,{className:"h-4 w-4"})}));GS.displayName=PS.displayName;const YS=N.forwardRef(({className:e,...t},r)=>s.jsx(CS,{ref:r,className:Pe("text-sm font-semibold",e),...t}));YS.displayName=CS.displayName;const XS=N.forwardRef(({className:e,...t},r)=>s.jsx(kS,{ref:r,className:Pe("text-sm opacity-90",e),...t}));XS.displayName=kS.displayName;function mO(){const{toasts:e}=Jt();return s.jsxs(hO,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return s.jsxs(KS,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(YS,{children:r}),n&&s.jsx(XS,{children:n})]}),i,s.jsx(GS,{})]},t)}),s.jsx(VS,{})]})}const gO="modulepreload",vO=function(e){return"/"+e},jb={},Ql=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let h=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var l=h;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");i=h(r.map(f=>{if(f=vO(f),f in jb)return;jb[f]=!0;const m=f.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":gO,m||(y.as="script"),y.crossOrigin="",y.href=f,d&&y.setAttribute("nonce",d),document.head.appendChild(y),m)return new Promise((x,v)=>{y.addEventListener("load",x),y.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&a(d.reason);return t().catch(a)})},yO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ql(async()=>{const{default:n}=await Promise.resolve().then(()=>vo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class $v extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class xO extends $v{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class wO extends $v{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class bO extends $v{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var zg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(zg||(zg={}));var _O=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(f){try{h(n.next(f))}catch(m){l(m)}}function d(f){try{h(n.throw(f))}catch(m){l(m)}}function h(f){f.done?a(f.value):i(f.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};class jO{constructor(t,{headers:r={},customFetch:n,region:i=zg.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=yO(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return _O(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:l}=r;let c={},{region:d}=r;d||(d=this.region),d&&d!=="any"&&(c["x-region"]=d);let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(c["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(c["Content-Type"]="application/json",h=JSON.stringify(l)));const f=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:h}).catch(x=>{throw new xO(x)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new wO(f);if(!f.ok)throw new bO(f);let g=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return g==="application/json"?y=yield f.json():g==="application/octet-stream"?y=yield f.blob():g==="text/event-stream"?y=f:g==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null}}catch(i){return{data:null,error:i}}})}}var nr={},ba={},_a={},ja={},Sa={},Ea={},SO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ka=SO();const EO=Ka.fetch,QS=Ka.fetch.bind(Ka),JS=Ka.Headers,NO=Ka.Request,CO=Ka.Response,vo=Object.freeze(Object.defineProperty({__proto__:null,Headers:JS,Request:NO,Response:CO,default:QS,fetch:EO},Symbol.toStringTag,{value:"Module"})),kO=jA(vo);var Ou={},Sb;function ZS(){if(Sb)return Ou;Sb=1,Object.defineProperty(Ou,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ou.default=e,Ou}var Eb;function eE(){if(Eb)return Ea;Eb=1;var e=Ea&&Ea.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ea,"__esModule",{value:!0});const t=e(kO),r=e(ZS());class n{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=Object.assign({},this.headers),this.headers[a]=l,this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var f,m,g;let y=null,x=null,v=null,b=h.status,w=h.statusText;if(h.ok){if(this.method!=="HEAD"){const P=await h.text();P===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?x=P:x=JSON.parse(P))}const _=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(m=h.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");_&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(y={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,v=null,b=406,w="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const _=await h.text();try{y=JSON.parse(_),Array.isArray(y)&&h.status===404&&(x=[],y=null,b=200,w="OK")}catch{h.status===404&&_===""?(b=204,w="No Content"):y={message:_}}if(y&&this.isMaybeSingle&&(!((g=y?.details)===null||g===void 0)&&g.includes("0 rows"))&&(y=null,b=200,w="OK"),y&&this.shouldThrowOnError)throw new r.default(y)}return{error:y,data:x,count:v,status:b,statusText:w}});return this.shouldThrowOnError||(d=d.catch(h=>{var f,m,g;return{error:{message:`${(f=h?.name)!==null&&f!==void 0?f:"FetchError"}: ${h?.message}`,details:`${(m=h?.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(g=h?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),d.then(a,l)}returns(){return this}overrideTypes(){return this}}return Ea.default=n,Ea}var Nb;function tE(){if(Nb)return Sa;Nb=1;var e=Sa&&Sa.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Sa,"__esModule",{value:!0});const t=e(eE());class r extends t.default{select(i){let a=!1;const l=(i??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:a=!0,nullsFirst:l,foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${i}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,a,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"offset":`${c}.offset`,h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(h,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:a=!1,settings:l=!1,buffers:c=!1,wal:d=!1,format:h="text"}={}){var f;const m=[i?"analyze":null,a?"verbose":null,l?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${g}"; options=${m};`,h==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Sa.default=r,Sa}var Cb;function zv(){if(Cb)return ja;Cb=1;var e=ja&&ja.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ja,"__esModule",{value:!0});const t=e(tE());class r extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${d}fts${h}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return ja.default=r,ja}var kb;function rE(){if(kb)return _a;kb=1;var e=_a&&_a.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(_a,"__esModule",{value:!0});const t=e(zv());class r{constructor(i,{headers:a={},schema:l,fetch:c}){this.url=i,this.headers=a,this.schema=l,this.fetch=c}select(i,{head:a=!1,count:l}={}){const c=a?"HEAD":"GET";let d=!1;const h=(i??"*").split("").map(f=>/\s/.test(f)&&!d?"":(f==='"'&&(d=!d),f)).join("");return this.url.searchParams.set("select",h),l&&(this.headers.Prefer=`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:a,defaultToNull:l=!0}={}){const c="POST",d=[];if(this.headers.Prefer&&d.push(this.headers.Prefer),a&&d.push(`count=${a}`),l||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(i)){const h=i.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:a,ignoreDuplicates:l=!1,count:c,defaultToNull:d=!0}={}){const h="POST",f=[`resolution=${l?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&f.push(this.headers.Prefer),c&&f.push(`count=${c}`),d||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const m=i.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(m.length>0){const g=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:a}={}){const l="PATCH",c=[];return this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),this.headers.Prefer=c.join(","),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const a="DELETE",l=[];return i&&l.push(`count=${i}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return _a.default=r,_a}var pl={},ml={},Tb;function TO(){return Tb||(Tb=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.version=void 0,ml.version="0.0.0-automated"),ml}var Pb;function PO(){if(Pb)return pl;Pb=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.DEFAULT_HEADERS=void 0;const e=TO();return pl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},pl}var Ab;function AO(){if(Ab)return ba;Ab=1;var e=ba&&ba.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ba,"__esModule",{value:!0});const t=e(rE()),r=e(zv()),n=PO();class i{constructor(l,{headers:c={},schema:d,fetch:h}={}){this.url=l,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),c),this.schemaName=d,this.fetch=h}from(l){const c=new URL(`${this.url}/${l}`);return new t.default(c,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:d=!1,get:h=!1,count:f}={}){let m;const g=new URL(`${this.url}/rpc/${l}`);let y;d||h?(m=d?"HEAD":"GET",Object.entries(c).filter(([v,b])=>b!==void 0).map(([v,b])=>[v,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([v,b])=>{g.searchParams.append(v,b)})):(m="POST",y=c);const x=Object.assign({},this.headers);return f&&(x.Prefer=`count=${f}`),new r.default({method:m,url:g,headers:x,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}return ba.default=i,ba}var Rb;function RO(){if(Rb)return nr;Rb=1;var e=nr&&nr.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(nr,"__esModule",{value:!0}),nr.PostgrestError=nr.PostgrestBuilder=nr.PostgrestTransformBuilder=nr.PostgrestFilterBuilder=nr.PostgrestQueryBuilder=nr.PostgrestClient=void 0;const t=e(AO());nr.PostgrestClient=t.default;const r=e(rE());nr.PostgrestQueryBuilder=r.default;const n=e(zv());nr.PostgrestFilterBuilder=n.default;const i=e(tE());nr.PostgrestTransformBuilder=i.default;const a=e(eE());nr.PostgrestBuilder=a.default;const l=e(ZS());return nr.PostgrestError=l.default,nr.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:l.default},nr}var DO=RO();const OO=bv(DO),{PostgrestClient:IO,PostgrestQueryBuilder:Zq,PostgrestFilterBuilder:eV,PostgrestTransformBuilder:tV,PostgrestBuilder:rV,PostgrestError:nV}=OO;function MO(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const FO=MO(),LO="2.11.13",UO={"X-Client-Info":`realtime-js/${LO}`},BO="1.0.0",nE=1e4,$O=1e3;var Cl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Cl||(Cl={}));var br;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(br||(br={}));var bn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(bn||(bn={}));var Hg;(function(e){e.websocket="websocket"})(Hg||(Hg={}));var Fi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Fi||(Fi={}));class zO{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let l=this.HEADER_LENGTH+2;const c=n.decode(t.slice(l,l+i));l=l+i;const d=n.decode(t.slice(l,l+a));l=l+a;const h=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:c,event:d,payload:h}}}class sE{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var St;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(St||(St={}));const Db=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,l)=>(a[l]=HO(l,e,t,i),a),{})},HO=(e,t,r,n)=>{const i=t.find(c=>c.name===e),a=i?.type,l=r[e];return a&&!n.includes(a)?iE(a,l):Wg(l)},iE=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return KO(t,r)}switch(e){case St.bool:return WO(t);case St.float4:case St.float8:case St.int2:case St.int4:case St.int8:case St.numeric:case St.oid:return qO(t);case St.json:case St.jsonb:return VO(t);case St.timestamp:return GO(t);case St.abstime:case St.date:case St.daterange:case St.int4range:case St.int8range:case St.money:case St.reltime:case St.text:case St.time:case St.timestamptz:case St.timetz:case St.tsrange:case St.tstzrange:return Wg(t);default:return Wg(t)}},Wg=e=>e,WO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},qO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},VO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},KO=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const l=e.slice(1,r);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>iE(t,c))}return e},GO=e=>typeof e=="string"?e.replace(" ","T"):e,aE=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class yp{constructor(t,r,n={},i=nE){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ob;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ob||(Ob={}));class kl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kl.syncState(this.state,i,a,l),this.pendingDiffs.forEach(d=>{this.state=kl.syncDiff(this.state,d,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=kl.syncDiff(this.state,i,a,l),c())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),l=this.transformState(r),c={},d={};return this.map(a,(h,f)=>{l[h]||(d[h]=f)}),this.map(l,(h,f)=>{const m=a[h];if(m){const g=f.map(b=>b.presence_ref),y=m.map(b=>b.presence_ref),x=f.filter(b=>y.indexOf(b.presence_ref)<0),v=m.filter(b=>g.indexOf(b.presence_ref)<0);x.length>0&&(c[h]=x),v.length>0&&(d[h]=v)}else c[h]=f}),this.syncDiff(a,{joins:c,leaves:d},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(c,d)=>{var h;const f=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(d),f.length>0){const m=t[c].map(y=>y.presence_ref),g=f.filter(y=>m.indexOf(y.presence_ref)<0);t[c].unshift(...g)}n(c,f,d)}),this.map(l,(c,d)=>{let h=t[c];if(!h)return;const f=d.map(m=>m.presence_ref);h=h.filter(m=>f.indexOf(m.presence_ref)<0),t[c]=h,i(c,h,d),h.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ib;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ib||(Ib={}));var Mb;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Mb||(Mb={}));var ms;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ms||(ms={}));class Hv{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=br.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new yp(this,bn.join,this.params,this.timeout),this.rejoinTimer=new sE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=br.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=br.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=br.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=br.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bn.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new kl(this),this.broadcastEndpointURL=aE(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==br.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params;this._onError(f=>t?.(ms.CHANNEL_ERROR,f)),this._onClose(()=>t?.(ms.CLOSED));const d={},h={broadcast:a,presence:l,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var m;if(this.socket.setAuth(),f===void 0){t?.(ms.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(m=g?.length)!==null&&m!==void 0?m:0,x=[];for(let v=0;v<y;v++){const b=g[v],{filter:{event:w,schema:E,table:_,filter:S}}=b,P=f&&f[v];if(P&&P.event===w&&P.schema===E&&P.table===_&&P.filter===S)x.push(Object.assign(Object.assign({},b),{id:P.id}));else{this.unsubscribe(),this.state=br.errored,t?.(ms.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(ms.SUBSCRIBED);return}}).receive("error",f=>{this.state=br.errored,t?.(ms.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(ms.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:l}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,d;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=br.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new yp(this,bn.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new yp(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const l=t.toLocaleLowerCase(),{close:c,error:d,leave:h,join:f}=bn;if(n&&[c,d,h,f].indexOf(l)>=0&&n!==this._joinRef())return;let g=this._onMessage(l,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var x,v,b;return((x=y.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(v=y.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===l}).map(y=>y.callback(g,n)):(a=this.bindings[l])===null||a===void 0||a.filter(y=>{var x,v,b,w,E,_;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const S=y.id,P=(x=y.filter)===null||x===void 0?void 0:x.event;return S&&((v=r.ids)===null||v===void 0?void 0:v.includes(S))&&(P==="*"||P?.toLocaleLowerCase()===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(E=(w=y?.filter)===null||w===void 0?void 0:w.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return S==="*"||S===((_=r?.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof g=="object"&&"ids"in g){const x=g.data,{schema:v,table:b,commit_timestamp:w,type:E,errors:_}=x;g=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:w,eventType:E,new:{},old:{},errors:_}),this._getPayloadRecords(x))}y.callback(g,n)})}_isClosed(){return this.state===br.closed}_isJoined(){return this.state===br.joined}_isJoining(){return this.state===br.joining}_isLeaving(){return this.state===br.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Hv.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(bn.close,{},t)}_onError(t){this._on(bn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=br.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Db(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Db(t.columns,t.old_record)),r}}const Fb=()=>{},YO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class XO{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=UO,this.params={},this.timeout=nE,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fb,this.ref=0,this.logger=Fb,this.conn=null,this.sendBuffer=[],this.serializer=new zO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...c)=>Ql(async()=>{const{default:d}=await Promise.resolve().then(()=>vo);return{default:d}},void 0).then(({default:d})=>d(...c)):l=fetch,(...c)=>l(...c)},this.endPoint=`${t}/${Hg.websocket}`,this.httpEndpoint=aE(t),r?.transport?this.transport=r.transport:this.transport=null,r?.params&&(this.params=r.params),r?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r?.timeout&&(this.timeout=r.timeout),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r?.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r?.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r?.encode?r.encode:(a,l)=>l(JSON.stringify(a)),this.decode=r?.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new sE(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r?.fetch),r?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=r?.worker||!1,this.workerUrl=r?.workerUrl}this.accessToken=r?.accessToken||null}connect(){this.conn||(this.transport||(this.transport=FO),this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection())}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:BO}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Cl.connecting:return Fi.Connecting;case Cl.open:return Fi.Open;case Cl.closing:return Fi.Closing;default:return Fi.Closed}}isConnected(){return this.connectionState()===Fi.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Hv(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,l=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(bn.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close($O,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:a,ref:l}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${l&&"("+l+")"||""}`,a),Array.from(this.channels).filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,l)),this.stateChangeCallbacks.message.forEach(c=>c(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(bn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([YO],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Wv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function sr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class QO extends Wv{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class qg extends Wv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var JO=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(f){try{h(n.next(f))}catch(m){l(m)}}function d(f){try{h(n.throw(f))}catch(m){l(m)}}function h(f){f.done?a(f.value):i(f.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};const oE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ql(async()=>{const{default:n}=await Promise.resolve().then(()=>vo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ZO=()=>JO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ql(()=>Promise.resolve().then(()=>vo),void 0)).Response:Response}),Vg=e=>{if(Array.isArray(e))return e.map(r=>Vg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Vg(n)}),t};var Gi=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(f){try{h(n.next(f))}catch(m){l(m)}}function d(f){try{h(n.throw(f))}catch(m){l(m)}}function h(f){f.done?a(f.value):i(f.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};const xp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eI=(e,t,r)=>Gi(void 0,void 0,void 0,function*(){const n=yield ZO();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{t(new QO(xp(i),e.status||500))}).catch(i=>{t(new qg(xp(i),i))}):t(new qg(xp(e),e))}),tI=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function Jl(e,t,r,n,i,a){return Gi(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(r,tI(t,n,i,a)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>eI(d,c,n))})})}function md(e,t,r,n){return Gi(this,void 0,void 0,function*(){return Jl(e,"GET",t,r,n)})}function Gs(e,t,r,n,i){return Gi(this,void 0,void 0,function*(){return Jl(e,"POST",t,n,i,r)})}function rI(e,t,r,n,i){return Gi(this,void 0,void 0,function*(){return Jl(e,"PUT",t,n,i,r)})}function nI(e,t,r,n){return Gi(this,void 0,void 0,function*(){return Jl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function lE(e,t,r,n,i){return Gi(this,void 0,void 0,function*(){return Jl(e,"DELETE",t,n,i,r)})}var Ir=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(f){try{h(n.next(f))}catch(m){l(m)}}function d(f){try{h(n.throw(f))}catch(m){l(m)}}function h(f){f.done?a(f.value):i(f.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};const sI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class iI{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=oE(i)}uploadOrUpdate(t,r,n,i){return Ir(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},Lb),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",this.encodeMetadata(d))):(a=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));const h=this._removeEmptyFolders(r),f=this._getFinalPath(h),m=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:t,body:a,headers:c},l?.duplex?{duplex:l.duplex}:{})),g=yield m.json();return m.ok?{data:{path:h,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(a){if(sr(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Ir(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Ir(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),l=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",r);try{let d;const h=Object.assign({upsert:Lb.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType);const m=yield this.fetch(c.toString(),{method:"PUT",body:d,headers:f}),g=yield m.json();return m.ok?{data:{path:a,fullPath:g.Key},error:null}:{data:null,error:g}}catch(d){if(sr(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return Ir(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const a=yield Gs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(this.url+a.url),c=l.searchParams.get("token");if(!c)throw new Wv("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(n){if(sr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ir(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ir(this,void 0,void 0,function*(){try{return{data:yield Gs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(sr(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Ir(this,void 0,void 0,function*(){try{return{data:{path:(yield Gs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(sr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Ir(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Gs(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(sr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Ir(this,void 0,void 0,function*(){try{const i=yield Gs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(sr(i))return{data:null,error:i};throw i}})}download(t,r){return Ir(this,void 0,void 0,function*(){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(r?.transform||{}),l=a?`?${a}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield md(this.fetch,`${this.url}/${i}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(sr(c))return{data:null,error:c};throw c}})}info(t){return Ir(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield md(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Vg(n),error:null}}catch(n){if(sr(n))return{data:null,error:n};throw n}})}exists(t){return Ir(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield nI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(sr(n)&&n instanceof qg){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r?.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const c=typeof r?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(r?.transform||{});d!==""&&i.push(d);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${h}`)}}}remove(t){return Ir(this,void 0,void 0,function*(){try{return{data:yield lE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(sr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ir(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},sI),r),{prefix:t||""});return{data:yield Gs(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(sr(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const aI="2.7.1",oI={"X-Client-Info":`storage-js/${aI}`};var Na=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(f){try{h(n.next(f))}catch(m){l(m)}}function d(f){try{h(n.throw(f))}catch(m){l(m)}}function h(f){f.done?a(f.value):i(f.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};class lI{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},oI),r),this.fetch=oE(n)}listBuckets(){return Na(this,void 0,void 0,function*(){try{return{data:yield md(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(sr(t))return{data:null,error:t};throw t}})}getBucket(t){return Na(this,void 0,void 0,function*(){try{return{data:yield md(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(sr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Na(this,void 0,void 0,function*(){try{return{data:yield Gs(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(sr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Na(this,void 0,void 0,function*(){try{return{data:yield rI(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(sr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Na(this,void 0,void 0,function*(){try{return{data:yield Gs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(sr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Na(this,void 0,void 0,function*(){try{return{data:yield lE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(sr(r))return{data:null,error:r};throw r}})}}class cI extends lI{constructor(t,r={},n){super(t,r,n)}from(t){return new iI(this.url,this.headers,t,this.fetch)}}const uI="2.50.1";let jl="";typeof Deno<"u"?jl="deno":typeof document<"u"?jl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jl="react-native":jl="node";const dI={"X-Client-Info":`supabase-js-${jl}/${uI}`},hI={headers:dI},fI={schema:"public"},pI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mI={};var gI=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(f){try{h(n.next(f))}catch(m){l(m)}}function d(f){try{h(n.throw(f))}catch(m){l(m)}}function h(f){f.done?a(f.value):i(f.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};const vI=e=>{let t;return e?t=e:typeof fetch>"u"?t=QS:t=fetch,(...r)=>t(...r)},yI=()=>typeof Headers>"u"?JS:Headers,xI=(e,t,r)=>{const n=vI(r),i=yI();return(a,l)=>gI(void 0,void 0,void 0,function*(){var c;const d=(c=yield t())!==null&&c!==void 0?c:e;let h=new i(l?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),n(a,Object.assign(Object.assign({},l),{headers:h}))})};var wI=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(f){try{h(n.next(f))}catch(m){l(m)}}function d(f){try{h(n.throw(f))}catch(m){l(m)}}function h(f){f.done?a(f.value):i(f.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};function bI(e){return e.endsWith("/")?e:e+"/"}function _I(e,t){var r,n;const{db:i,auth:a,realtime:l,global:c}=e,{db:d,auth:h,realtime:f,global:m}=t,g={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},h),a),realtime:Object.assign(Object.assign({},f),l),global:Object.assign(Object.assign(Object.assign({},m),c),{headers:Object.assign(Object.assign({},(r=m?.headers)!==null&&r!==void 0?r:{}),(n=c?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>wI(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const cE="2.70.0",Ma=30*1e3,Kg=3,wp=Kg*Ma,jI="http://localhost:9999",SI="supabase.auth.token",EI={"X-Client-Info":`gotrue-js/${cE}`},Gg="X-Supabase-Api-Version",uE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CI=6e5;class qv extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function et(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class kI extends qv{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function TI(e){return et(e)&&e.name==="AuthApiError"}class dE extends qv{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ai extends qv{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Vs extends ai{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function PI(e){return et(e)&&e.name==="AuthSessionMissingError"}class Iu extends ai{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mu extends ai{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Fu extends ai{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function AI(e){return et(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ub extends ai{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yg extends ai{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function bp(e){return et(e)&&e.name==="AuthRetryableFetchError"}class Bb extends ai{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Tl extends ai{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const gd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$b=` 	
\r=`.split(""),RI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<$b.length;t+=1)e[$b[t].charCodeAt(0)]=-2;for(let t=0;t<gd.length;t+=1)e[gd[t].charCodeAt(0)]=t;return e})();function zb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(gd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(gd[n]),t.queuedBits-=6}}function hE(e,t,r){const n=RI[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Hb(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{II(l,n,r)};for(let l=0;l<e.length;l+=1)hE(e.charCodeAt(l),i,a);return t.join("")}function DI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function OI(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}DI(n,t)}}function II(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function MI(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)hE(e.charCodeAt(i),r,n);return new Uint8Array(t)}function FI(e){const t=[];return OI(e,r=>t.push(r)),new Uint8Array(t)}function LI(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>zb(i,r,n)),zb(null,r,n),t.join("")}function UI(e){return Math.round(Date.now()/1e3)+e}function BI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const vn=()=>typeof window<"u"&&typeof document<"u",Pi={tested:!1,writable:!1},Pl=()=>{if(!vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pi.tested)return Pi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Pi.tested=!0,Pi.writable=!0}catch{Pi.tested=!0,Pi.writable=!1}return Pi.writable};function $I(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const fE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ql(async()=>{const{default:n}=await Promise.resolve().then(()=>vo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},zI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",pE=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Lu=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Uu=async(e,t)=>{await e.removeItem(t)};class $d{constructor(){this.promise=new $d.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}$d.promiseConstructor=Promise;function _p(e){const t=e.split(".");if(t.length!==3)throw new Tl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!NI.test(t[n]))throw new Tl("JWT not in base64url format");return{header:JSON.parse(Hb(t[0])),payload:JSON.parse(Hb(t[1])),signature:MI(t[2]),raw:{header:t[0],payload:t[1]}}}async function HI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function WI(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){n(l);return}}catch(l){if(!t(a,l)){i(l);return}}})()})}function qI(e){return("0"+e.toString(16)).substr(-2)}function VI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,qI).join("")}async function KI(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function GI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await KI(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ca(e,t,r=!1){const n=VI();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await pE(e,`${t}-code-verifier`,i);const a=await GI(n);return[a,n===a?"plain":"s256"]}const YI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function XI(e){const t=e.headers.get(Gg);if(!t||!t.match(YI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function QI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function JI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ZI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ka(e){if(!ZI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var e5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Oi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),t5=[502,503,504];async function Wb(e){var t;if(!zI(e))throw new Yg(Oi(e),0);if(t5.includes(e.status))throw new Yg(Oi(e),e.status);let r;try{r=await e.json()}catch(a){throw new dE(Oi(a),a)}let n;const i=XI(e);if(i&&i.getTime()>=uE["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Bb(Oi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Vs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new Bb(Oi(r),e.status,r.weak_password.reasons);throw new kI(Oi(r),e.status||500,n)}const r5=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function it(e,t,r,n){var i;const a=Object.assign({},n?.headers);a[Gg]||(a[Gg]=uE["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const l=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await n5(e,t,r+c,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function n5(e,t,r,n,i,a){const l=r5(t,n,i,a);let c;try{c=await e(r,Object.assign({},l))}catch(d){throw console.error(d),new Yg(Oi(d),0)}if(c.ok||await Wb(c),n?.noResolveJson)return c;try{return await c.json()}catch(d){await Wb(d)}}function ps(e){var t;let r=null;o5(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=UI(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function qb(e){const t=ps(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ys(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function s5(e){return{data:e,error:null}}function i5(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,l=e5(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function a5(e){return e}function o5(e){return e.access_token&&e.refresh_token&&e.expires_in}const jp=["global","local","others"];var l5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class c5{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=fE(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=jp[0]){if(jp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jp.join(", ")}`);try{return await it(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await it(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ys})}catch(n){if(et(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=l5(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await it(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:i5,redirectTo:r?.redirectTo})}catch(r){if(et(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await it(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ys})}catch(r){if(et(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},f=await it(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:a5});if(f.error)throw f.error;const m=await f.json(),g=(l=f.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(d=(c=f.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);h[`${b}Page`]=v}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(et(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){ka(t);try{return await it(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ys})}catch(r){if(et(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ka(t);try{return await it(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ys})}catch(n){if(et(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ka(t);try{return await it(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ys})}catch(n){if(et(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ka(t.userId);try{const{data:r,error:n}=await it(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(et(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ka(t.userId),ka(t.id);try{return{data:await it(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}}}const u5={getItem:e=>Pl()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Pl()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Pl()&&globalThis.localStorage.removeItem(e)}};function Vb(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function d5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ta={debug:!!(globalThis&&Pl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class h5 extends mE{}async function f5(e,t,r){Ta.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ta.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Ta.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Ta.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ta.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new h5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ta.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}d5();const p5={url:jI,storageKey:SI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:EI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Kb(e,t,r){return await r()}class Ul{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ul.nextInstanceID,Ul.nextInstanceID+=1,this.instanceID>0&&vn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},p5),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new c5({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=fE(i.fetch),this.lock=i.lock||Kb,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:vn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=f5:this.lock=Kb,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Pl()?this.storage=u5:(this.memoryStorage={},this.storage=Vb(this.memoryStorage)):(this.memoryStorage={},this.storage=Vb(this.memoryStorage)),vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${cE}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=$I(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),vn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),AI(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return et(r)?{error:r}:{error:new dE("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ps}),{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(a){if(et(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:f,password:m,options:g}=t;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await Ca(this.storage,this.storageKey)),a=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:f,password:m,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:x},xform:ps})}else if("phone"in t){const{phone:f,password:m,options:g}=t;a=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(n=g?.data)!==null&&n!==void 0?n:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:ps})}else throw new Mu("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(a){if(et(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:l,options:c}=t;r=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:qb})}else if("phone"in t){const{phone:a,password:l,options:c}=t;r=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:qb})}else throw new Mu("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Iu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(et(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,a,l,c,d,h,f,m,g,y;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:b,wallet:w,statement:E,options:_}=t;let S;if(vn())if(typeof w=="object")S=w;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))S=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const P=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const B=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),E?{statement:E}:null));let L;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")L=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)L=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)x=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),v=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${P.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(n=_?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((l=_?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((c=_?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((d=_?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((h=_?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((m=(f=_?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",..._.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const B=await S.signMessage(new TextEncoder().encode(x),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=B}}try{const{data:b,error:w}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:LI(v)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ps});if(w)throw w;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Iu}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:w})}catch(b){if(et(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await Lu(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:l}=await it(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ps});if(await Uu(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Iu}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(et(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:l}=t,c=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ps}),{data:d,error:h}=c;return h?{data:{user:null,session:null},error:h}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Iu}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:h})}catch(r){if(et(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,l;try{if("email"in t){const{email:c,options:d}=t;let h=null,f=null;this.flowType==="pkce"&&([h,f]=await Ca(this.storage,this.storageKey));const{error:m}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:f},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:c,options:d}=t,{data:h,error:f}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:f}}throw new Mu("You must provide either an email or phone number.")}catch(c){if(et(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:c}=await it(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:ps});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(i){if(et(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await Ca(this.storage,this.storageKey)),await it(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:s5})}catch(a){if(et(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Vs;const{error:i}=await it(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(et(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:l}=await it(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:l,error:c}=await it(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:c}}throw new Mu("You must provide either an email or phone number and a type")}catch(r){if(et(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Lu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<wp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,h,f)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,h,f))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ys}):await this._useSession(async r=>{var n,i,a;const{data:l,error:c}=r;if(c)throw c;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vs}:await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ys})})}catch(r){if(et(r))return PI(r)&&(await this._removeSession(),await Uu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Vs;const l=i.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await Ca(this.storage,this.storageKey));const{data:h,error:f}=await it(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Ys});if(f)throw f;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(et(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Vs;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:l}=_p(t.access_token);if(l.exp&&(n=l.exp,i=n<=r),i){const{session:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)throw d;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(et(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:c}=r;if(c)throw c;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Vs;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(et(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!vn())throw new Fu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ub("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ub("No code detected.");const{data:E,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:c,expires_at:d,token_type:h}=t;if(!a||!c||!l||!h)throw new Fu("No session defined in URL");const f=Math.round(Date.now()/1e3),m=parseInt(c);let g=f+m;d&&(g=parseInt(d));const y=g-f;y*1e3<=Ma&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${m}s`);const x=g-m;f-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,g,f):f-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,g,f);const{data:v,error:b}=await this._getUser(a);if(b)throw b;const w={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:g,refresh_token:l,token_type:h,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(n){if(et(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Lu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(TI(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Uu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=BI(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Ca(this.storage,this.storageKey,!0));try{return await it(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(et(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var l,c,d,h,f;const{data:m,error:g}=a;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await it(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return vn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(et(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:l}=r;if(l)throw l;return await it(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(et(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await WI(async i=>(i>0&&await HI(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await it(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ps})),(i,a)=>{const l=200*Math.pow(2,i);return a&&bp(a)&&Date.now()+l-n<Ma})}catch(n){if(this._debug(r,"error",n),et(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),vn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Lu(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<wp;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${wp}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),bp(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Vs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new $d;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new Vs;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={session:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),et(a)){const l={session:null,error:a};return bp(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(d){a.push(d)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await pE(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Uu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&vn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ma);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Ma);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ma}ms, refresh threshold is ${Kg} ticks`),i<=Kg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof mE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,l]=await Ca(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(c.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await it(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(et(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:l}=r;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:h}=await it(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(r){if(et(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:l,error:c}=await it(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(et(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await it(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(et(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=t?.factors||[],i=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=_p(i.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const f=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n||(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+CI>Date.now()))return n;const{data:i,error:a}=await it(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new Tl("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(l=>l.kid===t),!n)throw new Tl("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:x}=await this.getSession();if(x||!y.session)return{data:null,error:x};n=y.session.access_token}const{header:i,payload:a,signature:l,raw:{header:c,payload:d}}=_p(n);if(QI(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:a,header:i,signature:l},error:null}}const h=JI(i.alg),f=await this.fetchJwk(i.kid,r),m=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,l,FI(`${c}.${d}`)))throw new Tl("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}}}Ul.nextInstanceID=0;const m5=Ul;class g5 extends m5{constructor(t){super(t)}}var v5=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(f){try{h(n.next(f))}catch(m){l(m)}}function d(f){try{h(n.throw(f))}catch(m){l(m)}}function h(f){f.done?a(f.value):i(f.value).then(c,d)}h((n=n.apply(e,t||[])).next())})};class y5{constructor(t,r,n){var i,a,l;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const c=bI(t),d=new URL(c);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,f={db:fI,realtime:mI,auth:Object.assign(Object.assign({},pI),{storageKey:h}),global:hI},m=_I(n??{},f);this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=xI(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new IO(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new jO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new cI(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return v5(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:l,lock:c,debug:d},h,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new g5({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:l,lock:c,debug:d,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new XO(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const x5=(e,t,r)=>new y5(e,t,r),w5="https://whqrymbhwmzkeobxesbt.supabase.co",b5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndocXJ5bWJod216a2VvYnhlc2J0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk5ODgyMzAsImV4cCI6MjA2NTU2NDIzMH0.C4p3FfurmFLku60lbzkxtNJZinVuCsYMqpaUXlHeV3w",Re=x5(w5,b5),Ii=()=>{try{localStorage.removeItem("supabase.auth.token"),Object.keys(localStorage).forEach(e=>{(e.startsWith("supabase.auth.")||e.includes("sb-"))&&localStorage.removeItem(e)}),typeof sessionStorage<"u"&&Object.keys(sessionStorage).forEach(e=>{(e.startsWith("supabase.auth.")||e.includes("sb-"))&&sessionStorage.removeItem(e)}),console.log("Auth state cleaned up")}catch(e){console.error("Error cleaning up auth state:",e)}},Gb=async()=>{try{Ii();try{await Re.auth.signOut({scope:"global"})}catch(e){console.warn("Global sign out failed:",e)}window.location.href="/"}catch(e){console.error("Sign out error:",e),window.location.href="/"}},Yb=async e=>{try{const{data:t,error:r}=await Re.from("profiles").select("*").eq("id",e).maybeSingle();return r?(console.error("Error fetching profile:",r),null):t}catch(t){return console.error("Profile fetch error:",t),null}},gE=N.createContext(void 0),pr=()=>{const e=N.useContext(gE);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},_5=({children:e})=>{const[t,r]=N.useState(null),[n,i]=N.useState(null),[a,l]=N.useState(null),[c,d]=N.useState(!0),{toast:h}=Jt();N.useEffect(()=>{const{data:{subscription:y}}=Re.auth.onAuthStateChange(async(x,v)=>{if(console.log("Auth state changed:",x,v?.user?.id),x==="TOKEN_REFRESHED"&&!v){console.log("Token refresh failed - cleaning up auth state"),Ii(),i(null),r(null),l(null),d(!1);return}i(v),r(v?.user??null),v?.user?setTimeout(async()=>{try{const b=await Yb(v.user.id);l(b)}catch(b){if(console.error("Error fetching user profile:",b),b?.message?.includes("auth")||b?.message?.includes("JWT")){console.log("Auth error detected - performing cleanup sign out"),await Gb();return}}d(!1)},0):(l(null),d(!1)),x==="SIGNED_IN"?console.log("User signed in successfully"):x==="SIGNED_OUT"?(console.log("User signed out"),l(null),Ii()):x==="TOKEN_REFRESHED"?console.log("Token refreshed successfully"):x==="PASSWORD_RECOVERY"&&h({title:"Password Recovery",description:"Please check your email for password recovery instructions."})});return Re.auth.getSession().then(async({data:{session:x},error:v})=>{if(console.log("Initial session check:",x?.user?.id),v){console.error("Session check error:",v),Ii(),i(null),r(null),l(null),d(!1);return}if(i(x),r(x?.user??null),x?.user)try{const b=await Yb(x.user.id);l(b)}catch(b){console.error("Error fetching initial profile:",b),(b?.message?.includes("auth")||b?.message?.includes("JWT"))&&(Ii(),i(null),r(null),l(null))}d(!1)}).catch(x=>{console.error("Session initialization error:",x),Ii(),d(!1)}),()=>y.unsubscribe()},[]);const f=async()=>{try{d(!0),await Gb()}catch(y){console.error("Unexpected sign out error:",y),h({title:"Error",description:"An unexpected error occurred during sign out.",variant:"destructive"}),Ii(),window.location.href="/"}finally{d(!1)}},m=a?.role==="admin",g={user:t,session:n,profile:a,loading:c,signOut:f,isAdmin:m};return s.jsx(gE.Provider,{value:g,children:e})},id={USD:{USD:1,EUR:.85,RON:4.5},EUR:{USD:1.18,EUR:1,RON:5.3},RON:{USD:.22,EUR:.19,RON:1}},j5=(e,t,r,n)=>{if(isNaN(e)||e===null||e===void 0)return 0;if(t===r)return e;const a=(n||id)[t];if(!a)return e;const l=a[r];if(!l)return e;const c=e*l;return isNaN(c)?0:c},xt=(e,t)=>{(isNaN(e)||e===null||e===void 0)&&(e=0);const n={USD:"$",EUR:"",RON:"RON "}[t]||"$";return t==="RON"?`${n}${e.toFixed(2)}`:`${n}${e.toFixed(2)}`},vE=N.createContext(void 0),S5=({children:e})=>{const[t,r]=N.useState("USD"),[n,i]=N.useState(()=>localStorage.getItem("displayCurrency")||"USD"),[a,l]=N.useState(()=>localStorage.getItem("demoMode")==="true"),[c,d]=N.useState(null),[h,f]=N.useState(!0),[m,g]=N.useState(null),y=N.useCallback(async()=>{try{f(!0);const E=localStorage.getItem("exchangeRates"),_=localStorage.getItem("exchangeRatesTimestamp");if(E&&_){const S=new Date(_);if((new Date().getTime()-S.getTime())/(1e3*60*60)<24){console.log("Using cached exchange rates from",S),d(JSON.parse(E)),g(S),f(!1);return}}console.log("Attempting to fetch fresh exchange rates from edge function...");try{const{data:S,error:P}=await Re.functions.invoke("fetch-exchange-rates");if(P)throw console.warn("Edge function error:",P),new Error(`Edge function error: ${P.message}`);if(!S||!S.success)throw console.warn("Edge function returned error or no data:",S),new Error(`API error: ${S?.error||"No data received"}`);console.log("Successfully fetched live exchange rates:",S.rates),localStorage.setItem("exchangeRates",JSON.stringify(S.rates)),localStorage.setItem("exchangeRatesTimestamp",new Date().toISOString()),d(S.rates),g(new Date)}catch(S){console.warn("Edge function failed, falling back to static rates:",S),d(id)}}catch(E){console.error("Error in fetchExchangeRates:",E),console.log("Using fallback exchange rates due to error"),d(id)}finally{f(!1)}},[]);N.useEffect(()=>{y();const E=setInterval(y,1440*60*1e3);return()=>clearInterval(E)},[y]),N.useEffect(()=>{const E=_=>{i(_.detail.currency),r(_.detail.currency)};return window.addEventListener("currencyChanged",E),()=>{window.removeEventListener("currencyChanged",E)}},[]);const x=N.useCallback(E=>{console.log("Currency updated to:",E),i(E),r(E),localStorage.setItem("displayCurrency",E),window.dispatchEvent(new CustomEvent("currencyChanged",{detail:{currency:E}}))},[]),v=N.useCallback(()=>{l(E=>{const _=!E;return localStorage.setItem("demoMode",_.toString()),console.log("Demo mode toggled to:",_),window.dispatchEvent(new CustomEvent("demoModeChanged",{detail:{demoMode:_}})),_})},[]),b=N.useCallback((E,_,S)=>j5(E,_,S,c||id),[c]),w=(E,_)=>{const S=_||n;return new Intl.NumberFormat("en-US",{style:"currency",currency:S}).format(E)};return s.jsx(vE.Provider,{value:{currency:t,setCurrency:r,displayCurrency:n,formatCurrency:w,convert:b,updateCurrency:x,loadingRates:h,lastFetched:m,refreshRates:y,demoMode:a,toggleDemoMode:v},children:e})},wt=()=>{const e=N.useContext(vE);if(e===void 0)throw new Error("useCurrency must be used within a CurrencyProvider");return e},Qe=N.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Pe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Qe.displayName="Card";const dt=N.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Pe("flex flex-col space-y-1.5 p-6",e),...t}));dt.displayName="CardHeader";const ht=N.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:Pe("text-2xl font-semibold leading-none tracking-tight",e),...t}));ht.displayName="CardTitle";const Vv=N.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:Pe("text-sm text-muted-foreground",e),...t}));Vv.displayName="CardDescription";const Je=N.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Pe("p-6 pt-0",e),...t}));Je.displayName="CardContent";const E5=N.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Pe("flex items-center p-6 pt-0",e),...t}));E5.displayName="CardFooter";const Bl=Ki("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),_e=N.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const l=n?Vr:"button";return s.jsx(l,{className:Pe(Bl({variant:t,size:r,className:e})),ref:a,...i})});_e.displayName="Button";const De=N.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));De.displayName="Input";var N5="Label",yE=N.forwardRef((e,t)=>s.jsx(We.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));yE.displayName=N5;var xE=yE;const C5=Ki("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),we=N.forwardRef(({className:e,...t},r)=>s.jsx(xE,{ref:r,className:Pe(C5(),e),...t}));we.displayName=xE.displayName;function k5(e,t=[]){let r=[];function n(a,l){const c=N.createContext(l),d=r.length;r=[...r,l];function h(m){const{scope:g,children:y,...x}=m,v=g?.[e][d]||c,b=N.useMemo(()=>x,Object.values(x));return s.jsx(v.Provider,{value:b,children:y})}function f(m,g){const y=g?.[e][d]||c,x=N.useContext(y);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${a}\``)}return h.displayName=a+"Provider",[h,f]}const i=()=>{const a=r.map(l=>N.createContext(l));return function(c){const d=c?.[e]||a;return N.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return i.scopeName=e,[n,T5(i,...t)]}function T5(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=n.reduce((c,{useScope:d,scopeName:h})=>{const m=d(a)[`__scope${h}`];return{...c,...m}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var P5=Uj.useId||(()=>{}),A5=0;function zn(e){const[t,r]=N.useState(P5());return fr(()=>{r(n=>n??String(A5++))},[e]),t?`radix-${t}`:""}var R5=N.createContext(void 0);function Zl(e){const t=N.useContext(R5);return e||t||"ltr"}var Sp="rovingFocusGroup.onEntryFocus",D5={bubbles:!1,cancelable:!0},zd="RovingFocusGroup",[Xg,wE,O5]=Pv(zd),[I5,Hd]=k5(zd,[O5]),[M5,F5]=I5(zd),bE=N.forwardRef((e,t)=>s.jsx(Xg.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Xg.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(L5,{...e,ref:t})})}));bE.displayName=zd;var L5=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:f=!1,...m}=e,g=N.useRef(null),y=rt(t,g),x=Zl(a),[v=null,b]=jn({prop:l,defaultProp:c,onChange:d}),[w,E]=N.useState(!1),_=zt(h),S=wE(r),P=N.useRef(!1),[B,L]=N.useState(0);return N.useEffect(()=>{const U=g.current;if(U)return U.addEventListener(Sp,_),()=>U.removeEventListener(Sp,_)},[_]),s.jsx(M5,{scope:r,orientation:n,dir:x,loop:i,currentTabStopId:v,onItemFocus:N.useCallback(U=>b(U),[b]),onItemShiftTab:N.useCallback(()=>E(!0),[]),onFocusableItemAdd:N.useCallback(()=>L(U=>U+1),[]),onFocusableItemRemove:N.useCallback(()=>L(U=>U-1),[]),children:s.jsx(We.div,{tabIndex:w||B===0?-1:0,"data-orientation":n,...m,ref:y,style:{outline:"none",...e.style},onMouseDown:Le(e.onMouseDown,()=>{P.current=!0}),onFocus:Le(e.onFocus,U=>{const F=!P.current;if(U.target===U.currentTarget&&F&&!w){const ee=new CustomEvent(Sp,D5);if(U.currentTarget.dispatchEvent(ee),!ee.defaultPrevented){const me=S().filter(J=>J.focusable),z=me.find(J=>J.active),G=me.find(J=>J.id===v),te=[z,G,...me].filter(Boolean).map(J=>J.ref.current);SE(te,f)}}P.current=!1}),onBlur:Le(e.onBlur,()=>E(!1))})})}),_E="RovingFocusGroupItem",jE=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,...l}=e,c=zn(),d=a||c,h=F5(_E,r),f=h.currentTabStopId===d,m=wE(r),{onFocusableItemAdd:g,onFocusableItemRemove:y}=h;return N.useEffect(()=>{if(n)return g(),()=>y()},[n,g,y]),s.jsx(Xg.ItemSlot,{scope:r,id:d,focusable:n,active:i,children:s.jsx(We.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:Le(e.onMouseDown,x=>{n?h.onItemFocus(d):x.preventDefault()}),onFocus:Le(e.onFocus,()=>h.onItemFocus(d)),onKeyDown:Le(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){h.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=$5(x,h.orientation,h.dir);if(v!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=m().filter(E=>E.focusable).map(E=>E.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const E=w.indexOf(x.currentTarget);w=h.loop?z5(w,E+1):w.slice(E+1)}setTimeout(()=>SE(w))}})})})});jE.displayName=_E;var U5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function B5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $5(e,t,r){const n=B5(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return U5[n]}function SE(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function z5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var EE=bE,NE=jE,Kv="Tabs",[H5]=an(Kv,[Hd]),CE=Hd(),[W5,Gv]=H5(Kv),kE=N.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:l="horizontal",dir:c,activationMode:d="automatic",...h}=e,f=Zl(c),[m,g]=jn({prop:n,onChange:i,defaultProp:a});return s.jsx(W5,{scope:r,baseId:zn(),value:m,onValueChange:g,orientation:l,dir:f,activationMode:d,children:s.jsx(We.div,{dir:f,"data-orientation":l,...h,ref:t})})});kE.displayName=Kv;var TE="TabsList",PE=N.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,a=Gv(TE,r),l=CE(r);return s.jsx(EE,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(We.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});PE.displayName=TE;var AE="TabsTrigger",RE=N.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=e,l=Gv(AE,r),c=CE(r),d=IE(l.baseId,n),h=ME(l.baseId,n),f=n===l.value;return s.jsx(NE,{asChild:!0,...c,focusable:!i,active:f,children:s.jsx(We.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...a,ref:t,onMouseDown:Le(e.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?l.onValueChange(n):m.preventDefault()}),onKeyDown:Le(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(n)}),onFocus:Le(e.onFocus,()=>{const m=l.activationMode!=="manual";!f&&!i&&m&&l.onValueChange(n)})})})});RE.displayName=AE;var DE="TabsContent",OE=N.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...l}=e,c=Gv(DE,r),d=IE(c.baseId,n),h=ME(c.baseId,n),f=n===c.value,m=N.useRef(f);return N.useEffect(()=>{const g=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(g)},[]),s.jsx(Cr,{present:i||f,children:({present:g})=>s.jsx(We.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:h,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:g&&a})})});OE.displayName=DE;function IE(e,t){return`${e}-trigger-${t}`}function ME(e,t){return`${e}-content-${t}`}var q5=kE,FE=PE,LE=RE,UE=OE;const oi=q5,ws=N.forwardRef(({className:e,...t},r)=>s.jsx(FE,{ref:r,className:Pe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ws.displayName=FE.displayName;const Ht=N.forwardRef(({className:e,...t},r)=>s.jsx(LE,{ref:r,className:Pe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ht.displayName=LE.displayName;const or=N.forwardRef(({className:e,...t},r)=>s.jsx(UE,{ref:r,className:Pe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));or.displayName=UE.displayName;const V5=Ki("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),BE=N.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:Pe(V5({variant:t}),e),...r}));BE.displayName="Alert";const K5=N.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:Pe("mb-1 font-medium leading-none tracking-tight",e),...t}));K5.displayName="AlertTitle";const $E=N.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Pe("text-sm [&_p]:leading-relaxed",e),...t}));$E.displayName="AlertDescription";const Al=_t.forwardRef(({className:e,...t},r)=>{const[n,i]=N.useState(!1),a=()=>{i(!n)};return s.jsxs("div",{className:"relative",children:[s.jsx(De,{type:n?"text":"password",className:Pe("pr-10",e),ref:r,...t}),s.jsx(_e,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:a,"aria-label":n?"Hide password":"Show password",children:n?s.jsx(Fv,{className:"h-4 w-4"}):s.jsx(Ld,{className:"h-4 w-4"})})]})});Al.displayName="PasswordInput";const zE=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!1),{toast:i}=Jt(),a=async()=>{n(!0);try{const{data:m,error:g}=await Re.from("user_invites").select("*").order("created_at",{ascending:!1});if(g)throw g;const y=(m||[]).map(x=>({...x,role:x.role}));t(y)}catch(m){console.error("Error fetching invites:",m),i({title:"Error",description:"Failed to load invites",variant:"destructive"})}finally{n(!1)}},l=async(m,g,y)=>{try{const{data:{user:x}}=await Re.auth.getUser(),{data:v}=await Re.from("profiles").select("email").eq("id",x?.id).single(),{data:b,error:w}=await Re.functions.invoke("send-invite-email",{body:{email:m,role:g,token:y,invitedBy:v?.email||x?.email||"Admin"}});if(w)throw w;return await Re.from("user_invites").update({email_sent:!0,email_sent_at:new Date().toISOString()}).eq("token",y),b}catch(x){throw console.error("Error sending invite email:",x),x}},c=async(m,g)=>{try{const y=crypto.randomUUID(),{data:x,error:v}=await Re.from("user_invites").insert({email:m,role:g,token:y,invited_by:(await Re.auth.getUser()).data.user?.id,expires_at:new Date(Date.now()+1440*60*1e3).toISOString()}).select().single();if(v)throw v;try{await l(m,g,y),i({title:"Success",description:`Invite sent to ${m}`})}catch(b){console.error("Email sending failed:",b),i({title:"Invite Created",description:`Invite created for ${m}, but email sending failed. Please check your email configuration.`,variant:"destructive"})}return await a(),x}catch(y){return console.error("Error creating invite:",y),i({title:"Error",description:"Failed to create invite",variant:"destructive"}),null}},d=async m=>{try{const{error:g}=await Re.from("user_invites").delete().eq("id",m);if(g)throw g;i({title:"Success",description:"Invite deleted successfully"}),await a()}catch(g){console.error("Error deleting invite:",g),i({title:"Error",description:"Failed to delete invite",variant:"destructive"})}},h=async m=>{try{const{data:g,error:y}=await Re.functions.invoke("validate-invite-token",{body:{token:m}});return y?(console.error("Error validating invite token:",y),null):g?.valid?{token:m,role:g.role,expires_at:g.expires_at,id:"",email:"",used:!1,created_at:"",invited_by:"",used_at:null,used_by:null,email_sent:!1,email_sent_at:null}:null}catch(g){return console.error("Error validating invite token:",g),null}},f=async(m,g)=>{try{const{error:y}=await Re.from("user_invites").update({used:!0,used_at:new Date().toISOString(),used_by:g}).eq("token",m);if(y)throw y}catch(y){console.error("Error marking invite as used:",y)}};return N.useEffect(()=>{a()},[]),{invites:e,loading:r,createInvite:c,deleteInvite:d,validateInviteToken:h,markInviteAsUsed:f,refreshInvites:a}},G5=()=>{const[e]=FR(),t=ii(),{validateInviteToken:r}=zE(),{toast:n}=Jt(),[i,a]=N.useState(""),[l,c]=N.useState(""),[d,h]=N.useState(""),[f,m]=N.useState(!1),[g,y]=N.useState(null),[x,v]=N.useState(null);N.useEffect(()=>{const _=e.get("invite");_&&(v(_),b(_))},[e]);const b=async _=>{try{const S=await r(_);S?(y(S),a(S.email),n({title:"Valid Invite",description:`You've been invited as a ${S.role} user`})):n({title:"Invalid Invite",description:"This invite is invalid or has expired",variant:"destructive"})}catch(S){console.error("Error validating invite:",S),n({title:"Error",description:"Failed to validate invite",variant:"destructive"})}},w=async _=>{_.preventDefault(),m(!0);try{const{data:S,error:P}=await Re.auth.signInWithPassword({email:i,password:l});if(P)throw P;S.user&&t("/")}catch(S){n({title:"Error",description:S.message,variant:"destructive"})}finally{m(!1)}},E=async _=>{if(_.preventDefault(),l!==d){n({title:"Error",description:"Passwords don't match",variant:"destructive"});return}m(!0);try{const S={email:i,password:l};x&&(S.options={data:{invite_token:x,role:g?.role||"standard"}});const{data:P,error:B}=await Re.auth.signUp(S);if(B)throw B;P.user&&n({title:"Success",description:"Please check your email to confirm your account"})}catch(S){n({title:"Error",description:S.message,variant:"destructive"})}finally{m(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Project Manager"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:g?"Complete your invitation":"Sign in to your account or create a new one"})]}),g&&s.jsxs(BE,{children:[s.jsx(BS,{className:"h-4 w-4"}),s.jsxs($E,{children:["You've been invited to join as a ",s.jsx("strong",{children:g.role})," user. Please create your account to continue."]})]}),s.jsxs(Qe,{children:[s.jsxs(dt,{children:[s.jsx(ht,{children:"Authentication"}),s.jsx(Vv,{children:g?"Create your account":"Sign in or create an account"})]}),s.jsx(Je,{children:s.jsxs(oi,{defaultValue:g?"signup":"signin",className:"w-full",children:[s.jsxs(ws,{className:"grid w-full grid-cols-2",children:[s.jsx(Ht,{value:"signin",disabled:!!g,children:"Sign In"}),s.jsx(Ht,{value:"signup",children:"Sign Up"})]}),s.jsx(or,{value:"signin",className:"space-y-4",children:s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"signin-email",children:"Email"}),s.jsx(De,{id:"signin-email",type:"email",value:i,onChange:_=>a(_.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"signin-password",children:"Password"}),s.jsx(Al,{id:"signin-password",value:l,onChange:_=>c(_.target.value),required:!0})]}),s.jsx(_e,{type:"submit",className:"w-full",disabled:f,children:f?s.jsxs(s.Fragment,{children:[s.jsx(Va,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})}),s.jsx(or,{value:"signup",className:"space-y-4",children:s.jsxs("form",{onSubmit:E,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"signup-email",children:"Email"}),s.jsx(De,{id:"signup-email",type:"email",value:i,onChange:_=>a(_.target.value),required:!0,disabled:!!g})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"signup-password",children:"Password"}),s.jsx(Al,{id:"signup-password",value:l,onChange:_=>c(_.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"confirm-password",children:"Confirm Password"}),s.jsx(Al,{id:"confirm-password",value:d,onChange:_=>h(_.target.value),required:!0})]}),s.jsx(_e,{type:"submit",className:"w-full",disabled:f,children:f?s.jsxs(s.Fragment,{children:[s.jsx(Va,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"})]})})]})})]})]})})},Ep=1024;function Y5(){const[e,t]=N.useState(void 0);return N.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Ep-1}px)`),n=()=>{t(window.innerWidth<Ep)};return r.addEventListener("change",n),t(window.innerWidth<Ep),()=>r.removeEventListener("change",n)},[]),!!e}var X5="Separator",Xb="horizontal",Q5=["horizontal","vertical"],HE=N.forwardRef((e,t)=>{const{decorative:r,orientation:n=Xb,...i}=e,a=J5(n)?n:Xb,c=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(We.div,{"data-orientation":a,...c,...i,ref:t})});HE.displayName=X5;function J5(e){return Q5.includes(e)}var WE=HE;const qE=N.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>s.jsx(WE,{ref:i,decorative:r,orientation:t,className:Pe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));qE.displayName=WE.displayName;var Np="focusScope.autoFocusOnMount",Cp="focusScope.autoFocusOnUnmount",Qb={bubbles:!1,cancelable:!0},Z5="FocusScope",Wd=N.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=e,[c,d]=N.useState(null),h=zt(i),f=zt(a),m=N.useRef(null),g=rt(t,v=>d(v)),y=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(n){let v=function(_){if(y.paused||!c)return;const S=_.target;c.contains(S)?m.current=S:Ks(m.current,{select:!0})},b=function(_){if(y.paused||!c)return;const S=_.relatedTarget;S!==null&&(c.contains(S)||Ks(m.current,{select:!0}))},w=function(_){if(document.activeElement===document.body)for(const P of _)P.removedNodes.length>0&&Ks(c)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const E=new MutationObserver(w);return c&&E.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),E.disconnect()}}},[n,c,y.paused]),N.useEffect(()=>{if(c){Zb.add(y);const v=document.activeElement;if(!c.contains(v)){const w=new CustomEvent(Np,Qb);c.addEventListener(Np,h),c.dispatchEvent(w),w.defaultPrevented||(e6(i6(VE(c)),{select:!0}),document.activeElement===v&&Ks(c))}return()=>{c.removeEventListener(Np,h),setTimeout(()=>{const w=new CustomEvent(Cp,Qb);c.addEventListener(Cp,f),c.dispatchEvent(w),w.defaultPrevented||Ks(v??document.body,{select:!0}),c.removeEventListener(Cp,f),Zb.remove(y)},0)}}},[c,h,f,y]);const x=N.useCallback(v=>{if(!r&&!n||y.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(b&&w){const E=v.currentTarget,[_,S]=t6(E);_&&S?!v.shiftKey&&w===S?(v.preventDefault(),r&&Ks(_,{select:!0})):v.shiftKey&&w===_&&(v.preventDefault(),r&&Ks(S,{select:!0})):w===E&&v.preventDefault()}},[r,n,y.paused]);return s.jsx(We.div,{tabIndex:-1,...l,ref:g,onKeyDown:x})});Wd.displayName=Z5;function e6(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ks(n,{select:t}),document.activeElement!==r)return}function t6(e){const t=VE(e),r=Jb(t,e),n=Jb(t.reverse(),e);return[r,n]}function VE(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Jb(e,t){for(const r of e)if(!r6(r,{upTo:t}))return r}function r6(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function n6(e){return e instanceof HTMLInputElement&&"select"in e}function Ks(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&n6(e)&&t&&e.select()}}var Zb=s6();function s6(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=e1(e,t),e.unshift(t)},remove(t){e=e1(e,t),e[0]?.resume()}}}function e1(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function i6(e){return e.filter(t=>t.tagName!=="A")}var kp=0;function Yv(){N.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??t1()),document.body.insertAdjacentElement("beforeend",e[1]??t1()),kp++,()=>{kp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),kp--}},[])}function t1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Un=function(){return Un=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Un.apply(this,arguments)};function KE(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function a6(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var ad="right-scroll-bar-position",od="width-before-scroll-bar",o6="with-scroll-bars-hidden",l6="--removed-body-scroll-bar-size";function Tp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function c6(e,t){var r=N.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var u6=typeof window<"u"?N.useLayoutEffect:N.useEffect,r1=new WeakMap;function d6(e,t){var r=c6(null,function(n){return e.forEach(function(i){return Tp(i,n)})});return u6(function(){var n=r1.get(r);if(n){var i=new Set(n),a=new Set(e),l=r.current;i.forEach(function(c){a.has(c)||Tp(c,null)}),a.forEach(function(c){i.has(c)||Tp(c,l)})}r1.set(r,e)},[e]),r}function h6(e){return e}function f6(e,t){t===void 0&&(t=h6);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var l=t(a,n);return r.push(l),function(){r=r.filter(function(c){return c!==l})}},assignSyncMedium:function(a){for(n=!0;r.length;){var l=r;r=[],l.forEach(a)}r={push:function(c){return a(c)},filter:function(){return r}}},assignMedium:function(a){n=!0;var l=[];if(r.length){var c=r;r=[],c.forEach(a),l=r}var d=function(){var f=l;l=[],f.forEach(a)},h=function(){return Promise.resolve().then(d)};h(),r={push:function(f){l.push(f),h()},filter:function(f){return l=l.filter(f),r}}}};return i}function p6(e){e===void 0&&(e={});var t=f6(null);return t.options=Un({async:!0,ssr:!1},e),t}var GE=function(e){var t=e.sideCar,r=KE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return N.createElement(n,Un({},r))};GE.isSideCarExport=!0;function m6(e,t){return e.useMedium(t),GE}var YE=p6(),Pp=function(){},qd=N.forwardRef(function(e,t){var r=N.useRef(null),n=N.useState({onScrollCapture:Pp,onWheelCapture:Pp,onTouchMoveCapture:Pp}),i=n[0],a=n[1],l=e.forwardProps,c=e.children,d=e.className,h=e.removeScrollBar,f=e.enabled,m=e.shards,g=e.sideCar,y=e.noIsolation,x=e.inert,v=e.allowPinchZoom,b=e.as,w=b===void 0?"div":b,E=e.gapMode,_=KE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=g,P=d6([r,t]),B=Un(Un({},_),i);return N.createElement(N.Fragment,null,f&&N.createElement(S,{sideCar:YE,removeScrollBar:h,shards:m,noIsolation:y,inert:x,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:E}),l?N.cloneElement(N.Children.only(c),Un(Un({},B),{ref:P})):N.createElement(w,Un({},B,{className:d,ref:P}),c))});qd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qd.classNames={fullWidth:od,zeroRight:ad};var g6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function v6(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=g6();return t&&e.setAttribute("nonce",t),e}function y6(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function x6(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var w6=function(){var e=0,t=null;return{add:function(r){e==0&&(t=v6())&&(y6(t,r),x6(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},b6=function(){var e=w6();return function(t,r){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},XE=function(){var e=b6(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},_6={left:0,top:0,right:0,gap:0},Ap=function(e){return parseInt(e||"",10)||0},j6=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Ap(r),Ap(n),Ap(i)]},S6=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return _6;var t=j6(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},E6=XE(),Ua="data-scroll-locked",N6=function(e,t,r,n){var i=e.left,a=e.top,l=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(o6,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Ua,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ad,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(od,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(ad," .").concat(ad,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(od," .").concat(od,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ua,`] {
    `).concat(l6,": ").concat(c,`px;
  }
`)},n1=function(){var e=parseInt(document.body.getAttribute(Ua)||"0",10);return isFinite(e)?e:0},C6=function(){N.useEffect(function(){return document.body.setAttribute(Ua,(n1()+1).toString()),function(){var e=n1()-1;e<=0?document.body.removeAttribute(Ua):document.body.setAttribute(Ua,e.toString())}},[])},k6=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;C6();var a=N.useMemo(function(){return S6(i)},[i]);return N.createElement(E6,{styles:N6(a,!t,i,r?"":"!important")})},Qg=!1;if(typeof window<"u")try{var Bu=Object.defineProperty({},"passive",{get:function(){return Qg=!0,!0}});window.addEventListener("test",Bu,Bu),window.removeEventListener("test",Bu,Bu)}catch{Qg=!1}var Pa=Qg?{passive:!1}:!1,T6=function(e){return e.tagName==="TEXTAREA"},QE=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!T6(e)&&r[t]==="visible")},P6=function(e){return QE(e,"overflowY")},A6=function(e){return QE(e,"overflowX")},s1=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=JE(e,n);if(i){var a=ZE(e,n),l=a[1],c=a[2];if(l>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},R6=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},D6=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},JE=function(e,t){return e==="v"?P6(t):A6(t)},ZE=function(e,t){return e==="v"?R6(t):D6(t)},O6=function(e,t){return e==="h"&&t==="rtl"?-1:1},I6=function(e,t,r,n,i){var a=O6(e,window.getComputedStyle(t).direction),l=a*n,c=r.target,d=t.contains(c),h=!1,f=l>0,m=0,g=0;do{var y=ZE(e,c),x=y[0],v=y[1],b=y[2],w=v-b-a*x;(x||w)&&JE(e,c)&&(m+=w,g+=x),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(f&&Math.abs(m)<1||!f&&Math.abs(g)<1)&&(h=!0),h},$u=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},i1=function(e){return[e.deltaX,e.deltaY]},a1=function(e){return e&&"current"in e?e.current:e},M6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},F6=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},L6=0,Aa=[];function U6(e){var t=N.useRef([]),r=N.useRef([0,0]),n=N.useRef(),i=N.useState(L6++)[0],a=N.useState(XE)[0],l=N.useRef(e);N.useEffect(function(){l.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=a6([e.lockRef.current],(e.shards||[]).map(a1),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=N.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!l.current.allowPinchZoom;var w=$u(v),E=r.current,_="deltaX"in v?v.deltaX:E[0]-w[0],S="deltaY"in v?v.deltaY:E[1]-w[1],P,B=v.target,L=Math.abs(_)>Math.abs(S)?"h":"v";if("touches"in v&&L==="h"&&B.type==="range")return!1;var U=s1(L,B);if(!U)return!0;if(U?P=L:(P=L==="v"?"h":"v",U=s1(L,B)),!U)return!1;if(!n.current&&"changedTouches"in v&&(_||S)&&(n.current=P),!P)return!0;var F=n.current||P;return I6(F,b,v,F==="h"?_:S)},[]),d=N.useCallback(function(v){var b=v;if(!(!Aa.length||Aa[Aa.length-1]!==a)){var w="deltaY"in b?i1(b):$u(b),E=t.current.filter(function(P){return P.name===b.type&&(P.target===b.target||b.target===P.shadowParent)&&M6(P.delta,w)})[0];if(E&&E.should){b.cancelable&&b.preventDefault();return}if(!E){var _=(l.current.shards||[]).map(a1).filter(Boolean).filter(function(P){return P.contains(b.target)}),S=_.length>0?c(b,_[0]):!l.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),h=N.useCallback(function(v,b,w,E){var _={name:v,delta:b,target:w,should:E,shadowParent:B6(w)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(S){return S!==_})},1)},[]),f=N.useCallback(function(v){r.current=$u(v),n.current=void 0},[]),m=N.useCallback(function(v){h(v.type,i1(v),v.target,c(v,e.lockRef.current))},[]),g=N.useCallback(function(v){h(v.type,$u(v),v.target,c(v,e.lockRef.current))},[]);N.useEffect(function(){return Aa.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",d,Pa),document.addEventListener("touchmove",d,Pa),document.addEventListener("touchstart",f,Pa),function(){Aa=Aa.filter(function(v){return v!==a}),document.removeEventListener("wheel",d,Pa),document.removeEventListener("touchmove",d,Pa),document.removeEventListener("touchstart",f,Pa)}},[]);var y=e.removeScrollBar,x=e.inert;return N.createElement(N.Fragment,null,x?N.createElement(a,{styles:F6(i)}):null,y?N.createElement(k6,{gapMode:e.gapMode}):null)}function B6(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $6=m6(YE,U6);var Vd=N.forwardRef(function(e,t){return N.createElement(qd,Un({},e,{ref:t,sideCar:$6}))});Vd.classNames=qd.classNames;var z6=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ra=new WeakMap,zu=new WeakMap,Hu={},Rp=0,eN=function(e){return e&&(e.host||eN(e.parentNode))},H6=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=eN(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},W6=function(e,t,r,n){var i=H6(t,Array.isArray(e)?e:[e]);Hu[r]||(Hu[r]=new WeakMap);var a=Hu[r],l=[],c=new Set,d=new Set(i),h=function(m){!m||c.has(m)||(c.add(m),h(m.parentNode))};i.forEach(h);var f=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(g){if(c.has(g))f(g);else try{var y=g.getAttribute(n),x=y!==null&&y!=="false",v=(Ra.get(g)||0)+1,b=(a.get(g)||0)+1;Ra.set(g,v),a.set(g,b),l.push(g),v===1&&x&&zu.set(g,!0),b===1&&g.setAttribute(r,"true"),x||g.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",g,w)}})};return f(t),c.clear(),Rp++,function(){l.forEach(function(m){var g=Ra.get(m)-1,y=a.get(m)-1;Ra.set(m,g),a.set(m,y),g||(zu.has(m)||m.removeAttribute(n),zu.delete(m)),y||m.removeAttribute(r)}),Rp--,Rp||(Ra=new WeakMap,Ra=new WeakMap,zu=new WeakMap,Hu={})}},Xv=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=z6(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),W6(n,i,r,"aria-hidden")):function(){return null}},Qv="Dialog",[tN,rN]=an(Qv),[q6,kn]=tN(Qv),nN=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:l=!0}=e,c=N.useRef(null),d=N.useRef(null),[h=!1,f]=jn({prop:n,defaultProp:i,onChange:a});return s.jsx(q6,{scope:t,triggerRef:c,contentRef:d,contentId:zn(),titleId:zn(),descriptionId:zn(),open:h,onOpenChange:f,onOpenToggle:N.useCallback(()=>f(m=>!m),[f]),modal:l,children:r})};nN.displayName=Qv;var sN="DialogTrigger",iN=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=kn(sN,r),a=rt(t,i.triggerRef);return s.jsx(We.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ey(i.open),...n,ref:a,onClick:Le(e.onClick,i.onOpenToggle)})});iN.displayName=sN;var Jv="DialogPortal",[V6,aN]=tN(Jv,{forceMount:void 0}),oN=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=kn(Jv,t);return s.jsx(V6,{scope:t,forceMount:r,children:N.Children.map(n,l=>s.jsx(Cr,{present:r||a.open,children:s.jsx(Gl,{asChild:!0,container:i,children:l})}))})};oN.displayName=Jv;var vd="DialogOverlay",lN=N.forwardRef((e,t)=>{const r=aN(vd,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=kn(vd,e.__scopeDialog);return a.modal?s.jsx(Cr,{present:n||a.open,children:s.jsx(K6,{...i,ref:t})}):null});lN.displayName=vd;var K6=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=kn(vd,r);return s.jsx(Vd,{as:Vr,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(We.div,{"data-state":ey(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),$i="DialogContent",cN=N.forwardRef((e,t)=>{const r=aN($i,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=kn($i,e.__scopeDialog);return s.jsx(Cr,{present:n||a.open,children:a.modal?s.jsx(G6,{...i,ref:t}):s.jsx(Y6,{...i,ref:t})})});cN.displayName=$i;var G6=N.forwardRef((e,t)=>{const r=kn($i,e.__scopeDialog),n=N.useRef(null),i=rt(t,r.contentRef,n);return N.useEffect(()=>{const a=n.current;if(a)return Xv(a)},[]),s.jsx(uN,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(e.onCloseAutoFocus,a=>{a.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Le(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&a.preventDefault()}),onFocusOutside:Le(e.onFocusOutside,a=>a.preventDefault())})}),Y6=N.forwardRef((e,t)=>{const r=kn($i,e.__scopeDialog),n=N.useRef(!1),i=N.useRef(!1);return s.jsx(uN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;r.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),uN=N.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=e,c=kn($i,r),d=N.useRef(null),h=rt(t,d);return Yv(),s.jsxs(s.Fragment,{children:[s.jsx(Wd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(mo,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":ey(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Q6,{titleId:c.titleId}),s.jsx(Z6,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Zv="DialogTitle",dN=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=kn(Zv,r);return s.jsx(We.h2,{id:i.titleId,...n,ref:t})});dN.displayName=Zv;var hN="DialogDescription",fN=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=kn(hN,r);return s.jsx(We.p,{id:i.descriptionId,...n,ref:t})});fN.displayName=hN;var pN="DialogClose",mN=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=kn(pN,r);return s.jsx(We.button,{type:"button",...n,ref:t,onClick:Le(e.onClick,()=>i.onOpenChange(!1))})});mN.displayName=pN;function ey(e){return e?"open":"closed"}var gN="DialogTitleWarning",[X6,vN]=E4(gN,{contentName:$i,titleName:Zv,docsSlug:"dialog"}),Q6=({titleId:e})=>{const t=vN(gN),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},J6="DialogDescriptionWarning",Z6=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vN(J6).contentName}}.`;return N.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},ty=nN,e3=iN,ry=oN,ec=lN,tc=cN,rc=dN,nc=fN,Kd=mN;const sc=ty,t3=ry,yN=N.forwardRef(({className:e,...t},r)=>s.jsx(ec,{className:Pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));yN.displayName=ec.displayName;const r3=Ki("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),yo=N.forwardRef(({side:e="right",className:t,children:r,...n},i)=>s.jsxs(t3,{children:[s.jsx(yN,{}),s.jsxs(tc,{ref:i,className:Pe(r3({side:e}),t),...n,children:[r,s.jsxs(Kd,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Fr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yo.displayName=tc.displayName;const ic=({className:e,...t})=>s.jsx("div",{className:Pe("flex flex-col space-y-2 text-center sm:text-left",e),...t});ic.displayName="SheetHeader";const ac=N.forwardRef(({className:e,...t},r)=>s.jsx(rc,{ref:r,className:Pe("text-lg font-semibold text-foreground",e),...t}));ac.displayName=rc.displayName;const ny=N.forwardRef(({className:e,...t},r)=>s.jsx(nc,{ref:r,className:Pe("text-sm text-muted-foreground",e),...t}));ny.displayName=nc.displayName;function $t({className:e,...t}){return s.jsx("div",{className:Pe("animate-pulse rounded-md bg-muted",e),...t})}const n3=["top","right","bottom","left"],ei=Math.min,Wr=Math.max,yd=Math.round,Wu=Math.floor,ti=e=>({x:e,y:e}),s3={left:"right",right:"left",bottom:"top",top:"bottom"},i3={start:"end",end:"start"};function Jg(e,t,r){return Wr(e,ei(t,r))}function ys(e,t){return typeof e=="function"?e(t):e}function xs(e){return e.split("-")[0]}function xo(e){return e.split("-")[1]}function sy(e){return e==="x"?"y":"x"}function iy(e){return e==="y"?"height":"width"}function ri(e){return["top","bottom"].includes(xs(e))?"y":"x"}function ay(e){return sy(ri(e))}function a3(e,t,r){r===void 0&&(r=!1);const n=xo(e),i=ay(e),a=iy(i);let l=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=xd(l)),[l,xd(l)]}function o3(e){const t=xd(e);return[Zg(e),t,Zg(t)]}function Zg(e){return e.replace(/start|end/g,t=>i3[t])}function l3(e,t,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?a:l;default:return[]}}function c3(e,t,r,n){const i=xo(e);let a=l3(xs(e),r==="start",n);return i&&(a=a.map(l=>l+"-"+i),t&&(a=a.concat(a.map(Zg)))),a}function xd(e){return e.replace(/left|right|bottom|top/g,t=>s3[t])}function u3(e){return{top:0,right:0,bottom:0,left:0,...e}}function xN(e){return typeof e!="number"?u3(e):{top:e,right:e,bottom:e,left:e}}function wd(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function o1(e,t,r){let{reference:n,floating:i}=e;const a=ri(t),l=ay(t),c=iy(l),d=xs(t),h=a==="y",f=n.x+n.width/2-i.width/2,m=n.y+n.height/2-i.height/2,g=n[c]/2-i[c]/2;let y;switch(d){case"top":y={x:f,y:n.y-i.height};break;case"bottom":y={x:f,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:m};break;case"left":y={x:n.x-i.width,y:m};break;default:y={x:n.x,y:n.y}}switch(xo(t)){case"start":y[l]-=g*(r&&h?-1:1);break;case"end":y[l]+=g*(r&&h?-1:1);break}return y}const d3=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:l}=r,c=a.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let h=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:m}=o1(h,n,d),g=n,y={},x=0;for(let v=0;v<c.length;v++){const{name:b,fn:w}=c[v],{x:E,y:_,data:S,reset:P}=await w({x:f,y:m,initialPlacement:n,placement:g,strategy:i,middlewareData:y,rects:h,platform:l,elements:{reference:e,floating:t}});f=E??f,m=_??m,y={...y,[b]:{...y[b],...S}},P&&x<=50&&(x++,typeof P=="object"&&(P.placement&&(g=P.placement),P.rects&&(h=P.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):P.rects),{x:f,y:m}=o1(h,g,d)),v=-1)}return{x:f,y:m,placement:g,strategy:i,middlewareData:y}};async function $l(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:l,elements:c,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:g=!1,padding:y=0}=ys(t,e),x=xN(y),b=c[g?m==="floating"?"reference":"floating":m],w=wd(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(b)))==null||r?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:h,rootBoundary:f,strategy:d})),E=m==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),S=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},P=wd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:E,offsetParent:_,strategy:d}):E);return{top:(w.top-P.top+x.top)/S.y,bottom:(P.bottom-w.bottom+x.bottom)/S.y,left:(w.left-P.left+x.left)/S.x,right:(P.right-w.right+x.right)/S.x}}const h3=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:l,elements:c,middlewareData:d}=t,{element:h,padding:f=0}=ys(e,t)||{};if(h==null)return{};const m=xN(f),g={x:r,y:n},y=ay(i),x=iy(y),v=await l.getDimensions(h),b=y==="y",w=b?"top":"left",E=b?"bottom":"right",_=b?"clientHeight":"clientWidth",S=a.reference[x]+a.reference[y]-g[y]-a.floating[x],P=g[y]-a.reference[y],B=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let L=B?B[_]:0;(!L||!await(l.isElement==null?void 0:l.isElement(B)))&&(L=c.floating[_]||a.floating[x]);const U=S/2-P/2,F=L/2-v[x]/2-1,ee=ei(m[w],F),me=ei(m[E],F),z=ee,G=L-v[x]-me,A=L/2-v[x]/2+U,te=Jg(z,A,G),J=!d.arrow&&xo(i)!=null&&A!==te&&a.reference[x]/2-(A<z?ee:me)-v[x]/2<0,V=J?A<z?A-z:A-G:0;return{[y]:g[y]+V,data:{[y]:te,centerOffset:A-te-V,...J&&{alignmentOffset:V}},reset:J}}}),f3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:l,initialPlacement:c,platform:d,elements:h}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...b}=ys(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const w=xs(i),E=ri(c),_=xs(c)===c,S=await(d.isRTL==null?void 0:d.isRTL(h.floating)),P=g||(_||!v?[xd(c)]:o3(c)),B=x!=="none";!g&&B&&P.push(...c3(c,v,x,S));const L=[c,...P],U=await $l(t,b),F=[];let ee=((n=a.flip)==null?void 0:n.overflows)||[];if(f&&F.push(U[w]),m){const A=a3(i,l,S);F.push(U[A[0]],U[A[1]])}if(ee=[...ee,{placement:i,overflows:F}],!F.every(A=>A<=0)){var me,z;const A=(((me=a.flip)==null?void 0:me.index)||0)+1,te=L[A];if(te)return{data:{index:A,overflows:ee},reset:{placement:te}};let J=(z=ee.filter(V=>V.overflows[0]<=0).sort((V,X)=>V.overflows[1]-X.overflows[1])[0])==null?void 0:z.placement;if(!J)switch(y){case"bestFit":{var G;const V=(G=ee.filter(X=>{if(B){const ne=ri(X.placement);return ne===E||ne==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(ne=>ne>0).reduce((ne,he)=>ne+he,0)]).sort((X,ne)=>X[1]-ne[1])[0])==null?void 0:G[0];V&&(J=V);break}case"initialPlacement":J=c;break}if(i!==J)return{reset:{placement:J}}}return{}}}};function l1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function c1(e){return n3.some(t=>e[t]>=0)}const p3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=ys(e,t);switch(n){case"referenceHidden":{const a=await $l(t,{...i,elementContext:"reference"}),l=l1(a,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:c1(l)}}}case"escaped":{const a=await $l(t,{...i,altBoundary:!0}),l=l1(a,r.floating);return{data:{escapedOffsets:l,escaped:c1(l)}}}default:return{}}}}};async function m3(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=xs(r),c=xo(r),d=ri(r)==="y",h=["left","top"].includes(l)?-1:1,f=a&&d?-1:1,m=ys(t,e);let{mainAxis:g,crossAxis:y,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof x=="number"&&(y=c==="end"?x*-1:x),d?{x:y*f,y:g*h}:{x:g*h,y:y*f}}const g3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:l,middlewareData:c}=t,d=await m3(t,e);return l===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:l}}}}},v3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:b=>{let{x:w,y:E}=b;return{x:w,y:E}}},...d}=ys(e,t),h={x:r,y:n},f=await $l(t,d),m=ri(xs(i)),g=sy(m);let y=h[g],x=h[m];if(a){const b=g==="y"?"top":"left",w=g==="y"?"bottom":"right",E=y+f[b],_=y-f[w];y=Jg(E,y,_)}if(l){const b=m==="y"?"top":"left",w=m==="y"?"bottom":"right",E=x+f[b],_=x-f[w];x=Jg(E,x,_)}const v=c.fn({...t,[g]:y,[m]:x});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[g]:a,[m]:l}}}}}},y3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:l}=t,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=ys(e,t),f={x:r,y:n},m=ri(i),g=sy(m);let y=f[g],x=f[m];const v=ys(c,t),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(d){const _=g==="y"?"height":"width",S=a.reference[g]-a.floating[_]+b.mainAxis,P=a.reference[g]+a.reference[_]-b.mainAxis;y<S?y=S:y>P&&(y=P)}if(h){var w,E;const _=g==="y"?"width":"height",S=["top","left"].includes(xs(i)),P=a.reference[m]-a.floating[_]+(S&&((w=l.offset)==null?void 0:w[m])||0)+(S?0:b.crossAxis),B=a.reference[m]+a.reference[_]+(S?0:((E=l.offset)==null?void 0:E[m])||0)-(S?b.crossAxis:0);x<P?x=P:x>B&&(x=B)}return{[g]:y,[m]:x}}}},x3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:l,elements:c}=t,{apply:d=()=>{},...h}=ys(e,t),f=await $l(t,h),m=xs(i),g=xo(i),y=ri(i)==="y",{width:x,height:v}=a.floating;let b,w;m==="top"||m==="bottom"?(b=m,w=g===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(w=m,b=g==="end"?"top":"bottom");const E=v-f.top-f.bottom,_=x-f.left-f.right,S=ei(v-f[b],E),P=ei(x-f[w],_),B=!t.middlewareData.shift;let L=S,U=P;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(U=_),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(L=E),B&&!g){const ee=Wr(f.left,0),me=Wr(f.right,0),z=Wr(f.top,0),G=Wr(f.bottom,0);y?U=x-2*(ee!==0||me!==0?ee+me:Wr(f.left,f.right)):L=v-2*(z!==0||G!==0?z+G:Wr(f.top,f.bottom))}await d({...t,availableWidth:U,availableHeight:L});const F=await l.getDimensions(c.floating);return x!==F.width||v!==F.height?{reset:{rects:!0}}:{}}}};function Gd(){return typeof window<"u"}function wo(e){return wN(e)?(e.nodeName||"").toLowerCase():"#document"}function qr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qn(e){var t;return(t=(wN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function wN(e){return Gd()?e instanceof Node||e instanceof qr(e).Node:!1}function Sn(e){return Gd()?e instanceof Element||e instanceof qr(e).Element:!1}function Vn(e){return Gd()?e instanceof HTMLElement||e instanceof qr(e).HTMLElement:!1}function u1(e){return!Gd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof qr(e).ShadowRoot}function oc(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=En(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function w3(e){return["table","td","th"].includes(wo(e))}function Yd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function oy(e){const t=ly(),r=Sn(e)?En(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function b3(e){let t=ni(e);for(;Vn(t)&&!Ga(t);){if(oy(t))return t;if(Yd(t))return null;t=ni(t)}return null}function ly(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ga(e){return["html","body","#document"].includes(wo(e))}function En(e){return qr(e).getComputedStyle(e)}function Xd(e){return Sn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ni(e){if(wo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||u1(e)&&e.host||Qn(e);return u1(t)?t.host:t}function bN(e){const t=ni(e);return Ga(t)?e.ownerDocument?e.ownerDocument.body:e.body:Vn(t)&&oc(t)?t:bN(t)}function zl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=bN(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),l=qr(i);if(a){const c=ev(l);return t.concat(l,l.visualViewport||[],oc(i)?i:[],c&&r?zl(c):[])}return t.concat(i,zl(i,[],r))}function ev(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _N(e){const t=En(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Vn(e),a=i?e.offsetWidth:r,l=i?e.offsetHeight:n,c=yd(r)!==a||yd(n)!==l;return c&&(r=a,n=l),{width:r,height:n,$:c}}function cy(e){return Sn(e)?e:e.contextElement}function Ba(e){const t=cy(e);if(!Vn(t))return ti(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=_N(t);let l=(a?yd(r.width):r.width)/n,c=(a?yd(r.height):r.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const _3=ti(0);function jN(e){const t=qr(e);return!ly()||!t.visualViewport?_3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function j3(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==qr(e)?!1:t}function zi(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=cy(e);let l=ti(1);t&&(n?Sn(n)&&(l=Ba(n)):l=Ba(e));const c=j3(a,r,n)?jN(a):ti(0);let d=(i.left+c.x)/l.x,h=(i.top+c.y)/l.y,f=i.width/l.x,m=i.height/l.y;if(a){const g=qr(a),y=n&&Sn(n)?qr(n):n;let x=g,v=ev(x);for(;v&&n&&y!==x;){const b=Ba(v),w=v.getBoundingClientRect(),E=En(v),_=w.left+(v.clientLeft+parseFloat(E.paddingLeft))*b.x,S=w.top+(v.clientTop+parseFloat(E.paddingTop))*b.y;d*=b.x,h*=b.y,f*=b.x,m*=b.y,d+=_,h+=S,x=qr(v),v=ev(x)}}return wd({width:f,height:m,x:d,y:h})}function S3(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",l=Qn(n),c=t?Yd(t.floating):!1;if(n===l||c&&a)return r;let d={scrollLeft:0,scrollTop:0},h=ti(1);const f=ti(0),m=Vn(n);if((m||!m&&!a)&&((wo(n)!=="body"||oc(l))&&(d=Xd(n)),Vn(n))){const g=zi(n);h=Ba(n),f.x=g.x+n.clientLeft,f.y=g.y+n.clientTop}return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-d.scrollLeft*h.x+f.x,y:r.y*h.y-d.scrollTop*h.y+f.y}}function E3(e){return Array.from(e.getClientRects())}function tv(e,t){const r=Xd(e).scrollLeft;return t?t.left+r:zi(Qn(e)).left+r}function N3(e){const t=Qn(e),r=Xd(e),n=e.ownerDocument.body,i=Wr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Wr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+tv(e);const c=-r.scrollTop;return En(n).direction==="rtl"&&(l+=Wr(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:l,y:c}}function C3(e,t){const r=qr(e),n=Qn(e),i=r.visualViewport;let a=n.clientWidth,l=n.clientHeight,c=0,d=0;if(i){a=i.width,l=i.height;const h=ly();(!h||h&&t==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:a,height:l,x:c,y:d}}function k3(e,t){const r=zi(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=Vn(e)?Ba(e):ti(1),l=e.clientWidth*a.x,c=e.clientHeight*a.y,d=i*a.x,h=n*a.y;return{width:l,height:c,x:d,y:h}}function d1(e,t,r){let n;if(t==="viewport")n=C3(e,r);else if(t==="document")n=N3(Qn(e));else if(Sn(t))n=k3(t,r);else{const i=jN(e);n={...t,x:t.x-i.x,y:t.y-i.y}}return wd(n)}function SN(e,t){const r=ni(e);return r===t||!Sn(r)||Ga(r)?!1:En(r).position==="fixed"||SN(r,t)}function T3(e,t){const r=t.get(e);if(r)return r;let n=zl(e,[],!1).filter(c=>Sn(c)&&wo(c)!=="body"),i=null;const a=En(e).position==="fixed";let l=a?ni(e):e;for(;Sn(l)&&!Ga(l);){const c=En(l),d=oy(l);!d&&c.position==="fixed"&&(i=null),(a?!d&&!i:!d&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||oc(l)&&!d&&SN(e,l))?n=n.filter(f=>f!==l):i=c,l=ni(l)}return t.set(e,n),n}function P3(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const l=[...r==="clippingAncestors"?Yd(t)?[]:T3(t,this._c):[].concat(r),n],c=l[0],d=l.reduce((h,f)=>{const m=d1(t,f,i);return h.top=Wr(m.top,h.top),h.right=ei(m.right,h.right),h.bottom=ei(m.bottom,h.bottom),h.left=Wr(m.left,h.left),h},d1(t,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function A3(e){const{width:t,height:r}=_N(e);return{width:t,height:r}}function R3(e,t,r){const n=Vn(t),i=Qn(t),a=r==="fixed",l=zi(e,!0,a,t);let c={scrollLeft:0,scrollTop:0};const d=ti(0);if(n||!n&&!a)if((wo(t)!=="body"||oc(i))&&(c=Xd(t)),n){const y=zi(t,!0,a,t);d.x=y.x+t.clientLeft,d.y=y.y+t.clientTop}else i&&(d.x=tv(i));let h=0,f=0;if(i&&!n&&!a){const y=i.getBoundingClientRect();f=y.top+c.scrollTop,h=y.left+c.scrollLeft-tv(i,y)}const m=l.left+c.scrollLeft-d.x-h,g=l.top+c.scrollTop-d.y-f;return{x:m,y:g,width:l.width,height:l.height}}function Dp(e){return En(e).position==="static"}function h1(e,t){if(!Vn(e)||En(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Qn(e)===r&&(r=r.ownerDocument.body),r}function EN(e,t){const r=qr(e);if(Yd(e))return r;if(!Vn(e)){let i=ni(e);for(;i&&!Ga(i);){if(Sn(i)&&!Dp(i))return i;i=ni(i)}return r}let n=h1(e,t);for(;n&&w3(n)&&Dp(n);)n=h1(n,t);return n&&Ga(n)&&Dp(n)&&!oy(n)?r:n||b3(e)||r}const D3=async function(e){const t=this.getOffsetParent||EN,r=this.getDimensions,n=await r(e.floating);return{reference:R3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function O3(e){return En(e).direction==="rtl"}const I3={convertOffsetParentRelativeRectToViewportRelativeRect:S3,getDocumentElement:Qn,getClippingRect:P3,getOffsetParent:EN,getElementRects:D3,getClientRects:E3,getDimensions:A3,getScale:Ba,isElement:Sn,isRTL:O3};function M3(e,t){let r=null,n;const i=Qn(e);function a(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const{left:h,top:f,width:m,height:g}=e.getBoundingClientRect();if(c||t(),!m||!g)return;const y=Wu(f),x=Wu(i.clientWidth-(h+m)),v=Wu(i.clientHeight-(f+g)),b=Wu(h),E={rootMargin:-y+"px "+-x+"px "+-v+"px "+-b+"px",threshold:Wr(0,ei(1,d))||1};let _=!0;function S(P){const B=P[0].intersectionRatio;if(B!==d){if(!_)return l();B?l(!1,B):n=setTimeout(()=>{l(!1,1e-7)},1e3)}_=!1}try{r=new IntersectionObserver(S,{...E,root:i.ownerDocument})}catch{r=new IntersectionObserver(S,E)}r.observe(e)}return l(!0),a}function F3(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,h=cy(e),f=i||a?[...h?zl(h):[],...zl(t)]:[];f.forEach(w=>{i&&w.addEventListener("scroll",r,{passive:!0}),a&&w.addEventListener("resize",r)});const m=h&&c?M3(h,r):null;let g=-1,y=null;l&&(y=new ResizeObserver(w=>{let[E]=w;E&&E.target===h&&y&&(y.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var _;(_=y)==null||_.observe(t)})),r()}),h&&!d&&y.observe(h),y.observe(t));let x,v=d?zi(e):null;d&&b();function b(){const w=zi(e);v&&(w.x!==v.x||w.y!==v.y||w.width!==v.width||w.height!==v.height)&&r(),v=w,x=requestAnimationFrame(b)}return r(),()=>{var w;f.forEach(E=>{i&&E.removeEventListener("scroll",r),a&&E.removeEventListener("resize",r)}),m?.(),(w=y)==null||w.disconnect(),y=null,d&&cancelAnimationFrame(x)}}const L3=g3,U3=v3,B3=f3,$3=x3,z3=p3,f1=h3,H3=y3,W3=(e,t,r)=>{const n=new Map,i={platform:I3,...r},a={...i.platform,_c:n};return d3(e,t,{...i,platform:a})};var ld=typeof document<"u"?N.useLayoutEffect:N.useEffect;function bd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!bd(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!bd(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function NN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function p1(e,t){const r=NN(e);return Math.round(t*r)/r}function Op(e){const t=N.useRef(e);return ld(()=>{t.current=e}),t}function q3(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:d,open:h}=e,[f,m]=N.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,y]=N.useState(n);bd(g,n)||y(n);const[x,v]=N.useState(null),[b,w]=N.useState(null),E=N.useCallback(X=>{X!==B.current&&(B.current=X,v(X))},[]),_=N.useCallback(X=>{X!==L.current&&(L.current=X,w(X))},[]),S=a||x,P=l||b,B=N.useRef(null),L=N.useRef(null),U=N.useRef(f),F=d!=null,ee=Op(d),me=Op(i),z=Op(h),G=N.useCallback(()=>{if(!B.current||!L.current)return;const X={placement:t,strategy:r,middleware:g};me.current&&(X.platform=me.current),W3(B.current,L.current,X).then(ne=>{const he={...ne,isPositioned:z.current!==!1};A.current&&!bd(U.current,he)&&(U.current=he,fo.flushSync(()=>{m(he)}))})},[g,t,r,me,z]);ld(()=>{h===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,m(X=>({...X,isPositioned:!1})))},[h]);const A=N.useRef(!1);ld(()=>(A.current=!0,()=>{A.current=!1}),[]),ld(()=>{if(S&&(B.current=S),P&&(L.current=P),S&&P){if(ee.current)return ee.current(S,P,G);G()}},[S,P,G,ee,F]);const te=N.useMemo(()=>({reference:B,floating:L,setReference:E,setFloating:_}),[E,_]),J=N.useMemo(()=>({reference:S,floating:P}),[S,P]),V=N.useMemo(()=>{const X={position:r,left:0,top:0};if(!J.floating)return X;const ne=p1(J.floating,f.x),he=p1(J.floating,f.y);return c?{...X,transform:"translate("+ne+"px, "+he+"px)",...NN(J.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ne,top:he}},[r,c,J.floating,f.x,f.y]);return N.useMemo(()=>({...f,update:G,refs:te,elements:J,floatingStyles:V}),[f,G,te,J,V])}const V3=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?f1({element:n.current,padding:i}).fn(r):{}:n?f1({element:n,padding:i}).fn(r):{}}}},K3=(e,t)=>({...L3(e),options:[e,t]}),G3=(e,t)=>({...U3(e),options:[e,t]}),Y3=(e,t)=>({...H3(e),options:[e,t]}),X3=(e,t)=>({...B3(e),options:[e,t]}),Q3=(e,t)=>({...$3(e),options:[e,t]}),J3=(e,t)=>({...z3(e),options:[e,t]}),Z3=(e,t)=>({...V3(e),options:[e,t]});var eM="Arrow",CN=N.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return s.jsx(We.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});CN.displayName=eM;var tM=CN;function rM(e,t=[]){let r=[];function n(a,l){const c=N.createContext(l),d=r.length;r=[...r,l];function h(m){const{scope:g,children:y,...x}=m,v=g?.[e][d]||c,b=N.useMemo(()=>x,Object.values(x));return s.jsx(v.Provider,{value:b,children:y})}function f(m,g){const y=g?.[e][d]||c,x=N.useContext(y);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${a}\``)}return h.displayName=a+"Provider",[h,f]}const i=()=>{const a=r.map(l=>N.createContext(l));return function(c){const d=c?.[e]||a;return N.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return i.scopeName=e,[n,nM(i,...t)]}function nM(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=n.reduce((c,{useScope:d,scopeName:h})=>{const m=d(a)[`__scope${h}`];return{...c,...m}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}function Qd(e){const[t,r]=N.useState(void 0);return fr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,c;if("borderBoxSize"in a){const d=a.borderBoxSize,h=Array.isArray(d)?d[0]:d;l=h.inlineSize,c=h.blockSize}else l=e.offsetWidth,c=e.offsetHeight;r({width:l,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var uy="Popper",[kN,bo]=rM(uy),[sM,TN]=kN(uy),PN=e=>{const{__scopePopper:t,children:r}=e,[n,i]=N.useState(null);return s.jsx(sM,{scope:t,anchor:n,onAnchorChange:i,children:r})};PN.displayName=uy;var AN="PopperAnchor",RN=N.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=TN(AN,r),l=N.useRef(null),c=rt(t,l);return N.useEffect(()=>{a.onAnchorChange(n?.current||l.current)}),n?null:s.jsx(We.div,{...i,ref:c})});RN.displayName=AN;var dy="PopperContent",[iM,aM]=kN(dy),DN=N.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:x,...v}=e,b=TN(dy,r),[w,E]=N.useState(null),_=rt(t,D=>E(D)),[S,P]=N.useState(null),B=Qd(S),L=B?.width??0,U=B?.height??0,F=n+(a!=="center"?"-"+a:""),ee=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},me=Array.isArray(h)?h:[h],z=me.length>0,G={padding:ee,boundary:me.filter(lM),altBoundary:z},{refs:A,floatingStyles:te,placement:J,isPositioned:V,middlewareData:X}=q3({strategy:"fixed",placement:F,whileElementsMounted:(...D)=>F3(...D,{animationFrame:y==="always"}),elements:{reference:b.anchor},middleware:[K3({mainAxis:i+U,alignmentAxis:l}),d&&G3({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Y3():void 0,...G}),d&&X3({...G}),Q3({...G,apply:({elements:D,rects:O,availableWidth:re,availableHeight:Q})=>{const{width:K,height:Y}=O.reference,pe=D.floating.style;pe.setProperty("--radix-popper-available-width",`${re}px`),pe.setProperty("--radix-popper-available-height",`${Q}px`),pe.setProperty("--radix-popper-anchor-width",`${K}px`),pe.setProperty("--radix-popper-anchor-height",`${Y}px`)}}),S&&Z3({element:S,padding:c}),cM({arrowWidth:L,arrowHeight:U}),g&&J3({strategy:"referenceHidden",...G})]}),[ne,he]=MN(J),W=zt(x);fr(()=>{V&&W?.()},[V,W]);const H=X.arrow?.x,ie=X.arrow?.y,le=X.arrow?.centerOffset!==0,[fe,ae]=N.useState();return fr(()=>{w&&ae(window.getComputedStyle(w).zIndex)},[w]),s.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:V?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[X.transformOrigin?.x,X.transformOrigin?.y].join(" "),...X.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(iM,{scope:r,placedSide:ne,onArrowChange:P,arrowX:H,arrowY:ie,shouldHideArrow:le,children:s.jsx(We.div,{"data-side":ne,"data-align":he,...v,ref:_,style:{...v.style,animation:V?void 0:"none"}})})})});DN.displayName=dy;var ON="PopperArrow",oM={top:"bottom",right:"left",bottom:"top",left:"right"},IN=N.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=aM(ON,n),l=oM[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(tM,{...i,ref:r,style:{...i.style,display:"block"}})})});IN.displayName=ON;function lM(e){return e!==null}var cM=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,l=i.arrow?.centerOffset!==0,c=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[h,f]=MN(r),m={start:"0%",center:"50%",end:"100%"}[f],g=(i.arrow?.x??0)+c/2,y=(i.arrow?.y??0)+d/2;let x="",v="";return h==="bottom"?(x=l?m:`${g}px`,v=`${-d}px`):h==="top"?(x=l?m:`${g}px`,v=`${n.floating.height+d}px`):h==="right"?(x=`${-d}px`,v=l?m:`${y}px`):h==="left"&&(x=`${n.floating.width+d}px`,v=l?m:`${y}px`),{data:{x,y:v}}}});function MN(e){const[t,r="center"]=e.split("-");return[t,r]}var hy=PN,Jd=RN,fy=DN,py=IN,[Zd]=an("Tooltip",[bo]),eh=bo(),FN="TooltipProvider",uM=700,rv="tooltip.open",[dM,my]=Zd(FN),LN=e=>{const{__scopeTooltip:t,delayDuration:r=uM,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,[l,c]=N.useState(!0),d=N.useRef(!1),h=N.useRef(0);return N.useEffect(()=>{const f=h.current;return()=>window.clearTimeout(f)},[]),s.jsx(dM,{scope:t,isOpenDelayed:l,delayDuration:r,onOpen:N.useCallback(()=>{window.clearTimeout(h.current),c(!1)},[]),onClose:N.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>c(!0),n)},[n]),isPointerInTransitRef:d,onPointerInTransitChange:N.useCallback(f=>{d.current=f},[]),disableHoverableContent:i,children:a})};LN.displayName=FN;var th="Tooltip",[hM,rh]=Zd(th),UN=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:l,delayDuration:c}=e,d=my(th,e.__scopeTooltip),h=eh(t),[f,m]=N.useState(null),g=zn(),y=N.useRef(0),x=l??d.disableHoverableContent,v=c??d.delayDuration,b=N.useRef(!1),[w=!1,E]=jn({prop:n,defaultProp:i,onChange:L=>{L?(d.onOpen(),document.dispatchEvent(new CustomEvent(rv))):d.onClose(),a?.(L)}}),_=N.useMemo(()=>w?b.current?"delayed-open":"instant-open":"closed",[w]),S=N.useCallback(()=>{window.clearTimeout(y.current),y.current=0,b.current=!1,E(!0)},[E]),P=N.useCallback(()=>{window.clearTimeout(y.current),y.current=0,E(!1)},[E]),B=N.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{b.current=!0,E(!0),y.current=0},v)},[v,E]);return N.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),s.jsx(hy,{...h,children:s.jsx(hM,{scope:t,contentId:g,open:w,stateAttribute:_,trigger:f,onTriggerChange:m,onTriggerEnter:N.useCallback(()=>{d.isOpenDelayed?B():S()},[d.isOpenDelayed,B,S]),onTriggerLeave:N.useCallback(()=>{x?P():(window.clearTimeout(y.current),y.current=0)},[P,x]),onOpen:S,onClose:P,disableHoverableContent:x,children:r})})};UN.displayName=th;var nv="TooltipTrigger",BN=N.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=rh(nv,r),a=my(nv,r),l=eh(r),c=N.useRef(null),d=rt(t,c,i.onTriggerChange),h=N.useRef(!1),f=N.useRef(!1),m=N.useCallback(()=>h.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(Jd,{asChild:!0,...l,children:s.jsx(We.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:d,onPointerMove:Le(e.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Le(e.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Le(e.onPointerDown,()=>{h.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Le(e.onFocus,()=>{h.current||i.onOpen()}),onBlur:Le(e.onBlur,i.onClose),onClick:Le(e.onClick,i.onClose)})})});BN.displayName=nv;var fM="TooltipPortal",[sV,pM]=Zd(fM,{forceMount:void 0}),Ya="TooltipContent",$N=N.forwardRef((e,t)=>{const r=pM(Ya,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,l=rh(Ya,e.__scopeTooltip);return s.jsx(Cr,{present:n||l.open,children:l.disableHoverableContent?s.jsx(zN,{side:i,...a,ref:t}):s.jsx(mM,{side:i,...a,ref:t})})}),mM=N.forwardRef((e,t)=>{const r=rh(Ya,e.__scopeTooltip),n=my(Ya,e.__scopeTooltip),i=N.useRef(null),a=rt(t,i),[l,c]=N.useState(null),{trigger:d,onClose:h}=r,f=i.current,{onPointerInTransitChange:m}=n,g=N.useCallback(()=>{c(null),m(!1)},[m]),y=N.useCallback((x,v)=>{const b=x.currentTarget,w={x:x.clientX,y:x.clientY},E=xM(w,b.getBoundingClientRect()),_=wM(w,E),S=bM(v.getBoundingClientRect()),P=jM([..._,...S]);c(P),m(!0)},[m]);return N.useEffect(()=>()=>g(),[g]),N.useEffect(()=>{if(d&&f){const x=b=>y(b,f),v=b=>y(b,d);return d.addEventListener("pointerleave",x),f.addEventListener("pointerleave",v),()=>{d.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",v)}}},[d,f,y,g]),N.useEffect(()=>{if(l){const x=v=>{const b=v.target,w={x:v.clientX,y:v.clientY},E=d?.contains(b)||f?.contains(b),_=!_M(w,l);E?g():_&&(g(),h())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[d,f,l,h,g]),s.jsx(zN,{...e,ref:a})}),[gM,vM]=Zd(th,{isInside:!1}),zN=N.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:l,...c}=e,d=rh(Ya,r),h=eh(r),{onClose:f}=d;return N.useEffect(()=>(document.addEventListener(rv,f),()=>document.removeEventListener(rv,f)),[f]),N.useEffect(()=>{if(d.trigger){const m=g=>{g.target?.contains(d.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,f]),s.jsx(mo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:s.jsxs(fy,{"data-state":d.stateAttribute,...h,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Tv,{children:n}),s.jsx(gM,{scope:r,isInside:!0,children:s.jsx(H4,{id:d.contentId,role:"tooltip",children:i||n})})]})})});$N.displayName=Ya;var HN="TooltipArrow",yM=N.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=eh(r);return vM(HN,r).isInside?null:s.jsx(py,{...i,...n,ref:t})});yM.displayName=HN;function xM(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function wM(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function bM(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function _M(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const c=t[a].x,d=t[a].y,h=t[l].x,f=t[l].y;d>n!=f>n&&r<(h-c)*(n-d)/(f-d)+c&&(i=!i)}return i}function jM(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),SM(t)}function SM(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],l=t[t.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],l=r[r.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var EM=LN,NM=UN,CM=BN,WN=$N;const Js=EM,ir=NM,ar=CM,Xt=N.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(WN,{ref:n,sideOffset:t,className:Pe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Xt.displayName=WN.displayName;const kM="sidebar:state",TM=3600*24*7,PM="16rem",AM="18rem",RM="3rem",DM="b",qN=N.createContext(null);function nh(){const e=N.useContext(qN);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const gy=N.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:i,children:a,...l},c)=>{const d=Y5(),[h,f]=N.useState(!1),[m,g]=N.useState(e),y=t??m,x=N.useCallback(E=>{const _=typeof E=="function"?E(y):E;r?r(_):g(_),document.cookie=`${kM}=${_}; path=/; max-age=${TM}`},[r,y]),v=N.useCallback(()=>d?f(E=>!E):x(E=>!E),[d,x,f]);N.useEffect(()=>{const E=_=>{_.key===DM&&(_.metaKey||_.ctrlKey)&&(_.preventDefault(),v())};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[v]);const b=y?"expanded":"collapsed",w=N.useMemo(()=>({state:b,open:y,setOpen:x,isMobile:d,openMobile:h,setOpenMobile:f,toggleSidebar:v}),[b,y,x,d,h,f,v]);return s.jsx(qN.Provider,{value:w,children:s.jsx(Js,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":PM,"--sidebar-width-icon":RM,...i},className:Pe("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:c,...l,children:a})})})});gy.displayName="SidebarProvider";const VN=N.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:i,...a},l)=>{const{isMobile:c,state:d,openMobile:h,setOpenMobile:f}=nh();return r==="none"?s.jsx("div",{className:Pe("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:l,...a,children:i}):c?s.jsx(sc,{open:h,onOpenChange:f,...a,children:s.jsx(yo,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":AM},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):s.jsxs("div",{ref:l,className:"group peer hidden md:block text-sidebar-foreground","data-state":d,"data-collapsible":d==="collapsed"?r:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:Pe("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:Pe("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...a,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});VN.displayName="Sidebar";const vy=N.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:i}=nh();return s.jsxs(_e,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Pe("h-7 w-7",e),onClick:a=>{t?.(a),i()},...r,children:[s.jsx(SD,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});vy.displayName="SidebarTrigger";const OM=N.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=nh();return s.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:Pe("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});OM.displayName="SidebarRail";const KN=N.forwardRef(({className:e,...t},r)=>s.jsx("main",{ref:r,className:Pe("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));KN.displayName="SidebarInset";const IM=N.forwardRef(({className:e,...t},r)=>s.jsx(De,{ref:r,"data-sidebar":"input",className:Pe("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));IM.displayName="SidebarInput";const MM=N.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"header",className:Pe("flex flex-col gap-2 p-2",e),...t}));MM.displayName="SidebarHeader";const GN=N.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"footer",className:Pe("flex flex-col gap-2 p-2",e),...t}));GN.displayName="SidebarFooter";const FM=N.forwardRef(({className:e,...t},r)=>s.jsx(qE,{ref:r,"data-sidebar":"separator",className:Pe("mx-2 w-auto bg-sidebar-border",e),...t}));FM.displayName="SidebarSeparator";const YN=N.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"content",className:Pe("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));YN.displayName="SidebarContent";const XN=N.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group",className:Pe("relative flex w-full min-w-0 flex-col p-2",e),...t}));XN.displayName="SidebarGroup";const QN=N.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const i=t?Vr:"div";return s.jsx(i,{ref:n,"data-sidebar":"group-label",className:Pe("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});QN.displayName="SidebarGroupLabel";const LM=N.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const i=t?Vr:"button";return s.jsx(i,{ref:n,"data-sidebar":"group-action",className:Pe("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});LM.displayName="SidebarGroupAction";const JN=N.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group-content",className:Pe("w-full text-sm",e),...t}));JN.displayName="SidebarGroupContent";const ZN=N.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu",className:Pe("flex w-full min-w-0 flex-col gap-1",e),...t}));ZN.displayName="SidebarMenu";const eC=N.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,"data-sidebar":"menu-item",className:Pe("group/menu-item relative",e),...t}));eC.displayName="SidebarMenuItem";const UM=Ki("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),tC=N.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:i,className:a,...l},c)=>{const d=e?Vr:"button",{isMobile:h,state:f}=nh(),m=s.jsx(d,{ref:c,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:Pe(UM({variant:r,size:n}),a),...l});return i?(typeof i=="string"&&(i={children:i}),s.jsxs(ir,{children:[s.jsx(ar,{asChild:!0,children:m}),s.jsx(Xt,{side:"right",align:"center",hidden:f!=="collapsed"||h,...i})]})):m});tC.displayName="SidebarMenuButton";const BM=N.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},i)=>{const a=t?Vr:"button";return s.jsx(a,{ref:i,"data-sidebar":"menu-action",className:Pe("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});BM.displayName="SidebarMenuAction";const $M=N.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:Pe("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));$M.displayName="SidebarMenuBadge";const zM=N.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const i=N.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:Pe("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&s.jsx($t,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx($t,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});zM.displayName="SidebarMenuSkeleton";const HM=N.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:Pe("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));HM.displayName="SidebarMenuSub";const WM=N.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));WM.displayName="SidebarMenuSubItem";const qM=N.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...i},a)=>{const l=e?Vr:"a";return s.jsx(l,{ref:a,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:Pe("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...i})});qM.displayName="SidebarMenuSubButton";function sv(e,[t,r]){return Math.min(r,Math.max(t,e))}function sh(e){const t=N.useRef({value:e,previous:e});return N.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var VM=[" ","Enter","ArrowUp","ArrowDown"],KM=[" ","Enter"],lc="Select",[ih,ah,GM]=Pv(lc),[_o]=an(lc,[GM,bo]),oh=bo(),[YM,li]=_o(lc),[XM,QM]=_o(lc),rC=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:l,defaultValue:c,onValueChange:d,dir:h,name:f,autoComplete:m,disabled:g,required:y,form:x}=e,v=oh(t),[b,w]=N.useState(null),[E,_]=N.useState(null),[S,P]=N.useState(!1),B=Zl(h),[L=!1,U]=jn({prop:n,defaultProp:i,onChange:a}),[F,ee]=jn({prop:l,defaultProp:c,onChange:d}),me=N.useRef(null),z=b?x||!!b.closest("form"):!0,[G,A]=N.useState(new Set),te=Array.from(G).map(J=>J.props.value).join(";");return s.jsx(hy,{...v,children:s.jsxs(YM,{required:y,scope:t,trigger:b,onTriggerChange:w,valueNode:E,onValueNodeChange:_,valueNodeHasChildren:S,onValueNodeHasChildrenChange:P,contentId:zn(),value:F,onValueChange:ee,open:L,onOpenChange:U,dir:B,triggerPointerDownPosRef:me,disabled:g,children:[s.jsx(ih.Provider,{scope:t,children:s.jsx(XM,{scope:e.__scopeSelect,onNativeOptionAdd:N.useCallback(J=>{A(V=>new Set(V).add(J))},[]),onNativeOptionRemove:N.useCallback(J=>{A(V=>{const X=new Set(V);return X.delete(J),X})},[]),children:r})}),z?s.jsxs(CC,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:m,value:F,onChange:J=>ee(J.target.value),disabled:g,form:x,children:[F===void 0?s.jsx("option",{value:""}):null,Array.from(G)]},te):null]})})};rC.displayName=lc;var nC="SelectTrigger",sC=N.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=oh(r),l=li(nC,r),c=l.disabled||n,d=rt(t,l.onTriggerChange),h=ah(r),f=N.useRef("touch"),[m,g,y]=kC(v=>{const b=h().filter(_=>!_.disabled),w=b.find(_=>_.value===l.value),E=TC(b,v,w);E!==void 0&&l.onValueChange(E.value)}),x=v=>{c||(l.onOpenChange(!0),y()),v&&(l.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return s.jsx(Jd,{asChild:!0,...a,children:s.jsx(We.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":NC(l.value)?"":void 0,...i,ref:d,onClick:Le(i.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&x(v)}),onPointerDown:Le(i.onPointerDown,v=>{f.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:Le(i.onKeyDown,v=>{const b=m.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&g(v.key),!(b&&v.key===" ")&&VM.includes(v.key)&&(x(),v.preventDefault())})})})});sC.displayName=nC;var iC="SelectValue",aC=N.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:l="",...c}=e,d=li(iC,r),{onValueNodeHasChildrenChange:h}=d,f=a!==void 0,m=rt(t,d.onValueNodeChange);return fr(()=>{h(f)},[h,f]),s.jsx(We.span,{...c,ref:m,style:{pointerEvents:"none"},children:NC(d.value)?s.jsx(s.Fragment,{children:l}):a})});aC.displayName=iC;var JM="SelectIcon",oC=N.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return s.jsx(We.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});oC.displayName=JM;var ZM="SelectPortal",lC=e=>s.jsx(Gl,{asChild:!0,...e});lC.displayName=ZM;var Hi="SelectContent",cC=N.forwardRef((e,t)=>{const r=li(Hi,e.__scopeSelect),[n,i]=N.useState();if(fr(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?fo.createPortal(s.jsx(uC,{scope:e.__scopeSelect,children:s.jsx(ih.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(dC,{...e,ref:t})});cC.displayName=Hi;var yn=10,[uC,ci]=_o(Hi),e8="SelectContentImpl",dC=N.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:l,side:c,sideOffset:d,align:h,alignOffset:f,arrowPadding:m,collisionBoundary:g,collisionPadding:y,sticky:x,hideWhenDetached:v,avoidCollisions:b,...w}=e,E=li(Hi,r),[_,S]=N.useState(null),[P,B]=N.useState(null),L=rt(t,D=>S(D)),[U,F]=N.useState(null),[ee,me]=N.useState(null),z=ah(r),[G,A]=N.useState(!1),te=N.useRef(!1);N.useEffect(()=>{if(_)return Xv(_)},[_]),Yv();const J=N.useCallback(D=>{const[O,...re]=z().map(Y=>Y.ref.current),[Q]=re.slice(-1),K=document.activeElement;for(const Y of D)if(Y===K||(Y?.scrollIntoView({block:"nearest"}),Y===O&&P&&(P.scrollTop=0),Y===Q&&P&&(P.scrollTop=P.scrollHeight),Y?.focus(),document.activeElement!==K))return},[z,P]),V=N.useCallback(()=>J([U,_]),[J,U,_]);N.useEffect(()=>{G&&V()},[G,V]);const{onOpenChange:X,triggerPointerDownPosRef:ne}=E;N.useEffect(()=>{if(_){let D={x:0,y:0};const O=Q=>{D={x:Math.abs(Math.round(Q.pageX)-(ne.current?.x??0)),y:Math.abs(Math.round(Q.pageY)-(ne.current?.y??0))}},re=Q=>{D.x<=10&&D.y<=10?Q.preventDefault():_.contains(Q.target)||X(!1),document.removeEventListener("pointermove",O),ne.current=null};return ne.current!==null&&(document.addEventListener("pointermove",O),document.addEventListener("pointerup",re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",re,{capture:!0})}}},[_,X,ne]),N.useEffect(()=>{const D=()=>X(!1);return window.addEventListener("blur",D),window.addEventListener("resize",D),()=>{window.removeEventListener("blur",D),window.removeEventListener("resize",D)}},[X]);const[he,W]=kC(D=>{const O=z().filter(K=>!K.disabled),re=O.find(K=>K.ref.current===document.activeElement),Q=TC(O,D,re);Q&&setTimeout(()=>Q.ref.current.focus())}),H=N.useCallback((D,O,re)=>{const Q=!te.current&&!re;(E.value!==void 0&&E.value===O||Q)&&(F(D),Q&&(te.current=!0))},[E.value]),ie=N.useCallback(()=>_?.focus(),[_]),le=N.useCallback((D,O,re)=>{const Q=!te.current&&!re;(E.value!==void 0&&E.value===O||Q)&&me(D)},[E.value]),fe=n==="popper"?iv:hC,ae=fe===iv?{side:c,sideOffset:d,align:h,alignOffset:f,arrowPadding:m,collisionBoundary:g,collisionPadding:y,sticky:x,hideWhenDetached:v,avoidCollisions:b}:{};return s.jsx(uC,{scope:r,content:_,viewport:P,onViewportChange:B,itemRefCallback:H,selectedItem:U,onItemLeave:ie,itemTextRefCallback:le,focusSelectedItem:V,selectedItemText:ee,position:n,isPositioned:G,searchRef:he,children:s.jsx(Vd,{as:Vr,allowPinchZoom:!0,children:s.jsx(Wd,{asChild:!0,trapped:E.open,onMountAutoFocus:D=>{D.preventDefault()},onUnmountAutoFocus:Le(i,D=>{E.trigger?.focus({preventScroll:!0}),D.preventDefault()}),children:s.jsx(mo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:D=>D.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:s.jsx(fe,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:D=>D.preventDefault(),...w,...ae,onPlaced:()=>A(!0),ref:L,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Le(w.onKeyDown,D=>{const O=D.ctrlKey||D.altKey||D.metaKey;if(D.key==="Tab"&&D.preventDefault(),!O&&D.key.length===1&&W(D.key),["ArrowUp","ArrowDown","Home","End"].includes(D.key)){let Q=z().filter(K=>!K.disabled).map(K=>K.ref.current);if(["ArrowUp","End"].includes(D.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(D.key)){const K=D.target,Y=Q.indexOf(K);Q=Q.slice(Y+1)}setTimeout(()=>J(Q)),D.preventDefault()}})})})})})})});dC.displayName=e8;var t8="SelectItemAlignedPosition",hC=N.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=li(Hi,r),l=ci(Hi,r),[c,d]=N.useState(null),[h,f]=N.useState(null),m=rt(t,L=>f(L)),g=ah(r),y=N.useRef(!1),x=N.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:w,focusSelectedItem:E}=l,_=N.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&h&&v&&b&&w){const L=a.trigger.getBoundingClientRect(),U=h.getBoundingClientRect(),F=a.valueNode.getBoundingClientRect(),ee=w.getBoundingClientRect();if(a.dir!=="rtl"){const K=ee.left-U.left,Y=F.left-K,pe=L.left-Y,I=L.width+pe,ge=Math.max(I,U.width),$=window.innerWidth-yn,C=sv(Y,[yn,Math.max(yn,$-ge)]);c.style.minWidth=I+"px",c.style.left=C+"px"}else{const K=U.right-ee.right,Y=window.innerWidth-F.right-K,pe=window.innerWidth-L.right-Y,I=L.width+pe,ge=Math.max(I,U.width),$=window.innerWidth-yn,C=sv(Y,[yn,Math.max(yn,$-ge)]);c.style.minWidth=I+"px",c.style.right=C+"px"}const me=g(),z=window.innerHeight-yn*2,G=v.scrollHeight,A=window.getComputedStyle(h),te=parseInt(A.borderTopWidth,10),J=parseInt(A.paddingTop,10),V=parseInt(A.borderBottomWidth,10),X=parseInt(A.paddingBottom,10),ne=te+J+G+X+V,he=Math.min(b.offsetHeight*5,ne),W=window.getComputedStyle(v),H=parseInt(W.paddingTop,10),ie=parseInt(W.paddingBottom,10),le=L.top+L.height/2-yn,fe=z-le,ae=b.offsetHeight/2,D=b.offsetTop+ae,O=te+J+D,re=ne-O;if(O<=le){const K=me.length>0&&b===me[me.length-1].ref.current;c.style.bottom="0px";const Y=h.clientHeight-v.offsetTop-v.offsetHeight,pe=Math.max(fe,ae+(K?ie:0)+Y+V),I=O+pe;c.style.height=I+"px"}else{const K=me.length>0&&b===me[0].ref.current;c.style.top="0px";const pe=Math.max(le,te+v.offsetTop+(K?H:0)+ae)+re;c.style.height=pe+"px",v.scrollTop=O-le+v.offsetTop}c.style.margin=`${yn}px 0`,c.style.minHeight=he+"px",c.style.maxHeight=z+"px",n?.(),requestAnimationFrame(()=>y.current=!0)}},[g,a.trigger,a.valueNode,c,h,v,b,w,a.dir,n]);fr(()=>_(),[_]);const[S,P]=N.useState();fr(()=>{h&&P(window.getComputedStyle(h).zIndex)},[h]);const B=N.useCallback(L=>{L&&x.current===!0&&(_(),E?.(),x.current=!1)},[_,E]);return s.jsx(n8,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:y,onScrollButtonChange:B,children:s.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:s.jsx(We.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});hC.displayName=t8;var r8="SelectPopperPosition",iv=N.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=yn,...a}=e,l=oh(r);return s.jsx(fy,{...l,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});iv.displayName=r8;var[n8,yy]=_o(Hi,{}),av="SelectViewport",fC=N.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=ci(av,r),l=yy(av,r),c=rt(t,a.onViewportChange),d=N.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(ih.Slot,{scope:r,children:s.jsx(We.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Le(i.onScroll,h=>{const f=h.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=l;if(g?.current&&m){const y=Math.abs(d.current-f.scrollTop);if(y>0){const x=window.innerHeight-yn*2,v=parseFloat(m.style.minHeight),b=parseFloat(m.style.height),w=Math.max(v,b);if(w<x){const E=w+y,_=Math.min(x,E),S=E-_;m.style.height=_+"px",m.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,m.style.justifyContent="flex-end")}}}d.current=f.scrollTop})})})]})});fC.displayName=av;var pC="SelectGroup",[s8,i8]=_o(pC),a8=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=zn();return s.jsx(s8,{scope:r,id:i,children:s.jsx(We.div,{role:"group","aria-labelledby":i,...n,ref:t})})});a8.displayName=pC;var mC="SelectLabel",gC=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=i8(mC,r);return s.jsx(We.div,{id:i.id,...n,ref:t})});gC.displayName=mC;var _d="SelectItem",[o8,vC]=_o(_d),yC=N.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...l}=e,c=li(_d,r),d=ci(_d,r),h=c.value===n,[f,m]=N.useState(a??""),[g,y]=N.useState(!1),x=rt(t,E=>d.itemRefCallback?.(E,n,i)),v=zn(),b=N.useRef("touch"),w=()=>{i||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(o8,{scope:r,value:n,disabled:i,textId:v,isSelected:h,onItemTextChange:N.useCallback(E=>{m(_=>_||(E?.textContent??"").trim())},[]),children:s.jsx(ih.ItemSlot,{scope:r,value:n,disabled:i,textValue:f,children:s.jsx(We.div,{role:"option","aria-labelledby":v,"data-highlighted":g?"":void 0,"aria-selected":h&&g,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:x,onFocus:Le(l.onFocus,()=>y(!0)),onBlur:Le(l.onBlur,()=>y(!1)),onClick:Le(l.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:Le(l.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:Le(l.onPointerDown,E=>{b.current=E.pointerType}),onPointerMove:Le(l.onPointerMove,E=>{b.current=E.pointerType,i?d.onItemLeave?.():b.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(l.onPointerLeave,E=>{E.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Le(l.onKeyDown,E=>{d.searchRef?.current!==""&&E.key===" "||(KM.includes(E.key)&&w(),E.key===" "&&E.preventDefault())})})})})});yC.displayName=_d;var Sl="SelectItemText",xC=N.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,l=li(Sl,r),c=ci(Sl,r),d=vC(Sl,r),h=QM(Sl,r),[f,m]=N.useState(null),g=rt(t,w=>m(w),d.onItemTextChange,w=>c.itemTextRefCallback?.(w,d.value,d.disabled)),y=f?.textContent,x=N.useMemo(()=>s.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=h;return fr(()=>(v(x),()=>b(x)),[v,b,x]),s.jsxs(s.Fragment,{children:[s.jsx(We.span,{id:d.textId,...a,ref:g}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?fo.createPortal(a.children,l.valueNode):null]})});xC.displayName=Sl;var wC="SelectItemIndicator",bC=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return vC(wC,r).isSelected?s.jsx(We.span,{"aria-hidden":!0,...n,ref:t}):null});bC.displayName=wC;var ov="SelectScrollUpButton",_C=N.forwardRef((e,t)=>{const r=ci(ov,e.__scopeSelect),n=yy(ov,e.__scopeSelect),[i,a]=N.useState(!1),l=rt(t,n.onScrollButtonChange);return fr(()=>{if(r.viewport&&r.isPositioned){let c=function(){const h=d.scrollTop>0;a(h)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),i?s.jsx(SC,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});_C.displayName=ov;var lv="SelectScrollDownButton",jC=N.forwardRef((e,t)=>{const r=ci(lv,e.__scopeSelect),n=yy(lv,e.__scopeSelect),[i,a]=N.useState(!1),l=rt(t,n.onScrollButtonChange);return fr(()=>{if(r.viewport&&r.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,f=Math.ceil(d.scrollTop)<h;a(f)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),i?s.jsx(SC,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});jC.displayName=lv;var SC=N.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=ci("SelectScrollButton",r),l=N.useRef(null),c=ah(r),d=N.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return N.useEffect(()=>()=>d(),[d]),fr(()=>{c().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),s.jsx(We.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Le(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:Le(i.onPointerMove,()=>{a.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:Le(i.onPointerLeave,()=>{d()})})}),l8="SelectSeparator",EC=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(We.div,{"aria-hidden":!0,...n,ref:t})});EC.displayName=l8;var cv="SelectArrow",c8=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=oh(r),a=li(cv,r),l=ci(cv,r);return a.open&&l.position==="popper"?s.jsx(py,{...i,...n,ref:t}):null});c8.displayName=cv;function NC(e){return e===""||e===void 0}var CC=N.forwardRef((e,t)=>{const{value:r,...n}=e,i=N.useRef(null),a=rt(t,i),l=sh(r);return N.useEffect(()=>{const c=i.current,d=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==r&&f){const m=new Event("change",{bubbles:!0});f.call(c,r),c.dispatchEvent(m)}},[l,r]),s.jsx(Yl,{asChild:!0,children:s.jsx("select",{...n,ref:a,defaultValue:r})})});CC.displayName="BubbleSelect";function kC(e){const t=zt(e),r=N.useRef(""),n=N.useRef(0),i=N.useCallback(l=>{const c=r.current+l;t(c),(function d(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(c)},[t]),a=N.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function TC(e,t,r){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let l=u8(e,Math.max(a,0));i.length===1&&(l=l.filter(h=>h!==r));const d=l.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==r?d:void 0}function u8(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var d8=rC,PC=sC,h8=aC,f8=oC,p8=lC,AC=cC,m8=fC,RC=gC,DC=yC,g8=xC,v8=bC,OC=_C,IC=jC,MC=EC;const mt=d8,gt=h8,ft=N.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(PC,{ref:n,className:Pe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(f8,{asChild:!0,children:s.jsx(Iv,{className:"h-4 w-4 opacity-50"})})]}));ft.displayName=PC.displayName;const FC=N.forwardRef(({className:e,...t},r)=>s.jsx(OC,{ref:r,className:Pe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(pD,{className:"h-4 w-4"})}));FC.displayName=OC.displayName;const LC=N.forwardRef(({className:e,...t},r)=>s.jsx(IC,{ref:r,className:Pe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Iv,{className:"h-4 w-4"})}));LC.displayName=IC.displayName;const pt=N.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>s.jsx(p8,{children:s.jsxs(AC,{ref:i,className:Pe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(FC,{}),s.jsx(m8,{className:Pe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(LC,{})]})}));pt.displayName=AC.displayName;const y8=N.forwardRef(({className:e,...t},r)=>s.jsx(RC,{ref:r,className:Pe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));y8.displayName=RC.displayName;const Me=N.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(DC,{ref:n,className:Pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(v8,{children:s.jsx(Ov,{className:"h-4 w-4"})})}),s.jsx(g8,{children:t})]}));Me.displayName=DC.displayName;const x8=N.forwardRef(({className:e,...t},r)=>s.jsx(MC,{ref:r,className:Pe("-mx-1 my-1 h-px bg-muted",e),...t}));x8.displayName=MC.displayName;var xy="Switch",[w8]=an(xy),[b8,_8]=w8(xy),UC=N.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:l,disabled:c,value:d="on",onCheckedChange:h,form:f,...m}=e,[g,y]=N.useState(null),x=rt(t,_=>y(_)),v=N.useRef(!1),b=g?f||!!g.closest("form"):!0,[w=!1,E]=jn({prop:i,defaultProp:a,onChange:h});return s.jsxs(b8,{scope:r,checked:w,disabled:c,children:[s.jsx(We.button,{type:"button",role:"switch","aria-checked":w,"aria-required":l,"data-state":zC(w),"data-disabled":c?"":void 0,disabled:c,value:d,...m,ref:x,onClick:Le(e.onClick,_=>{E(S=>!S),b&&(v.current=_.isPropagationStopped(),v.current||_.stopPropagation())})}),b&&s.jsx(j8,{control:g,bubbles:!v.current,name:n,value:d,checked:w,required:l,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});UC.displayName=xy;var BC="SwitchThumb",$C=N.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=_8(BC,r);return s.jsx(We.span,{"data-state":zC(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});$C.displayName=BC;var j8=e=>{const{control:t,checked:r,bubbles:n=!0,...i}=e,a=N.useRef(null),l=sh(r),c=Qd(t);return N.useEffect(()=>{const d=a.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[l,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function zC(e){return e?"checked":"unchecked"}var HC=UC,S8=$C;const Tn=N.forwardRef(({className:e,...t},r)=>s.jsx(HC,{className:Pe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(S8,{className:Pe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Tn.displayName=HC.displayName;const E8=()=>{const{signOut:e}=pr(),t=ii(),r=async()=>{await e(),t("/auth",{replace:!0})};return s.jsxs(_e,{onClick:r,variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[s.jsx(jD,{className:"w-4 h-4"}),s.jsx("span",{children:"Sign Out"})]})},N8=[{title:"Dashboard",url:"/",icon:_D,roles:["admin","standard"]},{title:"Projects",url:"/projects",icon:IS,roles:["admin"]},{title:"Clients",url:"/clients",icon:US,roles:["admin"]},{title:"Contract Templates",url:"/contracts",icon:Hn,roles:["admin"]},{title:"Subscriptions",url:"/subscriptions",icon:Mv,roles:["admin"]},{title:"Users",url:"/users",icon:qn,roles:["admin"]}];function WC(){const{profile:e}=pr(),{displayCurrency:t,updateCurrency:r,demoMode:n,toggleDemoMode:i}=wt(),a=Vi(),l=e?.role||"standard",c=N8.filter(d=>d.roles.includes(l));return s.jsxs(VN,{children:[s.jsx(YN,{children:s.jsxs(XN,{children:[s.jsx(QN,{children:"Project Manager"}),s.jsx(JN,{children:s.jsx(ZN,{children:c.map(d=>s.jsx(eC,{children:s.jsx(tC,{asChild:!0,isActive:a.pathname===d.url,children:s.jsxs(IR,{to:d.url,children:[s.jsx(d.icon,{}),s.jsx("span",{children:d.title})]})})},d.title))})})]})}),s.jsx(GN,{children:s.jsxs("div",{className:"p-4 space-y-3",children:[l==="admin"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-sidebar-foreground/70",children:"Demo Mode"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tn,{id:"demo-mode",checked:n,onCheckedChange:i}),s.jsxs("div",{className:"flex items-center space-x-1",children:[n?s.jsx(Fv,{className:"h-3 w-3 text-sidebar-foreground/70"}):s.jsx(Ld,{className:"h-3 w-3 text-sidebar-foreground/70"}),s.jsx("span",{className:"text-xs text-sidebar-foreground/70",children:n?"Hide Financials":"Show Financials"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-sidebar-foreground/70",children:"Currency"}),s.jsxs(mt,{value:t,onValueChange:r,children:[s.jsx(ft,{className:"w-full h-8 text-xs",children:s.jsx(gt,{placeholder:"Select currency"})}),s.jsxs(pt,{children:[s.jsx(Me,{value:"USD",children:"USD ($)"}),s.jsx(Me,{value:"EUR",children:"EUR ()"}),s.jsx(Me,{value:"RON",children:"RON"})]})]})]}),s.jsxs("div",{className:"text-sm text-sidebar-foreground/70",children:["Signed in as: ",e?.email||"Loading..."]}),s.jsxs("div",{className:"text-xs text-sidebar-foreground/50",children:["Role: ",e?.role||"Loading..."]}),s.jsx(E8,{})]})})]})}const Nn=({children:e})=>s.jsx(gy,{children:s.jsxs("div",{className:"min-h-screen flex w-full",children:[s.jsx("header",{className:"fixed top-0 left-0 z-50 md:hidden",children:s.jsx(vy,{className:"m-2"})}),s.jsx(WC,{}),s.jsx(KN,{className:"flex-1 pt-12 md:pt-0",children:e})]})}),C8=()=>{const{profile:e,user:t,loading:r}=pr(),{demoMode:n}=wt();if(r)return s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"h-8 w-48 bg-gray-200 animate-pulse rounded"})});const i=()=>e?.full_name?e.full_name:t?.email&&!n?t.email:n?"Demo User":"User";return s.jsxs("div",{className:"mb-6",children:[s.jsxs("h1",{className:"text-slate-900 text-3xl font-bold",children:["Hello, ",i()]}),s.jsx("p",{className:"text-slate-600 text-base font-medium mt-1",children:"Welcome to your dashboard"})]})};var wy="Popover",[qC]=an(wy,[bo]),cc=bo(),[k8,ui]=qC(wy),VC=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:l=!1}=e,c=cc(t),d=N.useRef(null),[h,f]=N.useState(!1),[m=!1,g]=jn({prop:n,defaultProp:i,onChange:a});return s.jsx(hy,{...c,children:s.jsx(k8,{scope:t,contentId:zn(),triggerRef:d,open:m,onOpenChange:g,onOpenToggle:N.useCallback(()=>g(y=>!y),[g]),hasCustomAnchor:h,onCustomAnchorAdd:N.useCallback(()=>f(!0),[]),onCustomAnchorRemove:N.useCallback(()=>f(!1),[]),modal:l,children:r})})};VC.displayName=wy;var KC="PopoverAnchor",T8=N.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=ui(KC,r),a=cc(r),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=i;return N.useEffect(()=>(l(),()=>c()),[l,c]),s.jsx(Jd,{...a,...n,ref:t})});T8.displayName=KC;var GC="PopoverTrigger",YC=N.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=ui(GC,r),a=cc(r),l=rt(t,i.triggerRef),c=s.jsx(We.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ek(i.open),...n,ref:l,onClick:Le(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?c:s.jsx(Jd,{asChild:!0,...a,children:c})});YC.displayName=GC;var by="PopoverPortal",[P8,A8]=qC(by,{forceMount:void 0}),XC=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,a=ui(by,t);return s.jsx(P8,{scope:t,forceMount:r,children:s.jsx(Cr,{present:r||a.open,children:s.jsx(Gl,{asChild:!0,container:i,children:n})})})};XC.displayName=by;var Xa="PopoverContent",QC=N.forwardRef((e,t)=>{const r=A8(Xa,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,a=ui(Xa,e.__scopePopover);return s.jsx(Cr,{present:n||a.open,children:a.modal?s.jsx(R8,{...i,ref:t}):s.jsx(D8,{...i,ref:t})})});QC.displayName=Xa;var R8=N.forwardRef((e,t)=>{const r=ui(Xa,e.__scopePopover),n=N.useRef(null),i=rt(t,n),a=N.useRef(!1);return N.useEffect(()=>{const l=n.current;if(l)return Xv(l)},[]),s.jsx(Vd,{as:Vr,allowPinchZoom:!0,children:s.jsx(JC,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(e.onCloseAutoFocus,l=>{l.preventDefault(),a.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Le(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;a.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:Le(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),D8=N.forwardRef((e,t)=>{const r=ui(Xa,e.__scopePopover),n=N.useRef(!1),i=N.useRef(!1);return s.jsx(JC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;r.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),JC=N.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,...m}=e,g=ui(Xa,r),y=cc(r);return Yv(),s.jsx(Wd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(mo,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:f,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onDismiss:()=>g.onOpenChange(!1),children:s.jsx(fy,{"data-state":ek(g.open),role:"dialog",id:g.contentId,...y,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ZC="PopoverClose",O8=N.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=ui(ZC,r);return s.jsx(We.button,{type:"button",...n,ref:t,onClick:Le(e.onClick,()=>i.onOpenChange(!1))})});O8.displayName=ZC;var I8="PopoverArrow",M8=N.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=cc(r);return s.jsx(py,{...i,...n,ref:t})});M8.displayName=I8;function ek(e){return e?"open":"closed"}var F8=VC,L8=YC,U8=XC,tk=QC;const B8=F8,$8=L8,rk=N.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},i)=>s.jsx(U8,{children:s.jsx(tk,{ref:i,align:t,sideOffset:r,className:Pe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));rk.displayName=tk.displayName;function lt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Gr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Er(e,t){const r=lt(e);return isNaN(t)?Gr(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function nn(e,t){const r=lt(e);if(isNaN(t))return Gr(e,NaN);if(!t)return r;const n=r.getDate(),i=Gr(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const _y=6048e5,z8=864e5;let H8={};function uc(){return H8}function Kn(e,t){const r=uc(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=lt(e),a=i.getDay(),l=(a<n?7:0)+a-n;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Wi(e){return Kn(e,{weekStartsOn:1})}function nk(e){const t=lt(e),r=t.getFullYear(),n=Gr(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Wi(n),a=Gr(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=Wi(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}function Qa(e){const t=lt(e);return t.setHours(0,0,0,0),t}function jd(e){const t=lt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Bn(e,t){const r=Qa(e),n=Qa(t),i=+r-jd(r),a=+n-jd(n);return Math.round((i-a)/z8)}function W8(e){const t=nk(e),r=Gr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Wi(r)}function uv(e,t){const r=t*7;return Er(e,r)}function sk(e,t){return nn(e,t*12)}function q8(e){let t;return e.forEach(function(r){const n=lt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function V8(e){let t;return e.forEach(r=>{const n=lt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Mr(e,t){const r=Qa(e),n=Qa(t);return+r==+n}function jy(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function K8(e){if(!jy(e)&&typeof e!="number")return!1;const t=lt(e);return!isNaN(Number(t))}function Hl(e,t){const r=lt(e),n=lt(t),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function G8(e,t,r){const n=Kn(e,r),i=Kn(t,r),a=+n-jd(n),l=+i-jd(i);return Math.round((a-l)/_y)}function Wl(e){const t=lt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function _r(e){const t=lt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function m1(e){const t=lt(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function Sd(e){const t=lt(e),r=Gr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Sy(e,t){const r=uc(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=lt(e),a=i.getDay(),l=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}function ik(e){return Sy(e,{weekStartsOn:1})}const Y8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},X8=(e,t,r)=>{let n;const i=Y8[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Ip(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Q8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},J8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Z8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eF={date:Ip({formats:Q8,defaultWidth:"full"}),time:Ip({formats:J8,defaultWidth:"full"}),dateTime:Ip({formats:Z8,defaultWidth:"full"})},tF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rF=(e,t,r,n)=>tF[e];function gl(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=r?.width?String(r.width):l;i=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=r?.width?String(r.width):e.defaultWidth;i=e.values[c]||e.values[l]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const nF={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},iF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},aF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},oF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cF=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},uF={ordinalNumber:cF,era:gl({values:nF,defaultWidth:"wide"}),quarter:gl({values:sF,defaultWidth:"wide",argumentCallback:e=>e-1}),month:gl({values:iF,defaultWidth:"wide"}),day:gl({values:aF,defaultWidth:"wide"}),dayPeriod:gl({values:oF,defaultWidth:"wide",formattingValues:lF,defaultFormattingWidth:"wide"})};function vl(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const l=a[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(c)?hF(c,m=>m.test(l)):dF(c,m=>m.test(l));let h;h=e.valueCallback?e.valueCallback(d):d,h=r.valueCallback?r.valueCallback(h):h;const f=t.slice(l.length);return{value:h,rest:f}}}function dF(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function hF(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function fF(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let l=e.valueCallback?e.valueCallback(a[0]):a[0];l=r.valueCallback?r.valueCallback(l):l;const c=t.slice(i.length);return{value:l,rest:c}}}const pF=/^(\d+)(th|st|nd|rd)?/i,mF=/\d+/i,gF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vF={any:[/^b/i,/^(a|c)/i]},yF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xF={any:[/1/i,/2/i,/3/i,/4/i]},wF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_F={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},EF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},NF={ordinalNumber:fF({matchPattern:pF,parsePattern:mF,valueCallback:e=>parseInt(e,10)}),era:vl({matchPatterns:gF,defaultMatchWidth:"wide",parsePatterns:vF,defaultParseWidth:"any"}),quarter:vl({matchPatterns:yF,defaultMatchWidth:"wide",parsePatterns:xF,defaultParseWidth:"any",valueCallback:e=>e+1}),month:vl({matchPatterns:wF,defaultMatchWidth:"wide",parsePatterns:bF,defaultParseWidth:"any"}),day:vl({matchPatterns:_F,defaultMatchWidth:"wide",parsePatterns:jF,defaultParseWidth:"any"}),dayPeriod:vl({matchPatterns:SF,defaultMatchWidth:"any",parsePatterns:EF,defaultParseWidth:"any"})},ak={code:"en-US",formatDistance:X8,formatLong:eF,formatRelative:rF,localize:uF,match:NF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function CF(e){const t=lt(e);return Bn(t,Sd(t))+1}function ok(e){const t=lt(e),r=+Wi(t)-+W8(t);return Math.round(r/_y)+1}function lk(e,t){const r=lt(e),n=r.getFullYear(),i=uc(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=Gr(e,0);l.setFullYear(n+1,0,a),l.setHours(0,0,0,0);const c=Kn(l,t),d=Gr(e,0);d.setFullYear(n,0,a),d.setHours(0,0,0,0);const h=Kn(d,t);return r.getTime()>=c.getTime()?n+1:r.getTime()>=h.getTime()?n:n-1}function kF(e,t){const r=uc(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=lk(e,t),a=Gr(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Kn(a,t)}function ck(e,t){const r=lt(e),n=+Kn(r,t)-+kF(r,t);return Math.round(n/_y)+1}function yt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ws={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return yt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):yt(r+1,2)},d(e,t){return yt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,t){return yt(e.getHours()%12||12,t.length)},H(e,t){return yt(e.getHours(),t.length)},m(e,t){return yt(e.getMinutes(),t.length)},s(e,t){return yt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return yt(i,t.length)}},Da={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},g1={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Ws.y(e,t)},Y:function(e,t,r,n){const i=lk(e,n),a=i>0?i:1-i;if(t==="YY"){const l=a%100;return yt(l,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):yt(a,t.length)},R:function(e,t){const r=nk(e);return yt(r,t.length)},u:function(e,t){const r=e.getFullYear();return yt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return yt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return yt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ws.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return yt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=ck(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):yt(i,t.length)},I:function(e,t,r){const n=ok(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):yt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ws.d(e,t)},D:function(e,t,r){const n=CF(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):yt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return yt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return yt(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return yt(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=Da.noon:n===0?i=Da.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=Da.evening:n>=12?i=Da.afternoon:n>=4?i=Da.morning:i=Da.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ws.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ws.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):yt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):yt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ws.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ws.s(e,t)},S:function(e,t){return Ws.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return y1(n);case"XXXX":case"XX":return Mi(n);default:return Mi(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return y1(n);case"xxxx":case"xx":return Mi(n);default:return Mi(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+v1(n,":");default:return"GMT"+Mi(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+v1(n,":");default:return"GMT"+Mi(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return yt(n,t.length)},T:function(e,t,r){const n=e.getTime();return yt(n,t.length)}};function v1(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+yt(a,2)}function y1(e,t){return e%60===0?(e>0?"-":"+")+yt(Math.abs(e)/60,2):Mi(e,t)}function Mi(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=yt(Math.trunc(n/60),2),a=yt(n%60,2);return r+i+t+a}const x1=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},uk=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},TF=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return x1(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",x1(n,t)).replace("{{time}}",uk(i,t))},PF={p:uk,P:TF},AF=/^D+$/,RF=/^Y+$/,DF=["D","DD","YY","YYYY"];function OF(e){return AF.test(e)}function IF(e){return RF.test(e)}function MF(e,t,r){const n=FF(e,t,r);if(console.warn(n),DF.includes(e))throw new RangeError(n)}function FF(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const LF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BF=/^'([^]*?)'?$/,$F=/''/g,zF=/[a-zA-Z]/;function sn(e,t,r){const n=uc(),i=r?.locale??n.locale??ak,a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=lt(e);if(!K8(c))throw new RangeError("Invalid time value");let d=t.match(UF).map(f=>{const m=f[0];if(m==="p"||m==="P"){const g=PF[m];return g(f,i.formatLong)}return f}).join("").match(LF).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const m=f[0];if(m==="'")return{isToken:!1,value:HF(f)};if(g1[m])return{isToken:!0,value:f};if(m.match(zF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:f}});i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const h={firstWeekContainsDate:a,weekStartsOn:l,locale:i};return d.map(f=>{if(!f.isToken)return f.value;const m=f.value;(!r?.useAdditionalWeekYearTokens&&IF(m)||!r?.useAdditionalDayOfYearTokens&&OF(m))&&MF(m,t,String(e));const g=g1[m[0]];return g(c,m,i.localize,h)}).join("")}function HF(e){const t=e.match(BF);return t?t[1].replace($F,"'"):e}function WF(e){const t=lt(e),r=t.getFullYear(),n=t.getMonth(),i=Gr(e,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function qF(e){return Math.trunc(+lt(e)/1e3)}function VF(e){const t=lt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function KF(e,t){return G8(VF(e),_r(e),t)+1}function dv(e,t){const r=lt(e),n=lt(t);return r.getTime()>n.getTime()}function dk(e,t){const r=lt(e),n=lt(t);return+r<+n}function Ey(e,t){const r=lt(e),n=lt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function GF(e,t){const r=lt(e),n=lt(t);return r.getFullYear()===n.getFullYear()}function Mp(e,t){return Er(e,-t)}function Fp(e,t){const r=lt(e),n=r.getFullYear(),i=r.getDate(),a=Gr(e,0);a.setFullYear(n,t,15),a.setHours(0,0,0,0);const l=WF(a);return r.setMonth(t,Math.min(i,l)),r}function w1(e,t){const r=lt(e);return isNaN(+r)?Gr(e,NaN):(r.setFullYear(t),r)}function YF(e,t){return nn(e,-1)}function XF(e,t){return sk(e,-1)}var Ye=function(){return Ye=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ye.apply(this,arguments)};function QF(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function hk(e,t,r){for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function dc(e){return e.mode==="multiple"}function hc(e){return e.mode==="range"}function lh(e){return e.mode==="single"}var JF={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function ZF(e,t){return sn(e,"LLLL y",t)}function eL(e,t){return sn(e,"d",t)}function tL(e,t){return sn(e,"LLLL",t)}function rL(e){return"".concat(e)}function nL(e,t){return sn(e,"cccccc",t)}function sL(e,t){return sn(e,"yyyy",t)}var iL=Object.freeze({__proto__:null,formatCaption:ZF,formatDay:eL,formatMonthCaption:tL,formatWeekNumber:rL,formatWeekdayName:nL,formatYearCaption:sL}),aL=function(e,t,r){return sn(e,"do MMMM (EEEE)",r)},oL=function(){return"Month: "},lL=function(){return"Go to next month"},cL=function(){return"Go to previous month"},uL=function(e,t){return sn(e,"cccc",t)},dL=function(e){return"Week n. ".concat(e)},hL=function(){return"Year: "},fL=Object.freeze({__proto__:null,labelDay:aL,labelMonthDropdown:oL,labelNext:lL,labelPrevious:cL,labelWeekNumber:dL,labelWeekday:uL,labelYearDropdown:hL});function pL(){var e="buttons",t=JF,r=ak,n={},i={},a=1,l={},c=new Date;return{captionLayout:e,classNames:t,formatters:iL,labels:fL,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:a,styles:l,today:c,mode:"default"}}function mL(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,i=e.toMonth,a=e.fromDate,l=e.toDate;return n?a=_r(n):t&&(a=new Date(t,0,1)),i?l=Wl(i):r&&(l=new Date(r,11,31)),{fromDate:a?Qa(a):void 0,toDate:l?Qa(l):void 0}}var fk=N.createContext(void 0);function gL(e){var t,r=e.initialProps,n=pL(),i=mL(r),a=i.fromDate,l=i.toDate,c=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;c!=="buttons"&&(!a||!l)&&(c="buttons");var d;(lh(r)||dc(r)||hc(r))&&(d=r.onSelect);var h=Ye(Ye(Ye({},n),r),{captionLayout:c,classNames:Ye(Ye({},n.classNames),r.classNames),components:Ye({},r.components),formatters:Ye(Ye({},n.formatters),r.formatters),fromDate:a,labels:Ye(Ye({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Ye(Ye({},n.modifiers),r.modifiers),modifiersClassNames:Ye(Ye({},n.modifiersClassNames),r.modifiersClassNames),onSelect:d,styles:Ye(Ye({},n.styles),r.styles),toDate:l});return s.jsx(fk.Provider,{value:h,children:e.children})}function Et(){var e=N.useContext(fk);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function pk(e){var t=Et(),r=t.locale,n=t.classNames,i=t.styles,a=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function vL(e){return s.jsx("svg",Ye({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function mk(e){var t,r,n=e.onChange,i=e.value,a=e.children,l=e.caption,c=e.className,d=e.style,h=Et(),f=(r=(t=h.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:vL;return s.jsxs("div",{className:c,style:d,children:[s.jsx("span",{className:h.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:h.classNames.dropdown,style:h.styles.dropdown,value:i,onChange:n,children:a}),s.jsxs("div",{className:h.classNames.caption_label,style:h.styles.caption_label,"aria-hidden":"true",children:[l,s.jsx(f,{className:h.classNames.dropdown_icon,style:h.styles.dropdown_icon})]})]})}function yL(e){var t,r=Et(),n=r.fromDate,i=r.toDate,a=r.styles,l=r.locale,c=r.formatters.formatMonthCaption,d=r.classNames,h=r.components,f=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});var m=[];if(GF(n,i))for(var g=_r(n),y=n.getMonth();y<=i.getMonth();y++)m.push(Fp(g,y));else for(var g=_r(new Date),y=0;y<=11;y++)m.push(Fp(g,y));var x=function(b){var w=Number(b.target.value),E=Fp(_r(e.displayMonth),w);e.onChange(E)},v=(t=h?.Dropdown)!==null&&t!==void 0?t:mk;return s.jsx(v,{name:"months","aria-label":f(),className:d.dropdown_month,style:a.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:c(e.displayMonth,{locale:l}),children:m.map(function(b){return s.jsx("option",{value:b.getMonth(),children:c(b,{locale:l})},b.getMonth())})})}function xL(e){var t,r=e.displayMonth,n=Et(),i=n.fromDate,a=n.toDate,l=n.locale,c=n.styles,d=n.classNames,h=n.components,f=n.formatters.formatYearCaption,m=n.labels.labelYearDropdown,g=[];if(!i)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});for(var y=i.getFullYear(),x=a.getFullYear(),v=y;v<=x;v++)g.push(w1(Sd(new Date),v));var b=function(E){var _=w1(_r(r),Number(E.target.value));e.onChange(_)},w=(t=h?.Dropdown)!==null&&t!==void 0?t:mk;return s.jsx(w,{name:"years","aria-label":m(),className:d.dropdown_year,style:c.dropdown_year,onChange:b,value:r.getFullYear(),caption:f(r,{locale:l}),children:g.map(function(E){return s.jsx("option",{value:E.getFullYear(),children:f(E,{locale:l})},E.getFullYear())})})}function wL(e,t){var r=N.useState(e),n=r[0],i=r[1],a=t===void 0?n:t;return[a,i]}function bL(e){var t=e.month,r=e.defaultMonth,n=e.today,i=t||r||n||new Date,a=e.toDate,l=e.fromDate,c=e.numberOfMonths,d=c===void 0?1:c;if(a&&Hl(a,i)<0){var h=-1*(d-1);i=nn(a,h)}return l&&Hl(i,l)<0&&(i=l),_r(i)}function _L(){var e=Et(),t=bL(e),r=wL(t,e.month),n=r[0],i=r[1],a=function(l){var c;if(!e.disableNavigation){var d=_r(l);i(d),(c=e.onMonthChange)===null||c===void 0||c.call(e,d)}};return[n,a]}function jL(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,i=_r(e),a=_r(nn(i,n)),l=Hl(a,i),c=[],d=0;d<l;d++){var h=nn(i,d);c.push(h)}return r&&(c=c.reverse()),c}function SL(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,l=n?a:1,c=_r(e);if(!r)return nn(c,l);var d=Hl(r,e);if(!(d<a))return nn(c,l)}}function EL(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,l=n?a:1,c=_r(e);if(!r)return nn(c,-l);var d=Hl(c,r);if(!(d<=0))return nn(c,-l)}}var gk=N.createContext(void 0);function NL(e){var t=Et(),r=_L(),n=r[0],i=r[1],a=jL(n,t),l=SL(n,t),c=EL(n,t),d=function(m){return a.some(function(g){return Ey(m,g)})},h=function(m,g){d(m)||(g&&dk(m,g)?i(nn(m,1+t.numberOfMonths*-1)):i(m))},f={currentMonth:n,displayMonths:a,goToMonth:i,goToDate:h,previousMonth:c,nextMonth:l,isDateDisplayed:d};return s.jsx(gk.Provider,{value:f,children:e.children})}function fc(){var e=N.useContext(gk);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function b1(e){var t,r=Et(),n=r.classNames,i=r.styles,a=r.components,l=fc().goToMonth,c=function(f){l(nn(f,e.displayIndex?-e.displayIndex:0))},d=(t=a?.CaptionLabel)!==null&&t!==void 0?t:pk,h=s.jsx(d,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:h}),s.jsx(yL,{onChange:c,displayMonth:e.displayMonth}),s.jsx(xL,{onChange:c,displayMonth:e.displayMonth})]})}function CL(e){return s.jsx("svg",Ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function kL(e){return s.jsx("svg",Ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ed=N.forwardRef(function(e,t){var r=Et(),n=r.classNames,i=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var l=a.join(" "),c=Ye(Ye({},i.button_reset),i.button);return e.style&&Object.assign(c,e.style),s.jsx("button",Ye({},e,{ref:t,type:"button",className:l,style:c}))});function TL(e){var t,r,n=Et(),i=n.dir,a=n.locale,l=n.classNames,c=n.styles,d=n.labels,h=d.labelPrevious,f=d.labelNext,m=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var g=h(e.previousMonth,{locale:a}),y=[l.nav_button,l.nav_button_previous].join(" "),x=f(e.nextMonth,{locale:a}),v=[l.nav_button,l.nav_button_next].join(" "),b=(t=m?.IconRight)!==null&&t!==void 0?t:kL,w=(r=m?.IconLeft)!==null&&r!==void 0?r:CL;return s.jsxs("div",{className:l.nav,style:c.nav,children:[!e.hidePrevious&&s.jsx(Ed,{name:"previous-month","aria-label":g,className:y,style:c.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?s.jsx(b,{className:l.nav_icon,style:c.nav_icon}):s.jsx(w,{className:l.nav_icon,style:c.nav_icon})}),!e.hideNext&&s.jsx(Ed,{name:"next-month","aria-label":x,className:v,style:c.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?s.jsx(w,{className:l.nav_icon,style:c.nav_icon}):s.jsx(b,{className:l.nav_icon,style:c.nav_icon})})]})}function _1(e){var t=Et().numberOfMonths,r=fc(),n=r.previousMonth,i=r.nextMonth,a=r.goToMonth,l=r.displayMonths,c=l.findIndex(function(x){return Ey(e.displayMonth,x)}),d=c===0,h=c===l.length-1,f=t>1&&(d||!h),m=t>1&&(h||!d),g=function(){n&&a(n)},y=function(){i&&a(i)};return s.jsx(TL,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:m,nextMonth:i,previousMonth:n,onPreviousClick:g,onNextClick:y})}function PL(e){var t,r=Et(),n=r.classNames,i=r.disableNavigation,a=r.styles,l=r.captionLayout,c=r.components,d=(t=c?.CaptionLabel)!==null&&t!==void 0?t:pk,h;return i?h=s.jsx(d,{id:e.id,displayMonth:e.displayMonth}):l==="dropdown"?h=s.jsx(b1,{displayMonth:e.displayMonth,id:e.id}):l==="dropdown-buttons"?h=s.jsxs(s.Fragment,{children:[s.jsx(b1,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(_1,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):h=s.jsxs(s.Fragment,{children:[s.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(_1,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:a.caption,children:h})}function AL(e){var t=Et(),r=t.footer,n=t.styles,i=t.classNames.tfoot;return r?s.jsx("tfoot",{className:i,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function RL(e,t,r){for(var n=r?Wi(new Date):Kn(new Date,{locale:e,weekStartsOn:t}),i=[],a=0;a<7;a++){var l=Er(n,a);i.push(l)}return i}function DL(){var e=Et(),t=e.classNames,r=e.styles,n=e.showWeekNumber,i=e.locale,a=e.weekStartsOn,l=e.ISOWeek,c=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,h=RL(i,a,l);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),h.map(function(f,m){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":d(f,{locale:i}),children:c(f,{locale:i})},m)})]})}function OL(){var e,t=Et(),r=t.classNames,n=t.styles,i=t.components,a=(e=i?.HeadRow)!==null&&e!==void 0?e:DL;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(a,{})})}function IL(e){var t=Et(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var Ny=N.createContext(void 0);function ML(e){if(!dc(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(Ny.Provider,{value:t,children:e.children})}return s.jsx(FL,{initialProps:e.initialProps,children:e.children})}function FL(e){var t=e.initialProps,r=e.children,n=t.selected,i=t.min,a=t.max,l=function(h,f,m){var g,y;(g=t.onDayClick)===null||g===void 0||g.call(t,h,f,m);var x=!!(f.selected&&i&&n?.length===i);if(!x){var v=!!(!f.selected&&a&&n?.length===a);if(!v){var b=n?hk([],n):[];if(f.selected){var w=b.findIndex(function(E){return Mr(h,E)});b.splice(w,1)}else b.push(h);(y=t.onSelect)===null||y===void 0||y.call(t,b,h,f,m)}}},c={disabled:[]};n&&c.disabled.push(function(h){var f=a&&n.length>a-1,m=n.some(function(g){return Mr(g,h)});return!!(f&&!m)});var d={selected:n,onDayClick:l,modifiers:c};return s.jsx(Ny.Provider,{value:d,children:r})}function Cy(){var e=N.useContext(Ny);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function LL(e,t){var r=t||{},n=r.from,i=r.to;return n&&i?Mr(i,e)&&Mr(n,e)?void 0:Mr(i,e)?{from:i,to:void 0}:Mr(n,e)?void 0:dv(n,e)?{from:e,to:i}:{from:n,to:e}:i?dv(e,i)?{from:i,to:e}:{from:e,to:i}:n?dk(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var ky=N.createContext(void 0);function UL(e){if(!hc(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(ky.Provider,{value:t,children:e.children})}return s.jsx(BL,{initialProps:e.initialProps,children:e.children})}function BL(e){var t=e.initialProps,r=e.children,n=t.selected,i=n||{},a=i.from,l=i.to,c=t.min,d=t.max,h=function(y,x,v){var b,w;(b=t.onDayClick)===null||b===void 0||b.call(t,y,x,v);var E=LL(y,n);(w=t.onSelect)===null||w===void 0||w.call(t,E,y,x,v)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(f.range_start=[a],l?(f.range_end=[l],Mr(a,l)||(f.range_middle=[{after:a,before:l}])):f.range_end=[a]):l&&(f.range_start=[l],f.range_end=[l]),c&&(a&&!l&&f.disabled.push({after:Mp(a,c-1),before:Er(a,c-1)}),a&&l&&f.disabled.push({after:a,before:Er(a,c-1)}),!a&&l&&f.disabled.push({after:Mp(l,c-1),before:Er(l,c-1)})),d){if(a&&!l&&(f.disabled.push({before:Er(a,-d+1)}),f.disabled.push({after:Er(a,d-1)})),a&&l){var m=Bn(l,a)+1,g=d-m;f.disabled.push({before:Mp(a,g)}),f.disabled.push({after:Er(l,g)})}!a&&l&&(f.disabled.push({before:Er(l,-d+1)}),f.disabled.push({after:Er(l,d-1)}))}return s.jsx(ky.Provider,{value:{selected:n,onDayClick:h,modifiers:f},children:r})}function Ty(){var e=N.useContext(ky);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function cd(e){return Array.isArray(e)?hk([],e):e!==void 0?[e]:[]}function $L(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],i=r[1];t[n]=cd(i)}),t}var Cn;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Cn||(Cn={}));var zL=Cn.Selected,ds=Cn.Disabled,HL=Cn.Hidden,WL=Cn.Today,Lp=Cn.RangeEnd,Up=Cn.RangeMiddle,Bp=Cn.RangeStart,qL=Cn.Outside;function VL(e,t,r){var n,i=(n={},n[zL]=cd(e.selected),n[ds]=cd(e.disabled),n[HL]=cd(e.hidden),n[WL]=[e.today],n[Lp]=[],n[Up]=[],n[Bp]=[],n[qL]=[],n);return e.fromDate&&i[ds].push({before:e.fromDate}),e.toDate&&i[ds].push({after:e.toDate}),dc(e)?i[ds]=i[ds].concat(t.modifiers[ds]):hc(e)&&(i[ds]=i[ds].concat(r.modifiers[ds]),i[Bp]=r.modifiers[Bp],i[Up]=r.modifiers[Up],i[Lp]=r.modifiers[Lp]),i}var vk=N.createContext(void 0);function KL(e){var t=Et(),r=Cy(),n=Ty(),i=VL(t,r,n),a=$L(t.modifiers),l=Ye(Ye({},i),a);return s.jsx(vk.Provider,{value:l,children:e.children})}function yk(){var e=N.useContext(vk);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function GL(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function YL(e){return!!(e&&typeof e=="object"&&"from"in e)}function XL(e){return!!(e&&typeof e=="object"&&"after"in e)}function QL(e){return!!(e&&typeof e=="object"&&"before"in e)}function JL(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function ZL(e,t){var r,n=t.from,i=t.to;if(n&&i){var a=Bn(i,n)<0;a&&(r=[i,n],n=r[0],i=r[1]);var l=Bn(e,n)>=0&&Bn(i,e)>=0;return l}return i?Mr(i,e):n?Mr(n,e):!1}function eU(e){return jy(e)}function tU(e){return Array.isArray(e)&&e.every(jy)}function rU(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(eU(r))return Mr(e,r);if(tU(r))return r.includes(e);if(YL(r))return ZL(e,r);if(JL(r))return r.dayOfWeek.includes(e.getDay());if(GL(r)){var n=Bn(r.before,e),i=Bn(r.after,e),a=n>0,l=i<0,c=dv(r.before,r.after);return c?l&&a:a||l}return XL(r)?Bn(e,r.after)>0:QL(r)?Bn(r.before,e)>0:typeof r=="function"?r(e):!1})}function Py(e,t,r){var n=Object.keys(t).reduce(function(a,l){var c=t[l];return rU(e,c)&&a.push(l),a},[]),i={};return n.forEach(function(a){return i[a]=!0}),r&&!Ey(e,r)&&(i.outside=!0),i}function nU(e,t){for(var r=_r(e[0]),n=Wl(e[e.length-1]),i,a,l=r;l<=n;){var c=Py(l,t),d=!c.disabled&&!c.hidden;if(!d){l=Er(l,1);continue}if(c.selected)return l;c.today&&!a&&(a=l),i||(i=l),l=Er(l,1)}return a||i}var sU=365;function xk(e,t){var r=t.moveBy,n=t.direction,i=t.context,a=t.modifiers,l=t.retry,c=l===void 0?{count:0,lastFocused:e}:l,d=i.weekStartsOn,h=i.fromDate,f=i.toDate,m=i.locale,g={day:Er,week:uv,month:nn,year:sk,startOfWeek:function(b){return i.ISOWeek?Wi(b):Kn(b,{locale:m,weekStartsOn:d})},endOfWeek:function(b){return i.ISOWeek?ik(b):Sy(b,{locale:m,weekStartsOn:d})}},y=g[r](e,n==="after"?1:-1);n==="before"&&h?y=q8([h,y]):n==="after"&&f&&(y=V8([f,y]));var x=!0;if(a){var v=Py(y,a);x=!v.disabled&&!v.hidden}return x?y:c.count>sU?c.lastFocused:xk(y,{moveBy:r,direction:n,context:i,modifiers:a,retry:Ye(Ye({},c),{count:c.count+1})})}var wk=N.createContext(void 0);function iU(e){var t=fc(),r=yk(),n=N.useState(),i=n[0],a=n[1],l=N.useState(),c=l[0],d=l[1],h=nU(t.displayMonths,r),f=i??(c&&t.isDateDisplayed(c))?c:h,m=function(){d(i),a(void 0)},g=function(b){a(b)},y=Et(),x=function(b,w){if(i){var E=xk(i,{moveBy:b,direction:w,context:y,modifiers:r});Mr(i,E)||(t.goToDate(E,i),g(E))}},v={focusedDay:i,focusTarget:f,blur:m,focus:g,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return s.jsx(wk.Provider,{value:v,children:e.children})}function Ay(){var e=N.useContext(wk);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function aU(e,t){var r=yk(),n=Py(e,r,t);return n}var Ry=N.createContext(void 0);function oU(e){if(!lh(e.initialProps)){var t={selected:void 0};return s.jsx(Ry.Provider,{value:t,children:e.children})}return s.jsx(lU,{initialProps:e.initialProps,children:e.children})}function lU(e){var t=e.initialProps,r=e.children,n=function(a,l,c){var d,h,f;if((d=t.onDayClick)===null||d===void 0||d.call(t,a,l,c),l.selected&&!t.required){(h=t.onSelect)===null||h===void 0||h.call(t,void 0,a,l,c);return}(f=t.onSelect)===null||f===void 0||f.call(t,a,a,l,c)},i={selected:t.selected,onDayClick:n};return s.jsx(Ry.Provider,{value:i,children:r})}function bk(){var e=N.useContext(Ry);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function cU(e,t){var r=Et(),n=bk(),i=Cy(),a=Ty(),l=Ay(),c=l.focusDayAfter,d=l.focusDayBefore,h=l.focusWeekAfter,f=l.focusWeekBefore,m=l.blur,g=l.focus,y=l.focusMonthBefore,x=l.focusMonthAfter,v=l.focusYearBefore,b=l.focusYearAfter,w=l.focusStartOfWeek,E=l.focusEndOfWeek,_=function(V){var X,ne,he,W;lh(r)?(X=n.onDayClick)===null||X===void 0||X.call(n,e,t,V):dc(r)?(ne=i.onDayClick)===null||ne===void 0||ne.call(i,e,t,V):hc(r)?(he=a.onDayClick)===null||he===void 0||he.call(a,e,t,V):(W=r.onDayClick)===null||W===void 0||W.call(r,e,t,V)},S=function(V){var X;g(e),(X=r.onDayFocus)===null||X===void 0||X.call(r,e,t,V)},P=function(V){var X;m(),(X=r.onDayBlur)===null||X===void 0||X.call(r,e,t,V)},B=function(V){var X;(X=r.onDayMouseEnter)===null||X===void 0||X.call(r,e,t,V)},L=function(V){var X;(X=r.onDayMouseLeave)===null||X===void 0||X.call(r,e,t,V)},U=function(V){var X;(X=r.onDayPointerEnter)===null||X===void 0||X.call(r,e,t,V)},F=function(V){var X;(X=r.onDayPointerLeave)===null||X===void 0||X.call(r,e,t,V)},ee=function(V){var X;(X=r.onDayTouchCancel)===null||X===void 0||X.call(r,e,t,V)},me=function(V){var X;(X=r.onDayTouchEnd)===null||X===void 0||X.call(r,e,t,V)},z=function(V){var X;(X=r.onDayTouchMove)===null||X===void 0||X.call(r,e,t,V)},G=function(V){var X;(X=r.onDayTouchStart)===null||X===void 0||X.call(r,e,t,V)},A=function(V){var X;(X=r.onDayKeyUp)===null||X===void 0||X.call(r,e,t,V)},te=function(V){var X;switch(V.key){case"ArrowLeft":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?c():d();break;case"ArrowRight":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?d():c();break;case"ArrowDown":V.preventDefault(),V.stopPropagation(),h();break;case"ArrowUp":V.preventDefault(),V.stopPropagation(),f();break;case"PageUp":V.preventDefault(),V.stopPropagation(),V.shiftKey?v():y();break;case"PageDown":V.preventDefault(),V.stopPropagation(),V.shiftKey?b():x();break;case"Home":V.preventDefault(),V.stopPropagation(),w();break;case"End":V.preventDefault(),V.stopPropagation(),E();break}(X=r.onDayKeyDown)===null||X===void 0||X.call(r,e,t,V)},J={onClick:_,onFocus:S,onBlur:P,onKeyDown:te,onKeyUp:A,onMouseEnter:B,onMouseLeave:L,onPointerEnter:U,onPointerLeave:F,onTouchCancel:ee,onTouchEnd:me,onTouchMove:z,onTouchStart:G};return J}function uU(){var e=Et(),t=bk(),r=Cy(),n=Ty(),i=lh(e)?t.selected:dc(e)?r.selected:hc(e)?n.selected:void 0;return i}function dU(e){return Object.values(Cn).includes(e)}function hU(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var i=e.modifiersClassNames[n];if(i)r.push(i);else if(dU(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function fU(e,t){var r=Ye({},e.styles.day);return Object.keys(t).forEach(function(n){var i;r=Ye(Ye({},r),(i=e.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function pU(e,t,r){var n,i,a,l=Et(),c=Ay(),d=aU(e,t),h=cU(e,d),f=uU(),m=!!(l.onDayClick||l.mode!=="default");N.useEffect(function(){var B;d.outside||c.focusedDay&&m&&Mr(c.focusedDay,e)&&((B=r.current)===null||B===void 0||B.focus())},[c.focusedDay,e,r,m,d.outside]);var g=hU(l,d).join(" "),y=fU(l,d),x=!!(d.outside&&!l.showOutsideDays||d.hidden),v=(a=(i=l.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:IL,b=s.jsx(v,{date:e,displayMonth:t,activeModifiers:d}),w={style:y,className:g,children:b,role:"gridcell"},E=c.focusTarget&&Mr(c.focusTarget,e)&&!d.outside,_=c.focusedDay&&Mr(c.focusedDay,e),S=Ye(Ye(Ye({},w),(n={disabled:d.disabled,role:"gridcell"},n["aria-selected"]=d.selected,n.tabIndex=_||E?0:-1,n)),h),P={isButton:m,isHidden:x,activeModifiers:d,selectedDays:f,buttonProps:S,divProps:w};return P}function mU(e){var t=N.useRef(null),r=pU(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(Ed,Ye({name:"day",ref:t},r.buttonProps)):s.jsx("div",Ye({},r.divProps))}function gU(e){var t=e.number,r=e.dates,n=Et(),i=n.onWeekNumberClick,a=n.styles,l=n.classNames,c=n.locale,d=n.labels.labelWeekNumber,h=n.formatters.formatWeekNumber,f=h(Number(t),{locale:c});if(!i)return s.jsx("span",{className:l.weeknumber,style:a.weeknumber,children:f});var m=d(Number(t),{locale:c}),g=function(y){i(t,r,y)};return s.jsx(Ed,{name:"week-number","aria-label":m,className:l.weeknumber,style:a.weeknumber,onClick:g,children:f})}function vU(e){var t,r,n=Et(),i=n.styles,a=n.classNames,l=n.showWeekNumber,c=n.components,d=(t=c?.Day)!==null&&t!==void 0?t:mU,h=(r=c?.WeekNumber)!==null&&r!==void 0?r:gU,f;return l&&(f=s.jsx("td",{className:a.cell,style:i.cell,children:s.jsx(h,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:a.row,style:i.row,children:[f,e.dates.map(function(m){return s.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:s.jsx(d,{displayMonth:e.displayMonth,date:m})},qF(m))})]})}function j1(e,t,r){for(var n=r?.ISOWeek?ik(t):Sy(t,r),i=r?.ISOWeek?Wi(e):Kn(e,r),a=Bn(n,i),l=[],c=0;c<=a;c++)l.push(Er(i,c));var d=l.reduce(function(h,f){var m=r?.ISOWeek?ok(f):ck(f,r),g=h.find(function(y){return y.weekNumber===m});return g?(g.dates.push(f),h):(h.push({weekNumber:m,dates:[f]}),h)},[]);return d}function yU(e,t){var r=j1(_r(e),Wl(e),t);if(t?.useFixedWeeks){var n=KF(e,t);if(n<6){var i=r[r.length-1],a=i.dates[i.dates.length-1],l=uv(a,6-n),c=j1(uv(a,1),l,t);r.push.apply(r,c)}}return r}function xU(e){var t,r,n,i=Et(),a=i.locale,l=i.classNames,c=i.styles,d=i.hideHead,h=i.fixedWeeks,f=i.components,m=i.weekStartsOn,g=i.firstWeekContainsDate,y=i.ISOWeek,x=yU(e.displayMonth,{useFixedWeeks:!!h,ISOWeek:y,locale:a,weekStartsOn:m,firstWeekContainsDate:g}),v=(t=f?.Head)!==null&&t!==void 0?t:OL,b=(r=f?.Row)!==null&&r!==void 0?r:vU,w=(n=f?.Footer)!==null&&n!==void 0?n:AL;return s.jsxs("table",{id:e.id,className:l.table,style:c.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&s.jsx(v,{}),s.jsx("tbody",{className:l.tbody,style:c.tbody,children:x.map(function(E){return s.jsx(b,{displayMonth:e.displayMonth,dates:E.dates,weekNumber:E.weekNumber},E.weekNumber)})}),s.jsx(w,{displayMonth:e.displayMonth})]})}function wU(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var bU=wU()?N.useLayoutEffect:N.useEffect,$p=!1,_U=0;function S1(){return"react-day-picker-".concat(++_U)}function jU(e){var t,r=e??($p?S1():null),n=N.useState(r),i=n[0],a=n[1];return bU(function(){i===null&&a(S1())},[]),N.useEffect(function(){$p===!1&&($p=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function SU(e){var t,r,n=Et(),i=n.dir,a=n.classNames,l=n.styles,c=n.components,d=fc().displayMonths,h=jU(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),f=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,m=[a.month],g=l.month,y=e.displayIndex===0,x=e.displayIndex===d.length-1,v=!y&&!x;i==="rtl"&&(t=[y,x],x=t[0],y=t[1]),y&&(m.push(a.caption_start),g=Ye(Ye({},g),l.caption_start)),x&&(m.push(a.caption_end),g=Ye(Ye({},g),l.caption_end)),v&&(m.push(a.caption_between),g=Ye(Ye({},g),l.caption_between));var b=(r=c?.Caption)!==null&&r!==void 0?r:PL;return s.jsxs("div",{className:m.join(" "),style:g,children:[s.jsx(b,{id:h,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(xU,{id:f,"aria-labelledby":h,displayMonth:e.displayMonth})]},e.displayIndex)}function EU(e){var t=Et(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function NU(e){var t,r,n=e.initialProps,i=Et(),a=Ay(),l=fc(),c=N.useState(!1),d=c[0],h=c[1];N.useEffect(function(){i.initialFocus&&a.focusTarget&&(d||(a.focus(a.focusTarget),h(!0)))},[i.initialFocus,d,a.focus,a.focusTarget,a]);var f=[i.classNames.root,i.className];i.numberOfMonths>1&&f.push(i.classNames.multiple_months),i.showWeekNumber&&f.push(i.classNames.with_weeknumber);var m=Ye(Ye({},i.styles.root),i.style),g=Object.keys(n).filter(function(x){return x.startsWith("data-")}).reduce(function(x,v){var b;return Ye(Ye({},x),(b={},b[v]=n[v],b))},{}),y=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:EU;return s.jsx("div",Ye({className:f.join(" "),style:m,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},g,{children:s.jsx(y,{children:l.displayMonths.map(function(x,v){return s.jsx(SU,{displayIndex:v,displayMonth:x},v)})})}))}function CU(e){var t=e.children,r=QF(e,["children"]);return s.jsx(gL,{initialProps:r,children:s.jsx(NL,{children:s.jsx(oU,{initialProps:r,children:s.jsx(ML,{initialProps:r,children:s.jsx(UL,{initialProps:r,children:s.jsx(KL,{children:s.jsx(iU,{children:t})})})})})})})}function kU(e){return s.jsx(CU,Ye({},e,{children:s.jsx(NU,{initialProps:e})}))}function _k({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(kU,{showOutsideDays:r,className:Pe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Pe(Bl({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Pe(Bl({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>s.jsx(hD,{className:"h-4 w-4"}),IconRight:({...i})=>s.jsx(fD,{className:"h-4 w-4"})},...n})}_k.displayName="Calendar";const jk=({selectedPeriod:e,onPeriodChange:t,customDateRange:r,onCustomDateChange:n})=>{const[i,a]=_t.useState(!1),l=d=>{t(d),d!=="custom"&&a(!1)},c=()=>{if(!r.from)return"Select date range";const d=sn(r.from,"MMM d, yyyy");if(!r.to)return`From ${d}`;const h=sn(r.to,"MMM d, yyyy");return`${d} - ${h}`};return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsxs(mt,{value:e,onValueChange:l,children:[s.jsx(ft,{className:"w-[180px]",children:s.jsx(gt,{placeholder:"Select period"})}),s.jsxs(pt,{children:[s.jsx(Me,{value:"all-time",children:"All Time"}),s.jsx(Me,{value:"this-month",children:"This Month"}),s.jsx(Me,{value:"last-month",children:"Last Month"}),s.jsx(Me,{value:"this-year",children:"This Year"}),s.jsx(Me,{value:"last-year",children:"Last Year"}),s.jsx(Me,{value:"custom",children:"Custom Period"})]})]})}),e==="custom"&&s.jsxs(B8,{open:i,onOpenChange:a,children:[s.jsx($8,{asChild:!0,children:s.jsxs(_e,{variant:"outline",className:"min-w-[240px] justify-start text-left font-normal",onClick:()=>a(!0),children:[s.jsx(Xn,{className:"mr-2 h-4 w-4"}),c(),s.jsx(Iv,{className:"ml-auto h-4 w-4 opacity-50"})]})}),s.jsx(rk,{className:"w-auto p-0",align:"start",children:s.jsx(_k,{mode:"range",selected:{from:r.from,to:r.to},onSelect:d=>{n({from:d?.from,to:d?.to})},initialFocus:!0})})]})]})},TU=({selectedPeriod:e,onPeriodChange:t,customDateRange:r,onCustomDateChange:n})=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Analytics"}),s.jsx(jk,{selectedPeriod:e,onPeriodChange:t,customDateRange:r,onCustomDateChange:n})]}),PU=Ki("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function at({className:e,variant:t,...r}){return s.jsx("div",{className:Pe(PU({variant:t}),e),...r})}const AU=(e,t=!1,r="",n=!1)=>{if(n&&t)return"";const i=typeof e=="string"?parseFloat(e.replace(/[^0-9.-]/g,"")):e;if(isNaN(i))return e;const a=Math.round(i);if(a>=1e3){const l=(a/1e3).toFixed(2).replace(/\.?0+$/,"");return t?`${r==="RON"?"RON ":r==="EUR"?"":"$"}${l}K`:`${l}K`}return t?`${r==="RON"?"RON ":r==="EUR"?"":"$"}${a}`:a.toString()},RU=e=>{const t=typeof e=="string"?parseFloat(e.replace(/[^0-9.-]/g,"")):e;return isNaN(t)?e:`${Math.round(t)}h`},DU=(e,t,r)=>{if(t!==void 0&&r!==void 0&&r>0){const i=Math.round((t-r)/r*100);return{change:Math.abs(i),isIncrease:i>=0}}return{"Total Clients":{change:15,isIncrease:!0},"Total Time":{change:23,isIncrease:!0},"Total Revenue":{change:8,isIncrease:!0},"Monthly Costs":{change:12,isIncrease:!1},"Total Paid to Date":{change:18,isIncrease:!0},"Net Profit":{change:18,isIncrease:!0}}[e]||{change:0,isIncrease:!0}},OU=({stat:e,displayCurrency:t})=>{const{demoMode:r}=wt(),n=DU(e.title,e.currentValue,e.previousValue),i=n.isIncrease?TD:kD,a=e.isTime?RU(e.value):AU(e.value,e.isCurrency,t,r),l=!r&&!e.isTime&&typeof e.value=="number"?e.value>=1e3:!r&&typeof e.value=="string"&&parseFloat(e.value.replace(/[^0-9.-]/g,""))>=1e3;return s.jsx(Qe,{className:"hover:shadow-none transition-all duration-200 shadow-none w-full min-w-0",children:s.jsxs(Je,{className:"p-4 lg:p-6 flex flex-col justify-between h-full min-h-[200px] lg:min-h-[231px]",children:[s.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[s.jsxs("div",{className:"space-y-1 lg:space-y-2",children:[s.jsx("h3",{className:"font-satoshi font-normal text-sm lg:text-lg xl:text-xl leading-tight",style:{color:"var(--Dark-color, #081735)"},children:e.title}),s.jsxs("div",{className:"flex items-center space-x-1 lg:space-x-2",children:[s.jsxs(at,{className:`text-xs px-1.5 lg:px-2 py-0.5 lg:py-1 flex items-center space-x-1 ${n.isIncrease?"bg-green-100 text-green-800 hover:bg-green-100":"bg-red-100 text-red-800 hover:bg-red-100"}`,children:[s.jsx(i,{className:"w-2.5 h-2.5 lg:w-3 lg:h-3"}),s.jsxs("span",{className:"text-xs",children:[n.change,"%"]})]}),s.jsx("span",{className:"text-xs text-slate-500 hidden sm:inline",children:e.comparisonText||"vs prev 30d"})]})]}),s.jsxs("div",{className:"space-y-1",children:[e.statusRows.map((c,d)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-slate-500 truncate",children:c}),e.details&&e.details.length>0&&d===0&&s.jsx("span",{className:"text-xs text-slate-600 truncate max-w-16 lg:max-w-20",children:typeof e.details[0]=="string"?e.details[0]:e.details[0]?.name})]},d)),e.statusRows.length===0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-slate-500 truncate",children:e.subtitle}),e.details&&e.details.length>0&&s.jsx("span",{className:"text-xs text-slate-600 truncate max-w-16 lg:max-w-20",children:typeof e.details[0]=="string"?e.details[0]:e.details[0]?.name})]})]})]}),s.jsx("div",{className:"mt-2 lg:mt-4",children:l&&!e.isTime?s.jsxs(ir,{children:[s.jsx(ar,{asChild:!0,children:s.jsx("p",{className:"font-satoshi font-normal cursor-help text-xl sm:text-2xl lg:text-3xl xl:text-5xl leading-tight",style:{color:"var(--Dark-color, #081735)"},children:a})}),s.jsx(Xt,{children:s.jsx("p",{children:e.originalValue})})]}):s.jsx("p",{className:"font-satoshi font-normal text-xl sm:text-2xl lg:text-3xl xl:text-5xl leading-tight",style:{color:"var(--Dark-color, #081735)"},children:a})})]})})},IU=({totalClients:e,activeClients:t,totalHours:r,totalRevenue:n,monthlySubscriptionCost:i,totalPaidToDate:a,clients:l,displayCurrency:c,formatCurrency:d,timeBreakdown:h=[],revenueBreakdown:f=[],selectedPeriod:m,customDateRange:g,previousPeriodData:y,comparisonText:x})=>{const{demoMode:v}=wt(),b=()=>{let L=0,U="";switch(m){case"this-month":case"last-month":L=n-i,U="monthly estimate";break;case"this-year":case"last-year":L=n-i*12,U="annual estimate";break;case"custom":if(g.from&&g.to){const ee=Math.ceil((g.to.getTime()-g.from.getTime())/864e5)/30.44;L=n-i*ee,U="period estimate"}else L=n-i*12,U="estimate";break;default:L=n-i*12,U="annual estimate";break}return{netProfit:L,subtitle:U}},{netProfit:w,subtitle:E}=b(),_=e-t,S=l.filter(L=>L.status==="pending").length,P=()=>{const L=[];return t>0&&L.push(`${t} active`),_>0&&L.push(`${_} inactive`),S>0&&L.push(`${S} pending`),L};return{stats:N.useMemo(()=>[{title:"Total Clients",value:e,originalValue:e.toString(),isCurrency:!1,isTime:!1,subtitle:"client accounts",statusRows:P(),details:l.slice(0,3).map(L=>L.name),currentValue:e,previousValue:y?.totalClients,comparisonText:x},{title:"Total Time",value:r,originalValue:`${r.toFixed(1)} hours`,isCurrency:!1,isTime:!0,subtitle:"tracked hours",statusRows:[],details:h.slice(0,3),currentValue:r,previousValue:y?.totalHours,comparisonText:x},{title:"Total Revenue",value:v?"":d(n,c),originalValue:v?"":d(n,c),isCurrency:!0,isTime:!1,subtitle:"from paid invoices",statusRows:[],details:f.slice(0,3),currentValue:n,previousValue:y?.totalRevenue,comparisonText:x},{title:"Monthly Costs",value:v?"":d(i,c),originalValue:v?"":d(i,c),isCurrency:!0,isTime:!1,subtitle:"subscription expenses",statusRows:[],details:null,currentValue:i,previousValue:y?.monthlySubscriptionCost,comparisonText:x},{title:"Total Paid to Date",value:v?"":d(a,c),originalValue:v?"":d(a,c),isCurrency:!0,isTime:!1,subtitle:"all subscriptions",statusRows:[],details:null,currentValue:a,previousValue:y?.totalPaidToDate,comparisonText:x},{title:"Net Profit",value:v?"":d(w,c),originalValue:v?"":d(w,c),isCurrency:!0,isTime:!1,subtitle:E,statusRows:[],details:f.slice(0,3),currentValue:w,previousValue:y?y.totalRevenue-y.monthlySubscriptionCost:void 0,comparisonText:x}],[e,t,r,n,i,a,l,c,d,h,f,m,g,v,w,E,y,x])}},MU=e=>{const{stats:t}=IU(e);return s.jsxs("div",{className:"space-y-6",children:[s.jsx(TU,{selectedPeriod:e.selectedPeriod,onPeriodChange:e.onPeriodChange,customDateRange:e.customDateRange,onCustomDateChange:e.onCustomDateChange}),s.jsx(Js,{children:e.loading?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:Array.from({length:6}).map((r,n)=>s.jsx("div",{className:"rounded-lg border p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 w-28 bg-muted animate-pulse rounded"}),s.jsx("div",{className:"h-7 w-24 bg-muted animate-pulse rounded"}),s.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded"})]})},n))}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:t.map((r,n)=>s.jsx(OU,{stat:r,displayCurrency:e.displayCurrency},n))})})]})},FU=({tasks:e,projects:t,selectedPeriod:r,onPeriodChange:n,customDateRange:i,onCustomDateChange:a})=>{const l=e.filter(x=>x.status==="completed").length,c=e.filter(x=>x.status==="in-progress").length,d=e.filter(x=>x.status==="pending").length,h=e.length,f=e.reduce((x,v)=>x+(v.workedHours||0),0),m=t.filter(x=>x.status==="active").length,g=h>0?Math.round(l/h*100):0,y=e.filter(x=>{if(!x.completedDate)return!1;const v=new Date(x.completedDate),b=new Date;return b.setDate(b.getDate()-7),v>=b}).length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Your Productivity Overview"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Track your personal progress and achievements"})]}),s.jsx(jk,{selectedPeriod:r,onPeriodChange:n,customDateRange:i,onCustomDateChange:a})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(Qe,{children:[s.jsxs(dt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ht,{className:"text-sm font-medium",children:"Total Tasks"}),s.jsx(dD,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Je,{children:[s.jsx("div",{className:"text-2xl font-bold",children:h}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All your tasks"})]})]}),s.jsxs(Qe,{children:[s.jsxs(dt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ht,{className:"text-sm font-medium",children:"Completed"}),s.jsx(Ll,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(Je,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:l}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[g,"% completion rate"]})]})]}),s.jsxs(Qe,{children:[s.jsxs(dt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ht,{className:"text-sm font-medium",children:"Hours Worked"}),s.jsx(Kr,{className:"h-4 w-4 text-blue-600"})]}),s.jsxs(Je,{children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[f.toFixed(1),"h"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total time tracked"})]})]}),s.jsxs(Qe,{children:[s.jsxs(dt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ht,{className:"text-sm font-medium",children:"Active Projects"}),s.jsx(Bd,{className:"h-4 w-4 text-purple-600"})]}),s.jsxs(Je,{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:m}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently working on"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Qe,{children:[s.jsx(dt,{children:s.jsxs(ht,{className:"flex items-center",children:[s.jsx(Xn,{className:"w-5 h-5 mr-2"}),"Task Status Breakdown"]})}),s.jsxs(Je,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(MS,{className:"w-4 h-4 text-yellow-600"}),s.jsx("span",{className:"text-sm",children:"Pending"})]}),s.jsx(at,{variant:"outline",children:d})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Kr,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm",children:"In Progress"})]}),s.jsx(at,{variant:"outline",children:c})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ll,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Completed"})]}),s.jsx(at,{variant:"outline",children:l})]})]})]}),s.jsxs(Qe,{children:[s.jsx(dt,{children:s.jsx(ht,{children:"Recent Activity"})}),s.jsx(Je,{children:s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:y}),s.jsx("p",{className:"text-sm text-slate-600",children:"Tasks completed in the last 7 days"}),y>0&&s.jsx("p",{className:"text-xs text-green-600 mt-2",children:"Great job staying productive! "}),y===0&&h>0&&s.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Complete some tasks to see your progress here"}),h===0&&s.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Add your first task to get started!"})]})})]})]})]})},pc=N.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:Pe("w-full caption-bottom text-sm",e),...t})}));pc.displayName="Table";const mc=N.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:Pe("[&_tr]:border-b",e),...t}));mc.displayName="TableHeader";const gc=N.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:Pe("[&_tr:last-child]:border-0",e),...t}));gc.displayName="TableBody";const LU=N.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:Pe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));LU.displayName="TableFooter";const Gn=N.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:Pe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Gn.displayName="TableRow";const Ut=N.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:Pe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ut.displayName="TableHead";const Bt=N.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:Pe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Bt.displayName="TableCell";const UU=N.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:Pe("mt-4 text-sm text-muted-foreground",e),...t}));UU.displayName="TableCaption";const mr=ty,BU=ry,Sk=N.forwardRef(({className:e,...t},r)=>s.jsx(ec,{ref:r,className:Pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Sk.displayName=ec.displayName;const lr=N.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(BU,{children:[s.jsx(Sk,{}),s.jsxs(tc,{ref:n,className:Pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(Kd,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Fr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));lr.displayName=tc.displayName;const cr=({className:e,...t})=>s.jsx("div",{className:Pe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});cr.displayName="DialogHeader";const ur=N.forwardRef(({className:e,...t},r)=>s.jsx(rc,{ref:r,className:Pe("text-lg font-semibold leading-none tracking-tight",e),...t}));ur.displayName=rc.displayName;const di=N.forwardRef(({className:e,...t},r)=>s.jsx(nc,{ref:r,className:Pe("text-sm text-muted-foreground",e),...t}));di.displayName=nc.displayName;const $U=({isOpen:e,onClose:t,task:r,onComplete:n})=>{const[i,a]=N.useState(1),l=d=>{d.preventDefault(),i>0&&(n(i),a(1),t())},c=()=>{a(1),t()};return r?s.jsx(mr,{open:e,onOpenChange:c,children:s.jsxs(lr,{className:"sm:max-w-[425px]",children:[s.jsx(cr,{children:s.jsxs(ur,{children:["Complete Task: ",r.title]})}),s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm text-slate-600",children:["Client: ",s.jsx("span",{className:"font-medium",children:r.clientName})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"How many hours did you work on this task?"})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"workedHours",children:"Hours Worked"}),s.jsx(De,{id:"workedHours",type:"number",step:"0.25",min:"0.25",value:i,onChange:d=>a(parseFloat(d.target.value)||0),placeholder:"Enter hours worked",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(_e,{type:"button",variant:"outline",onClick:c,children:"Cancel"}),s.jsx(_e,{type:"submit",className:"bg-green-600 hover:bg-green-700",children:"Complete Task"})]})]})]})}):null},zU=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState(!0);return N.useEffect(()=>{const{data:{subscription:i}}=Re.auth.onAuthStateChange(async(a,l)=>{t(!!l?.user),n(!1)});return Re.auth.getSession().then(({data:{session:a}})=>{const l=!!a?.user;t(l),n(!1)}),()=>i.unsubscribe()},[]),{isAuthenticated:e,loading:r}},qu={async loadAll(){console.log("hourEntryService: Loading hour entries from Supabase...");const{data:{user:e},error:t}=await Re.auth.getUser();if(t)throw console.error("hourEntryService: Auth error:",t),t;if(!e)return console.log("hourEntryService: No authenticated user found"),[];console.log("hourEntryService: Authenticated user confirmed, querying for user:",e.id);const{data:r,error:n}=await Re.from("hour_entries").select("*").order("date",{ascending:!1});if(n)throw console.error("hourEntryService: Database error:",n),n;console.log("hourEntryService: Raw data from Supabase:",r);const i=r.map(a=>{let l;if(a.milestone_id!==null&&a.milestone_id!==void 0){const c=a.milestone_id;typeof c=="object"&&c!==null&&"_type"in c&&c._type==="undefined"?l=void 0:typeof a.milestone_id=="string"&&(l=a.milestone_id)}return{id:a.id,projectId:a.project_id,clientId:a.client_id,hours:Number(a.hours),description:a.description||void 0,date:a.date,billed:a.billed,createdAt:a.created_at,updatedAt:a.updated_at,userId:a.user_id||void 0,milestoneId:l,taskId:a.task_id||void 0}});return console.log("hourEntryService: Transformed entries:",i),i},async create(e){const{data:{user:t},error:r}=await Re.auth.getUser();if(r)throw r;if(!t)throw new Error("User not authenticated");console.log("hourEntryService: Adding hour entry for user:",t.id);const n={project_id:e.projectId,client_id:e.clientId,hours:e.hours,description:e.description||null,date:e.date,billed:e.billed,user_id:t.id,milestone_id:e.milestoneId||null,task_id:e.taskId||null};console.log("hourEntryService: Inserting entry:",n);const{data:i,error:a}=await Re.from("hour_entries").insert([n]).select().single();if(a)throw a;return{id:i.id,projectId:i.project_id,clientId:i.client_id,hours:Number(i.hours),description:i.description||void 0,date:i.date,billed:i.billed,createdAt:i.created_at,updatedAt:i.updated_at,userId:i.user_id||void 0,milestoneId:i.milestone_id||void 0,taskId:i.task_id||void 0}},async update(e,t){const r={};t.projectId&&(r.project_id=t.projectId),t.clientId&&(r.client_id=t.clientId),t.hours&&(r.hours=t.hours),t.description!==void 0&&(r.description=t.description||null),t.date&&(r.date=t.date),t.billed!==void 0&&(r.billed=t.billed),t.userId!==void 0&&(r.user_id=t.userId||null),t.milestoneId!==void 0&&(r.milestone_id=t.milestoneId||null),t.taskId!==void 0&&(r.task_id=t.taskId||null);const{error:n}=await Re.from("hour_entries").update(r).eq("id",e);if(n)throw n},async delete(e){console.log("Starting delete operation for entry ID:",e);const{data:{user:t},error:r}=await Re.auth.getUser();if(r)throw console.error("Auth error during delete:",r),r;if(!t)throw console.error("No authenticated user found during delete"),new Error("User not authenticated");console.log("Authenticated user confirmed, proceeding with delete for user:",t.id);const{error:n}=await Re.from("hour_entries").delete().eq("id",e);if(n)throw console.error("Supabase delete error:",n),n;console.log("Supabase delete successful")}},HU=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),{toast:i}=Jt(),a=async()=>{try{n(!0);const h=await qu.loadAll();t(h)}catch(h){console.error("Error loading hour entries:",h),h.message?.includes("row-level security")?i({title:"Authentication Error",description:"Please sign in to view your hour entries",variant:"destructive"}):i({title:"Error",description:"Failed to load hour entries",variant:"destructive"}),t([])}finally{n(!1)}};return{hourEntries:e,loading:r,loadHourEntries:a,addHourEntry:async h=>{try{const f=await qu.create(h);t(m=>[f,...m]),i({title:"Success",description:"Hour entry added successfully"})}catch(f){throw console.error("Error adding hour entry:",f),i({title:"Error",description:"Failed to add hour entry",variant:"destructive"}),f}},updateHourEntry:async(h,f)=>{try{await qu.update(h,f),t(m=>m.map(g=>g.id===h?{...g,...f}:g)),i({title:"Success",description:"Hour entry updated successfully"})}catch(m){console.error("Error updating hour entry:",m),i({title:"Error",description:"Failed to update hour entry",variant:"destructive"})}},deleteHourEntry:async h=>{try{await qu.delete(h),console.log("Supabase delete successful, updating local state"),t(f=>{const m=f.filter(g=>g.id!==h);return console.log("Local state updated, entries before:",f.length,"after:",m.length),m}),console.log("Refreshing data from database to ensure consistency"),await a(),i({title:"Success",description:"Hour entry deleted successfully"})}catch(f){throw console.error("Error deleting hour entry:",f),i({title:"Error",description:"Failed to delete hour entry",variant:"destructive"}),f}},setHourEntries:t}},Jn=()=>{const{isAuthenticated:e}=zU(),{hourEntries:t,loading:r,loadHourEntries:n,addHourEntry:i,updateHourEntry:a,deleteHourEntry:l,setHourEntries:c}=HU();return N.useEffect(()=>{e?(console.log("useHourEntries: User authenticated, loading hour entries..."),n()):(console.log("useHourEntries: User signed out, clearing entries"),c([]))},[e]),{hourEntries:t,loading:r,addHourEntry:i,updateHourEntry:a,deleteHourEntry:l,refreshHourEntries:n}},ch=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!1),{toast:i}=Jt(),a=async()=>{n(!0);try{const{data:c,error:d}=await Re.from("profiles").select("*").order("created_at",{ascending:!1});if(d)throw d;const h=(c||[]).map(f=>({...f,role:f.role}));t(h),h.length===0&&i({title:"No Users",description:"No users found in the system"})}catch(c){i({title:"Error",description:`Failed to load users: ${c.message}`,variant:"destructive"})}finally{n(!1)}},l=async(c,d)=>{try{const{error:h}=await Re.rpc("update_user_role",{target_user_id:c,new_role:d});if(h)throw h.message?.includes("Only administrators")?new Error("You do not have permission to update user roles"):h;i({title:"Success",description:"User role updated successfully"}),await a()}catch(h){console.error("Role update error:",h),i({title:"Error",description:h.message||"Failed to update user role",variant:"destructive"})}};return N.useEffect(()=>{a()},[]),{users:e,loading:r,updateUserRole:l,refreshUsers:a}},WU=({status:e,onStatusChange:t})=>s.jsxs(mt,{value:e,onValueChange:r=>t(r),children:[s.jsx(ft,{className:"w-32",children:s.jsx(gt,{})}),s.jsxs(pt,{children:[s.jsx(Me,{value:"pending",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(MS,{className:"w-4 h-4 text-yellow-600"}),s.jsx("span",{children:"Pending"})]})}),s.jsx(Me,{value:"in-progress",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Kr,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{children:"In Progress"})]})}),s.jsx(Me,{value:"completed",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ll,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{children:"Completed"})]})})]})]}),qU=({task:e,onEditTask:t,onDeleteTask:r})=>{const{isAdmin:n}=pr();return n?s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>t(e),className:"h-8 w-8 p-0",children:s.jsx(vs,{className:"h-4 w-4"})}),s.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>r(e.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Wn,{className:"h-4 w-4"})})]}):null},VU=({task:e,clients:t,projects:r,onTaskClick:n,onDeleteTask:i,onEditTask:a,onStatusChange:l})=>{const{isAdmin:c}=pr(),{hourEntries:d}=Jn(),{demoMode:h}=wt(),{users:f}=ch(),m=_t.useMemo(()=>{if(e.assignedToName)return e.assignedToName;if(!e.assignedTo)return;const x=f.find(v=>v.id===e.assignedTo);return x&&(x.full_name||x.email)||void 0},[e.assignedToName,e.assignedTo,f]),g=x=>{if(!x)return"No Project";const v=r.find(b=>b.id===x);return v?v.name:"Unknown Project"},y=x=>{if(x.status!=="completed"||!x.workedHours||x.workedHours<=0)return!1;if(d.some(E=>E.taskId===x.id&&E.billed===!0))return!0;const b=x.title.trim().toLowerCase();if(d.some(E=>{if(!E.billed||x.projectId&&E.projectId!==x.projectId||E.clientId!==x.clientId)return!1;const _=(E.description||"").trim().toLowerCase();return _?_.includes(b):!1}))return!0;if(x.completedDate){const E=new Date(x.completedDate).getTime();if(!Number.isNaN(E)&&(Date.now()-E)/864e5>7)return!0}return!1};return s.jsxs(Gn,{className:"cursor-pointer hover:bg-slate-50",onClick:()=>n(e),children:[s.jsx(Bt,{className:"font-medium",children:s.jsxs("div",{children:[e.urgent&&s.jsx("div",{className:"mb-1",children:s.jsx(at,{variant:"destructive",className:"text-xs",children:"Urgent"})}),s.jsx("p",{className:"font-semibold",children:e.title}),e.description&&s.jsx("p",{className:"text-sm text-slate-600 line-clamp-1 mt-1",children:e.description})]})}),s.jsx(Bt,{children:e.clientName}),s.jsx(Bt,{children:s.jsx("span",{className:"text-sm text-slate-600",children:g(e.projectId)})}),s.jsx(Bt,{children:s.jsx("div",{className:"text-sm",children:m?s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-700",children:m}),s.jsx("p",{className:"text-slate-500 text-xs",children:"Assigned"})]}):e.assignedTo?s.jsx("p",{className:"text-slate-500",children:"Assigned"}):s.jsx("p",{className:"text-slate-500",children:"Unassigned"})})}),s.jsx(Bt,{children:s.jsx("div",{className:"flex items-center space-x-2",onClick:x=>x.stopPropagation(),children:s.jsx(WU,{status:e.status,onStatusChange:x=>l(e,x)})})}),s.jsx(Bt,{children:s.jsx("div",{className:"text-sm",children:e.workedHours&&e.workedHours>0?s.jsxs("div",{className:"text-green-600 font-medium",children:[e.workedHours,"h"]}):s.jsx("div",{className:"text-slate-400",children:"-"})})}),c&&s.jsx(Bt,{children:h?s.jsx(at,{variant:"secondary",children:""}):s.jsx(at,{variant:y(e)?"default":"secondary",className:y(e)?"bg-green-100 text-green-800":"",children:y(e)?"Billed":"Not Billed"})}),s.jsx(Bt,{className:"text-sm text-slate-600",children:new Date(e.createdDate).toLocaleDateString()}),s.jsx(Bt,{className:"text-right",children:s.jsx("div",{onClick:x=>x.stopPropagation(),children:s.jsx(qU,{task:e,onEditTask:a,onDeleteTask:i})})})]})},KU=({tasks:e,clients:t,projects:r=[],onTaskClick:n,onUpdateTask:i,onDeleteTask:a,onEditTask:l,onAddTaskClick:c})=>{const[d,h]=N.useState(!1),[f,m]=N.useState(null),{isAdmin:g}=pr(),y=(v,b)=>{b==="completed"&&v.status!=="completed"?(m(v),h(!0)):i(v.id,b)},x=v=>{f&&i(f.id,"completed",v),m(null)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[c&&s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Tasks (",e.length,")"]}),s.jsxs(_e,{onClick:c,className:"bg-yellow-500 hover:bg-neutral-950 text-neutral-950 hover:text-yellow-500 transition-colors",children:[s.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Task"]})]}),s.jsx("div",{className:"rounded-md border bg-white",children:s.jsxs(pc,{children:[s.jsx(mc,{children:s.jsxs(Gn,{children:[s.jsx(Ut,{className:"w-[300px]",children:"Task"}),s.jsx(Ut,{children:"Client"}),s.jsx(Ut,{children:"Project"}),s.jsx(Ut,{children:"Assigned To"}),s.jsx(Ut,{children:"Status"}),s.jsx(Ut,{children:"Hours"}),g&&s.jsx(Ut,{children:"Billing"}),s.jsx(Ut,{children:"Created"}),s.jsx(Ut,{className:"text-right",children:"Actions"})]})}),s.jsx(gc,{children:e.length===0?s.jsx(Gn,{children:s.jsx("td",{colSpan:9,className:"text-center py-4 text-muted-foreground",children:"No tasks found"})}):e.map(v=>s.jsx(VU,{task:v,clients:t,projects:r,onTaskClick:n,onUpdateTask:i,onDeleteTask:a,onEditTask:l,onStatusChange:y},`task-${v.id}`))})]})})]}),s.jsx($U,{isOpen:d,onClose:()=>{h(!1),m(null)},task:f,onComplete:x})]})};Array(12).fill(0);_t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_t.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"}));_t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},_t.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"}));_t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_t.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"}));_t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_t.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}));var hv=1,GU=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:hv++,a=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...n,dismissible:l,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),i=r!==void 0;return n.then(async a=>{if(XU(a)&&!a.ok){i=!1;let l=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,c=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:r,type:"error",message:l,description:c})}else if(t.success!==void 0){i=!1;let l=typeof t.success=="function"?await t.success(a):t.success,c=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"success",message:l,description:c})}}).catch(async a=>{if(t.error!==void 0){i=!1;let l=typeof t.error=="function"?await t.error(a):t.error,c=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"error",message:l,description:c})}}).finally(()=>{var a;i&&(this.dismiss(r),r=void 0),(a=t.finally)==null||a.call(t)}),r},this.custom=(e,t)=>{let r=t?.id||hv++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},xn=new GU,YU=(e,t)=>{let r=t?.id||hv++;return xn.addToast({title:e,...t,id:r}),r},XU=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",QU=YU,JU=()=>xn.toasts,El=Object.assign(QU,{success:xn.success,info:xn.info,warning:xn.warning,error:xn.error,custom:xn.custom,message:xn.message,promise:xn.promise,dismiss:xn.dismiss,loading:xn.loading},{getHistory:JU});function ZU(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}ZU(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);const Qt=N.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:Pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Qt.displayName="Textarea";const eB=({clients:e,selectedClientId:t,onClientChange:r,label:n="Client",required:i=!1})=>{const a=l=>{l!=="no-clients"&&r(Number(l))};return s.jsxs("div",{children:[s.jsxs(we,{htmlFor:"client",children:[n," ",i&&"*"]}),s.jsxs(mt,{value:t?.toString()||"",onValueChange:a,children:[s.jsx(ft,{children:s.jsx(gt,{placeholder:e.length===0?"No clients available":"Select a client"})}),s.jsx(pt,{children:e.length===0?s.jsx(Me,{value:"no-clients",disabled:!0,children:"No clients available"}):e.map(l=>s.jsx(Me,{value:l.id.toString(),children:l.name},l.id))})]})]})},tB=({projects:e,selectedProjectId:t,onProjectChange:r,disabled:n=!1,clientSelected:i=!0,label:a="Project",required:l=!1})=>{const c=d=>{d!=="no-projects"&&r(d)};return s.jsxs("div",{children:[s.jsxs(we,{htmlFor:"project",children:[a," ",l&&"*"]}),s.jsxs(mt,{value:t||"",onValueChange:c,disabled:n,children:[s.jsx(ft,{children:s.jsx(gt,{placeholder:i?e.length===0?"No projects available":"Select a project":"Select a client first"})}),s.jsx(pt,{children:e.length===0?s.jsx(Me,{value:"no-projects",disabled:!0,children:i?"No projects available":"Select a client first"}):e.map(d=>s.jsx(Me,{value:d.id,children:d.name},d.id))})]})]})},Ek=({formData:e,setFormData:t,clients:r,availableProjects:n,milestones:i,selectedClient:a,onClientChange:l,users:c=[]})=>{const{isAdmin:d}=pr(),h=i.filter(v=>v.projectId===e.projectId&&v.status==="in-progress"),f=e.milestoneId?i.find(v=>v.id===e.milestoneId):void 0,m=f&&!h.some(v=>v.id===f.id)?[f,...h]:h,y=(n.find(v=>v.id===e.projectId)||null)?.useMilestones!==!1,x=!d&&y&&h.length>0;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"title",children:"Task Title *"}),s.jsx(De,{id:"title",value:e.title,onChange:v=>t(b=>({...b,title:v.target.value})),placeholder:"Enter task title",required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"description",children:"Description"}),s.jsx(Qt,{id:"description",value:e.description,onChange:v=>t(b=>({...b,description:v.target.value})),placeholder:"Enter task description",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(eB,{clients:r,selectedClientId:e.clientId,onClientChange:l,required:!0}),s.jsx(tB,{projects:n,selectedProjectId:e.projectId,onProjectChange:v=>t(b=>({...b,projectId:v,milestoneId:null})),disabled:!e.clientId,clientSelected:!!e.clientId,required:!0})]}),e.projectId&&s.jsxs("div",{children:[s.jsxs(we,{htmlFor:"milestone",children:["Milestone ",x?"*":""]}),s.jsxs(mt,{value:e.milestoneId||"none",onValueChange:v=>t(b=>({...b,milestoneId:v==="none"?null:v})),children:[s.jsx(ft,{children:s.jsx(gt,{placeholder:h.length===0?"No in-progress milestones available":x?"Select a milestone (required)":"Select a milestone (optional)"})}),s.jsxs(pt,{children:[!x&&s.jsx(Me,{value:"none",children:"No milestone"}),m.map(v=>s.jsx(Me,{value:v.id,children:v.title},v.id))]})]}),h.length===0&&e.projectId&&s.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"No in-progress milestones found. Consider creating or activating a milestone for better time tracking."})]}),d&&s.jsxs("div",{children:[s.jsx(we,{htmlFor:"assignedTo",children:"Assign To"}),s.jsxs(mt,{value:e.assignedTo??"none",onValueChange:v=>t(b=>({...b,assignedTo:v==="none"?void 0:v})),children:[s.jsx(ft,{children:s.jsx(gt,{placeholder:"Select user (optional)"})}),s.jsxs(pt,{children:[s.jsx(Me,{value:"none",children:"Unassigned"}),c.map(v=>s.jsx(Me,{value:v.id,children:v.full_name||v.email},v.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"startDate",children:"Start Date"}),s.jsx(De,{id:"startDate",type:"date",value:e.startDate,onChange:v=>t(b=>({...b,startDate:v.target.value}))})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"endDate",children:"End Date"}),s.jsx(De,{id:"endDate",type:"date",value:e.endDate,onChange:v=>t(b=>({...b,endDate:v.target.value})),min:e.startDate||void 0})]})]}),a?.priceType==="hour"&&s.jsxs("div",{children:[s.jsx(we,{htmlFor:"estimatedHours",children:"Estimated Hours"}),s.jsx(De,{id:"estimatedHours",type:"number",step:"0.5",min:"0",value:e.estimatedHours||"",onChange:v=>t(b=>({...b,estimatedHours:v.target.value?Number(v.target.value):void 0})),placeholder:"Enter estimated hours"})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"notes",children:"Notes"}),s.jsx(Qt,{id:"notes",value:e.notes,onChange:v=>t(b=>({...b,notes:v.target.value})),placeholder:"Add any additional notes",rows:3})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"assets",children:"Assets (one per line)"}),s.jsx(Qt,{id:"assets",value:e.assetsInput,onChange:v=>t(b=>({...b,assetsInput:v.target.value})),placeholder:`https://example.com/file1.pdf
https://example.com/file2.jpg
Local file: document.docx`,rows:4}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Add links to files, documents, or other assets related to this task"})]})]})},jo=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),{toast:i}=Jt();N.useEffect(()=>{a()},[]);const a=async()=>{try{n(!0);const{data:f,error:m}=await Re.from("milestones").select("*").order("target_date",{ascending:!0});if(m)throw m;const g=f.map(y=>({id:y.id,projectId:y.project_id,title:y.title,description:y.description||void 0,targetDate:y.target_date,status:y.status,amount:y.amount||void 0,currency:y.currency||"USD",completionPercentage:y.completion_percentage||0,estimatedHours:y.estimated_hours||void 0,createdAt:y.created_at,updatedAt:y.updated_at}));t(g)}catch(f){console.error("Error loading milestones:",f),i({title:"Error",description:"Failed to load milestones",variant:"destructive"})}finally{n(!1)}};return{milestones:e,loading:r,addMilestone:async f=>{try{const{data:{user:m}}=await Re.auth.getUser();if(!m)throw new Error("User not authenticated");const{data:g,error:y}=await Re.from("milestones").insert([{project_id:f.projectId,title:f.title,description:f.description,target_date:f.targetDate,status:f.status,amount:f.amount,currency:f.currency||"USD",estimated_hours:f.estimatedHours,user_id:m.id}]).select().single();if(y)throw y;const x={id:g.id,projectId:g.project_id,title:g.title,description:g.description||void 0,targetDate:g.target_date,status:g.status,amount:g.amount||void 0,currency:g.currency||"USD",completionPercentage:g.completion_percentage||0,estimatedHours:g.estimated_hours||void 0,createdAt:g.created_at,updatedAt:g.updated_at};t(v=>[...v,x]),i({title:"Success",description:"Milestone added successfully"})}catch(m){console.error("Error adding milestone:",m),i({title:"Error",description:"Failed to add milestone",variant:"destructive"})}},updateMilestone:async(f,m)=>{try{const{error:g}=await Re.from("milestones").update({title:m.title,description:m.description,target_date:m.targetDate,status:m.status,amount:m.amount,currency:m.currency,completion_percentage:m.completionPercentage,estimated_hours:m.estimatedHours}).eq("id",f);if(g)throw g;t(y=>y.map(x=>x.id===f?{...x,...m}:x)),i({title:"Success",description:"Milestone updated successfully"})}catch(g){console.error("Error updating milestone:",g),i({title:"Error",description:"Failed to update milestone",variant:"destructive"})}},deleteMilestone:async f=>{try{const{error:m}=await Re.from("milestones").delete().eq("id",f);if(m)throw m;t(g=>g.filter(y=>y.id!==f)),i({title:"Success",description:"Milestone deleted successfully"})}catch(m){console.error("Error deleting milestone:",m),i({title:"Error",description:"Failed to delete milestone",variant:"destructive"})}},refreshMilestones:()=>{a()}}},rB=e=>{const{users:t}=ch();return s.jsx(Ek,{...e,users:t})},nB=({isOpen:e,onClose:t,onAdd:r,clients:n,projects:i,task:a})=>{const{milestones:l}=jo(),{isAdmin:c}=pr(),[d,h]=N.useState({title:"",description:"",clientId:null,projectId:null,milestoneId:null,estimatedHours:void 0,notes:"",assetsInput:"",startDate:"",endDate:"",assignedTo:void 0,urgent:!1});N.useEffect(()=>{h(a?{title:a.title,description:a.description,clientId:a.clientId,projectId:a.projectId||null,milestoneId:a.milestoneId||null,estimatedHours:a.estimatedHours,notes:a.notes,assetsInput:a.assets.join(`
`),startDate:a.startDate||"",endDate:a.endDate||"",assignedTo:a.assignedTo||void 0,urgent:a.urgent||!1}:{title:"",description:"",clientId:null,projectId:null,milestoneId:null,estimatedHours:void 0,notes:"",assetsInput:"",startDate:"",endDate:"",assignedTo:void 0,urgent:!1})},[a]);const f=n.find(v=>v.id===d.clientId),m=i.filter(v=>!d.clientId||v.clientId===d.clientId);m.find(v=>v.id===d.projectId);const g=v=>{h(b=>({...b,clientId:v,projectId:null,milestoneId:null}))},y=v=>{if(v.preventDefault(),!d.title.trim()){El.error("Task title is required");return}if(!d.clientId){El.error("Please select a client");return}if(!d.projectId){El.error("Please select a project");return}if(!c&&d.projectId&&l.filter(E=>E.projectId===d.projectId&&E.status==="in-progress").length>0&&(!d.milestoneId||d.milestoneId==="none")){El.error("Please select a milestone - it is required for this project");return}const b=d.assetsInput.split(`
`).map(w=>w.trim()).filter(w=>w.length>0);r({title:d.title.trim(),description:d.description.trim(),clientId:d.clientId,clientName:f?.name||"",projectId:d.projectId,milestoneId:d.milestoneId==="none"?null:d.milestoneId,estimatedHours:d.estimatedHours,notes:d.notes.trim(),assets:b,startDate:d.startDate||void 0,endDate:d.endDate||void 0,assignedTo:d.assignedTo,urgent:d.urgent}),x()},x=()=>{h({title:"",description:"",clientId:null,projectId:null,milestoneId:null,estimatedHours:void 0,notes:"",assetsInput:"",startDate:"",endDate:"",assignedTo:void 0,urgent:!1}),t()};return s.jsx(mr,{open:e,onOpenChange:x,children:s.jsxs(lr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(cr,{children:[s.jsx(ur,{children:a?"Edit Task":"Add New Task"}),s.jsx(di,{children:a?"Update task details and assignment":"Create a new task with client, project and optional milestone"})]}),s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c?s.jsx(rB,{formData:d,setFormData:h,clients:n,availableProjects:m,milestones:l,selectedClient:f,onClientChange:g}):s.jsx(Ek,{formData:d,setFormData:h,clients:n,availableProjects:m,milestones:l,selectedClient:f,onClientChange:g,users:[]}),s.jsxs("div",{className:"flex items-center justify-between pt-2",children:[s.jsx(we,{htmlFor:"urgent",className:"text-sm font-medium",children:"Mark as Urgent"}),s.jsx(Tn,{id:"urgent",checked:d.urgent,onCheckedChange:v=>h(b=>({...b,urgent:v}))})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(_e,{type:"button",variant:"outline",onClick:x,children:"Cancel"}),s.jsx(_e,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",disabled:n.length===0,children:a?"Update Task":"Add Task"})]})]})]})})},E1={active:{label:"Active",activeClass:"bg-green-100 text-green-800 border-green-300 hover:bg-green-200",inactiveClass:"bg-muted text-muted-foreground border-border hover:bg-muted/80"},paused:{label:"Paused",activeClass:"bg-yellow-100 text-yellow-800 border-yellow-300 hover:bg-yellow-200",inactiveClass:"bg-muted text-muted-foreground border-border hover:bg-muted/80"},completed:{label:"Completed",activeClass:"bg-blue-100 text-blue-800 border-blue-300 hover:bg-blue-200",inactiveClass:"bg-muted text-muted-foreground border-border hover:bg-muted/80"},canceled:{label:"Canceled",activeClass:"bg-red-100 text-red-800 border-red-300 hover:bg-red-200",inactiveClass:"bg-muted text-muted-foreground border-border hover:bg-muted/80"}},sB=({selectedStatuses:e,onStatusChange:t})=>{const r=n=>{e.includes(n)?e.length>1&&t(e.filter(i=>i!==n)):t([...e,n])};return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Show:"}),s.jsx("div",{className:"flex gap-1.5",children:Object.keys(E1).map(n=>{const i=E1[n],a=e.includes(n);return s.jsx(at,{variant:"outline",className:Pe("cursor-pointer transition-colors border",a?i.activeClass:i.inactiveClass),onClick:()=>r(n),children:i.label},n)})})]})},iB=({tasks:e,clients:t,projects:r,onTaskClick:n,onUpdateTask:i,onDeleteTask:a,onEditTask:l,onAddTask:c,selectedStatuses:d,onStatusChange:h})=>{const[f,m]=N.useState(!1),[g,y]=N.useState(null),x=U=>({id:U.id,title:U.title,description:U.description||"",clientId:U.clientId,clientName:U.clientName,projectId:U.projectId||"",milestoneId:U.milestoneId,estimatedHours:U.estimatedHours||0,actualHours:U.actualHours||0,workedHours:U.workedHours||0,status:U.status,notes:U.notes||"",assets:U.assets||[],createdDate:U.createdDate,completedDate:U.completedDate||"",startDate:U.startDate||"",endDate:U.endDate||"",assignedTo:U.assignedTo,assignedToName:U.assignedToName,urgent:U.urgent}),v=U=>{y(U),m(!0)},b=()=>{m(!1),y(null)},w=U=>{g?l({...U,id:g.id}):c(U),b()},E=N.useMemo(()=>r.filter(U=>d.includes(U.status)),[r,d]),_=N.useMemo(()=>new Set(E.map(U=>U.id)),[E]),S=N.useMemo(()=>e.filter(U=>U.projectId&&_.has(U.projectId)),[e,_]),P=N.useMemo(()=>S.map(x),[S]),B=N.useMemo(()=>t.map(U=>({id:U.id,name:U.name,priceType:U.priceType||"hour",hourEntries:[]})),[t]),L=N.useMemo(()=>E.map(U=>({id:U.id,name:U.name,clientId:U.clientId,useMilestones:U.useMilestones})),[E]);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4",children:s.jsx(sB,{selectedStatuses:d,onStatusChange:h})}),s.jsx(KU,{tasks:P,clients:B,projects:L,onTaskClick:n,onUpdateTask:i,onDeleteTask:a,onEditTask:v,onAddTaskClick:()=>m(!0)}),s.jsx(nB,{isOpen:f,onClose:b,onAdd:w,clients:t.map(U=>({id:U.id,name:U.name,priceType:U.priceType||"hour"})),projects:r.filter(U=>U.status==="active").map(U=>({id:U.id,name:U.name,clientId:U.clientId,useMilestones:U.useMilestones,status:U.status})),task:g})]})},Nk=({task:e,isOpen:t,onClose:r,projects:n=[]})=>{if(!e)return null;const i=l=>{switch(l){case"completed":return"bg-green-100 text-green-800 border-green-200 hover:bg-green-100";case"in-progress":return"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-100";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200 hover:bg-yellow-100";default:return"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-100"}},a=l=>{if(!l)return"No Project";const c=n.find(d=>d.id===l);return c?c.name:"Unknown Project"};return s.jsx(sc,{open:t,onOpenChange:r,children:s.jsxs(yo,{className:"w-[400px] sm:w-[540px] overflow-y-auto",children:[s.jsxs(ic,{children:[e.urgent&&s.jsx("div",{className:"mb-2",children:s.jsx(at,{variant:"destructive",className:"text-xs",children:"Urgent"})}),s.jsx(ac,{children:e.title}),s.jsx(ny,{children:"Task details and information"})]}),s.jsxs("div",{className:"mt-6 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(at,{className:i(e.status),children:e.status.replace("-"," ")})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Uv,{className:"w-4 h-4 text-slate-500"}),s.jsx("span",{className:"text-sm font-medium",children:"Client:"}),s.jsx("span",{className:"text-sm text-slate-600",children:e.clientName})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(bD,{className:"w-4 h-4 text-slate-500"}),s.jsx("span",{className:"text-sm font-medium",children:"Project:"}),s.jsx("span",{className:"text-sm text-slate-600",children:a(e.projectId)})]})]}),e.workedHours&&e.workedHours>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"text-sm font-medium text-slate-700 flex items-center",children:[s.jsx(Kr,{className:"w-4 h-4 mr-2"}),"Time Worked"]}),s.jsx("div",{className:"space-y-1 text-sm text-slate-600 ml-6",children:s.jsxs("div",{className:"text-green-600 font-medium",children:[e.workedHours,"h worked"]})})]}),e.description&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-700",children:"Description"}),s.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:e.description})]}),e.notes&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"text-sm font-medium text-slate-700 flex items-center",children:[s.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Notes"]}),s.jsx("div",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-md",children:e.notes})]}),e.assets.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"text-sm font-medium text-slate-700 flex items-center",children:[s.jsx(Lv,{className:"w-4 h-4 mr-2"}),"Assets (",e.assets.length,")"]}),s.jsx("div",{className:"space-y-2 ml-6",children:e.assets.map((l,c)=>s.jsx("div",{className:"text-sm",children:l.startsWith("http")?s.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline break-all line-clamp-1",children:l}):s.jsx("span",{className:"text-slate-600 line-clamp-1",children:l})},c))})]}),s.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[s.jsxs("h3",{className:"text-sm font-medium text-slate-700 flex items-center",children:[s.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Timeline"]}),s.jsxs("div",{className:"space-y-1 text-sm text-slate-600 ml-6",children:[s.jsxs("div",{children:["Created: ",new Date(e.createdDate).toLocaleDateString()]}),e.completedDate&&s.jsxs("div",{children:["Completed: ",new Date(e.completedDate).toLocaleDateString()]})]})]})]})]})})},aB=({projects:e,selectedProject:t,onProjectChange:r,zoomLevel:n,onZoomChange:i})=>{const a=()=>{i(n==="daily"?"weekly":n==="weekly"?"monthly":"daily")};return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ht,{className:"flex items-center",children:[s.jsx(Xn,{className:"w-5 h-5 mr-2"}),"Project Timeline"]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(mt,{value:t,onValueChange:r,children:[s.jsx(ft,{className:"w-48",children:s.jsx(gt,{placeholder:"Select project"})}),s.jsxs(pt,{children:[s.jsx(Me,{value:"all",children:"All Projects"}),e.map(l=>s.jsx(Me,{value:l.id,children:l.name},l.id))]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs(_e,{variant:"outline",size:"sm",onClick:a,children:[n==="daily"&&s.jsx(DD,{className:"w-4 h-4 mr-1"}),n==="weekly"&&s.jsx(Kr,{className:"w-4 h-4 mr-1"}),n==="monthly"&&s.jsx(RD,{className:"w-4 h-4 mr-1"}),n]})})]})]})},oB=({tasks:e,totalHeight:t})=>{const r=n=>{switch(n){case"completed":return"bg-green-500";case"active":return"bg-blue-600";case"paused":return"bg-yellow-500";case"canceled":return"bg-red-500";case"in-progress":return"bg-blue-600";case"pending":return"bg-gray-400";default:return"bg-gray-400"}};return s.jsx(s.Fragment,{children:e.map(n=>{const i=4+n.trackIndex*22;return s.jsx("div",{className:`absolute h-5 ${r(n.status)} rounded-sm opacity-90 border border-white shadow-sm`,style:{left:`${n.position.left}%`,width:`${n.position.width}%`,top:`${i}px`},title:`${n.title} (${n.status})`},n.id)})})},lB=(e,t)=>{const r=(a,l)=>{if(!a.startDate||!a.endDate)return{left:0,width:0};const c=new Date(l.startDate),d=new Date(l.estimatedEndDate),h=new Date(a.startDate),f=new Date(a.endDate),m=d.getTime()-c.getTime(),g=h.getTime()-c.getTime(),y=f.getTime()-h.getTime(),x=g/m*100,v=y/m*100;return{left:Math.max(0,x),width:Math.max(2,v)}},n=e.filter(a=>a.startDate&&a.endDate).map(a=>({...a,position:r(a,t),trackIndex:0})).filter(a=>a.position.width>0).sort((a,l)=>a.position.left-l.position.left);if(n.length===0)return[];const i=[];return n.forEach(a=>{const l=a.position.left,c=a.position.left+a.position.width;let d=-1;for(let h=0;h<i.length;h++)if(i[h].endPosition<=l){d=h;break}d===-1?(d=i.length,i.push({endPosition:c})):i[d].endPosition=c,a.trackIndex=d}),n},cB=({milestones:e,project:t,totalHeight:r})=>{const n=(i,a)=>{const l=new Date(a.startDate),c=new Date(a.estimatedEndDate),d=new Date(i.targetDate),h=c.getTime()-l.getTime(),m=(d.getTime()-l.getTime())/h*100;return Math.max(0,Math.min(100,m))};return s.jsx(s.Fragment,{children:e.map(i=>{const a=n(i,t);return s.jsx("div",{className:"absolute w-1 bg-red-500 flex items-center justify-center",style:{left:`${a}%`,top:"0px",height:`${r}px`},title:`${i.title} - ${new Date(i.targetDate).toLocaleDateString()}`,children:s.jsx(wD,{className:"w-3 h-3 text-red-500 absolute -top-1"})},i.id)})})},uB=({project:e,tasks:t,milestones:r,clients:n})=>{const i=b=>{const w=n.find(E=>E.id===b);return w?w.name:"Unknown Client"},a=b=>{switch(b){case"completed":return"bg-green-500";case"active":return"bg-blue-500";case"paused":return"bg-yellow-500";case"canceled":return"bg-red-500";case"in-progress":return"bg-blue-500";case"pending":return"bg-gray-400";default:return"bg-gray-400"}},l=b=>{switch(b){case"completed":return"bg-green-100";case"active":return"bg-blue-100";case"on-hold":return"bg-yellow-100";case"in-progress":return"bg-blue-100";case"pending":return"bg-gray-100";default:return"bg-blue-100"}},c=b=>{const w=new Date(b.startDate),E=new Date(b.estimatedEndDate),_=Math.abs(E.getTime()-w.getTime());return Math.ceil(_/(1e3*60*60*24))},d=t.filter(b=>b.projectId===e.id),h=r.filter(b=>b.projectId===e.id),f=c(e),m=lB(d,e),g=Math.max(1,Math.max(...m.map(b=>b.trackIndex+1),0)),v=32+(g>1?(g-1)*22:0);return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-slate-800",children:e.name}),s.jsxs("p",{className:"text-sm text-slate-600",children:[i(e.clientId),"  ",f," days"]})]}),s.jsx(at,{className:a(e.status),children:e.status})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:`${l(e.status)} rounded-md relative overflow-hidden`,style:{height:`${v}px`},children:[s.jsx(oB,{tasks:m,totalHeight:v}),s.jsx(cB,{milestones:h,project:e,totalHeight:v})]}),s.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[s.jsx("span",{children:new Date(e.startDate).toLocaleDateString()}),s.jsx("span",{children:new Date(e.estimatedEndDate).toLocaleDateString()})]})]}),d.length>0&&s.jsxs("div",{className:"pl-4 space-y-1",children:[s.jsxs("h4",{className:"text-sm font-medium text-slate-700",children:["Tasks (",d.length,")"]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.slice(0,5).map(b=>s.jsx(at,{variant:"outline",className:"text-xs",children:b.title},b.id)),d.length>5&&s.jsxs(at,{variant:"outline",className:"text-xs",children:["+",d.length-5," more"]})]})]})]})},Ck=({projects:e,tasks:t,milestones:r,clients:n})=>{const[i,a]=N.useState("weekly"),[l,c]=N.useState("all"),d=N.useMemo(()=>l==="all"?e:e.filter(h=>h.id===l),[e,l]);return s.jsxs(Qe,{children:[s.jsx(dt,{children:s.jsx(aB,{projects:e,selectedProject:l,onProjectChange:c,zoomLevel:i,onZoomChange:a})}),s.jsx(Je,{children:d.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Xn,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-slate-600 mb-2",children:"No projects to display"}),s.jsx("p",{className:"text-slate-500",children:"Create projects to see them in the timeline view"})]}):s.jsx("div",{className:"space-y-6",children:d.map(h=>s.jsx(uB,{project:h,tasks:t,milestones:r,clients:n},h.id))})})]})},dB=({projects:e,tasks:t,milestones:r,clients:n})=>s.jsx(Ck,{projects:e.map(i=>({id:i.id,name:i.name,clientId:i.clientId,startDate:i.startDate,estimatedEndDate:i.estimatedEndDate,endDate:i.endDate,status:i.status,notes:i.notes,documents:i.documents,team:i.team,archived:i.archived,pricingType:i.pricingType,fixedPrice:i.fixedPrice,hourlyRate:i.hourlyRate,dailyRate:i.dailyRate,estimatedHours:i.estimatedHours,currency:i.currency,invoices:i.invoices})),tasks:t.map(i=>({id:i.id,title:i.title,description:i.description||"",status:i.status,projectId:i.projectId||"",clientId:i.clientId,clientName:i.clientName,estimatedHours:i.estimatedHours,actualHours:i.actualHours,workedHours:i.workedHours,startDate:i.startDate,endDate:i.endDate,completedDate:i.completedDate,createdDate:i.createdDate,notes:i.notes,assets:i.assets})),milestones:r.map(i=>({id:i.id,title:i.title,description:i.description||"",projectId:i.projectId,status:i.status,targetDate:i.targetDate,amount:i.amount,currency:i.currency||"USD",estimatedHours:i.estimatedHours,completionPercentage:i.completionPercentage,createdAt:i.createdAt,updatedAt:i.updatedAt})),clients:n.map(i=>({id:i.id,name:i.name}))}),ql=({count:e=4,lines:t=3})=>s.jsx("div",{className:"space-y-4",children:Array.from({length:e}).map((r,n)=>s.jsx(Qe,{children:s.jsxs(Je,{className:"py-4 space-y-3",children:[s.jsx($t,{className:"h-5 w-48"}),Array.from({length:t}).map((i,a)=>s.jsx($t,{className:"h-4 w-full"},a))]})},n))}),hB=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx($t,{className:"h-6 w-40"}),s.jsx($t,{className:"h-4 w-64"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($t,{className:"h-9 w-36"}),s.jsx($t,{className:"h-9 w-36"})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:Array.from({length:6}).map((e,t)=>s.jsxs(Qe,{children:[s.jsx(dt,{className:"pb-2",children:s.jsx(ht,{className:"text-sm font-medium",children:s.jsx($t,{className:"h-4 w-28"})})}),s.jsxs(Je,{className:"space-y-2",children:[s.jsx($t,{className:"h-7 w-24"}),s.jsx($t,{className:"h-3 w-32"})]})]},t))})]}),N1=(e,t,r)=>e?(console.log("Calculating invoice revenue for",e.length,"invoices"),e.reduce((n,i)=>{if(i.status==="paid"){const a=parseFloat(i.amount?.toString()||"0");if(isNaN(a))return console.warn("Invalid amount for invoice:",i),n;const l=i.currency||i.client_currency||"USD",c=t(a,l,r);return console.log(`Invoice: ${a} ${l} -> ${c} ${r}`),n+c}return n},0)):0,fB=(e,t)=>e?.map(r=>{const n=t?.filter(i=>i.client_id===r.id).reduce((i,a)=>{const l=parseFloat(a.hours?.toString()||"0");return i+l},0)||0;return{name:r.name,hours:n}}).filter(r=>r.hours>0)||[],pB=(e,t,r,n,i,a)=>e?.map(l=>{let c=0;const d=t?.filter(h=>h.client_id===l.id).reduce((h,f)=>{const m=parseFloat(f.hours?.toString()||"0"),g=r?.find(b=>b.id===f.project_id);let y=0;g?.pricing_type==="hourly"&&g.hourly_rate?y=parseFloat(g.hourly_rate.toString()):l?.price_type==="hourly"&&(y=parseFloat(l.price?.toString()||"0"));const x=m*y,v=g?.currency||l.currency||"USD";return h+i(x,v,a)},0)||0;if(c+=d,l.invoices&&Array.isArray(l.invoices)){const h=l.invoices.reduce((f,m)=>{try{const g=m;if(!g||typeof g!="object"||!g.date)return f;const y=new Date(g.date);if(n?.dateRange?.from&&y<n.dateRange.from||n?.dateRange?.to&&y>n.dateRange.to)return f;if(g.status==="paid"){const x=parseFloat(g.amount?.toString()||"0");if(isNaN(x))return f;const v=g.currency||l.currency||"USD";return f+i(x,v,a)}return f}catch(g){return console.warn("Error processing invoice in breakdown:",g),f}},0);c+=h}return{name:l.name,revenue:c}}).filter(l=>l.revenue>0)||[],mB=async()=>{const{data:e,error:t}=await Re.from("clients").select("*");if(t)throw t;return e},gB=async()=>{const{data:e,error:t}=await Re.from("projects").select("*");if(t)throw t;return e},C1=async e=>{let t=Re.from("hour_entries").select("*");e?.dateRange?.from&&(t=t.gte("date",e.dateRange.from.toISOString().split("T")[0])),e?.dateRange?.to&&(t=t.lte("date",e.dateRange.to.toISOString().split("T")[0]));const{data:r,error:n}=await t;if(n)throw n;return r},k1=async e=>{const{data:t,error:r}=await Re.from("clients").select("id, name, currency, invoices");if(r)throw r;const n=[];if(t){for(const i of t)if(i.invoices&&Array.isArray(i.invoices)){for(const a of i.invoices)if(typeof a=="object"&&a!==null&&!Array.isArray(a)){const l=a,c={id:l.id,amount:l.amount,date:l.date,status:l.status,currency:l.currency,description:l.description,client_id:i.id,client_name:i.name,client_currency:i.currency};if((e?.dateRange?.from||e?.dateRange?.to)&&l.date){const d=new Date(l.date);if(e.dateRange.from&&d<e.dateRange.from||e.dateRange.to&&d>e.dateRange.to)continue}n.push(c)}}}return n},vB=async e=>{let t=Re.from("subscriptions").select("*");const{data:r,error:n}=await t;if(n)throw n;return r},Dy=e=>{const{user:t}=pr(),{displayCurrency:r,convert:n}=wt(),[i,a]=N.useState({totalClients:0,activeClients:0,totalHours:0,totalRevenue:0,monthlySubscriptionCost:0,totalPaidToDate:0,clients:[],timeBreakdown:[],revenueBreakdown:[]}),[l,c]=N.useState(!0),d=async()=>{if(!t){c(!1);return}c(!0);try{const f=(()=>{if(!e?.dateRange?.from||!e?.dateRange?.to){const ae=new Date,D=new Date(ae.getTime()-720*60*60*1e3);return{from:new Date(ae.getTime()-1440*60*60*1e3),to:D,comparisonText:"vs prev 30d"}}const V=e.dateRange.from,X=e.dateRange.to,ne=X.getTime()-V.getTime(),he=new Date(V.getTime()-1),W=new Date(he.getTime()-ne);let H="vs prev period";const ie=new Date,le=ie.getFullYear(),fe=ie.getMonth();if(V.getMonth()===fe&&V.getFullYear()===le&&X.getMonth()===fe&&X.getFullYear()===le)H="vs last month";else if(V.getFullYear()===le&&X.getFullYear()===le&&V.getMonth()===0&&X.getMonth()===11)H="vs last year";else if(V.getMonth()===fe-1&&V.getFullYear()===le)H="vs prev month";else if(V.getFullYear()===le-1)H="vs prev year";else{const ae=Math.ceil(ne/864e5);ae<=31?H="vs prev month":ae<=92?H="vs prev quarter":H="vs prev period"}return{from:W,to:he,comparisonText:H}})(),m={dateRange:{from:f.from,to:f.to}},[g,y,x,v,b]=await Promise.all([mB(),gB(),C1(e),k1(e),vB()]),[w,E]=await Promise.all([C1(m),k1(m)]),_=g?.length||0,S=g?.filter(V=>V.status==="active").length||0,P=x?.reduce((V,X)=>{const ne=parseFloat(X.hours?.toString()||"0");return V+ne},0)||0,L=N1(v,n,r),F=(b?.filter(V=>V.status==="active")||[]).reduce((V,X)=>{const ne=parseFloat(X.price?.toString()||"0"),he=parseInt(X.seats?.toString()||"1"),W=X.currency||"USD",ie=n(ne,W,r)*he,le=X.billing_cycle==="yearly"?ie/12:ie;return V+le},0),ee=b?.reduce((V,X)=>{const ne=parseFloat(X.total_paid?.toString()||"0"),he=X.currency||"USD",W=n(ne,he,r);return V+W},0)||0,me=w?.reduce((V,X)=>{const ne=parseFloat(X.hours?.toString()||"0");return V+ne},0)||0,G=N1(E,n,r),A=fB(g,x),te=pB(g,x,y,e,n,r),J={totalClients:_,activeClients:S,totalHours:P,totalRevenue:L,monthlySubscriptionCost:F,totalPaidToDate:ee,clients:g||[],timeBreakdown:A,revenueBreakdown:te,previousPeriodData:{totalClients:_,totalHours:me,totalRevenue:G,monthlySubscriptionCost:F,totalPaidToDate:ee},comparisonText:f.comparisonText};a(J)}catch(h){console.error("Error calculating analytics:",h)}finally{c(!1)}};return N.useEffect(()=>{t&&d()},[t,r,e?.dateRange?.from,e?.dateRange?.to]),{...i,loading:l,displayCurrency:r,formatCurrency:xt,refetch:d}},yB=()=>{const[e,t]=N.useState("all-time"),[r,n]=N.useState({from:void 0,to:void 0}),i=N.useMemo(()=>{const a=new Date;switch(e){case"this-month":return{from:_r(a),to:Wl(a)};case"last-month":const l=YF(a);return{from:_r(l),to:Wl(l)};case"this-year":return{from:Sd(a),to:m1(a)};case"last-year":const c=XF(a);return{from:Sd(c),to:m1(c)};case"custom":return r;default:return{from:void 0,to:void 0}}},[e,r]);return{selectedPeriod:e,setSelectedPeriod:t,customDateRange:r,setCustomDateRange:n,dateRange:i}},xB=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),{toast:i}=Jt(),a=async()=>{try{n(!0);const{data:{user:l}}=await Re.auth.getUser();if(!l)throw new Error("User not authenticated");const{data:c,error:d}=await Re.from("profiles").select("role").eq("id",l.id).single();if(d)throw d;let h=Re.from("projects").select("*").order("created_at",{ascending:!1});if(c.role!=="admin"){const{data:y,error:x}=await Re.from("user_project_assignments").select("project_id").eq("user_id",l.id);if(x)throw x;const v=y.map(b=>b.project_id);if(v.length===0){t([]);return}h=h.in("id",v)}const{data:f,error:m}=await h;if(m)throw m;const g=f.map(y=>({id:y.id,name:y.name,clientId:y.client_id,startDate:y.start_date,estimatedEndDate:y.estimated_end_date,endDate:y.end_date||void 0,status:y.status,notes:y.notes||"",documents:y.documents||[],team:y.team||[],archived:y.archived||!1,pricingType:y.pricing_type,fixedPrice:y.fixed_price||void 0,hourlyRate:y.hourly_rate||void 0,urgentHourlyRate:y.urgent_hourly_rate||void 0,dailyRate:y.daily_rate||void 0,estimatedHours:y.estimated_hours||void 0,currency:y.currency||"USD",useMilestones:y.use_milestones!==!1,invoices:Array.isArray(y.invoices)?y.invoices:[]}));t(g)}catch(l){console.error("Error loading projects:",l),i({title:"Error",description:"Failed to load projects",variant:"destructive"})}finally{n(!1)}};return N.useEffect(()=>{a()},[]),{projects:e,setProjects:t,loadProjects:a,loading:r}},wB=e=>{const{toast:t}=Jt();return{addProject:async l=>{try{const{data:{user:c}}=await Re.auth.getUser();if(!c)throw new Error("User not authenticated");const d={name:l.name,client_id:l.clientId,start_date:l.startDate,estimated_end_date:l.estimatedEndDate,end_date:l.endDate||null,status:l.status||"active",notes:l.notes||"",documents:l.documents||[],team:l.team||[],archived:!1,pricing_type:l.pricingType,fixed_price:l.fixedPrice||null,hourly_rate:l.hourlyRate||null,urgent_hourly_rate:l.urgentHourlyRate||null,daily_rate:l.dailyRate||null,estimated_hours:l.estimatedHours||null,currency:l.currency||"USD",invoices:l.invoices||[],user_id:c.id,use_milestones:l.useMilestones!==!1},{data:h,error:f}=await Re.from("projects").insert([d]).select().single();if(f)throw f;const m={id:h.id,name:h.name,clientId:h.client_id,startDate:h.start_date,estimatedEndDate:h.estimated_end_date,endDate:h.end_date||void 0,status:h.status,notes:h.notes||"",documents:h.documents||[],team:h.team||[],archived:h.archived||!1,pricingType:h.pricing_type,fixedPrice:h.fixed_price||void 0,hourlyRate:h.hourly_rate||void 0,urgentHourlyRate:h.urgent_hourly_rate||void 0,dailyRate:h.daily_rate||void 0,estimatedHours:h.estimated_hours||void 0,currency:h.currency||"USD",useMilestones:h.use_milestones!==!1,invoices:Array.isArray(h.invoices)?h.invoices:[]};e(g=>[...g,m]),t({title:"Success",description:"Project added successfully"})}catch(c){console.error("Error adding project:",c),t({title:"Error",description:"Failed to add project",variant:"destructive"})}},updateProject:async(l,c)=>{try{const d={name:c.name,client_id:c.clientId,start_date:c.startDate,estimated_end_date:c.estimatedEndDate,end_date:c.endDate||null,status:c.status,notes:c.notes,documents:c.documents,team:c.team,archived:c.archived,pricing_type:c.pricingType,fixed_price:c.fixedPrice||null,hourly_rate:c.hourlyRate||null,urgent_hourly_rate:c.urgentHourlyRate||null,daily_rate:c.dailyRate||null,estimated_hours:c.estimatedHours||null,currency:c.currency||"USD",invoices:c.invoices||[],use_milestones:c.useMilestones!==!1},{error:h}=await Re.from("projects").update(d).eq("id",l);if(h)throw h;e(f=>f.map(m=>m.id===l?c:m)),t({title:"Success",description:"Project updated successfully"})}catch(d){console.error("Error updating project:",d),t({title:"Error",description:"Failed to update project",variant:"destructive"})}},archiveProject:async l=>{try{const{error:c}=await Re.from("projects").update({archived:!0}).eq("id",l);if(c)throw c;e(d=>d.map(h=>h.id===l?{...h,archived:!0}:h)),t({title:"Success",description:"Project archived successfully"})}catch(c){console.error("Error archiving project:",c),t({title:"Error",description:"Failed to archive project",variant:"destructive"})}},deleteProject:async l=>{try{const{error:c}=await Re.from("projects").delete().eq("id",l);if(c)throw c;e(d=>d.filter(h=>h.id!==l)),t({title:"Success",description:"Project and all related data deleted successfully"})}catch(c){console.error("Error deleting project:",c),t({title:"Error",description:"Failed to delete project",variant:"destructive"})}}}},vc=()=>{const{projects:e,setProjects:t,loading:r}=xB(),[n,i]=N.useState(!1),{addProject:a,updateProject:l,archiveProject:c,deleteProject:d}=wB(t);return{projects:e.filter(f=>n?f.archived:!f.archived),showArchived:n,setShowArchived:i,addProject:a,updateProject:l,archiveProject:c,deleteProject:d,loading:r}},bB=e=>new Promise(t=>setTimeout(t,e)),kk=async(e,t=3,r=1e3)=>{for(let n=1;n<=t;n++)try{return await e()}catch(i){if(console.log(`Attempt ${n} failed:`,i),n===t)throw i;await bB(r*n)}throw new Error("Max retries exceeded")},_B=async()=>{const e=await kk(async()=>{const{data:n,error:i}=await Re.from("tasks").select("*").order("created_date",{ascending:!1});if(i)throw i;return n}),t=Array.from(new Set(e.map(n=>n.assigned_to).filter(Boolean))),r=new Map;if(t.length>0){const{data:n}=await Re.from("profiles").select("id, full_name, email").in("id",t);n?.forEach(i=>r.set(i.id,{full_name:i.full_name,email:i.email}))}return e.map(n=>({id:n.id,title:n.title,description:n.description||"",clientId:n.client_id,clientName:n.client_name,projectId:n.project_id,milestoneId:n.milestone_id,estimatedHours:n.estimated_hours,actualHours:n.actual_hours,workedHours:n.worked_hours,status:n.status,notes:n.notes||"",assets:n.assets||[],createdDate:n.created_date,completedDate:n.completed_date||void 0,startDate:n.start_date||void 0,endDate:n.end_date||void 0,assignedTo:n.assigned_to||void 0,assignedToName:(()=>{const i=r.get(n.assigned_to);return i?.full_name||i?.email||void 0})(),urgent:n.urgent||!1}))},jB=async e=>{const{data:{user:t},error:r}=await Re.auth.getUser();if(r||!t)throw new Error("User not authenticated");const n=e.projectId||"00000000-0000-0000-0000-000000000000",i={title:e.title,description:e.description,client_id:e.clientId,client_name:e.clientName,project_id:n,milestone_id:e.milestoneId,estimated_hours:e.estimatedHours,status:"pending",notes:e.notes,assets:e.assets,start_date:e.startDate||null,end_date:e.endDate||null,assigned_to:e.assignedTo||null,urgent:e.urgent||!1,user_id:t.id},a=await kk(async()=>{const{data:c,error:d}=await Re.from("tasks").insert([i]).select("*").single();if(d)throw d;return c});let l;if(a.assigned_to){const{data:c}=await Re.from("profiles").select("full_name, email").eq("id",a.assigned_to).maybeSingle();c&&(l=c.full_name||c.email||void 0)}return{id:a.id,title:a.title,description:a.description||"",clientId:a.client_id,clientName:a.client_name,projectId:a.project_id,milestoneId:a.milestone_id,estimatedHours:a.estimated_hours,actualHours:a.actual_hours,workedHours:a.worked_hours,status:a.status,notes:a.notes||"",assets:a.assets||[],createdDate:a.created_date,completedDate:a.completed_date||void 0,startDate:a.start_date||void 0,endDate:a.end_date||void 0,assignedTo:a.assigned_to||void 0,assignedToName:l,urgent:a.urgent||!1}},SB=async(e,t,r)=>{const n={status:t};t==="completed"&&(n.completed_date=new Date().toISOString(),r&&(n.worked_hours=r));const{error:i}=await Re.from("tasks").update(n).eq("id",e);if(i)throw i},EB=async e=>{console.log("Attempting to delete task with ID:",e);const{data:t,error:r}=await Re.from("tasks").delete().eq("id",e).select();if(console.log("Delete operation result:",{data:t,error:r}),r)throw console.error("Database deletion error:",r),new Error(`Failed to delete task: ${r.message}`);if(!t||t.length===0)throw console.warn("No rows were deleted. Task may not exist or user may not have permission."),new Error("Task not found or insufficient permissions to delete");return console.log("Task successfully deleted from database:",t),t},NB=async(e,t)=>{console.log("editTaskInDatabase called with:",{taskId:e,updatedTask:t});const r={};t.title&&(r.title=t.title),t.description!==void 0&&(r.description=t.description),t.clientId&&(r.client_id=t.clientId),t.clientName&&(r.client_name=t.clientName),t.projectId&&(r.project_id=t.projectId),t.milestoneId!==void 0&&(r.milestone_id=t.milestoneId),t.estimatedHours!==void 0&&(r.estimated_hours=t.estimatedHours),t.notes!==void 0&&(r.notes=t.notes),t.assets&&(r.assets=t.assets),t.startDate!==void 0&&(r.start_date=t.startDate||null),t.endDate!==void 0&&(r.end_date=t.endDate||null),t.workedHours!==void 0&&(r.worked_hours=t.workedHours),t.assignedTo!==void 0&&(r.assigned_to=t.assignedTo||null),t.urgent!==void 0&&(r.urgent=t.urgent),console.log("supabaseUpdate object:",r);const{data:n,error:i}=await Re.from("tasks").update(r).eq("id",e).select("*").single();if(i)throw console.error("Error updating task in database:",i),i;console.log("Task updated successfully in database:",n);let a;if(n.assigned_to){const{data:l}=await Re.from("profiles").select("full_name, email").eq("id",n.assigned_to).maybeSingle();l&&(a=l.full_name||l.email||void 0)}return{id:n.id,title:n.title,description:n.description||"",clientId:n.client_id,clientName:n.client_name,projectId:n.project_id,milestoneId:n.milestone_id,estimatedHours:n.estimated_hours,actualHours:n.actual_hours,workedHours:n.worked_hours,status:n.status,notes:n.notes||"",assets:n.assets||[],createdDate:n.created_date,completedDate:n.completed_date||void 0,startDate:n.start_date||void 0,endDate:n.end_date||void 0,assignedTo:n.assigned_to||void 0,assignedToName:a,urgent:n.urgent||!1}},CB=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),{toast:i}=Jt();console.log("useTasksData: Current tasks count:",e.length);const a=async()=>{try{n(!0);const{data:{user:l}}=await Re.auth.getUser();if(!l)throw new Error("User not authenticated");const{data:c,error:d}=await Re.from("profiles").select("role").eq("id",l.id).single();if(d)throw d;let h=await _B();if(c.role!=="admin"){const{data:f,error:m}=await Re.from("user_project_assignments").select("project_id").eq("user_id",l.id);if(m)throw m;const g=f.map(y=>y.project_id);h=h.filter(y=>y.projectId&&g.includes(y.projectId))}t(h)}catch(l){console.error("Error loading tasks:",l),i({title:"Connection Error",description:"Failed to load tasks. Please check your connection and try again.",variant:"destructive"})}finally{n(!1)}};return N.useEffect(()=>{console.log("useTasksData: Initial load triggered"),a()},[]),N.useEffect(()=>{const{data:{subscription:l}}=Re.auth.onAuthStateChange((c,d)=>{console.log("useTasksData: Auth state changed:",c,"Tasks count:",e.length),c==="SIGNED_IN"&&e.length===0&&(console.log("useTasksData: Reloading tasks after sign in"),setTimeout(()=>a(),100))});return()=>l.unsubscribe()},[e.length]),{tasks:e,setTasks:l=>{console.log("useTasksData: setTasks called"),t(l)},loadTasks:a,loading:r}},kB=async(e,t)=>{if(!e.projectId)throw new Error("Task must have a project ID to create hour entry");const{data:{user:r},error:n}=await Re.auth.getUser();if(n)throw n;if(!r)throw new Error("User not authenticated");const i=e.assignedTo||r.id,a={project_id:e.projectId,client_id:e.clientId,milestone_id:e.milestoneId,task_id:e.id,hours:t,description:`Completed task: ${e.title}`,date:new Date().toISOString().split("T")[0],billed:!1,user_id:i},{data:l,error:c}=await Re.from("hour_entries").insert([a]).select().single();if(c)throw c;return l},TB=(e,t,r,n,i)=>{const{toast:a}=Jt(),{users:l}=ch();return{addTask:async m=>{try{console.log("useTasksOperations: Starting task creation with:",m);const g=await jB(m);console.log("useTasksOperations: Task created in database:",g),t(y=>{const x=[g,...y];return console.log("useTasksOperations: Updating local state from",y.length,"to",x.length,"tasks"),x}),setTimeout(()=>{a({title:"Success",description:"Task added successfully"})},0)}catch(g){console.error("Error adding task:",g),a({title:"Error",description:"Failed to add task. Please try again.",variant:"destructive"})}},updateTask:async(m,g,y)=>{try{await SB(m,g,y);const x=e.find(v=>v.id===m);if(g==="completed"&&y&&x?.projectId)try{await kB(x,y),console.log("Hour entry created successfully for task:",m),n&&n()}catch(v){console.error("Error creating hour entry:",v),a({title:"Warning",description:"Task completed but failed to log hours. You can manually add the time entry.",variant:"destructive"})}return t(v=>v.map(b=>{if(b.id===m){const w={...b,status:g};return g==="completed"&&(w.completedDate=new Date().toISOString(),y&&(w.workedHours=y)),w}return b})),a({title:"Success",description:"Task updated successfully"}),g==="completed"&&x?{task:x,hoursToLog:y}:null}catch(x){return console.error("Error updating task:",x),a({title:"Error",description:"Failed to update task",variant:"destructive"}),null}},deleteTask:async m=>{console.log("useTasksOperations: deleteTask called with ID:",m);try{await EB(m),console.log("Database deletion successful, updating local state"),t(g=>{const y=g.filter(x=>x.id!==m);return console.log("Local state updated. Tasks before:",g.length,"Tasks after:",y.length),y}),i&&i(),a({title:"Success",description:"Task deleted successfully"})}catch(g){throw console.error("Error deleting task:",g),a({title:"Error",description:g instanceof Error?g.message:"Failed to delete task",variant:"destructive"}),g}},editTask:async(m,g)=>{try{console.log("editTask called with:",{taskId:m,updatedTask:g});const y=await NB(m,g);t(x=>{const v=x.map(b=>b.id===m?{...y,assignedToName:y.assignedToName||(()=>{if(!g.assignedTo)return y.assignedToName;const w=l.find(E=>E.id===g.assignedTo);return w&&(w.full_name||w.email)||y.assignedToName})()}:b);return console.log("Local task state updated:",v.find(b=>b.id===m)),v}),a({title:"Success",description:"Task updated successfully"});try{await Promise.resolve(r())}catch(x){console.warn("Background refresh after edit failed:",x)}}catch(y){console.error("Error editing task:",y),a({title:"Error",description:"Failed to edit task",variant:"destructive"})}}}},uh=(e,t)=>{const{tasks:r,setTasks:n,loadTasks:i,loading:a}=CB(),{addTask:l,updateTask:c,deleteTask:d,editTask:h}=TB(r,n,i,e,t);return{tasks:r,loading:a,addTask:l,updateTask:c,deleteTask:d,editTask:h}},Tk=e=>({hour:"hour",day:"day",week:"week",month:"month",hourly:"hour",daily:"day",weekly:"week",monthly:"month",project:"project"})[e]||"hour",Pk=e=>({id:e.id,name:e.name,price:Number(e.price),priceType:e.price_type,status:e.status,documents:e.documents||[],links:e.links||[],notes:e.notes||"",people:e.people||[],invoices:e.invoices||[],currency:e.currency||"USD"}),PB=(e,t)=>{const r=Tk(e.priceType);return{name:e.name,price:e.price,price_type:r,status:e.status||"active",documents:e.documents||[],links:e.links||[],notes:e.notes||"",people:e.people||[],invoices:e.invoices||[],currency:e.currency||"USD",user_id:t}},AB=async()=>{const{data:{user:e}}=await Re.auth.getUser();if(!e)return[];const{data:t,error:r}=await Re.from("profiles").select("role").eq("id",e.id).single();if(r)throw r;const{data:n,error:i}=await Re.from("clients").select("*").order("created_at",{ascending:!1});if(i)throw i;return n.map(Pk)},RB=async e=>{const{data:{user:t}}=await Re.auth.getUser();if(!t)throw new Error("User not authenticated");const r=PB(e,t.id),{data:n,error:i}=await Re.from("clients").insert([r]).select().single();if(i)throw i;return Pk(n)},T1=async(e,t)=>{const{data:{user:r}}=await Re.auth.getUser();if(!r)throw new Error("User not authenticated");const n=Tk(t.priceType),i={name:t.name,price:t.price,price_type:n,status:t.status,documents:t.documents,links:t.links,notes:t.notes,people:t.people,invoices:t.invoices,currency:t.currency},{error:a}=await Re.from("clients").update(i).eq("id",e).eq("user_id",r.id);if(a)throw a},Yi=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),{toast:i}=Jt(),a=async()=>{try{n(!0);const h=await AB();t(h)}catch{i({title:"Error",description:"Failed to load clients",variant:"destructive"})}finally{n(!1)}};return N.useEffect(()=>{a()},[]),{clients:e,addClient:async h=>{try{const f=await RB(h);t(m=>[...m,f]),i({title:"Success",description:"Client added successfully"})}catch{i({title:"Error",description:"Failed to add client",variant:"destructive"})}},updateClient:async(h,f)=>{try{await T1(h,f),t(m=>m.map(g=>g.id===h?f:g)),i({title:"Success",description:"Client updated successfully"})}catch{i({title:"Error",description:"Failed to update client",variant:"destructive"})}},updateClientInvoiceStatus:async(h,f,m)=>{try{const g=e.find(v=>v.id===h);if(!g||!g.invoices)return;const y=g.invoices.map(v=>v.id===f?{...v,status:m}:v),x={...g,invoices:y};await T1(h,x),t(v=>v.map(b=>b.id===h?x:b)),i({title:"Success",description:"Invoice status updated successfully"})}catch{i({title:"Error",description:"Failed to update invoice status",variant:"destructive"})}},loading:r}},DB=()=>{const{loading:e,profile:t,isAdmin:r}=pr(),{selectedPeriod:n,setSelectedPeriod:i,customDateRange:a,setCustomDateRange:l,dateRange:c}=yB(),d=Dy({dateRange:c}),{projects:h,loading:f}=vc(),{tasks:m,loading:g,addTask:y,updateTask:x,deleteTask:v,editTask:b}=uh(),{milestones:w,loading:E}=jo(),{clients:_,loading:S}=Yi();return{authLoading:e,profile:t,isAdmin:r,selectedPeriod:n,setSelectedPeriod:i,customDateRange:a,setCustomDateRange:l,analytics:d,projects:h,tasks:m,addTask:y,updateTask:x,deleteTask:v,editTask:b,milestones:w,clients:_,projectsLoading:f,tasksLoading:g,milestonesLoading:E,clientsLoading:S}},OB=()=>{const{authLoading:e,isAdmin:t,selectedPeriod:r,setSelectedPeriod:n,customDateRange:i,setCustomDateRange:a,analytics:l,projects:c,tasks:d,addTask:h,updateTask:f,deleteTask:m,editTask:g,milestones:y,clients:x,projectsLoading:v,tasksLoading:b,milestonesLoading:w,clientsLoading:E}=DB(),[_,S]=N.useState(null),[P,B]=N.useState(["active"]),L=J=>{const V={title:J.title,description:J.description||"",clientId:J.clientId,clientName:J.clientName,projectId:J.projectId,milestoneId:J.milestoneId,estimatedHours:J.estimatedHours||0,startDate:J.startDate||"",endDate:J.endDate||"",notes:J.notes||"",assets:J.assets||[],assignedTo:J.assignedTo,urgent:J.urgent};h(V)},U=(J,V,X)=>{f(J,V,X)},F=J=>{m(J),t&&l.refetch&&l.refetch()},ee=J=>{const V={title:J.title,description:J.description||"",clientId:J.clientId,clientName:J.clientName,projectId:J.projectId,milestoneId:J.milestoneId,estimatedHours:J.estimatedHours||0,startDate:J.startDate||"",endDate:J.endDate||"",notes:J.notes||"",assets:J.assets||[],assignedTo:J.assignedTo,urgent:J.urgent};g(J.id,V)},me=J=>{S({id:J.id,title:J.title,description:J.description,status:J.status,clientId:J.clientId,clientName:J.clientName,projectId:J.projectId||"",estimatedHours:J.estimatedHours,workedHours:J.workedHours,actualHours:J.actualHours,startDate:J.startDate,endDate:J.endDate,completedDate:J.completedDate,createdDate:J.createdDate,notes:J.notes,assets:J.assets,urgent:J.urgent})};_t.useEffect(()=>{if(!_)return;const J=d.find(V=>V.id===_.id);J&&S({id:J.id,title:J.title,description:J.description,status:J.status,clientId:J.clientId,clientName:J.clientName,projectId:J.projectId||"",estimatedHours:J.estimatedHours,workedHours:J.workedHours,actualHours:J.actualHours,startDate:J.startDate,endDate:J.endDate,completedDate:J.completedDate,createdDate:J.createdDate,notes:J.notes,assets:J.assets,urgent:J.urgent})},[d,_?.id]);const z=c.filter(J=>P.includes(J.status)),G=new Set(z.map(J=>J.id)),A=d.filter(J=>J.projectId&&G.has(J.projectId)),te=y.filter(J=>G.has(J.projectId));return e?s.jsx(Nn,{children:s.jsx("div",{})}):s.jsx(Nn,{children:s.jsx("div",{className:"min-h-screen p-6",style:{backgroundColor:"#F3F3F2"},children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsx(C8,{}),t?s.jsx(MU,{totalClients:l.totalClients,activeClients:l.activeClients,totalHours:l.totalHours,totalRevenue:l.totalRevenue,monthlySubscriptionCost:l.monthlySubscriptionCost,totalPaidToDate:l.totalPaidToDate,clients:l.clients,displayCurrency:l.displayCurrency,formatCurrency:l.formatCurrency,timeBreakdown:l.timeBreakdown,revenueBreakdown:l.revenueBreakdown,selectedPeriod:r,onPeriodChange:n,customDateRange:i,onCustomDateChange:a,previousPeriodData:l.previousPeriodData,comparisonText:l.comparisonText,loading:l.loading}):v||b?s.jsx(hB,{}):s.jsx(FU,{tasks:d,projects:c,selectedPeriod:r,onPeriodChange:n,customDateRange:i,onCustomDateChange:a}),b||E||v?s.jsx(ql,{count:3,lines:5}):s.jsx(iB,{tasks:d,clients:x,projects:c,onTaskClick:me,onUpdateTask:U,onDeleteTask:F,onEditTask:ee,onAddTask:L,selectedStatuses:P,onStatusChange:B}),v||b||w||E?s.jsx(ql,{count:2,lines:6}):s.jsx(dB,{projects:z,tasks:A,milestones:te,clients:x}),s.jsx(Nk,{task:_,isOpen:!!_,onClose:()=>S(null),projects:c})]})})})};var Oy="Checkbox",[IB]=an(Oy),[MB,FB]=IB(Oy),Ak=N.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:l,disabled:c,value:d="on",onCheckedChange:h,form:f,...m}=e,[g,y]=N.useState(null),x=rt(t,S=>y(S)),v=N.useRef(!1),b=g?f||!!g.closest("form"):!0,[w=!1,E]=jn({prop:i,defaultProp:a,onChange:h}),_=N.useRef(w);return N.useEffect(()=>{const S=g?.form;if(S){const P=()=>E(_.current);return S.addEventListener("reset",P),()=>S.removeEventListener("reset",P)}},[g,E]),s.jsxs(MB,{scope:r,state:w,disabled:c,children:[s.jsx(We.button,{type:"button",role:"checkbox","aria-checked":Zs(w)?"mixed":w,"aria-required":l,"data-state":Ok(w),"data-disabled":c?"":void 0,disabled:c,value:d,...m,ref:x,onKeyDown:Le(e.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:Le(e.onClick,S=>{E(P=>Zs(P)?!0:!P),b&&(v.current=S.isPropagationStopped(),v.current||S.stopPropagation())})}),b&&s.jsx(LB,{control:g,bubbles:!v.current,name:n,value:d,checked:w,required:l,disabled:c,form:f,style:{transform:"translateX(-100%)"},defaultChecked:Zs(a)?!1:a})]})});Ak.displayName=Oy;var Rk="CheckboxIndicator",Dk=N.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,a=FB(Rk,r);return s.jsx(Cr,{present:n||Zs(a.state)||a.state===!0,children:s.jsx(We.span,{"data-state":Ok(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});Dk.displayName=Rk;var LB=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:i,...a}=e,l=N.useRef(null),c=sh(r),d=Qd(t);N.useEffect(()=>{const f=l.current,m=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==r&&y){const x=new Event("click",{bubbles:n});f.indeterminate=Zs(r),y.call(f,Zs(r)?!1:r),f.dispatchEvent(x)}},[c,r,n]);const h=N.useRef(Zs(r)?!1:r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??h.current,...a,tabIndex:-1,ref:l,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Zs(e){return e==="indeterminate"}function Ok(e){return Zs(e)?"indeterminate":e?"checked":"unchecked"}var Ik=Ak,UB=Dk;const Li=N.forwardRef(({className:e,...t},r)=>s.jsx(Ik,{ref:r,className:Pe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(UB,{className:Pe("flex items-center justify-center text-current"),children:s.jsx(Ov,{className:"h-4 w-4"})})}));Li.displayName=Ik.displayName;var Iy="Radio",[BB,Mk]=an(Iy),[$B,zB]=BB(Iy),Fk=N.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:a,disabled:l,value:c="on",onCheck:d,form:h,...f}=e,[m,g]=N.useState(null),y=rt(t,b=>g(b)),x=N.useRef(!1),v=m?h||!!m.closest("form"):!0;return s.jsxs($B,{scope:r,checked:i,disabled:l,children:[s.jsx(We.button,{type:"button",role:"radio","aria-checked":i,"data-state":Bk(i),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:Le(e.onClick,b=>{i||d?.(),v&&(x.current=b.isPropagationStopped(),x.current||b.stopPropagation())})}),v&&s.jsx(HB,{control:m,bubbles:!x.current,name:n,value:c,checked:i,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});Fk.displayName=Iy;var Lk="RadioIndicator",Uk=N.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...i}=e,a=zB(Lk,r);return s.jsx(Cr,{present:n||a.checked,children:s.jsx(We.span,{"data-state":Bk(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});Uk.displayName=Lk;var HB=e=>{const{control:t,checked:r,bubbles:n=!0,...i}=e,a=N.useRef(null),l=sh(r),c=Qd(t);return N.useEffect(()=>{const d=a.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[l,r,n]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Bk(e){return e?"checked":"unchecked"}var WB=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],My="RadioGroup",[qB]=an(My,[Hd,Mk]),$k=Hd(),zk=Mk(),[VB,KB]=qB(My),Hk=N.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:a,required:l=!1,disabled:c=!1,orientation:d,dir:h,loop:f=!0,onValueChange:m,...g}=e,y=$k(r),x=Zl(h),[v,b]=jn({prop:a,defaultProp:i,onChange:m});return s.jsx(VB,{scope:r,name:n,required:l,disabled:c,value:v,onValueChange:b,children:s.jsx(EE,{asChild:!0,...y,orientation:d,dir:x,loop:f,children:s.jsx(We.div,{role:"radiogroup","aria-required":l,"aria-orientation":d,"data-disabled":c?"":void 0,dir:x,...g,ref:t})})})});Hk.displayName=My;var Wk="RadioGroupItem",qk=N.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...i}=e,a=KB(Wk,r),l=a.disabled||n,c=$k(r),d=zk(r),h=N.useRef(null),f=rt(t,h),m=a.value===i.value,g=N.useRef(!1);return N.useEffect(()=>{const y=v=>{WB.includes(v.key)&&(g.current=!0)},x=()=>g.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",x)}},[]),s.jsx(NE,{asChild:!0,...c,focusable:!l,active:m,children:s.jsx(Fk,{disabled:l,required:a.required,checked:m,...d,...i,name:a.name,ref:f,onCheck:()=>a.onValueChange(i.value),onKeyDown:Le(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:Le(i.onFocus,()=>{g.current&&h.current?.click()})})})});qk.displayName=Wk;var GB="RadioGroupIndicator",Vk=N.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,i=zk(r);return s.jsx(Uk,{...i,...n,ref:t})});Vk.displayName=GB;var Kk=Hk,Gk=qk,YB=Vk;const Fy=N.forwardRef(({className:e,...t},r)=>s.jsx(Kk,{className:Pe("grid gap-2",e),...t,ref:r}));Fy.displayName=Kk.displayName;const $a=N.forwardRef(({className:e,...t},r)=>s.jsx(Gk,{ref:r,className:Pe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(YB,{className:"flex items-center justify-center",children:s.jsx(gD,{className:"h-2.5 w-2.5 fill-current text-current"})})}));$a.displayName=Gk.displayName;const Yk=({isOpen:e,onClose:t,onAdd:r,clients:n})=>{const[i,a]=N.useState({name:"",clientId:"",startDate:"",estimatedEndDate:"",status:"active",notes:"",team:"",pricingType:"fixed",fixedPrice:"",hourlyRate:"",urgentHourlyRate:"",estimatedHours:"",currency:"EUR",useMilestones:!0}),[l,c]=N.useState({documents:!1,links:!1,team:!1,notes:!1}),d=n.find(g=>g.id.toString()===i.clientId);N.useEffect(()=>{d&&d.currency&&a(g=>({...g,currency:d.currency||"EUR"}))},[d]);const h=g=>{g.preventDefault();let y=[],x=i.team?i.team.split(",").map(w=>w.trim()):[],v=i.notes;if(d){if(l.documents&&d.documents&&(y=[...y,...d.documents]),l.links&&d.links){const w=d.links.map(E=>`LINK: ${E}`);y=[...y,...w]}if(l.team&&d.people){const w=d.people.map(E=>E.name);x=[...new Set([...x,...w])]}l.notes&&d.notes&&(v=v?`${v}

From Client:
${d.notes}`:d.notes)}const b={name:i.name,clientId:parseInt(i.clientId),startDate:i.startDate,estimatedEndDate:i.estimatedEndDate,status:i.status,notes:v,documents:y,team:x,pricingType:i.pricingType,fixedPrice:i.pricingType==="fixed"&&i.fixedPrice?parseFloat(i.fixedPrice):void 0,hourlyRate:i.pricingType==="hourly"&&i.hourlyRate?parseFloat(i.hourlyRate):void 0,urgentHourlyRate:i.pricingType==="hourly"&&i.urgentHourlyRate?parseFloat(i.urgentHourlyRate):void 0,estimatedHours:i.pricingType==="hourly"&&i.estimatedHours?parseInt(i.estimatedHours):void 0,currency:i.currency,invoices:[],useMilestones:i.useMilestones};r(b),a({name:"",clientId:"",startDate:"",estimatedEndDate:"",status:"active",notes:"",team:"",pricingType:"fixed",fixedPrice:"",hourlyRate:"",urgentHourlyRate:"",estimatedHours:"",currency:"EUR",useMilestones:!0}),c({documents:!1,links:!1,team:!1,notes:!1}),t()},f=(g,y)=>{a(x=>({...x,[g]:y}))},m=(g,y)=>{c(x=>({...x,[g]:y}))};return s.jsx(mr,{open:e,onOpenChange:t,children:s.jsxs(lr,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsx(cr,{children:s.jsx(ur,{children:"Add New Project"})}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"name",children:"Project Name"}),s.jsx(De,{id:"name",value:i.name,onChange:g=>f("name",g.target.value),placeholder:"Enter project name",required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"client",children:"Client"}),s.jsxs(mt,{value:i.clientId,onValueChange:g=>f("clientId",g),children:[s.jsx(ft,{children:s.jsx(gt,{placeholder:"Select a client"})}),s.jsx(pt,{children:n.map(g=>s.jsx(Me,{value:g.id.toString(),children:g.name},g.id))})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"currency",children:"Currency"}),s.jsxs(mt,{value:i.currency,onValueChange:g=>f("currency",g),children:[s.jsx(ft,{children:s.jsx(gt,{placeholder:"Select currency"})}),s.jsxs(pt,{children:[s.jsx(Me,{value:"USD",children:"USD ($)"}),s.jsx(Me,{value:"EUR",children:"EUR ()"}),s.jsx(Me,{value:"RON",children:"RON"})]})]})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Pricing Type"}),s.jsxs(Fy,{value:i.pricingType,onValueChange:g=>f("pricingType",g),className:"flex space-x-6 mt-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($a,{value:"fixed",id:"fixed"}),s.jsx(we,{htmlFor:"fixed",children:"Fixed Price"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($a,{value:"hourly",id:"hourly"}),s.jsx(we,{htmlFor:"hourly",children:"Hourly Rate"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(we,{htmlFor:"useMilestones",children:"Use milestones"}),s.jsx(Tn,{id:"useMilestones",checked:i.useMilestones,onCheckedChange:g=>a(y=>({...y,useMilestones:g}))})]}),i.pricingType==="fixed"?s.jsxs("div",{children:[s.jsxs(we,{htmlFor:"fixedPrice",children:["Fixed Price (",i.currency==="USD"?"$":i.currency==="EUR"?"":"RON",")"]}),s.jsx(De,{id:"fixedPrice",type:"number",step:"0.01",value:i.fixedPrice,onChange:g=>f("fixedPrice",g.target.value),placeholder:"Enter fixed price",required:!0})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs(we,{htmlFor:"hourlyRate",children:["Hourly Rate (",i.currency==="USD"?"$":i.currency==="EUR"?"":"RON",")"]}),s.jsx(De,{id:"hourlyRate",type:"number",step:"0.01",value:i.hourlyRate,onChange:g=>f("hourlyRate",g.target.value),placeholder:"Rate per hour",required:!0})]}),s.jsxs("div",{children:[s.jsxs(we,{htmlFor:"urgentHourlyRate",children:["Urgent Rate (",i.currency==="USD"?"$":i.currency==="EUR"?"":"RON",")"]}),s.jsx(De,{id:"urgentHourlyRate",type:"number",step:"0.01",value:i.urgentHourlyRate,onChange:g=>f("urgentHourlyRate",g.target.value),placeholder:"Urgent rate per hour"})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"estimatedHours",children:"Estimated Hours"}),s.jsx(De,{id:"estimatedHours",type:"number",value:i.estimatedHours,onChange:g=>f("estimatedHours",g.target.value),placeholder:"Estimated hours"})]})]}),d&&s.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Inherit from Client"}),s.jsxs("div",{className:"space-y-2",children:[d.documents&&d.documents.length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Li,{id:"inherit-documents",checked:l.documents,onCheckedChange:g=>m("documents",g)}),s.jsxs(we,{htmlFor:"inherit-documents",className:"text-sm",children:["Documents (",d.documents.length,")"]})]}),d.links&&d.links.length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Li,{id:"inherit-links",checked:l.links,onCheckedChange:g=>m("links",g)}),s.jsxs(we,{htmlFor:"inherit-links",className:"text-sm",children:["Links (",d.links.length,")"]})]}),d.people&&d.people.length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Li,{id:"inherit-team",checked:l.team,onCheckedChange:g=>m("team",g)}),s.jsxs(we,{htmlFor:"inherit-team",className:"text-sm",children:["Team Members (",d.people.length,")"]})]}),d.notes&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Li,{id:"inherit-notes",checked:l.notes,onCheckedChange:g=>m("notes",g)}),s.jsx(we,{htmlFor:"inherit-notes",className:"text-sm",children:"Client Notes"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"startDate",children:"Start Date"}),s.jsx(De,{id:"startDate",type:"date",value:i.startDate,onChange:g=>f("startDate",g.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"estimatedEndDate",children:"Estimated End Date"}),s.jsx(De,{id:"estimatedEndDate",type:"date",value:i.estimatedEndDate,onChange:g=>f("estimatedEndDate",g.target.value),required:!0})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"status",children:"Status"}),s.jsxs(mt,{value:i.status,onValueChange:g=>f("status",g),children:[s.jsx(ft,{children:s.jsx(gt,{})}),s.jsxs(pt,{children:[s.jsx(Me,{value:"active",children:"Active"}),s.jsx(Me,{value:"paused",children:"Paused"}),s.jsx(Me,{value:"completed",children:"Completed"}),s.jsx(Me,{value:"canceled",children:"Canceled"})]})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"team",children:"Team Members (comma-separated)"}),s.jsx(De,{id:"team",value:i.team,onChange:g=>f("team",g.target.value),placeholder:"John Doe, Jane Smith"})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"notes",children:"Notes"}),s.jsx(Qt,{id:"notes",value:i.notes,onChange:g=>f("notes",g.target.value),placeholder:"Project notes...",rows:3})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(_e,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),s.jsx(_e,{type:"submit",className:"bg-purple-500 hover:bg-purple-600",children:"Add Project"})]})]})]})})},XB=({project:e,isOpen:t,onClose:r,onUpdate:n,clients:i})=>{const[a,l]=N.useState({});_t.useEffect(()=>{e&&l(e)},[e]);const c=f=>{f.preventDefault(),e&&a&&(n(e.id,a),r())},d=(f,m)=>{l(g=>({...g,[f]:m}))};if(!e)return null;const h=f=>{switch(f){case"USD":return"$";case"EUR":return"";case"RON":return"RON";default:return f}};return s.jsx(sc,{open:t,onOpenChange:r,children:s.jsxs(yo,{className:"w-[400px] sm:w-[540px] overflow-y-auto",children:[s.jsx(ic,{children:s.jsx(ac,{children:"Edit Project"})}),s.jsxs("form",{onSubmit:c,className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"name",children:"Project Name"}),s.jsx(De,{id:"name",value:a.name||"",onChange:f=>d("name",f.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"client",children:"Client"}),s.jsxs(mt,{value:a.clientId?.toString()||"",onValueChange:f=>d("clientId",parseInt(f)),children:[s.jsx(ft,{children:s.jsx(gt,{placeholder:"Select a client"})}),s.jsx(pt,{children:i.map(f=>s.jsx(Me,{value:f.id.toString(),children:f.name},f.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"currency",children:"Currency"}),s.jsxs(mt,{value:a.currency||"USD",onValueChange:f=>d("currency",f),children:[s.jsx(ft,{children:s.jsx(gt,{placeholder:"Select currency"})}),s.jsxs(pt,{children:[s.jsx(Me,{value:"USD",children:"USD ($)"}),s.jsx(Me,{value:"EUR",children:"EUR ()"}),s.jsx(Me,{value:"RON",children:"RON"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Pricing Type"}),s.jsxs(Fy,{value:a.pricingType||"fixed",onValueChange:f=>d("pricingType",f),className:"flex space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($a,{value:"fixed",id:"edit-fixed"}),s.jsx(we,{htmlFor:"edit-fixed",children:"Fixed Price"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($a,{value:"hourly",id:"edit-hourly"}),s.jsx(we,{htmlFor:"edit-hourly",children:"Hourly Rate"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($a,{value:"daily",id:"edit-daily"}),s.jsx(we,{htmlFor:"edit-daily",children:"Daily Rate"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(we,{htmlFor:"useMilestones",children:"Use milestones"}),s.jsx(Tn,{id:"useMilestones",checked:a.useMilestones!==!1,onCheckedChange:f=>d("useMilestones",f)})]}),a.pricingType==="fixed"?s.jsxs("div",{className:"space-y-2",children:[s.jsxs(we,{htmlFor:"fixedPrice",children:["Fixed Price (",h(a.currency||"USD"),")"]}),s.jsx(De,{id:"fixedPrice",type:"number",step:"0.01",value:a.fixedPrice||"",onChange:f=>d("fixedPrice",f.target.value?parseFloat(f.target.value):void 0),placeholder:"Enter fixed price"})]}):a.pricingType==="hourly"?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(we,{htmlFor:"hourlyRate",children:["Hourly Rate (",h(a.currency||"USD"),")"]}),s.jsx(De,{id:"hourlyRate",type:"number",step:"0.01",value:a.hourlyRate||"",onChange:f=>d("hourlyRate",f.target.value?parseFloat(f.target.value):void 0),placeholder:"Rate per hour"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(we,{htmlFor:"urgentHourlyRate",children:["Urgent Rate (",h(a.currency||"USD"),")"]}),s.jsx(De,{id:"urgentHourlyRate",type:"number",step:"0.01",value:a.urgentHourlyRate||"",onChange:f=>d("urgentHourlyRate",f.target.value?parseFloat(f.target.value):void 0),placeholder:"Urgent rate per hour"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"estimatedHours",children:"Estimated Hours"}),s.jsx(De,{id:"estimatedHours",type:"number",value:a.estimatedHours||"",onChange:f=>d("estimatedHours",f.target.value?parseInt(f.target.value):void 0),placeholder:"Estimated hours"})]})]}):s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(we,{htmlFor:"dailyRate",children:["Daily Rate (",h(a.currency||"USD"),")"]}),s.jsx(De,{id:"dailyRate",type:"number",step:"0.01",value:a.dailyRate||"",onChange:f=>d("dailyRate",f.target.value?parseFloat(f.target.value):void 0),placeholder:"Rate per day"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"estimatedHours",children:"Estimated Hours"}),s.jsx(De,{id:"estimatedHours",type:"number",value:a.estimatedHours||"",onChange:f=>d("estimatedHours",f.target.value?parseInt(f.target.value):void 0),placeholder:"Estimated hours"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"startDate",children:"Start Date"}),s.jsx(De,{id:"startDate",type:"date",value:a.startDate||"",onChange:f=>d("startDate",f.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"estimatedEndDate",children:"Estimated End Date"}),s.jsx(De,{id:"estimatedEndDate",type:"date",value:a.estimatedEndDate||"",onChange:f=>d("estimatedEndDate",f.target.value),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"status",children:"Status"}),s.jsxs(mt,{value:a.status||"",onValueChange:f=>d("status",f),children:[s.jsx(ft,{children:s.jsx(gt,{placeholder:"Select status"})}),s.jsxs(pt,{children:[s.jsx(Me,{value:"active",children:"Active"}),s.jsx(Me,{value:"completed",children:"Completed"}),s.jsx(Me,{value:"paused",children:"Paused"}),s.jsx(Me,{value:"canceled",children:"Canceled"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"notes",children:"Notes"}),s.jsx(Qt,{id:"notes",value:a.notes||"",onChange:f=>d("notes",f.target.value),rows:4})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(_e,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),s.jsx(_e,{type:"submit",className:"bg-yellow-500 hover:bg-neutral-950 text-neutral-950 hover:text-yellow-500",children:"Update Project"})]})]})]})})},QB=({project:e,clients:t,onEditProject:r})=>{const n=ii(),{demoMode:i}=wt(),a=g=>{const y=t.find(x=>x.id===g);return y?y.name:"Unknown Client"},l=g=>{switch(g){case"active":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"paused":return"bg-yellow-100 text-yellow-800";case"canceled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},c=g=>i?{type:g.pricingType==="fixed"?"Fixed":"Hourly",amount:"",color:g.pricingType==="fixed"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}:g.pricingType==="fixed"?{type:"Fixed",amount:g.fixedPrice?xt(g.fixedPrice,g.currency):"TBD",color:"bg-blue-100 text-blue-800"}:{type:"Hourly",amount:g.hourlyRate?`${xt(g.hourlyRate,g.currency)}/hr`:"TBD",color:"bg-green-100 text-green-800"},d=g=>{if(i)return"";const y=g.invoices?.filter(x=>x.status==="paid")?.reduce((x,v)=>x+v.amount,0)||0;return xt(y,g.currency)},h=g=>{n(`/projects/${g}`)},f=c(e),m=d(e);return s.jsxs(Qe,{className:`relative cursor-pointer hover:shadow-md transition-shadow ${e.archived?"opacity-75 border-slate-300":""}`,onClick:()=>h(e.id),children:[s.jsx(dt,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ht,{className:"text-lg font-semibold mb-2",children:e.name}),e.archived&&s.jsx(OS,{className:"w-4 h-4 text-slate-500"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:a(e.clientId)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{className:l(e.status),children:e.status}),s.jsx(_e,{variant:"ghost",size:"sm",onClick:g=>r(g,e),className:"h-8 w-8 p-0",children:s.jsx(vs,{className:"h-4 w-4"})})]})]})}),s.jsx(Je,{className:"pt-0",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[s.jsx(Xn,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:[new Date(e.startDate).toLocaleDateString()," - ",new Date(e.estimatedEndDate).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[s.jsx(Bg,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:f.amount})]}),s.jsx(at,{className:f.color,variant:"secondary",children:f.type})]}),e.invoices&&e.invoices.length>0&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Invoiced:"}),s.jsx("span",{className:`font-medium ${i?"text-slate-600":"text-green-600"}`,children:m})]}),e.team&&e.team.length>0&&s.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[s.jsx(qn,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:[e.team.length," team member",e.team.length!==1?"s":""]})]}),e.notes&&s.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:e.notes})]})})]})},JB=({projects:e,clients:t,onEditProject:r})=>s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(n=>s.jsx(QB,{project:n,clients:t,onEditProject:r},n.id))}),ZB=({onAddProject:e})=>s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Hn,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-slate-600 mb-2",children:"No projects yet"}),s.jsx("p",{className:"text-slate-500 mb-4",children:"Create your first project to get started"}),s.jsx(_e,{onClick:e,className:"bg-yellow-500 hover:bg-neutral-950 text-neutral-950 hover:text-yellow-500 transition-colors",children:"Add Project"})]}),e9=({projects:e,clients:t,onAddProject:r,onUpdateProject:n,onArchiveProject:i,onDeleteProject:a})=>{const[l,c]=N.useState(!1),[d,h]=N.useState(null),[f,m]=N.useState(!1),g=(x,v)=>{x.stopPropagation(),h(v),m(!0)},y=()=>{m(!1),h(null)};return s.jsxs(s.Fragment,{children:[s.jsxs(Qe,{children:[s.jsx(dt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ht,{children:["Projects (",e.length,")"]}),s.jsx(_e,{onClick:()=>c(!0),className:"bg-yellow-500 hover:bg-neutral-950 text-neutral-950 hover:text-yellow-500 rounded-sm transition-colors",children:"Add Project"})]})}),s.jsx(Je,{children:e.length===0?s.jsx(ZB,{onAddProject:()=>c(!0)}):s.jsx(JB,{projects:e,clients:t,onEditProject:g})})]}),s.jsx(Yk,{isOpen:l,onClose:()=>c(!1),onAdd:r,clients:t}),s.jsx(XB,{project:d,isOpen:f,onClose:y,onUpdate:n,clients:t})]})},t9=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState("projects"),{displayCurrency:i}=wt(),{clients:a,loading:l}=Yi(),{projects:c,showArchived:d,setShowArchived:h,addProject:f,updateProject:m,archiveProject:g,deleteProject:y,loading:x}=vc(),{tasks:v,loading:b}=uh(),{milestones:w,loading:E}=jo();return s.jsx(Nn,{children:s.jsx("div",{className:"min-h-screen p-6",style:{backgroundColor:"#F3F3F2"},children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Projects"})}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tn,{id:"show-archived",checked:d,onCheckedChange:h}),s.jsx(we,{htmlFor:"show-archived",children:"Show Archived"})]})})]}),s.jsxs(oi,{value:r,onValueChange:n,className:"w-full",children:[s.jsxs(ws,{className:"grid w-full grid-cols-2",children:[s.jsx(Ht,{value:"projects",children:"Projects List"}),s.jsx(Ht,{value:"timeline",children:"Timeline View"})]}),s.jsx(or,{value:"projects",className:"mt-6",children:x||l?s.jsx(ql,{count:3,lines:5}):s.jsx(e9,{projects:c,clients:a,onAddProject:f,onUpdateProject:m,onArchiveProject:g,onDeleteProject:y})}),s.jsx(or,{value:"timeline",className:"mt-6",children:x||b||E?s.jsx(ql,{count:2,lines:6}):s.jsx(Ck,{projects:c.map(_=>({id:_.id,name:_.name,clientId:_.clientId,startDate:_.startDate,estimatedEndDate:_.estimatedEndDate,endDate:_.endDate,status:_.status,notes:_.notes,documents:_.documents,team:_.team,archived:_.archived,pricingType:_.pricingType,fixedPrice:_.fixedPrice,hourlyRate:_.hourlyRate,dailyRate:_.dailyRate,estimatedHours:_.estimatedHours,currency:_.currency,invoices:_.invoices})),tasks:v.map(_=>({id:_.id,title:_.title,description:_.description||"",status:_.status,projectId:_.projectId||"",clientId:_.clientId,clientName:_.clientName,estimatedHours:_.estimatedHours,actualHours:_.actualHours,workedHours:_.workedHours,startDate:_.startDate,endDate:_.endDate,completedDate:_.completedDate,createdDate:_.createdDate,notes:_.notes,assets:_.assets})),milestones:w.map(_=>({id:_.id,title:_.title,description:_.description||"",projectId:_.projectId,status:_.status,targetDate:_.targetDate,amount:_.amount,currency:_.currency||"USD",estimatedHours:_.estimatedHours,completionPercentage:_.completionPercentage,createdAt:_.createdAt,updatedAt:_.updatedAt})),clients:a.map(_=>({id:_.id,name:_.name}))})})]}),s.jsx(Yk,{isOpen:e,onClose:()=>t(!1),onAdd:f,clients:a})]})})})},r9=({project:e,client:t,tasks:r,milestones:n})=>{const i=c=>{switch(c){case"active":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"paused":return"bg-yellow-100 text-yellow-800";case"canceled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},a=r.filter(c=>c.status==="completed").length,l=n.filter(c=>c.status==="completed").length;return s.jsx(Qe,{className:"mb-6",children:s.jsxs(Je,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:e.name}),s.jsx("p",{className:"text-lg text-slate-600",children:t?.name||"Unknown Client"})]}),s.jsx(at,{className:i(e.status),children:e.status})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Xn,{className:"w-5 h-5 text-slate-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Duration"}),s.jsxs("p",{className:"text-xs font-semibold",children:[new Date(e.startDate).toLocaleDateString()," - ",new Date(e.estimatedEndDate).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qn,{className:"w-5 h-5 text-slate-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Team Size"}),s.jsxs("p",{className:"text-xs font-semibold",children:[e.team?.length||0," members"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ll,{className:"w-5 h-5 text-slate-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Tasks"}),s.jsxs("p",{className:"text-xs font-semibold",children:[a,"/",r.length," completed"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Kr,{className:"w-5 h-5 text-slate-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Milestones"}),s.jsxs("p",{className:"text-xs font-semibold",children:[l,"/",n.length," completed"]})]})]})]})]})})},n9=({isFixedPrice:e,hasMilestones:t,totalHours:r,billedHours:n,unbilledHours:i,paidInvoicedRevenue:a,valueFromBilledHours:l,unbilledRevenue:c,totalMilestoneValue:d=0,completedMilestoneValue:h=0,fixedProjectValue:f=0,fixedBilledRevenue:m=0,fixedUnbilledRevenue:g=0,displayCurrency:y,demoMode:x=!1})=>{const v=(w,E=!1)=>{if(x&&E)return"";const _=Math.round(w);if(_>=1e3){const S=(_/1e3).toFixed(2).replace(/\.?0+$/,"");return E?`${y==="RON"?"RON ":y==="EUR"?"":"$"}${S}K`:`${S}K`}return E?`${y==="RON"?"RON ":y==="EUR"?"":"$"}${_}`:_.toString()},b=f>0?m/f*100:0;return e?s.jsx(Js,{children:s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(ir,{children:[s.jsx(ar,{asChild:!0,children:s.jsx("p",{className:"text-foreground text-4xl font-normal cursor-help",children:v(f,!0)})}),s.jsx(Xt,{children:s.jsx("p",{children:x?"":xt(f,y)})})]}),s.jsx("p",{className:"text-muted-foreground py-[24px] text-base",children:"Project Value"})]}),s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(ir,{children:[s.jsx(ar,{asChild:!0,children:s.jsxs("div",{className:"cursor-help",children:[s.jsx("p",{className:"text-foreground text-4xl font-normal",children:v(m,!0)}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:x?"":`${b.toFixed(0)}%`})]})}),s.jsx(Xt,{children:s.jsx("p",{children:x?"":xt(m,y)})})]}),s.jsx("p",{className:"text-muted-foreground py-[16px] text-base",children:"Billed Revenue"})]}),s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(ir,{children:[s.jsx(ar,{asChild:!0,children:s.jsxs("div",{className:"cursor-help",children:[s.jsx("p",{className:"text-foreground text-4xl font-normal",children:v(g,!0)}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:x?"":`${(100-b).toFixed(0)}%`})]})}),s.jsx(Xt,{children:s.jsx("p",{children:x?"":xt(g,y)})})]}),s.jsx("p",{className:"text-muted-foreground py-[16px] text-base",children:"Unbilled Revenue"})]}),r>0&&s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(ir,{children:[s.jsx(ar,{asChild:!0,children:s.jsx("p",{className:"text-foreground text-4xl font-normal cursor-help",children:r>=1e3?`${(r/1e3).toFixed(1)}K`:r.toFixed(1)})}),s.jsx(Xt,{children:s.jsxs("p",{children:[r.toFixed(2)," hours logged"]})})]}),s.jsx("p",{className:"text-muted-foreground py-[24px] text-base",children:"Hours Logged"})]})]})}):t&&d>0?s.jsx(Js,{children:s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(ir,{children:[s.jsx(ar,{asChild:!0,children:s.jsx("p",{className:"text-foreground text-4xl font-normal cursor-help",children:v(c,!0)})}),s.jsx(Xt,{children:s.jsx("p",{children:x?"":xt(c,y)})})]}),s.jsx("p",{className:"text-muted-foreground py-[24px] text-base",children:"Unbilled Revenue"})]}),s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(ir,{children:[s.jsx(ar,{asChild:!0,children:s.jsx("p",{className:"text-foreground text-4xl font-normal cursor-help",children:v(d,!0)})}),s.jsx(Xt,{children:s.jsx("p",{children:x?"":xt(d,y)})})]}),s.jsx("p",{className:"text-muted-foreground py-[24px] text-base",children:"Total Value"})]}),s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(ir,{children:[s.jsx(ar,{asChild:!0,children:s.jsx("p",{className:"text-foreground text-4xl font-normal cursor-help",children:v(h,!0)})}),s.jsx(Xt,{children:s.jsx("p",{children:x?"":xt(h,y)})})]}),s.jsx("p",{className:"text-muted-foreground py-[24px] text-base",children:"Earned Value"})]}),s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(ir,{children:[s.jsx(ar,{asChild:!0,children:s.jsx("p",{className:"text-foreground text-4xl font-normal cursor-help",children:v(a,!0)})}),s.jsx(Xt,{children:s.jsx("p",{children:x?"":xt(a,y)})})]}),s.jsx("p",{className:"text-muted-foreground py-[24px] text-base",children:"Paid Invoices"})]})]})}):s.jsx(Js,{children:s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(ir,{children:[s.jsx(ar,{asChild:!0,children:s.jsx("p",{className:"text-foreground text-4xl font-normal cursor-help",children:r>=1e3?`${(r/1e3).toFixed(1)}K`:r.toFixed(2)})}),s.jsx(Xt,{children:s.jsx("p",{children:r.toFixed(2)})})]}),s.jsx("p",{className:"text-muted-foreground py-[24px] text-base",children:"Total Hours"})]}),s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(ir,{children:[s.jsx(ar,{asChild:!0,children:s.jsx("p",{className:"text-foreground font-normal text-4xl cursor-help",children:v(l,!0)})}),s.jsx(Xt,{children:s.jsx("p",{children:x?"":xt(l,y)})})]}),s.jsx("p",{className:"text-muted-foreground py-[24px] text-base",children:"Billed Revenue"})]}),s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(ir,{children:[s.jsx(ar,{asChild:!0,children:s.jsx("p",{className:"text-foreground font-normal text-4xl cursor-help",children:v(c,!0)})}),s.jsx(Xt,{children:s.jsx("p",{children:x?"":xt(c,y)})})]}),s.jsx("p",{className:"text-muted-foreground py-[24px] text-base",children:"Unbilled Revenue"})]}),s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(ir,{children:[s.jsx(ar,{asChild:!0,children:s.jsx("p",{className:"text-foreground font-normal text-4xl cursor-help",children:v(a,!0)})}),s.jsx(Xt,{children:s.jsx("p",{children:x?"":xt(a,y)})})]}),s.jsx("p",{className:"text-muted-foreground py-[24px] text-base",children:"Paid Invoices"})]})]})})},Xk=()=>{const[e,t]=N.useState([]),{toast:r}=Jt();N.useEffect(()=>{n()},[]);const n=async()=>{try{const{data:l,error:c}=await Re.from("invoices").select("*").order("date",{ascending:!1});if(c)throw c;const d=l.map(h=>({id:h.id,projectId:h.project_id||void 0,clientId:h.client_id||void 0,amount:h.amount,currency:h.currency,date:h.date,status:h.status,description:h.description||void 0,milestoneId:h.milestone_id||void 0,createdAt:h.created_at,updatedAt:h.updated_at}));t(d)}catch(l){console.error("Error loading invoices:",l),r({title:"Error",description:"Failed to load invoices",variant:"destructive"})}};return{invoices:e,addInvoice:async l=>{try{const{data:{user:c}}=await Re.auth.getUser();if(!c)throw new Error("User not authenticated");const{data:d,error:h}=await Re.from("invoices").insert([{project_id:l.projectId,client_id:l.clientId,amount:l.amount,currency:l.currency,date:l.date,status:l.status,description:l.description,milestone_id:l.milestoneId,user_id:c.id}]).select().single();if(h)throw h;const f={id:d.id,projectId:d.project_id||void 0,clientId:d.client_id||void 0,amount:d.amount,currency:d.currency,date:d.date,status:d.status,description:d.description||void 0,milestoneId:d.milestone_id||void 0,createdAt:d.created_at,updatedAt:d.updated_at};t(m=>[...m,f]),r({title:"Success",description:"Invoice added successfully"})}catch(c){console.error("Error adding invoice:",c),r({title:"Error",description:"Failed to add invoice",variant:"destructive"})}},updateInvoice:async(l,c)=>{try{const{error:d}=await Re.from("invoices").update({project_id:c.projectId,client_id:c.clientId,amount:c.amount,currency:c.currency,date:c.date,status:c.status,description:c.description,milestone_id:c.milestoneId}).eq("id",l);if(d)throw d;t(h=>h.map(f=>f.id===l?{...f,...c}:f)),r({title:"Success",description:"Invoice updated successfully"})}catch(d){console.error("Error updating invoice:",d),r({title:"Error",description:"Failed to update invoice",variant:"destructive"})}}}},s9=({project:e,client:t,milestones:r,tasks:n})=>{const{hourEntries:i}=Jn(),{invoices:a}=Xk(),{displayCurrency:l,convert:c,demoMode:d}=wt(),h=i.filter(U=>!(U.projectId!==e.id||U.milestoneId&&typeof U.milestoneId=="object")),f=a.filter(U=>U.projectId===e.id),m=h.reduce((U,F)=>U+F.hours,0),g=h.filter(U=>U.billed).reduce((U,F)=>U+F.hours,0),y=h.filter(U=>!U.billed).reduce((U,F)=>U+F.hours,0),x=d?0:f.filter(U=>U.status==="paid").reduce((U,F)=>{const ee=c(F.amount,F.currency,l);return U+ee},0);let v=0;if(!d){if(e.pricingType==="hourly"&&(e.hourlyRate||e.urgentHourlyRate))v=h.filter(U=>U.billed).reduce((U,F)=>{const z=!!n.find(A=>A.id===F.taskId)?.urgent&&e.urgentHourlyRate?e.urgentHourlyRate:e.hourlyRate||0,G=F.hours*c(z,e.currency,l);return U+G},0);else if(e.pricingType==="daily"&&e.dailyRate){const U=c(e.dailyRate,e.currency,l);v=g/8*U}}let b=0;if(!d){if(e.pricingType==="hourly"&&(e.hourlyRate||e.urgentHourlyRate))b=h.filter(U=>!U.billed).reduce((U,F)=>{const z=!!n.find(A=>A.id===F.taskId)?.urgent&&e.urgentHourlyRate?e.urgentHourlyRate:e.hourlyRate||0,G=F.hours*c(z,e.currency,l);return U+G},0);else if(e.pricingType==="daily"&&e.dailyRate){const U=c(e.dailyRate,e.currency,l);b=y/8*U}}const w=d?0:r.reduce((U,F)=>{const ee=F.amount||0,me=c(ee,e.currency,l);return U+me},0),E=d?0:r.filter(U=>U.status==="completed").reduce((U,F)=>{const ee=F.amount||0,me=c(ee,e.currency,l);return U+me},0),_=e.pricingType==="fixed",S=r.length>0,P=d?0:c(e.fixedPrice||0,e.currency,l),B=x,L=Math.max(0,P-x);return t?s.jsxs(Qe,{className:"h-full",children:[s.jsx(dt,{children:s.jsxs(ht,{className:"flex items-center",children:[s.jsx(Bg,{className:"w-5 h-5 mr-2"}),_?"Progress & Revenue Tracking":"Time & Revenue Tracking"]})}),s.jsxs(Je,{children:[s.jsx("div",{className:"flex flex-col md:flex-row gap-4 w-full",children:s.jsx(n9,{isFixedPrice:_,hasMilestones:S,totalHours:m,billedHours:g,unbilledHours:y,paidInvoicedRevenue:x,valueFromBilledHours:v,unbilledRevenue:b,totalMilestoneValue:w,completedMilestoneValue:E,fixedProjectValue:P,fixedBilledRevenue:B,fixedUnbilledRevenue:L,displayCurrency:l,demoMode:d})}),y>0&&!_&&!d&&s.jsx("div",{className:"mt-4 p-3 bg-warning/10 border border-warning/20 rounded-lg",children:s.jsxs("p",{className:"text-sm text-warning-foreground",children:["You have ",s.jsxs("strong",{children:[y.toFixed(2)," hours"]})," of unbilled work worth"," ",s.jsx("strong",{children:xt(b,l)}),". Consider creating an invoice."]})})]})]}):s.jsxs(Qe,{children:[s.jsx(dt,{children:s.jsxs(ht,{className:"flex items-center",children:[s.jsx(Bg,{className:"w-5 h-5 mr-2"}),_?"Progress & Revenue Tracking":"Time & Revenue Tracking"]})}),s.jsx(Je,{children:s.jsx("p",{className:"text-muted-foreground",children:"No client associated with this project"})})]})},i9=e=>{switch(e){case"hourly":return"Hours Worked";case"daily":return"Days Worked";default:return"Time Worked"}},a9=e=>{switch(e){case"hourly":return"e.g., 2.5";case"daily":return"e.g., 1.5";default:return"e.g., 1"}},Qk=e=>e==="daily"?"Log Days":"Log Hours",o9=(e,t)=>{switch(t){case"hourly":return e;case"daily":return e*8;default:return e}},l9=({project:e,client:t,milestones:r,tasks:n,onClose:i,onCreateMilestone:a})=>{const[l,c]=N.useState(""),[d,h]=N.useState(""),[f,m]=N.useState(new Date().toISOString().split("T")[0]),[g,y]=N.useState(!1),[x,v]=N.useState("unassigned"),[b,w]=N.useState("unassigned"),{addHourEntry:E}=Jn(),_=r.filter(L=>L.status==="pending"||L.status==="in-progress"),S=e.useMilestones!==!1,P=n.filter(L=>L.projectId===e.id),B=async L=>{if(L.preventDefault(),!l||isNaN(Number(l))||Number(l)<=0)return;const U=o9(Number(l),e.pricingType);await E({projectId:e.id,clientId:t.id,hours:U,description:d,date:f,billed:g,milestoneId:x==="unassigned"?void 0:x,taskId:b==="unassigned"?void 0:Number(b)}),c(""),h(""),m(new Date().toISOString().split("T")[0]),y(!1),v("unassigned"),w("unassigned"),i()};return s.jsxs("form",{onSubmit:B,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"hours",children:i9(e.pricingType)}),s.jsx(De,{id:"hours",type:"number",step:"any",min:"0",placeholder:a9(e.pricingType),value:l,onChange:L=>c(L.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"date",children:"Date"}),s.jsx(De,{id:"date",type:"date",value:f,onChange:L=>m(L.target.value),required:!0})]})]}),S&&s.jsxs("div",{children:[s.jsx(we,{htmlFor:"milestone",children:"Milestone (Optional)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(mt,{value:x,onValueChange:v,children:[s.jsx(ft,{className:"flex-1",children:s.jsx(gt,{placeholder:"Select milestone or leave unassigned"})}),s.jsxs(pt,{children:[s.jsx(Me,{value:"unassigned",children:"No milestone (unassigned)"}),_.map(L=>s.jsx(Me,{value:L.id,children:L.title},L.id))]})]}),a&&s.jsx(_e,{type:"button",variant:"outline",size:"sm",onClick:a,className:"px-3",children:s.jsx(Tt,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"task",children:"Task (Optional)"}),s.jsxs(mt,{value:b,onValueChange:w,children:[s.jsx(ft,{children:s.jsx(gt,{placeholder:"Select task or leave unassigned"})}),s.jsxs(pt,{children:[s.jsx(Me,{value:"unassigned",children:"No task (unassigned)"}),P.map(L=>s.jsxs(Me,{value:String(L.id),children:[L.title,L.urgent?" (urgent)":""]},L.id))]})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"description",children:"Description (Optional)"}),s.jsx(Qt,{id:"description",placeholder:"What did you work on?",value:d,onChange:L=>h(L.target.value),rows:3})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tn,{id:"billed",checked:g,onCheckedChange:y}),s.jsx(we,{htmlFor:"billed",children:"Mark as billed"})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(_e,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),s.jsxs(_e,{type:"submit",className:"bg-yellow-500 hover:bg-neutral-950 text-neutral-950 hover:text-yellow-500 transition-colors",children:[s.jsx(Ud,{className:"w-4 h-4 mr-2"}),Qk(e.pricingType)]})]})]})},c9=({isOpen:e,onClose:t,project:r,client:n,milestones:i,tasks:a,onCreateMilestone:l})=>s.jsx(mr,{open:e,onOpenChange:t,children:s.jsxs(lr,{className:"sm:max-w-md",children:[s.jsxs(cr,{children:[s.jsxs(ur,{className:"flex items-center",children:[s.jsx(Kr,{className:"w-5 h-5 mr-2"}),Qk(r.pricingType)," for ",r.name]}),s.jsx(di,{children:"Log hours worked on this project and track your progress."})]}),s.jsx(l9,{project:r,client:n,milestones:i,tasks:a||[],onClose:t,onCreateMilestone:l})]})});function u9(e,t=[]){let r=[];function n(a,l){const c=N.createContext(l),d=r.length;r=[...r,l];function h(m){const{scope:g,children:y,...x}=m,v=g?.[e][d]||c,b=N.useMemo(()=>x,Object.values(x));return s.jsx(v.Provider,{value:b,children:y})}function f(m,g){const y=g?.[e][d]||c,x=N.useContext(y);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${a}\``)}return h.displayName=a+"Provider",[h,f]}const i=()=>{const a=r.map(l=>N.createContext(l));return function(c){const d=c?.[e]||a;return N.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return i.scopeName=e,[n,d9(i,...t)]}function d9(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=n.reduce((c,{useScope:d,scopeName:h})=>{const m=d(a)[`__scope${h}`];return{...c,...m}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var Ly="Progress",Uy=100,[h9]=u9(Ly),[f9,p9]=h9(Ly),Jk=N.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=m9,...l}=e;(i||i===0)&&!P1(i)&&console.error(g9(`${i}`,"Progress"));const c=P1(i)?i:Uy;n!==null&&!A1(n,c)&&console.error(v9(`${n}`,"Progress"));const d=A1(n,c)?n:null,h=Nd(d)?a(d,c):void 0;return s.jsx(f9,{scope:r,value:d,max:c,children:s.jsx(We.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Nd(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":tT(d,c),"data-value":d??void 0,"data-max":c,...l,ref:t})})});Jk.displayName=Ly;var Zk="ProgressIndicator",eT=N.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=p9(Zk,r);return s.jsx(We.div,{"data-state":tT(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});eT.displayName=Zk;function m9(e,t){return`${Math.round(e/t*100)}%`}function tT(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Nd(e){return typeof e=="number"}function P1(e){return Nd(e)&&!isNaN(e)&&e>0}function A1(e,t){return Nd(e)&&!isNaN(e)&&e<=t&&e>=0}function g9(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Uy}\`.`}function v9(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Uy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var rT=Jk,y9=eT;const Rl=N.forwardRef(({className:e,value:t,...r},n)=>s.jsx(rT,{ref:n,className:Pe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(y9,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Rl.displayName=rT.displayName;const x9=({isOpen:e,onClose:t,timeEntry:r})=>{const[n,i]=N.useState(r.hours.toString()),[a,l]=N.useState(r.description||""),[c,d]=N.useState(r.date),[h,f]=N.useState(r.billed),[m,g]=N.useState(r.milestoneId||"no-milestone"),[y,x]=N.useState(!1),{updateHourEntry:v,refreshHourEntries:b}=Jn(),{milestones:w}=jo(),E=w.filter(S=>S.projectId===r.projectId),_=async S=>{if(S.preventDefault(),!(!n||parseFloat(n)<=0)){x(!0);try{await v(r.id,{hours:parseFloat(n),description:a||void 0,date:c,billed:h,milestoneId:m==="no-milestone"?void 0:m}),await b(),t()}catch(P){console.error("Error updating time entry:",P)}finally{x(!1)}}};return s.jsx(mr,{open:e,onOpenChange:t,children:s.jsxs(lr,{className:"sm:max-w-md",children:[s.jsx(cr,{children:s.jsxs(ur,{className:"flex items-center",children:[s.jsx(Kr,{className:"w-5 h-5 mr-2"}),"Edit Time Entry"]})}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"hours",children:"Hours"}),s.jsx(De,{id:"hours",type:"number",min:"0.1",step:"0.1",value:n,onChange:S=>i(S.target.value),placeholder:"0.0",required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"date",children:"Date"}),s.jsx(De,{id:"date",type:"date",value:c,onChange:S=>d(S.target.value),required:!0})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"milestone",children:"Milestone (Optional)"}),s.jsxs(mt,{value:m,onValueChange:g,children:[s.jsx(ft,{children:s.jsx(gt,{placeholder:"Select a milestone"})}),s.jsxs(pt,{children:[s.jsx(Me,{value:"no-milestone",children:"No milestone"}),E.map(S=>s.jsxs(Me,{value:S.id,children:[S.title," (",new Date(S.targetDate).toLocaleDateString(),")"]},S.id))]})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"description",children:"Description (Optional)"}),s.jsx(Qt,{id:"description",value:a,onChange:S=>l(S.target.value),placeholder:"What did you work on?",rows:3})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tn,{id:"billed",checked:h,onCheckedChange:f}),s.jsx(we,{htmlFor:"billed",children:"Mark as billed"})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(_e,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),s.jsxs(_e,{type:"submit",disabled:y,className:"bg-yellow-500 hover:bg-neutral-950 text-neutral-950 hover:text-yellow-500 transition-colors",children:[s.jsx(Ud,{className:"w-4 h-4 mr-2"}),y?"Saving...":"Save Changes"]})]})]})]})})};var nT="AlertDialog",[w9]=an(nT,[rN]),bs=rN(),sT=e=>{const{__scopeAlertDialog:t,...r}=e,n=bs(t);return s.jsx(ty,{...n,...r,modal:!0})};sT.displayName=nT;var b9="AlertDialogTrigger",iT=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=bs(r);return s.jsx(e3,{...i,...n,ref:t})});iT.displayName=b9;var _9="AlertDialogPortal",aT=e=>{const{__scopeAlertDialog:t,...r}=e,n=bs(t);return s.jsx(ry,{...n,...r})};aT.displayName=_9;var j9="AlertDialogOverlay",oT=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=bs(r);return s.jsx(ec,{...i,...n,ref:t})});oT.displayName=j9;var za="AlertDialogContent",[S9,E9]=w9(za),lT=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,a=bs(r),l=N.useRef(null),c=rt(t,l),d=N.useRef(null);return s.jsx(X6,{contentName:za,titleName:cT,docsSlug:"alert-dialog",children:s.jsx(S9,{scope:r,cancelRef:d,children:s.jsxs(tc,{role:"alertdialog",...a,...i,ref:c,onOpenAutoFocus:Le(i.onOpenAutoFocus,h=>{h.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[s.jsx(Tv,{children:n}),s.jsx(C9,{contentRef:l})]})})})});lT.displayName=za;var cT="AlertDialogTitle",uT=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=bs(r);return s.jsx(rc,{...i,...n,ref:t})});uT.displayName=cT;var dT="AlertDialogDescription",hT=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=bs(r);return s.jsx(nc,{...i,...n,ref:t})});hT.displayName=dT;var N9="AlertDialogAction",fT=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=bs(r);return s.jsx(Kd,{...i,...n,ref:t})});fT.displayName=N9;var pT="AlertDialogCancel",mT=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=E9(pT,r),a=bs(r),l=rt(t,i);return s.jsx(Kd,{...a,...n,ref:l})});mT.displayName=pT;var C9=({contentRef:e})=>{const t=`\`${za}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${za}\` by passing a \`${dT}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${za}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},k9=sT,T9=iT,P9=aT,gT=oT,vT=lT,yT=fT,xT=mT,wT=uT,bT=hT;const Vl=k9,Cd=T9,A9=P9,_T=N.forwardRef(({className:e,...t},r)=>s.jsx(gT,{className:Pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));_T.displayName=gT.displayName;const Ja=N.forwardRef(({className:e,...t},r)=>s.jsxs(A9,{children:[s.jsx(_T,{}),s.jsx(vT,{ref:r,className:Pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Ja.displayName=vT.displayName;const Za=({className:e,...t})=>s.jsx("div",{className:Pe("flex flex-col space-y-2 text-center sm:text-left",e),...t});Za.displayName="AlertDialogHeader";const eo=({className:e,...t})=>s.jsx("div",{className:Pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});eo.displayName="AlertDialogFooter";const to=N.forwardRef(({className:e,...t},r)=>s.jsx(wT,{ref:r,className:Pe("text-lg font-semibold",e),...t}));to.displayName=wT.displayName;const ro=N.forwardRef(({className:e,...t},r)=>s.jsx(bT,{ref:r,className:Pe("text-sm text-muted-foreground",e),...t}));ro.displayName=bT.displayName;const no=N.forwardRef(({className:e,...t},r)=>s.jsx(yT,{ref:r,className:Pe(Bl(),e),...t}));no.displayName=yT.displayName;const so=N.forwardRef(({className:e,...t},r)=>s.jsx(xT,{ref:r,className:Pe(Bl({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));so.displayName=xT.displayName;const R9=({isOpen:e,onClose:t,timeEntry:r})=>{const[n,i]=N.useState(!1),{deleteHourEntry:a}=Jn(),l=async()=>{i(!0);try{console.log("Attempting to delete time entry:",r.id),await a(r.id),console.log("Time entry deleted successfully"),t()}catch(c){console.error("Error deleting time entry:",c)}finally{i(!1)}};return s.jsx(Vl,{open:e,onOpenChange:t,children:s.jsxs(Ja,{children:[s.jsxs(Za,{children:[s.jsx(to,{children:"Delete Time Entry"}),s.jsx(ro,{asChild:!0,children:s.jsxs("div",{children:["Are you sure you want to delete this time entry?",s.jsxs("div",{className:"mt-2 p-3 bg-slate-50 rounded border",children:[s.jsx("div",{className:"font-medium",children:pd(r.date)}),s.jsxs("div",{className:"text-sm text-slate-600",children:[r.hours," ",r.hours===1?"hour":"hours",r.description&&s.jsx("div",{className:"line-clamp-2 mt-1",children:r.description})]})]}),"This action cannot be undone."]})})]}),s.jsxs(eo,{children:[s.jsx(so,{onClick:t,children:"Cancel"}),s.jsx(no,{onClick:l,disabled:n,className:"bg-red-600 hover:bg-red-700",children:n?"Deleting...":"Delete"})]})]})})},D9=({milestones:e,hourEntries:t,onAddTimeEntry:r})=>{const{isAdmin:n}=pr(),{refreshHourEntries:i}=Jn(),[a,l]=N.useState(null),[c,d]=N.useState(null),[h,f]=N.useState(new Set),[m,g]=N.useState(!1),y=()=>{l(null),i()},x=()=>{d(null),i()},v=t.filter(_=>!(_.milestoneId&&typeof _.milestoneId=="object")),b=v.reduce((_,S)=>{const P=S.milestoneId||"unassigned";return _[P]||(_[P]=[]),_[P].push(S),_},{}),w=b.unassigned||[],E=w.reduce((_,S)=>_+S.hours,0);return s.jsxs(s.Fragment,{children:[s.jsxs(Qe,{children:[s.jsx(dt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ht,{className:"flex items-center",children:[s.jsx(Bd,{className:"w-5 h-5 mr-2"}),"Hours by Milestone (",v.length," entries)"]}),r&&s.jsxs(_e,{onClick:r,size:"sm",variant:"outline",children:[s.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Entry"]})]})}),s.jsxs(Je,{className:"space-y-4",children:[e.map(_=>{const S=b[_.id]||[],P=S.reduce((L,U)=>L+U.hours,0),B=S.filter(L=>L.billed).reduce((L,U)=>L+U.hours,0);return S.length===0?null:s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium",children:_.title}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${_.status==="completed"?"bg-green-100 text-green-800":_.status==="in-progress"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:_.status.replace("-"," ")})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:P.toFixed(1)}),s.jsx("p",{className:"text-sm text-slate-600",children:"Total Hours"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-semibold text-green-600",children:B.toFixed(1)}),s.jsx("p",{className:"text-sm text-slate-600",children:"Billed Hours"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-semibold text-orange-600",children:(P-B).toFixed(1)}),s.jsx("p",{className:"text-sm text-slate-600",children:"Unbilled Hours"})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{children:"Milestone Progress"}),s.jsxs("span",{children:[_.completionPercentage,"%"]})]}),s.jsx(Rl,{value:_.completionPercentage,className:"h-2"})]}),S.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Time Entries:"}),(h.has(_.id)?S:S.slice(0,5)).map(L=>s.jsxs("div",{className:"flex justify-between items-center text-sm bg-slate-50 p-2 rounded",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium line-clamp-1",children:L.description||"Time entry"}),s.jsx("p",{className:"text-slate-500",children:pd(L.date)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium",children:[L.hours,"h"]}),s.jsx("p",{className:`text-xs ${L.billed?"text-green-600":"text-orange-600"}`,children:L.billed?"Billed":"Unbilled"})]}),n&&s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(_e,{size:"sm",variant:"ghost",onClick:()=>l(L),className:"h-8 w-8 p-0",children:s.jsx(vs,{className:"w-3 h-3"})}),s.jsx(_e,{size:"sm",variant:"ghost",onClick:()=>d(L),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:s.jsx(Wn,{className:"w-3 h-3"})})]})]})]},L.id)),S.length>5&&!h.has(_.id)&&s.jsxs(_e,{variant:"ghost",size:"sm",onClick:()=>f(L=>new Set([...L,_.id])),className:"w-full text-xs text-slate-500 hover:text-slate-700",children:["Load ",S.length-5," more entries"]}),h.has(_.id)&&S.length>5&&s.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>f(L=>{const U=new Set(L);return U.delete(_.id),U}),className:"w-full text-xs text-slate-500 hover:text-slate-700",children:"Show less"})]})]},_.id)}),E>0&&s.jsxs("div",{className:"border-2 border-dashed border-orange-200 rounded-lg p-4 bg-orange-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-orange-800",children:"Unassigned Hours"}),s.jsxs("span",{className:"px-2 py-1 rounded text-xs bg-orange-100 text-orange-800",children:[E.toFixed(1)," hours"]})]}),s.jsx("p",{className:"text-sm text-orange-700 mb-3",children:"These hours are not assigned to any milestone. Consider assigning them to track progress accurately."}),s.jsxs("div",{className:"space-y-1",children:[(m?w:w.slice(0,5)).map(_=>s.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded border",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium line-clamp-1",children:_.description||"Time entry"}),s.jsx("p",{className:"text-slate-500",children:pd(_.date)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium",children:[_.hours,"h"]}),s.jsx("p",{className:`text-xs ${_.billed?"text-green-600":"text-orange-600"}`,children:_.billed?"Billed":"Unbilled"})]}),n&&s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(_e,{size:"sm",variant:"ghost",onClick:()=>l(_),className:"h-8 w-8 p-0",children:s.jsx(vs,{className:"w-3 h-3"})}),s.jsx(_e,{size:"sm",variant:"ghost",onClick:()=>d(_),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:s.jsx(Wn,{className:"w-3 h-3"})})]})]})]},_.id)),w.length>5&&!m&&s.jsxs(_e,{variant:"ghost",size:"sm",onClick:()=>g(!0),className:"w-full text-xs text-orange-600 hover:text-orange-700 mt-1",children:["Load ",w.length-5," more entries"]}),m&&w.length>5&&s.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>g(!1),className:"w-full text-xs text-orange-600 hover:text-orange-700 mt-1",children:"Show less"})]})]}),e.length===0&&E===0&&s.jsxs("div",{className:"text-center py-4 text-slate-500",children:[s.jsx(Kr,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No time entries found for this project"})]})]})]}),a&&s.jsx(x9,{isOpen:!0,onClose:y,timeEntry:a}),c&&s.jsx(R9,{isOpen:!0,onClose:x,timeEntry:c})]})},jT=({isOpen:e,onClose:t,onAdd:r,project:n})=>{const[i,a]=N.useState(""),[l,c]=N.useState(""),[d,h]=N.useState(""),[f,m]=N.useState("pending"),[g,y]=N.useState(0),[x,v]=N.useState(8),b=w=>{w.preventDefault(),!(!i||!d)&&(r({projectId:n.id,title:i,description:l||void 0,targetDate:d,status:f,amount:g>0?g:void 0,currency:"USD",estimatedHours:x>0?x:void 0}),a(""),c(""),h(""),m("pending"),y(0),v(8),t())};return s.jsx(mr,{open:e,onOpenChange:t,children:s.jsxs(lr,{className:"sm:max-w-md",children:[s.jsxs(cr,{children:[s.jsxs(ur,{className:"flex items-center",children:[s.jsx(Bd,{className:"w-5 h-5 mr-2"}),"Add Milestone for ",n.name]}),s.jsx(di,{children:"Create a new milestone to track progress on this project."})]}),s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"title",children:"Milestone Title"}),s.jsx(De,{id:"title",value:i,onChange:w=>a(w.target.value),placeholder:"Enter milestone title",required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"description",children:"Description (Optional)"}),s.jsx(Qt,{id:"description",value:l,onChange:w=>c(w.target.value),placeholder:"Describe the milestone",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"targetDate",children:"Target Date"}),s.jsx(De,{id:"targetDate",type:"date",value:d,onChange:w=>h(w.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"status",children:"Status"}),s.jsxs(mt,{value:f,onValueChange:w=>m(w),children:[s.jsx(ft,{children:s.jsx(gt,{})}),s.jsxs(pt,{children:[s.jsx(Me,{value:"pending",children:"Pending"}),s.jsx(Me,{value:"in-progress",children:"In Progress"}),s.jsx(Me,{value:"completed",children:"Completed"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"amount",children:"Amount ($)"}),s.jsx(De,{id:"amount",type:"number",step:"0.01",value:g,onChange:w=>y(parseFloat(w.target.value)||0),placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"estimatedHours",children:"Estimated Hours"}),s.jsx(De,{id:"estimatedHours",type:"number",step:"0.5",value:x,onChange:w=>v(parseFloat(w.target.value)||0),placeholder:"0"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(_e,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),s.jsxs(_e,{type:"submit",className:"bg-yellow-500 hover:bg-neutral-950 text-neutral-950 hover:text-yellow-500 transition-colors",children:[s.jsx(Ud,{className:"w-4 h-4 mr-2"}),"Add Milestone"]})]})]})]})})},O9=({project:e,client:t,milestones:r,tasks:n,onAddMilestone:i})=>{const[a,l]=N.useState(!1),[c,d]=N.useState(!1),{hourEntries:h}=Jn(),{displayCurrency:f}=wt(),[m,g]=N.useState(0),y=e.useMilestones!==!1,x=e.status==="active",v=e.pricingType==="fixed",b=h.filter(S=>S.projectId===e.id);N.useEffect(()=>{const S=()=>{g(P=>P+1)};return window.addEventListener("currencyChanged",S),()=>{window.removeEventListener("currencyChanged",S)}},[]);const w=()=>e.pricingType==="daily"?"Log Days":"Log Hours",E=()=>{l(!1),d(!0)},_=S=>{i&&i(S),d(!1),l(!0)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:v?"Progress & Revenue Tracking":"Time Tracking"}),t&&s.jsxs("div",{className:"flex items-center gap-2",children:[!v&&s.jsxs(_e,{onClick:()=>x&&l(!0),className:"bg-yellow-500 hover:bg-neutral-950 text-neutral-950 hover:text-yellow-500 transition-colors",disabled:!x,children:[s.jsx(Kr,{className:"w-4 h-4 mr-2"}),w()]}),v&&r.length===0&&s.jsx("div",{className:"text-sm text-slate-500",children:"Add milestones to track project progress and revenue"})]})]}),s.jsx(s9,{project:e,client:t,milestones:r,tasks:n||[]},`billed-hours-${f}-${m}`),y&&b.length>0&&s.jsx(D9,{milestones:r,hourEntries:b,onAddTimeEntry:t&&x?()=>l(!0):void 0})]}),t&&s.jsxs(s.Fragment,{children:[s.jsx(c9,{isOpen:a,onClose:()=>l(!1),project:e,client:t,milestones:r,tasks:n||[],onCreateMilestone:E}),s.jsx(jT,{isOpen:c,onClose:()=>d(!1),onAdd:_,project:e})]})]})},I9=({isOpen:e,onClose:t,onUpdate:r,milestone:n})=>{const[i,a]=N.useState({title:n.title,description:n.description||"",targetDate:n.targetDate,status:n.status,amount:n.amount||0,currency:n.currency||"USD",completionPercentage:n.completionPercentage,estimatedHours:n.estimatedHours||8}),l=c=>{c.preventDefault(),r(n.id,i),t()};return s.jsx(mr,{open:e,onOpenChange:t,children:s.jsxs(lr,{className:"sm:max-w-[500px]",children:[s.jsxs(cr,{children:[s.jsx(ur,{children:"Edit Milestone"}),s.jsx(di,{children:"Update the milestone details and status."})]}),s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"title",children:"Title"}),s.jsx(De,{id:"title",value:i.title,onChange:c=>a({...i,title:c.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"description",children:"Description"}),s.jsx(Qt,{id:"description",value:i.description,onChange:c=>a({...i,description:c.target.value}),placeholder:"Milestone description..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"targetDate",children:"Target Date"}),s.jsx(De,{id:"targetDate",type:"date",value:i.targetDate,onChange:c=>a({...i,targetDate:c.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"status",children:"Status"}),s.jsxs(mt,{value:i.status,onValueChange:c=>a({...i,status:c}),children:[s.jsx(ft,{children:s.jsx(gt,{})}),s.jsxs(pt,{children:[s.jsx(Me,{value:"pending",children:"Pending"}),s.jsx(Me,{value:"in-progress",children:"In Progress"}),s.jsx(Me,{value:"completed",children:"Completed"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"amount",children:"Amount"}),s.jsx(De,{id:"amount",type:"number",step:"0.01",value:i.amount,onChange:c=>a({...i,amount:parseFloat(c.target.value)||0})})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"currency",children:"Currency"}),s.jsxs(mt,{value:i.currency,onValueChange:c=>a({...i,currency:c}),children:[s.jsx(ft,{children:s.jsx(gt,{})}),s.jsxs(pt,{children:[s.jsx(Me,{value:"USD",children:"USD"}),s.jsx(Me,{value:"EUR",children:"EUR"}),s.jsx(Me,{value:"GBP",children:"GBP"})]})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"estimatedHours",children:"Est. Hours"}),s.jsx(De,{id:"estimatedHours",type:"number",step:"0.5",value:i.estimatedHours,onChange:c=>a({...i,estimatedHours:parseFloat(c.target.value)||0})})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"completion",children:"Completion %"}),s.jsx(De,{id:"completion",type:"number",min:"0",max:"100",value:i.completionPercentage,onChange:c=>a({...i,completionPercentage:parseInt(c.target.value)||0})})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(_e,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),s.jsx(_e,{type:"submit",children:"Update Milestone"})]})]})]})})},M9=({milestone:e,onEdit:t,onDelete:r,onView:n})=>s.jsx("div",{className:"border rounded-lg p-4 cursor-pointer hover:bg-slate-50",onClick:()=>n&&n(e),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 mr-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("h4",{className:"font-medium",children:e.title}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${e.status==="completed"?"bg-green-100 text-green-800":e.status==="in-progress"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:e.status.replace("-"," ")})]}),s.jsx("p",{className:"text-sm text-slate-600 mb-1 line-clamp-2",children:e.description}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-500",children:[s.jsxs("span",{children:["Due: ",pd(e.targetDate)]}),e.amount&&s.jsxs("span",{children:["Value: $",e.amount.toLocaleString()]}),s.jsxs("span",{children:[e.completionPercentage,"% complete"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",onClick:i=>i.stopPropagation(),children:[s.jsx(_e,{size:"sm",variant:"outline",onClick:()=>t(e),children:s.jsx(vs,{className:"w-4 h-4"})}),s.jsx(_e,{size:"sm",variant:"outline",onClick:()=>r(e.id),className:"text-red-600 hover:text-red-700",children:s.jsx(Wn,{className:"w-4 h-4"})})]})]})}),F9=({milestones:e,onAddMilestone:t,onEditMilestone:r,onDeleteMilestone:n,onViewMilestone:i,canAdd:a=!0})=>e.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-slate-500 mb-4",children:"No milestones yet for this project"}),s.jsxs(_e,{onClick:t,className:"bg-yellow-500 hover:bg-neutral-950 text-neutral-950 hover:text-yellow-500 transition-colors",disabled:!a,children:[s.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add First Milestone"]})]}):s.jsx("div",{className:"space-y-4",children:e.map(l=>s.jsx(M9,{milestone:l,onEdit:r,onDelete:n,onView:i},l.id))}),L9=({milestone:e,isOpen:t,onClose:r})=>{if(!e)return null;const n=i=>{switch(i){case"completed":return"bg-green-100 text-green-800 border-green-200 hover:bg-green-100";case"in-progress":return"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-100";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200 hover:bg-yellow-100";default:return"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-100"}};return s.jsx(sc,{open:t,onOpenChange:r,children:s.jsxs(yo,{className:"w-[400px] sm:w-[540px] overflow-y-auto",children:[s.jsxs(ic,{children:[s.jsx("div",{className:"mb-2",children:s.jsx(at,{className:n(e.status),children:e.status.replace("-"," ")})}),s.jsx(ac,{children:e.title}),s.jsx(ny,{children:"Milestone details and information"})]}),s.jsxs("div",{className:"mt-6 space-y-6",children:[e.description&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-700",children:"Description"}),s.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:e.description})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"text-sm font-medium text-slate-700 flex items-center",children:[s.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Dates"]}),s.jsx("div",{className:"text-sm text-slate-600 ml-6",children:s.jsxs("div",{children:["Target date: ",new Date(e.targetDate).toLocaleDateString()]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"text-sm font-medium text-slate-700 flex items-center",children:[s.jsx(Bd,{className:"w-4 h-4 mr-2"}),"Progress"]}),s.jsxs("div",{className:"text-sm text-slate-600 ml-6",children:[s.jsxs("div",{children:["Completion: ",e.completionPercentage,"%"]}),typeof e.estimatedHours=="number"&&s.jsxs("div",{children:["Estimated hours: ",e.estimatedHours]}),typeof e.amount=="number"&&s.jsxs("div",{children:["Amount: ",e.amount.toLocaleString()," ",e.currency||"USD"]})]})]})]})]})})},U9=({project:e,client:t,milestones:r,onAddMilestone:n,onUpdateMilestone:i,onDeleteMilestone:a})=>{const[l,c]=N.useState(!1),[d,h]=N.useState(null),[f,m]=N.useState(null),g=e.status==="active",y=e.pricingType==="fixed";return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:y?"Project Milestones":"Milestones"}),s.jsxs("div",{className:"flex items-center gap-3",children:[!g&&s.jsx("span",{className:"text-sm text-slate-500",children:"Project is inactive"}),s.jsxs(_e,{onClick:()=>c(!0),className:"bg-yellow-500 hover:bg-neutral-950 text-neutral-950 hover:text-yellow-500 transition-colors",disabled:!g,children:[s.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Milestone"]})]})]}),s.jsx(Qe,{children:s.jsx(Je,{className:"p-6",children:s.jsx(F9,{milestones:r,onAddMilestone:()=>c(!0),onEditMilestone:h,onDeleteMilestone:a,onViewMilestone:m,canAdd:g})})}),s.jsx(jT,{isOpen:l,onClose:()=>c(!1),onAdd:n,project:e}),d&&s.jsx(I9,{isOpen:!0,onClose:()=>h(null),onUpdate:i,milestone:d}),s.jsx(L9,{milestone:f,isOpen:!!f,onClose:()=>m(null)})]})},B9=({isOpen:e,onClose:t,onAdd:r,projectId:n,clientId:i,clientName:a,useMilestonesEnabled:l=!0})=>{const{milestones:c}=jo(),{isAdmin:d}=pr(),[h,f]=N.useState({title:"",description:"",estimatedHours:"",milestoneId:"",notes:"",startDate:"",endDate:"",urgent:!1}),m=c.filter(v=>v.projectId===n&&v.status==="in-progress"),g=!d&&l&&m.length>0,y=v=>{if(v.preventDefault(),g&&(!h.milestoneId||h.milestoneId==="none")){El.error("Please select a milestone - it is required for this project");return}const b={title:h.title,description:h.description,clientId:i,clientName:a,projectId:n,milestoneId:h.milestoneId==="none"?void 0:h.milestoneId||void 0,estimatedHours:h.estimatedHours?parseInt(h.estimatedHours):void 0,notes:h.notes,assets:[],startDate:h.startDate||void 0,endDate:h.endDate||void 0,urgent:h.urgent};r(b),f({title:"",description:"",estimatedHours:"",milestoneId:"",notes:"",startDate:"",endDate:"",urgent:!1}),t()},x=(v,b)=>{f(w=>({...w,[v]:b}))};return s.jsx(mr,{open:e,onOpenChange:t,children:s.jsxs(lr,{className:"max-w-md",children:[s.jsx(cr,{children:s.jsx(ur,{children:"Add Task to Project"})}),s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"title",children:"Task Title"}),s.jsx(De,{id:"title",value:h.title,onChange:v=>x("title",v.target.value),placeholder:"Enter task title",required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"description",children:"Description"}),s.jsx(Qt,{id:"description",value:h.description,onChange:v=>x("description",v.target.value),placeholder:"Task description...",rows:3})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"estimatedHours",children:"Estimated Hours"}),s.jsx(De,{id:"estimatedHours",type:"number",value:h.estimatedHours,onChange:v=>x("estimatedHours",v.target.value),placeholder:"Enter estimated hours",min:"1"})]}),s.jsxs("div",{children:[s.jsxs(we,{htmlFor:"milestone",children:["Milestone ",g?"*":""]}),s.jsxs(mt,{value:h.milestoneId,onValueChange:v=>x("milestoneId",v),children:[s.jsx(ft,{children:s.jsx(gt,{placeholder:m.length===0?"No in-progress milestones available":g?"Select a milestone (required)":"Select a milestone (optional)"})}),s.jsxs(pt,{children:[!g&&s.jsx(Me,{value:"none",children:"No milestone"}),m.map(v=>s.jsx(Me,{value:v.id,children:v.title},v.id))]})]}),g&&s.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Milestone selection is required for standard users."}),m.length===0&&s.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"No in-progress milestones found. Consider creating or activating a milestone for better time tracking."})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(we,{htmlFor:"urgent",className:"text-sm font-medium",children:"Mark as Urgent"}),s.jsx(Tn,{id:"urgent",checked:h.urgent,onCheckedChange:v=>f(b=>({...b,urgent:v}))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"startDate",children:"Start Date"}),s.jsx(De,{id:"startDate",type:"date",value:h.startDate,onChange:v=>x("startDate",v.target.value)})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"endDate",children:"End Date"}),s.jsx(De,{id:"endDate",type:"date",value:h.endDate,onChange:v=>x("endDate",v.target.value)})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"notes",children:"Notes"}),s.jsx(Qt,{id:"notes",value:h.notes,onChange:v=>x("notes",v.target.value),placeholder:"Additional notes...",rows:2})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(_e,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),s.jsx(_e,{type:"submit",className:"bg-yellow-500 hover:bg-neutral-950 text-neutral-950 hover:text-yellow-500 transition-colors",children:"Add Task"})]})]})]})})},$9=({project:e,client:t,tasks:r,onAddTask:n})=>{const[i,a]=N.useState(!1),l=e.status==="active",[c,d]=N.useState(null);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Tasks"}),s.jsxs("div",{className:"flex items-center gap-3",children:[!l&&s.jsx("span",{className:"text-sm text-slate-500",children:"Project is inactive"}),s.jsxs(_e,{onClick:()=>a(!0),className:"bg-yellow-500 hover:bg-neutral-950 text-neutral-950 hover:text-yellow-500 transition-colors",disabled:!l,children:[s.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Task"]})]})]}),s.jsx(Qe,{children:s.jsx(Je,{className:"p-6",children:r.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-slate-500 mb-4",children:"No tasks yet for this project"}),s.jsxs(_e,{onClick:()=>a(!0),className:"bg-yellow-500 hover:bg-neutral-950 text-neutral-950 hover:text-yellow-500 transition-colors",disabled:!l,children:[s.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add First Task"]})]}):s.jsx("div",{className:"space-y-4",children:r.map(h=>s.jsx("div",{className:"border rounded-lg p-4 cursor-pointer hover:bg-slate-50",onClick:()=>d(h),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[h.urgent&&s.jsx("div",{className:"mb-1",children:s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-red-100 text-red-800",children:"Urgent"})}),s.jsx("h4",{className:"font-medium",children:h.title}),h.description&&s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:h.description}),h.workedHours&&h.workedHours>0&&s.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[h.workedHours,"h worked"]})]}),s.jsx("div",{className:"text-right ml-4",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${h.status==="completed"?"bg-green-100 text-green-800":h.status==="in-progress"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:h.status.replace("-"," ")})})]})},h.id))})})}),s.jsx(B9,{isOpen:i,onClose:()=>a(!1),onAdd:n,projectId:e.id,clientId:t?.id||0,clientName:t?.name||"",useMilestonesEnabled:e.useMilestones}),s.jsx(Nk,{task:c,isOpen:!!c,onClose:()=>d(null),projects:[{id:e.id,name:e.name}]})]})},z9=({project:e,client:t,tasks:r,milestones:n,onAddTask:i,onAddMilestone:a,onUpdateMilestone:l,onDeleteMilestone:c})=>s.jsxs("div",{className:"space-y-6",children:[s.jsx(O9,{project:e,client:t,milestones:n,tasks:r,onAddMilestone:a}),e.useMilestones!==!1&&s.jsx(U9,{project:e,client:t,milestones:n,onAddMilestone:a,onUpdateMilestone:l,onDeleteMilestone:c}),s.jsx($9,{project:e,client:t,tasks:r,onAddTask:i})]}),H9=({project:e,client:t,onUpdateProject:r})=>{const[n,i]=N.useState({name:"",title:"",notes:""}),[a,l]=N.useState(!1);!e.team||e.team.length===0||e.team.map(m=>typeof m=="string"?{name:m,title:"",notes:""}:m);const d=()=>{if(n.name.trim()){const m=[...e.team||[],JSON.stringify(n)];r(e.id,{...e,team:m}),i({name:"",title:"",notes:""}),l(!1)}},h=m=>{const g=(e.team||[]).filter((y,x)=>x!==m);r(e.id,{...e,team:g})},f=m=>{if(typeof m=="string")try{const g=JSON.parse(m);return{name:g.name||m,title:g.title||"",notes:g.notes||""}}catch{return{name:m,title:"",notes:""}}return m};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Qe,{children:[s.jsx(dt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ht,{className:"flex items-center",children:[s.jsx(qn,{className:"w-5 h-5 mr-2"}),"Team Members (",e.team?.length||0,")"]}),s.jsxs(_e,{onClick:()=>l(!a),size:"sm",className:"bg-yellow-500 hover:bg-neutral-950 text-neutral-950 hover:text-yellow-500 transition-colors",children:[s.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Member"]})]})}),s.jsxs(Je,{children:[a&&s.jsxs("div",{className:"space-y-3 mb-4 p-4 border rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Name *"}),s.jsx(De,{placeholder:"Team member name",value:n.name,onChange:m=>i({...n,name:m.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Title"}),s.jsx(De,{placeholder:"Job title (e.g., Developer)",value:n.title,onChange:m=>i({...n,title:m.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Notes"}),s.jsx(De,{placeholder:"Additional notes",value:n.notes,onChange:m=>i({...n,notes:m.target.value}),onKeyPress:m=>m.key==="Enter"&&d()})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(_e,{onClick:d,size:"sm",children:"Add Member"}),s.jsx(_e,{onClick:()=>l(!1),variant:"outline",size:"sm",children:"Cancel"})]})]}),e.team&&e.team.length>0?s.jsx("div",{className:"space-y-3",children:e.team.map((m,g)=>{const y=f(m);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(US,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:y.name}),y.title&&s.jsx("p",{className:"text-sm text-slate-600",children:y.title}),y.notes&&s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:y.notes})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{variant:"secondary",children:"Active"}),s.jsx(_e,{onClick:()=>h(g),variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:s.jsx(Wn,{className:"w-4 h-4"})})]})]},g)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(qn,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-slate-600 mb-2",children:"No team members yet"}),s.jsx("p",{className:"text-slate-500 mb-4",children:"Add team members to start collaborating on this project"})]})]})]}),s.jsxs(Qe,{children:[s.jsx(dt,{children:s.jsx(ht,{children:"Team Activity"})}),s.jsx(Je,{children:s.jsx("p",{className:"text-slate-500 text-center py-8",children:"No recent team activity"})})]})]})},W9=({project:e,budgetMetrics:t,displayCurrency:r})=>{const{demoMode:n}=wt(),i=e.pricingType==="fixed",a=(l,c=!1)=>{if(n&&c)return"";const d=Math.round(l);if(d>=1e3){const h=(d/1e3).toFixed(2).replace(/\.?0+$/,"");return c?`${r==="RON"?"RON ":r==="EUR"?"":"$"}${h}K`:`${h}K`}return c?`${r==="RON"?"RON ":r==="EUR"?"":"$"}${d}`:d.toString()};return s.jsx(Js,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${i?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:i?"Fixed Price Project":"Hourly Project"}),i&&s.jsxs("span",{className:"text-sm text-slate-600",children:["Budget: ",n?"":xt(t.totalBudget,r)]}),!i&&s.jsxs("span",{className:"text-sm text-slate-600",children:["Rate: ",n?"":xt(e.hourlyRate||0,r),"/hr"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center p-4 rounded-lg bg-slate-50",children:[s.jsxs(ir,{children:[s.jsx(ar,{asChild:!0,children:s.jsx("p",{className:"text-zinc-950 text-4xl font-normal cursor-help",children:a(t.totalBudget,!0)})}),s.jsx(Xt,{children:s.jsx("p",{children:n?"":xt(t.totalBudget,r)})})]}),s.jsx("p",{className:"text-slate-600 py-[24px] text-base",children:"Total Budget"})]}),s.jsxs("div",{className:"text-center p-4 rounded-lg bg-slate-50",children:[s.jsxs(ir,{children:[s.jsx(ar,{asChild:!0,children:s.jsx("p",{className:`text-4xl font-normal cursor-help ${t.budgetProgress>100?"text-red-600":"text-zinc-950"}`,children:n?"":`${t.budgetProgress.toFixed(1)}%`})}),s.jsxs(Xt,{children:[s.jsx("p",{children:n?"":`${t.budgetProgress.toFixed(1)}% of budget used`}),t.budgetProgress>100&&!n&&s.jsxs("p",{className:"text-red-600",children:["Over budget by ",(t.budgetProgress-100).toFixed(1),"%"]})]})]}),s.jsx("p",{className:"text-slate-600 py-[24px] text-base",children:"Budget Used"})]})]})]})})},q9=({budgetMetrics:e,averageCompletion:t})=>{const{demoMode:r}=wt();return s.jsxs(Qe,{children:[s.jsx(dt,{children:s.jsx(ht,{children:"Progress vs Revenue"})}),s.jsxs(Je,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Milestone Completion"}),s.jsx("span",{className:"text-sm text-slate-600",children:r?"":`${t.toFixed(1)}%`})]}),s.jsx(Rl,{value:r?0:Math.min(t,100),className:"h-3"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Revenue Progress"}),s.jsx("span",{className:"text-sm text-slate-600",children:r?"":`${e.revenueProgress.toFixed(1)}%`})]}),s.jsx(Rl,{value:r?0:Math.min(e.revenueProgress,100),className:"h-3"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Budget Usage"}),s.jsx("span",{className:`text-sm ${e.budgetProgress>100&&!r?"text-red-600 font-semibold":"text-slate-600"}`,children:r?"":`${e.budgetProgress.toFixed(1)}%`})]}),s.jsx(Rl,{value:r?0:Math.min(e.budgetProgress,100),className:`h-3 ${e.budgetProgress>100&&!r?"[&>div]:bg-red-500":""}`}),e.budgetProgress>100&&!r&&s.jsx("div",{className:"mt-1",children:s.jsxs("span",{className:"text-xs text-red-600",children:["Over budget by ",(e.budgetProgress-100).toFixed(1),"%"]})})]}),e.budgetProgress>t+15&&!r&&s.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-yellow-800",children:" Budget usage is significantly ahead of milestone completion. Review project scope or budget allocation."})}),e.revenueProgress<t-20&&!r&&s.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-blue-800",children:" Consider invoicing for completed milestones to improve cash flow."})})]})]})},V9=({project:e,projectMilestones:t,projectInvoices:r,displayCurrency:n,convert:i})=>{const{demoMode:a}=wt(),l=(c,d=!1)=>{if(a&&d)return"";const h=Math.round(c);if(h>=1e3){const f=(h/1e3).toFixed(2).replace(/\.?0+$/,"");return d?`${n==="RON"?"RON ":n==="EUR"?"":"$"}${f}K`:`${f}K`}return d?`${n==="RON"?"RON ":n==="EUR"?"":"$"}${h}`:h.toString()};return s.jsxs(Qe,{children:[s.jsx(dt,{children:s.jsx(ht,{children:"Milestone Financial Status"})}),s.jsx(Je,{children:t.length>0?s.jsx(Js,{children:s.jsx("div",{className:"space-y-3",children:t.map(c=>{const d=a?0:i(c.amount||0,e.currency,n);return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h4",{className:"font-medium",children:c.title}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${c.status==="completed"?"bg-green-100 text-green-800":c.status==="in-progress"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:c.status})]}),s.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[s.jsxs("p",{className:"text-sm text-slate-600",children:["Due: ",new Date(c.targetDate).toLocaleDateString()]}),s.jsxs("p",{className:"text-sm text-slate-600",children:[a?"":`${c.completionPercentage}%`," complete"]})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs(ir,{children:[s.jsx(ar,{asChild:!0,children:s.jsx("p",{className:"font-medium cursor-help",children:l(d,!0)})}),s.jsx(Xt,{children:s.jsx("p",{children:a?"":xt(d,n)})})]})})]},c.id)})})}):s.jsx("p",{className:"text-slate-500 text-center py-4",children:"No milestones to analyze"})})]})},K9=({project:e,tasks:t,totalActualHours:r,totalInvoiceAmount:n,budgetMetrics:i,displayCurrency:a,convert:l,client:c})=>{const{demoMode:d}=wt(),h=e.pricingType==="fixed",f=t.reduce((m,g)=>m+(g.estimatedHours||0),0);return h?c?.price:e.hourlyRate,s.jsxs(Qe,{children:[s.jsx(dt,{children:s.jsx(ht,{children:"Time Investment Analysis"})}),s.jsx(Je,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-lg",children:[s.jsx("span",{className:"font-medium",children:"Total Hours Worked"}),s.jsx("span",{className:"font-bold",children:d?"":`${r}h`})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-lg",children:[s.jsx("span",{className:"font-medium",children:"Effective Hourly Rate"}),s.jsx("span",{className:"font-bold",children:d?"":`${xt(r>0?i.revenueEarned/r:0,a)}/hr`})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-lg",children:[s.jsx("span",{className:"font-medium",children:"Revenue per Hour"}),s.jsx("span",{className:"font-bold",children:d?"":`${xt(r>0?n/r:0,a)}/hr`})]}),h&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"font-medium",children:"Target Hourly Rate"}),s.jsx("span",{className:"font-bold",children:d?"":`${xt(f>0?i.totalBudget/f:0,a)}/hr`})]})]})})]})},G9=({project:e,client:t,tasks:r,milestones:n})=>{const{invoices:i}=Xk(),{hourEntries:a}=Jn(),{displayCurrency:l,convert:c,demoMode:d}=wt(),h=e.pricingType==="fixed",f=n.filter(U=>U.projectId===e.id),m=i.filter(U=>U.projectId===e.id),y=a.filter(U=>U.projectId===e.id).reduce((U,F)=>U+F.hours,0);if(e.useMilestones!==!1&&f.length===0)return s.jsx("div",{className:"space-y-6",children:s.jsx(Qe,{children:s.jsx(Je,{className:"p-6 text-center text-slate-600",children:s.jsx("div",{className:"max-w-xl mx-auto",children:s.jsx("p",{className:"text-base",children:"No milestones found for this project. Add milestones to enable budget tracking and revenue insights."})})})})});const x=d?0:f.reduce((U,F)=>{const ee=F.amount||0,me=c(ee,e.currency,l);return U+me},0),v=d?0:m.reduce((U,F)=>{const ee=c(F.amount,F.currency,l);return U+ee},0),b=m.filter(U=>U.status==="paid"),w=d?0:b.reduce((U,F)=>{const ee=c(F.amount,F.currency,l);return U+ee},0),E=f.filter(U=>U.status==="completed").length;f.length>0&&E/f.length*100;const _=d?0:f.length>0?f.reduce((U,F)=>U+F.completionPercentage,0)/f.length:0,S=r.reduce((U,F)=>U+(F.estimatedHours||0),0),P=y||r.reduce((U,F)=>U+(F.actualHours||0),0),B=h?t?.price||0:e.hourlyRate||0;let L;if(h){const U=d?0:c(e.fixedPrice||x,e.currency,l),F=d?0:P*c(B,e.currency,l);let ee=0;U>0&&!d&&(ee=F/U*100),L={totalBudget:U,spentAmount:F,remainingBudget:U-F,budgetProgress:ee,revenueEarned:w,revenueProgress:U>0&&!d?w/U*100:0}}else{const U=d?0:(e.estimatedHours||S)*c(B,e.currency,l),F=d?0:P*c(B,e.currency,l);let ee=0;U>0&&!d&&(ee=F/U*100),L={totalBudget:U,spentAmount:F,remainingBudget:U-F,budgetProgress:ee,revenueEarned:w,revenueProgress:U>0&&!d?w/U*100:0}}return s.jsxs("div",{className:"space-y-6",children:[s.jsx(W9,{project:e,budgetMetrics:L,displayCurrency:l}),s.jsx(q9,{budgetMetrics:L,averageCompletion:_}),s.jsx(V9,{project:e,projectMilestones:f,projectInvoices:m,displayCurrency:l,convert:c}),s.jsx(K9,{project:e,tasks:r,totalActualHours:P,totalInvoiceAmount:v,budgetMetrics:L,displayCurrency:l,convert:c,client:t})]})},Y9=({project:e})=>{const t=()=>{console.log("Export to PDF")},r=()=>{console.log("Export to Excel")},n=()=>{console.log("Export summary")};return s.jsxs(Qe,{children:[s.jsx(dt,{children:s.jsxs(ht,{className:"flex items-center",children:[s.jsx(FS,{className:"w-5 h-5 mr-2"}),"Export Options"]})}),s.jsxs(Je,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(_e,{onClick:t,variant:"outline",className:"h-auto p-4 flex-col",children:[s.jsx(Hn,{className:"w-8 h-8 mb-2"}),s.jsx("span",{className:"font-medium",children:"Export to PDF"}),s.jsx("span",{className:"text-sm text-slate-600",children:"Complete project report"})]}),s.jsxs(_e,{onClick:r,variant:"outline",className:"h-auto p-4 flex-col",children:[s.jsx(xD,{className:"w-8 h-8 mb-2"}),s.jsx("span",{className:"font-medium",children:"Export to Excel"}),s.jsx("span",{className:"text-sm text-slate-600",children:"Task and time data"})]}),s.jsxs(_e,{onClick:n,variant:"outline",className:"h-auto p-4 flex-col",children:[s.jsx(yD,{className:"w-8 h-8 mb-2"}),s.jsx("span",{className:"font-medium",children:"Project Summary"}),s.jsx("span",{className:"text-sm text-slate-600",children:"Quick overview document"})]})]}),s.jsxs("div",{className:"mt-6 p-4 bg-slate-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Export Options"}),s.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[s.jsx("li",{children:" PDF report includes project details, tasks, timeline, and budget information"}),s.jsx("li",{children:" Excel export contains detailed task data and time tracking information"}),s.jsx("li",{children:" Summary document provides a quick project overview for stakeholders"})]})]})]})]})},X9=({project:e,onUpdateProject:t,onArchiveProject:r,onDeleteProject:n})=>{const i=ii(),[a,l]=N.useState({name:e.name,status:e.status,notes:e.notes||"",startDate:e.startDate,estimatedEndDate:e.estimatedEndDate,endDate:e.endDate||""}),c=()=>{t(e.id,{...e,...a})},d=()=>{r(e.id)},h=()=>{n(e.id),i("/projects")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Qe,{children:[s.jsx(dt,{children:s.jsx(ht,{children:"Project Configuration"})}),s.jsxs(Je,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"project-name",children:"Project Name"}),s.jsx(De,{id:"project-name",value:a.name,onChange:f=>l({...a,name:f.target.value})})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"project-status",children:"Status"}),s.jsxs(mt,{value:a.status,onValueChange:f=>l({...a,status:f}),children:[s.jsx(ft,{children:s.jsx(gt,{})}),s.jsxs(pt,{children:[s.jsx(Me,{value:"active",children:"Active"}),s.jsx(Me,{value:"paused",children:"Paused"}),s.jsx(Me,{value:"completed",children:"Completed"}),s.jsx(Me,{value:"canceled",children:"Canceled"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"start-date",children:"Start Date"}),s.jsx(De,{id:"start-date",type:"date",value:a.startDate,onChange:f=>l({...a,startDate:f.target.value})})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"estimated-end-date",children:"Estimated End Date"}),s.jsx(De,{id:"estimated-end-date",type:"date",value:a.estimatedEndDate,onChange:f=>l({...a,estimatedEndDate:f.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"project-notes",children:"Notes"}),s.jsx(Qt,{id:"project-notes",value:a.notes,onChange:f=>l({...a,notes:f.target.value}),rows:4})]}),s.jsx(_e,{onClick:c,className:"bg-yellow-500 hover:bg-neutral-950 text-neutral-950 hover:text-yellow-500 transition-colors",children:"Save Changes"})]})]}),s.jsx(Y9,{project:e}),s.jsxs(Qe,{className:"border-red-200",children:[s.jsx(dt,{children:s.jsx(ht,{className:"text-red-600",children:"Danger Zone"})}),s.jsxs(Je,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border border-yellow-200 rounded-lg bg-yellow-50",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Archive Project"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Archive this project to hide it from active projects list"})]}),s.jsxs(Vl,{children:[s.jsx(Cd,{asChild:!0,children:s.jsxs(_e,{variant:"outline",className:"border-yellow-600 text-yellow-600",children:[s.jsx(OS,{className:"w-4 h-4 mr-2"}),"Archive"]})}),s.jsxs(Ja,{children:[s.jsxs(Za,{children:[s.jsx(to,{children:"Archive Project"}),s.jsx(ro,{children:'Are you sure you want to archive this project? You can still access it by toggling "Show Archived" on the projects page.'})]}),s.jsxs(eo,{children:[s.jsx(so,{children:"Cancel"}),s.jsx(no,{onClick:d,children:"Archive"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-red-200 rounded-lg bg-red-50",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-red-600",children:"Delete Project"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Permanently delete this project and all associated data (tasks, milestones, etc.)"})]}),s.jsxs(Vl,{children:[s.jsx(Cd,{asChild:!0,children:s.jsxs(_e,{variant:"destructive",children:[s.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Delete"]})}),s.jsxs(Ja,{children:[s.jsxs(Za,{children:[s.jsx(to,{children:"Delete Project"}),s.jsxs(ro,{children:['This action cannot be undone. This will permanently delete the project "',e.name,'" and all associated tasks, milestones, and data.']})]}),s.jsxs(eo,{children:[s.jsx(so,{children:"Cancel"}),s.jsx(no,{onClick:h,className:"bg-red-600 hover:bg-red-700",children:"Delete Project"})]})]})]})]})]})]})]})},Q9=()=>{const{id:e}=Gj(),t=ii(),[r,n]=N.useState("overview"),[i,a]=N.useState(0),[l,c]=N.useState(null),{displayCurrency:d}=wt(),{projects:h,updateProject:f,archiveProject:m,deleteProject:g}=vc(),{clients:y}=Yi(),{refreshHourEntries:x}=Jn(),v=()=>{a(A=>A+1),x()},{tasks:b,addTask:w,updateTask:E,deleteTask:_,editTask:S}=uh(x,v),{milestones:P,addMilestone:B,updateMilestone:L,deleteMilestone:U}=jo(),F=h.find(A=>A.id===e),ee=y.find(A=>A.id===F?.clientId),me=b.filter(A=>A.projectId===e),z=P.filter(A=>A.projectId===e);N.useEffect(()=>{(async()=>{if(!e)return;const{data:te,error:J}=await Re.from("projects").select("*").eq("id",e).single();!J&&te&&c(te)})()},[e]);const G=F?.pricingType!=="fixed"&&F?.useMilestones!==!1;return N.useEffect(()=>{const A=()=>{a(te=>te+1)};return window.addEventListener("currencyChanged",A),()=>{window.removeEventListener("currencyChanged",A)}},[]),N.useEffect(()=>{r==="budget"&&!G&&n("overview")},[r,G]),F?s.jsx(Nn,{children:s.jsx("div",{className:"min-h-screen p-6",style:{backgroundColor:"#F3F3F2"},children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs(_e,{onClick:()=>t("/projects"),variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[s.jsx(xb,{className:"w-4 h-4"}),s.jsx("span",{children:"Back to Projects"})]})})}),s.jsx(r9,{project:F,client:ee,tasks:me,milestones:z},`header-${i}`),s.jsxs(oi,{value:r,onValueChange:n,className:"w-full",children:[s.jsxs(ws,{className:`grid w-full ${G?"grid-cols-4":"grid-cols-3"}`,children:[s.jsx(Ht,{value:"overview",children:"Overview"}),s.jsx(Ht,{value:"team",children:"Team Members"}),G&&s.jsx(Ht,{value:"budget",children:"Budget Tracking"}),s.jsx(Ht,{value:"settings",children:"Project Settings"})]}),s.jsx(or,{value:"overview",className:"mt-6",children:s.jsx(z9,{project:F,client:ee,tasks:me,milestones:z,onAddTask:w,onUpdateTask:E,onDeleteTask:_,onEditTask:S,onAddMilestone:B,onUpdateMilestone:L,onDeleteMilestone:U,onUpdateProject:f},`overview-${d}-${i}`)}),s.jsx(or,{value:"team",className:"mt-6",children:s.jsx(H9,{project:F,client:ee,onUpdateProject:f},`team-${i}`)}),G&&s.jsx(or,{value:"budget",className:"mt-6",children:s.jsx(G9,{project:F,client:ee,tasks:me,milestones:z},`budget-${d}-${i}`)}),s.jsx(or,{value:"settings",className:"mt-6",children:s.jsx(X9,{project:F,onUpdateProject:f,onArchiveProject:m,onDeleteProject:g},`settings-${i}`)})]})]})})}):s.jsx(Nn,{children:s.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",style:{backgroundColor:"#F3F3F2"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Project not found"}),s.jsxs(_e,{onClick:()=>t("/projects"),variant:"outline",children:[s.jsx(xb,{className:"w-4 h-4 mr-2"}),"Back to Projects"]})]})})})},J9=({client:e,demoMode:t})=>{const r=n=>{switch(n){case"active":return"bg-green-100 text-green-800 hover:bg-green-100";case"inactive":return"bg-red-100 text-red-800 hover:bg-red-100";case"pending":return"bg-yellow-100 text-yellow-800 hover:bg-yellow-100";default:return"bg-gray-100 text-gray-800 hover:bg-gray-100"}};return s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-1",children:e.name}),s.jsx("div",{className:"flex items-center space-x-2 mb-2",children:s.jsx(at,{className:r(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]})})},Z9=({client:e,displayCurrency:t,formatCurrency:r,onInvoiceStatusUpdate:n,formData:i,setFormData:a,newInvoice:l,setNewInvoice:c,errors:d,setErrors:h})=>{const{convert:f}=wt();if(e&&!i)return!e.invoices||e.invoices.length===0?null:s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-slate-700 mb-3 flex items-center",children:[s.jsx(LS,{className:"w-4 h-4 mr-2"}),"Invoices (",e.invoices.length,")"]}),s.jsx("div",{className:"space-y-2",children:e.invoices.map(x=>{const v=r(f(x.amount,x.currency||e.currency||"USD",t),t);return s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-slate-800",children:v}),s.jsx("div",{className:"text-sm text-slate-600",children:new Date(x.date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("select",{className:`text-xs px-2 py-1 rounded border ${x.status==="paid"?"bg-green-50 text-green-700 border-green-200":x.status==="overdue"?"bg-red-50 text-red-700 border-red-200":"bg-yellow-50 text-yellow-700 border-yellow-200"}`,value:x.status,onChange:b=>{n&&n(x.id,b.target.value)},children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"overdue",children:"Overdue"})]}),x.url&&s.jsx("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600",children:s.jsx(Fd,{className:"w-3 h-3"})})]})]},x.id)})})]});if(!i||!a||!l||!c)return null;const m=()=>{if(l.amount&&l.date){if(isNaN(parseFloat(l.amount))||parseFloat(l.amount)<=0){h({...d,invoiceAmount:"Please enter a valid amount"});return}a({...i,invoices:[...i.invoices,{...l,id:Date.now(),amount:parseFloat(l.amount)}]}),c({amount:"",date:"",status:"pending",url:"",currency:i?.currency||"USD"});const x={...d};delete x.invoiceAmount,h(x)}},g=x=>{a({...i,invoices:i.invoices.filter((v,b)=>b!==x)})},y=(x,v)=>{const b=[...i.invoices];b[x]={...b[x],status:v},a({...i,invoices:b})};return s.jsxs("div",{children:[s.jsx(we,{children:"Invoices"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-6 gap-2",children:[s.jsx(De,{type:"number",step:"0.01",placeholder:"Amount",value:l.amount,onChange:x=>c({...l,amount:x.target.value}),className:d?.invoiceAmount?"border-red-500":""}),s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:l.currency,onChange:x=>c({...l,currency:x.target.value}),children:[s.jsx("option",{value:"USD",children:"USD"}),s.jsx("option",{value:"EUR",children:"EUR"}),s.jsx("option",{value:"RON",children:"RON"})]}),s.jsx(De,{type:"date",value:l.date,onChange:x=>c({...l,date:x.target.value})}),s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:l.status,onChange:x=>c({...l,status:x.target.value}),children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"overdue",children:"Overdue"})]}),s.jsx(De,{placeholder:"Invoice URL (optional)",value:l.url,onChange:x=>c({...l,url:x.target.value})}),s.jsx(_e,{type:"button",onClick:m,size:"sm",children:s.jsx(Tt,{className:"w-4 h-4"})})]}),d?.invoiceAmount&&s.jsx("p",{className:"text-red-500 text-sm",children:d.invoiceAmount}),i.invoices.map((x,v)=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:["$",x.amount]}),s.jsx("div",{className:"text-sm text-slate-600",children:new Date(x.date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("select",{className:"text-xs px-2 py-1 rounded border",value:x.status,onChange:b=>y(v,b.target.value),children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"overdue",children:"Overdue"})]}),s.jsx(_e,{type:"button",variant:"ghost",size:"sm",onClick:()=>g(v),children:s.jsx(Fr,{className:"w-3 h-3"})})]})]},v))]})]})},e7=({people:e})=>{const{demoMode:t}=wt();return!e||e.length===0?null:s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-slate-700 mb-3 flex items-center",children:[s.jsx(qn,{className:"w-4 h-4 mr-2"}),"Team (",e.length,")"]}),s.jsx("div",{className:"space-y-2",children:e.map((r,n)=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-slate-800",children:r.name}),s.jsx("div",{className:"text-sm text-slate-600",children:r.title})]}),s.jsxs("div",{className:"flex items-center text-slate-500",children:[s.jsx(Xl,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"text-sm",children:t?"":r.email})]})]},n))})]})},ST=({links:e,formData:t,setFormData:r,newLink:n,setNewLink:i})=>{if(e&&!t)return!e||e.length===0?null:s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-slate-700 mb-3 flex items-center",children:[s.jsx(Lv,{className:"w-4 h-4 mr-2"}),"Relevant Links (",e.length,")"]}),s.jsx("div",{className:"space-y-2",children:e.map((c,d)=>s.jsxs("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-2 bg-slate-50 rounded text-sm hover:bg-slate-100 transition-colors",children:[s.jsx(Fd,{className:"w-4 h-4 mr-2 text-slate-500"}),s.jsx("span",{className:"text-blue-600 hover:text-blue-800",children:c})]},d))})]});if(!t||!r||!n||!i)return null;const a=()=>{n.trim()&&(r({...t,links:[...t.links,n.trim()]}),i(""))},l=c=>{r({...t,links:t.links.filter((d,h)=>h!==c)})};return s.jsxs("div",{children:[s.jsx(we,{children:"Relevant Links"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(De,{placeholder:"https://example.com",value:n,onChange:c=>i(c.target.value)}),s.jsx(_e,{type:"button",onClick:a,size:"sm",children:s.jsx(Tt,{className:"w-4 h-4"})})]}),t.links.map((c,d)=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg",children:[s.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm",children:c}),s.jsx(_e,{type:"button",variant:"ghost",size:"sm",onClick:()=>l(d),children:s.jsx(Fr,{className:"w-3 h-3"})})]},d))]})]})},t7=({notes:e})=>e?s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-slate-700 mb-2 flex items-center",children:[s.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Notes"]}),s.jsx("p",{className:"text-slate-600 text-sm bg-slate-50 p-3 rounded-lg",children:e})]}):null,ET=({documents:e,formData:t,setFormData:r,newDocument:n,setNewDocument:i})=>{if(e&&!t)return!e||e.length===0?null:s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-slate-700 mb-3 flex items-center",children:[s.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Documents (",e.length,")"]}),s.jsx("div",{className:"space-y-2",children:e.map((c,d)=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Hn,{className:"w-4 h-4 text-slate-500"}),s.jsx("span",{className:"font-medium text-slate-800",children:typeof c=="string"?c:c.name})]}),typeof c=="object"&&c.url&&s.jsx("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600",children:s.jsx(Fd,{className:"w-4 h-4"})})]},d))})]});if(!t||!r||!n||!i)return null;const a=()=>{n.name.trim()&&(r({...t,documents:[...t.documents,{...n,id:Date.now()}]}),i({name:"",url:"",type:"upload"}))},l=c=>{r({...t,documents:t.documents.filter((d,h)=>h!==c)})};return s.jsxs("div",{children:[s.jsx(we,{children:"Documents"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[s.jsx(De,{placeholder:"Document name",value:n.name,onChange:c=>i({...n,name:c.target.value})}),s.jsx(De,{placeholder:"URL or file path",value:n.url,onChange:c=>i({...n,url:c.target.value})}),s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:n.type,onChange:c=>i({...n,type:c.target.value}),children:[s.jsx("option",{value:"upload",children:"Upload"}),s.jsx("option",{value:"link",children:"Link"})]}),s.jsx(_e,{type:"button",onClick:a,size:"sm",children:s.jsx(Tt,{className:"w-4 h-4"})})]}),t.documents.map((c,d)=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[c.type==="upload"?s.jsx(AD,{className:"w-4 h-4"}):s.jsx(Lv,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:c.name||c}),c.url&&s.jsx("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm",children:"View"})]}),s.jsx(_e,{type:"button",variant:"ghost",size:"sm",onClick:()=>l(d),children:s.jsx(Fr,{className:"w-3 h-3"})})]},d))]})]})},r7=({client:e,isOpen:t,onClose:r,onInvoiceStatusUpdate:n})=>{const{demoMode:i,displayCurrency:a}=wt(),l=c=>{switch(c){case"active":return"bg-green-100 text-green-800 hover:bg-green-100";case"inactive":return"bg-red-100 text-red-800 hover:bg-red-100";case"pending":return"bg-yellow-100 text-yellow-800 hover:bg-yellow-100";default:return"bg-gray-100 text-gray-800 hover:bg-gray-100"}};return s.jsx(sc,{open:t,onOpenChange:r,children:s.jsxs(yo,{className:"w-full sm:max-w-2xl overflow-y-auto",children:[s.jsx(ic,{className:"mb-6",children:s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{children:[s.jsx(ac,{className:"text-2xl font-bold",children:e.name}),s.jsx("div",{className:"flex items-center space-x-3 mt-2",children:s.jsx(at,{className:l(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]})})}),s.jsxs("div",{className:"space-y-6",children:[!i&&e.invoices&&e.invoices.length>0&&s.jsx(Z9,{client:e,displayCurrency:a,formatCurrency:xt,onInvoiceStatusUpdate:n}),e.people&&e.people.length>0&&s.jsx(e7,{people:e.people}),s.jsx(ST,{links:e.links}),s.jsx(ET,{documents:e.documents}),s.jsx(t7,{notes:e.notes})]})]})})},n7=({client:e,onEdit:t,onDelete:r,onInvoiceStatusUpdate:n})=>{const[i,a]=N.useState(!1),{demoMode:l,displayCurrency:c,convert:d}=wt(),{hourEntries:h}=Jn(),f=h.filter(E=>E.clientId===e.id),m=f.reduce((E,_)=>E+(_.hours||0),0),g=f.filter(E=>!E.billed).reduce((E,_)=>E+(_.hours||0),0),y=e.invoices?.filter(E=>E.status==="paid").length||0,x=e.invoices?.length||0,v=e.invoices?.reduce((E,_)=>{const S=d(_.amount,_.currency||e.currency,c);return E+S},0)||0,b=E=>xt(E,c),w=E=>{E.stopPropagation()};return s.jsxs(s.Fragment,{children:[s.jsx(Qe,{className:"hover:shadow-lg transition-shadow duration-200",children:s.jsx(Je,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(J9,{client:e,demoMode:l}),!l&&s.jsxs("div",{className:"flex items-center justify-between pt-2",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"flex items-center text-slate-600",children:[s.jsx(Kr,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{className:"text-sm",children:[m," hours"]}),g>0]}),s.jsxs("div",{className:"flex items-center text-slate-600",children:[s.jsx(LS,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{className:"text-sm",children:[y,"/",x," invoices paid"]})]}),s.jsx("div",{className:"flex items-center text-green-600",children:s.jsx("span",{className:"text-sm font-medium",children:b(v)})})]}),s.jsxs(_e,{size:"sm",onClick:w,className:"bg-yellow-500 hover:bg-neutral-950 text-neutral-950 hover:text-yellow-500 transition-colors",children:[s.jsx(Tt,{className:"w-3 h-3 mr-1"}),"Log Time"]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[s.jsxs(_e,{variant:"outline",size:"sm",onClick:()=>a(!0),className:"flex items-center space-x-2",children:[s.jsx(Ld,{className:"w-4 h-4"}),s.jsx("span",{children:"View Details"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(_e,{variant:"outline",size:"sm",onClick:()=>t(e),children:s.jsx(vs,{className:"w-4 h-4"})}),s.jsx(_e,{variant:"outline",size:"sm",onClick:()=>r(e.id),className:"text-red-600 hover:text-red-700",children:s.jsx(Wn,{className:"w-4 h-4"})})]})]})]})})}),s.jsx(r7,{client:e,isOpen:i,onClose:()=>a(!1),onInvoiceStatusUpdate:n})]})},s7=({formData:e,setFormData:t,errors:r})=>s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"name",children:"Client Name *"}),s.jsx(De,{id:"name",value:e.name||"",onChange:n=>t({...e,name:n.target.value}),placeholder:"Client name",className:r.name?"border-red-500":""}),r.name&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"status",children:"Status *"}),s.jsxs("select",{id:"status",className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ${r.status?"border-red-500":""}`,value:e.status||"",onChange:n=>t({...e,status:n.target.value}),children:[s.jsx("option",{value:"",children:"Select status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"pending",children:"Pending"})]}),r.status&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.status})]})]}),i7=({formData:e,setFormData:t,newPerson:r,setNewPerson:n,errors:i,setErrors:a})=>{const{demoMode:l}=wt(),c=()=>{if(r.name.trim()&&r.email.trim()){if(!/\S+@\S+\.\S+/.test(r.email)){a({...i,personEmail:"Please enter a valid email address"});return}t({...e,people:[...e.people,{...r,id:Date.now()}]}),n({name:"",email:"",title:""});const h={...i};delete h.personEmail,a(h)}},d=h=>{t({...e,people:e.people.filter((f,m)=>m!==h)})};return s.jsxs("div",{children:[s.jsx(we,{children:"Team Members"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[s.jsx(De,{value:r.name,onChange:h=>n({...r,name:h.target.value}),placeholder:"Name"}),s.jsx(De,{value:r.email,onChange:h=>n({...r,email:h.target.value}),placeholder:"Email",className:i.personEmail?"border-red-500":""}),s.jsx(De,{value:r.title,onChange:h=>n({...r,title:h.target.value}),placeholder:"Title"}),s.jsx(_e,{type:"button",onClick:c,size:"sm",children:s.jsx(Tt,{className:"w-4 h-4"})})]}),i.personEmail&&s.jsx("p",{className:"text-red-500 text-sm",children:i.personEmail}),e.people.map((h,f)=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:h.name}),s.jsx("div",{className:"text-sm text-slate-600",children:h.title}),s.jsx("div",{className:"text-xs text-slate-500",children:l?"":h.email})]}),s.jsx(_e,{type:"button",variant:"ghost",size:"sm",onClick:()=>d(f),children:s.jsx(Fr,{className:"w-3 h-3"})})]},f))]})]})},a7=({formData:e,setFormData:t,newInvoice:r,setNewInvoice:n,errors:i,setErrors:a})=>{const l=()=>{if(r.amount&&r.date){if(isNaN(parseFloat(r.amount))||parseFloat(r.amount)<=0){a({...i,invoiceAmount:"Please enter a valid amount"});return}t({...e,invoices:[...e.invoices,{...r,id:Date.now(),amount:parseFloat(r.amount)}]}),n({amount:"",date:"",status:"pending",url:"",currency:e.currency||"USD"});const d={...i};delete d.invoiceAmount,a(d)}},c=d=>{t({...e,invoices:e.invoices.filter((h,f)=>f!==d)})};return s.jsxs("div",{children:[s.jsx(we,{children:"Invoices"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-6 gap-2",children:[s.jsx(De,{type:"number",step:"0.01",placeholder:"Amount",value:r.amount,onChange:d=>n({...r,amount:d.target.value}),className:i.invoiceAmount?"border-red-500":""}),s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:r.currency,onChange:d=>n({...r,currency:d.target.value}),children:[s.jsx("option",{value:"USD",children:"USD"}),s.jsx("option",{value:"EUR",children:"EUR"}),s.jsx("option",{value:"RON",children:"RON"})]}),s.jsx(De,{type:"date",value:r.date,onChange:d=>n({...r,date:d.target.value})}),s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:r.status,onChange:d=>n({...r,status:d.target.value}),children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"paid",children:"Paid"})]}),s.jsx(De,{placeholder:"Invoice URL (optional)",value:r.url,onChange:d=>n({...r,url:d.target.value})}),s.jsx(_e,{type:"button",onClick:l,size:"sm",children:s.jsx(Tt,{className:"w-4 h-4"})})]}),i.invoiceAmount&&s.jsx("p",{className:"text-red-500 text-sm",children:i.invoiceAmount}),e.invoices.map((d,h)=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:["$",d.amount]}),s.jsx("div",{className:"text-sm text-slate-600",children:new Date(d.date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(at,{className:d.status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:d.status}),s.jsx(_e,{type:"button",variant:"ghost",size:"sm",onClick:()=>c(h),children:s.jsx(Fr,{className:"w-3 h-3"})})]})]},h))]})]})},o7=({isOpen:e,onClose:t,client:r,onSave:n})=>{const[i,a]=N.useState({...r,documents:r.documents||[],links:r.links||[],people:r.people||[],invoices:r.invoices||[]}),[l,c]=N.useState({name:"",url:"",type:"upload"}),[d,h]=N.useState(""),[f,m]=N.useState({name:"",email:"",title:""}),[g,y]=N.useState({amount:"",date:"",status:"pending",url:"",currency:"USD"}),[x,v]=N.useState({}),b=()=>{const E={};return i.name?.trim()||(E.name="Client name is required"),i.status||(E.status="Status is required"),v(E),Object.keys(E).length===0},w=()=>{b()&&(n(i),t())};return s.jsx(mr,{open:e,onOpenChange:t,children:s.jsxs(lr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(cr,{children:s.jsxs(ur,{children:["Edit ",r.name]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(s7,{formData:i,setFormData:a,errors:x}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"notes",children:"Notes"}),s.jsx(Qt,{id:"notes",value:i.notes||"",onChange:E=>a({...i,notes:E.target.value}),rows:3,placeholder:"Add notes about this client"})]}),s.jsx(ET,{formData:i,setFormData:a,newDocument:l,setNewDocument:c}),s.jsx(ST,{formData:i,setFormData:a,newLink:d,setNewLink:h}),s.jsx(i7,{formData:i,setFormData:a,newPerson:f,setNewPerson:m,errors:x,setErrors:v}),s.jsx(a7,{formData:i,setFormData:a,newInvoice:g,setNewInvoice:y,errors:x,setErrors:v})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(_e,{variant:"outline",onClick:t,children:"Cancel"}),s.jsx(_e,{onClick:w,className:"bg-blue-600 hover:bg-blue-700",children:"Save Changes"})]})]})})},l7=({clients:e,onUpdateClient:t,displayCurrency:r,convertCurrency:n,formatCurrency:i,activeClients:a,onAddClient:l,onInvoiceStatusUpdate:c})=>{const[d,h]=N.useState(null),[f,m]=N.useState(!1),g=v=>{h(v),m(!0)},y=v=>{d&&(t(d.id,v),m(!1),h(null))},x=v=>{console.log("Delete client:",v)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-slate-800 flex items-center",children:["Clients (",e.length,")"]}),s.jsxs(at,{variant:"secondary",children:[a," Active"]})]}),s.jsxs("div",{className:"space-y-4",children:[e.map(v=>s.jsx(n7,{client:v,onEdit:g,onDelete:x,onInvoiceStatusUpdate:c?(b,w)=>c(v.id,b,w):void 0},v.id)),e.length===0&&s.jsx(Qe,{className:"border-dashed border-2 border-slate-300",children:s.jsxs(Je,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(qn,{className:"w-12 h-12 text-slate-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-slate-600 mb-2",children:"No clients yet"}),s.jsx("p",{className:"text-slate-500 text-center mb-4",children:"Add your first client to get started with project management"}),s.jsxs(_e,{onClick:l,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add First Client"]})]})})]})]}),d&&s.jsx(o7,{isOpen:f,onClose:()=>{m(!1),h(null)},client:d,onSave:y})]})},c7=({isOpen:e,onClose:t,onAdd:r})=>{const[n,i]=N.useState({name:"",status:"active",notes:"",documents:[],links:[],people:[],invoices:[]}),[a,l]=N.useState(""),[c,d]=N.useState(""),[h,f]=N.useState({name:"",email:"",title:""}),m=_=>{_.preventDefault();const S={...n,price:0,priceType:"hour",currency:"USD",totalHours:0};r(S),g(),t()},g=()=>{i({name:"",status:"active",notes:"",documents:[],links:[],people:[],invoices:[]}),l(""),d(""),f({name:"",email:"",title:""})},y=()=>{a.trim()&&(i({...n,documents:[...n.documents,a.trim()]}),l(""))},x=_=>{i({...n,documents:n.documents.filter((S,P)=>P!==_)})},v=()=>{c.trim()&&(i({...n,links:[...n.links,c.trim()]}),d(""))},b=_=>{i({...n,links:n.links.filter((S,P)=>P!==_)})},w=()=>{h.name.trim()&&h.email.trim()&&(i({...n,people:[...n.people,{...h}]}),f({name:"",email:"",title:""}))},E=_=>{i({...n,people:n.people.filter((S,P)=>P!==_)})};return s.jsx(mr,{open:e,onOpenChange:t,children:s.jsxs(lr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(cr,{children:s.jsx(ur,{children:"Add New Client"})}),s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"client-name",children:"Client Name *"}),s.jsx(De,{id:"client-name",value:n.name,onChange:_=>i({...n,name:_.target.value}),placeholder:"Enter client name",required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"client-status",children:"Status"}),s.jsxs(mt,{value:n.status,onValueChange:_=>i({...n,status:_}),children:[s.jsx(ft,{children:s.jsx(gt,{})}),s.jsxs(pt,{children:[s.jsx(Me,{value:"active",children:"Active"}),s.jsx(Me,{value:"inactive",children:"Inactive"}),s.jsx(Me,{value:"pending",children:"Pending"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Documents"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(De,{value:a,onChange:_=>l(_.target.value),placeholder:"Add document name or link"}),s.jsx(_e,{type:"button",onClick:y,size:"sm",children:s.jsx(Tt,{className:"w-4 h-4"})})]}),n.documents.map((_,S)=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-2 rounded",children:[s.jsx("span",{className:"text-sm",children:_}),s.jsx(_e,{type:"button",variant:"ghost",size:"sm",onClick:()=>x(S),children:s.jsx(Fr,{className:"w-3 h-3"})})]},S))]})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Relevant Links"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(De,{value:c,onChange:_=>d(_.target.value),placeholder:"Add relevant link"}),s.jsx(_e,{type:"button",onClick:v,size:"sm",children:s.jsx(Tt,{className:"w-4 h-4"})})]}),n.links.map((_,S)=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-2 rounded",children:[s.jsx("span",{className:"text-sm truncate",children:_}),s.jsx(_e,{type:"button",variant:"ghost",size:"sm",onClick:()=>b(S),children:s.jsx(Fr,{className:"w-3 h-3"})})]},S))]})]}),s.jsxs("div",{children:[s.jsx(we,{children:"People"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx(De,{value:h.name,onChange:_=>f({...h,name:_.target.value}),placeholder:"Name"}),s.jsx(De,{value:h.email,onChange:_=>f({...h,email:_.target.value}),placeholder:"Email"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(De,{value:h.title,onChange:_=>f({...h,title:_.target.value}),placeholder:"Title"}),s.jsx(_e,{type:"button",onClick:w,size:"sm",children:s.jsx(Tt,{className:"w-4 h-4"})})]})]}),n.people.map((_,S)=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-2 rounded",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:_.name}),_.title&&s.jsxs("span",{className:"text-slate-600",children:[" - ",_.title]}),s.jsx("div",{className:"text-xs text-slate-500",children:_.email})]}),s.jsx(_e,{type:"button",variant:"ghost",size:"sm",onClick:()=>E(S),children:s.jsx(Fr,{className:"w-3 h-3"})})]},S))]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"client-notes",children:"Notes"}),s.jsx(Qt,{id:"client-notes",value:n.notes,onChange:_=>i({...n,notes:_.target.value}),placeholder:"Add any relevant notes about this client",rows:3})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(_e,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),s.jsx(_e,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:"Add Client"})]})]})]})})},u7=({isOpen:e,onClose:t,onAdd:r})=>{const[n,i]=N.useState({name:"",price:"",billing_date:"",billing_cycle:"monthly",login_email:"",password:"",category:"Software",status:"active",currency:"USD",seats:"1",invoice_link:""}),a=d=>{d.preventDefault();const h=parseFloat(n.price)||0,f={name:n.name,price:h,billing_date:n.billing_date,billing_cycle:n.billing_cycle,login_email:n.login_email,password:n.password,category:n.category,status:n.status,currency:n.currency,seats:parseInt(n.seats)||1,total_paid:h,invoice_link:n.invoice_link};r(f),l(),t()},l=()=>{i({name:"",price:"",billing_date:"",billing_cycle:"monthly",login_email:"",password:"",category:"Software",status:"active",currency:"USD",seats:"1",invoice_link:""})},c=["Software","Design","Development","Marketing","Analytics","Communication","Storage","Other"];return s.jsx(mr,{open:e,onOpenChange:t,children:s.jsxs(lr,{className:"max-w-md",children:[s.jsx(cr,{children:s.jsx(ur,{children:"Add New Subscription"})}),s.jsxs("form",{onSubmit:a,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"sub-name",children:"Service Name *"}),s.jsx(De,{id:"sub-name",value:n.name,onChange:d=>i({...n,name:d.target.value}),placeholder:"e.g. Adobe Creative Suite",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"sub-price",children:"Price *"}),s.jsx(De,{id:"sub-price",type:"number",step:"0.01",value:n.price,onChange:d=>i({...n,price:d.target.value}),placeholder:"0.00",required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"sub-seats",children:"Seats"}),s.jsx(De,{id:"sub-seats",type:"number",min:"1",value:n.seats,onChange:d=>i({...n,seats:d.target.value}),placeholder:"1"})]})]}),s.jsxs("div",{children:[s.jsx(we,{className:"text-sm font-medium",children:"Billing Cycle"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx("span",{className:"text-sm",children:"Monthly"}),s.jsx(Tn,{checked:n.billing_cycle==="yearly",onCheckedChange:d=>i({...n,billing_cycle:d?"yearly":"monthly"})}),s.jsx("span",{className:"text-sm",children:"Yearly"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"sub-currency",children:"Currency"}),s.jsxs(mt,{value:n.currency,onValueChange:d=>i({...n,currency:d}),children:[s.jsx(ft,{children:s.jsx(gt,{})}),s.jsxs(pt,{children:[s.jsx(Me,{value:"USD",children:"US Dollar ($)"}),s.jsx(Me,{value:"EUR",children:"Euro ()"}),s.jsx(Me,{value:"RON",children:"Romanian Lei (RON)"})]})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"sub-category",children:"Category"}),s.jsxs(mt,{value:n.category,onValueChange:d=>i({...n,category:d}),children:[s.jsx(ft,{children:s.jsx(gt,{})}),s.jsx(pt,{children:c.map(d=>s.jsx(Me,{value:d,children:d},d))})]})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"sub-status",children:"Status"}),s.jsxs(mt,{value:n.status,onValueChange:d=>i({...n,status:d}),children:[s.jsx(ft,{children:s.jsx(gt,{})}),s.jsxs(pt,{children:[s.jsx(Me,{value:"active",children:"Active"}),s.jsx(Me,{value:"paused",children:"Paused"}),s.jsx(Me,{value:"canceled",children:"Canceled"})]})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"sub-billing-date",children:"Next Billing Date *"}),s.jsx(De,{id:"sub-billing-date",type:"date",value:n.billing_date,onChange:d=>i({...n,billing_date:d.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"sub-email",children:"Login Email"}),s.jsx(De,{id:"sub-email",type:"email",value:n.login_email,onChange:d=>i({...n,login_email:d.target.value}),placeholder:"your@email.com"})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"sub-password",children:"Password"}),s.jsx(Al,{id:"sub-password",value:n.password,onChange:d=>i({...n,password:d.target.value}),placeholder:"Password (stored securely)"})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"sub-invoice-link",children:"Invoice Link"}),s.jsx(De,{id:"sub-invoice-link",type:"url",value:n.invoice_link,onChange:d=>i({...n,invoice_link:d.target.value}),placeholder:"https://billing.example.com/invoices"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(_e,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),s.jsx(_e,{type:"submit",className:"bg-green-600 hover:bg-green-700",children:"Add Subscription"})]})]})]})})},d7=({subscription:e,isOpen:t,onClose:r,onUpdate:n})=>{const[i,a]=N.useState({name:"",price:0,seats:1,billing_date:"",billing_cycle:"monthly",login_email:"",secure_notes:"",category:"",total_paid:0,status:"active",currency:"USD",invoice_link:""}),[l,c]=N.useState(!1),{toast:d}=Jt();N.useEffect(()=>{e&&a({name:e.name||"",price:e.price||0,seats:e.seats||1,billing_date:e.billing_date||"",billing_cycle:e.billing_cycle||"monthly",login_email:e.login_email||"",secure_notes:e.secure_notes||"",category:e.category||"",total_paid:e.total_paid||0,status:e.status||"active",currency:e.currency||"USD",invoice_link:e.invoice_link||""})},[e]);const h=async m=>{if(m.preventDefault(),!l){c(!0);try{console.log("Submitting updated subscription:",i),await n(e.id,{name:i.name,price:i.price,seats:i.seats,billing_date:i.billing_date,billing_cycle:i.billing_cycle,login_email:i.login_email,secure_notes:i.secure_notes,category:i.category,total_paid:i.total_paid,status:i.status,currency:i.currency,invoice_link:i.invoice_link}),d({title:"Success",description:"Subscription updated successfully"}),r()}catch(g){console.error("Error updating subscription:",g),d({title:"Error",description:"Failed to update subscription",variant:"destructive"})}finally{c(!1)}}},f=(m,g)=>{a(y=>({...y,[m]:g}))};return e?s.jsx(mr,{open:t,onOpenChange:r,children:s.jsxs(lr,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsx(cr,{children:s.jsx(ur,{children:"Edit Subscription"})}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"name",children:"Service Name"}),s.jsx(De,{id:"name",value:i.name,onChange:m=>f("name",m.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"category",children:"Category"}),s.jsx(De,{id:"category",value:i.category,onChange:m=>f("category",m.target.value),required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"status",children:"Status"}),s.jsxs(mt,{value:i.status,onValueChange:m=>f("status",m),children:[s.jsx(ft,{children:s.jsx(gt,{})}),s.jsxs(pt,{children:[s.jsx(Me,{value:"active",children:"Active"}),s.jsx(Me,{value:"paused",children:"Paused"}),s.jsx(Me,{value:"canceled",children:"Canceled"})]})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"currency",children:"Currency"}),s.jsxs(mt,{value:i.currency,onValueChange:m=>f("currency",m),children:[s.jsx(ft,{children:s.jsx(gt,{})}),s.jsxs(pt,{children:[s.jsx(Me,{value:"USD",children:"US Dollar ($)"}),s.jsx(Me,{value:"EUR",children:"Euro ()"}),s.jsx(Me,{value:"RON",children:"Romanian Lei (RON)"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"price",children:"Price per Seat"}),s.jsx(De,{id:"price",type:"number",step:"0.01",value:i.price,onChange:m=>f("price",parseFloat(m.target.value)||0),required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"seats",children:"Number of Seats"}),s.jsx(De,{id:"seats",type:"number",min:"1",value:i.seats,onChange:m=>f("seats",parseInt(m.target.value)||1),required:!0})]})]}),s.jsxs("div",{children:[s.jsx(we,{className:"text-sm font-medium",children:"Billing Cycle"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx("span",{className:"text-sm",children:"Monthly"}),s.jsx(Tn,{checked:i.billing_cycle==="yearly",onCheckedChange:m=>f("billing_cycle",m?"yearly":"monthly")}),s.jsx("span",{className:"text-sm",children:"Yearly"})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"total_paid",children:"Total Paid to Date"}),s.jsx(De,{id:"total_paid",type:"number",step:"0.01",value:i.total_paid,onChange:m=>f("total_paid",parseFloat(m.target.value)||0)})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"billing_date",children:"Next Billing Date"}),s.jsxs("div",{className:"relative",children:[s.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(De,{id:"billing_date",type:"date",value:i.billing_date,onChange:m=>f("billing_date",m.target.value),className:"pl-10",required:!0})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"login_email",children:"Login Email"}),s.jsx(De,{id:"login_email",type:"email",value:i.login_email,onChange:m=>f("login_email",m.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"invoice_link",children:"Invoice Link"}),s.jsx(De,{id:"invoice_link",type:"url",value:i.invoice_link,onChange:m=>f("invoice_link",m.target.value),placeholder:"https://billing.example.com/invoices"})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"secure_notes",children:"Secure Notes"}),s.jsx(Qt,{id:"secure_notes",value:i.secure_notes,onChange:m=>f("secure_notes",m.target.value),placeholder:"Store passwords, API keys, or other sensitive information here...",className:"min-h-[80px]"}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"This field is encrypted and secure. Use it to store passwords, API keys, or other sensitive information."})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(_e,{type:"button",variant:"outline",onClick:r,className:"flex-1",disabled:l,children:"Cancel"}),s.jsx(_e,{type:"submit",className:"flex-1",disabled:l,children:l?"Updating...":"Update Subscription"})]})]})]})}):null},NT=({showClientModal:e,onCloseClientModal:t,onAddClient:r,showSubscriptionModal:n,onCloseSubscriptionModal:i,onAddSubscription:a,showEditSubscriptionModal:l,onCloseEditSubscriptionModal:c,selectedSubscription:d,onUpdateSubscription:h})=>s.jsxs(s.Fragment,{children:[s.jsx(c7,{isOpen:e,onClose:t,onAdd:r}),s.jsx(u7,{isOpen:n,onClose:i,onAdd:a}),s.jsx(d7,{subscription:d,isOpen:l,onClose:c,onUpdate:h})]}),h7=async e=>{const{data:t,error:r}=await Re.from("subscriptions").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching subscriptions:",r),r;return(t||[]).map(n=>({...n,billing_cycle:n.billing_cycle||"monthly"}))},f7=async(e,t)=>{const r={...e,user_id:t},{data:n,error:i}=await Re.from("subscriptions").insert([r]).select().single();if(i)throw console.error("Error adding subscription:",i),i;return{...n,billing_cycle:n.billing_cycle||"monthly"}},p7=async(e,t,r)=>{const n={name:t.name,price:t.price,seats:t.seats,billing_date:t.billing_date,billing_cycle:t.billing_cycle,login_email:t.login_email,secure_notes:t.secure_notes,category:t.category,total_paid:t.total_paid,status:t.status,currency:t.currency,invoice_link:t.invoice_link,updated_at:new Date().toISOString()};Object.keys(n).forEach(l=>{n[l]===void 0&&delete n[l]});const{data:i,error:a}=await Re.from("subscriptions").update(n).eq("id",e).eq("user_id",r).select().single();if(a)throw console.error("Error updating subscription:",a),a;return{...i,billing_cycle:i.billing_cycle||"monthly"}},m7=async(e,t)=>{const{error:r}=await Re.from("subscriptions").delete().eq("id",e).eq("user_id",t);if(r)throw console.error("Error deleting subscription:",r),r},g7=(e,t)=>({addSubscription:async a=>{if(!e)throw new Error("User must be authenticated");try{const l={name:a.name,price:a.price,seats:a.seats||1,billing_date:a.billing_date,billing_cycle:a.billing_cycle||"monthly",login_email:a.login_email||"",secure_notes:a.secure_notes||"",category:a.category||"Software",total_paid:a.total_paid||a.price,status:a.status||"active",currency:a.currency||"USD",invoice_link:a.invoice_link||""},c=await f7(l,e.id);t(d=>[c,...d])}catch(l){throw console.error("Error adding subscription:",l),l}},updateSubscription:async(a,l)=>{if(!e)throw new Error("User must be authenticated");try{const c=await p7(a,l,e.id);t(d=>d.map(h=>h.id===a?c:h))}catch(c){throw console.error("Error updating subscription:",c),c}},deleteSubscription:async a=>{if(!e)throw new Error("User must be authenticated");try{await m7(a,e.id),t(l=>l.filter(c=>c.id!==a))}catch(l){throw console.error("Error deleting subscription:",l),l}}}),CT=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),{user:i}=pr(),a=async()=>{if(!i){t([]),n(!1);return}try{n(!0);const c=await h7(i.id);t(c)}catch(c){console.error("Error fetching subscriptions:",c)}finally{n(!1)}},l=g7(i,t);return N.useEffect(()=>{a()},[i]),{subscriptions:e,loading:r,refreshSubscriptions:a,...l}},v7=()=>{const{displayCurrency:e,convert:t}=wt(),[r,n]=_t.useState(!1),{clients:i,addClient:a,updateClient:l,updateClientInvoiceStatus:c,loading:d}=Yi();CT();const h=Dy();return s.jsx(Nn,{children:s.jsx("div",{className:"min-h-screen p-6",style:{backgroundColor:"#F3F3F2"},children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Clients"})}),s.jsxs(_e,{onClick:()=>n(!0),className:"bg-yellow-500 hover:bg-neutral-950 text-neutral-950 hover:text-yellow-500 transition-colors",children:[s.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Client"]})]}),d?s.jsx(ql,{count:3,lines:4}):s.jsx(l7,{clients:i,onUpdateClient:l,displayCurrency:e,convertCurrency:t,formatCurrency:xt,activeClients:h.activeClients,onAddClient:()=>n(!0),onInvoiceStatusUpdate:c}),s.jsx(NT,{showClientModal:r,onCloseClientModal:()=>n(!1),onAddClient:a,showSubscriptionModal:!1,onCloseSubscriptionModal:()=>{},onAddSubscription:()=>{},showEditSubscriptionModal:!1,onCloseEditSubscriptionModal:()=>{},selectedSubscription:null,onUpdateSubscription:()=>{}})]})})})},y7=()=>{const{id:e}=Gj();return s.jsx(Nn,{children:s.jsx("div",{className:"min-h-screen p-6",style:{backgroundColor:"#F3F3F2"},children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Client Details"})}),s.jsxs("div",{className:"text-center py-8",children:[s.jsxs("p",{className:"text-slate-600",children:["Client details page for ID: ",e]}),s.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"This page is under construction."})]})]})})})},x7=({subscription:e,onEdit:t})=>{const[r,n]=N.useState(!1),{demoMode:i}=wt(),a=()=>{const B=new Date(e.billing_date),L=new Date;if(e.status==="canceled"||B>L)return B;const U=new Date(B);if((e.billing_cycle||"monthly")==="yearly")for(;U<=L;)U.setFullYear(U.getFullYear()+1);else for(;U<=L;)U.setMonth(U.getMonth()+1);return U},c=(()=>{if(e.status==="canceled")return null;const B=a(),L=new Date,U=B.getTime()-L.getTime();return Math.ceil(U/(1e3*60*60*24))})(),d=c!==null&&c<=7&&c>=0,h=()=>e.status==="canceled"?{text:"Canceled",color:"bg-red-100 text-red-800 hover:bg-red-100"}:c===null?{text:"Unknown",color:"bg-gray-100 text-gray-800 hover:bg-gray-100"}:d?{text:`${c} days`,color:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100"}:{text:`${c} days`,color:"bg-green-100 text-green-800 hover:bg-green-100"},f=()=>{switch(e.status||"active"){case"active":return"bg-green-100 text-green-800 hover:bg-green-100";case"paused":return"bg-yellow-100 text-yellow-800 hover:bg-yellow-100";case"canceled":return"bg-red-100 text-red-800 hover:bg-red-100";default:return"bg-gray-100 text-gray-800 hover:bg-gray-100"}},m=h(),g=e.total_paid||0,y=e.seats||1,x=e.price*y,v=e.currency||"USD",b=e.login_email||"",w=a(),E=e.secure_notes||"",_=e.billing_cycle||"monthly",S=e.invoice_link||"",P=B=>{const U={USD:"$",EUR:"",RON:"RON "}[v]||"$";return v==="RON"?`${U}${B.toFixed(2)}`:`${U}${B.toFixed(2)}`};return s.jsx(Qe,{className:"transition-all duration-200",children:s.jsx(Je,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h4",{className:"font-semibold text-slate-800",children:e.name}),s.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>t(e),className:"h-6 w-6 p-0 opacity-60 hover:opacity-100",children:s.jsx(vs,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"text-sm text-slate-600",children:e.category}),s.jsx(at,{className:f(),children:(e.status||"active").charAt(0).toUpperCase()+(e.status||"active").slice(1)})]})]}),!i&&s.jsxs("div",{className:"text-right ml-4",children:[s.jsx("div",{className:"text-lg font-bold text-slate-800",children:P(x)}),s.jsxs("div",{className:"text-xs text-slate-500 flex items-center justify-end",children:[s.jsx(Kr,{className:"w-3 h-3 mr-1"}),"per ",_==="yearly"?"year":"month"]}),y>1&&s.jsxs("div",{className:"text-xs text-slate-600 flex items-center justify-end mt-1",children:[s.jsx(qn,{className:"w-3 h-3 mr-1"}),y," seats"]})]})]}),!i&&s.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-sm text-slate-600",children:s.jsx("span",{className:"font-medium",children:"Total paid to date:"})}),s.jsx("div",{className:"text-sm font-semibold text-blue-800",children:P(g)})]}),s.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-slate-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[s.jsx(Xn,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:e.status==="canceled"?`Last billed: ${new Date(e.billing_date).toLocaleDateString()}`:`Next billing: ${w.toLocaleDateString()}`})]}),!i&&s.jsx(at,{className:m.color,children:m.text})]}),S&&!i&&s.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[s.jsx(Fd,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:"Billing portal"})]}),s.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>window.open(S,"_blank"),className:"h-6 px-2 text-purple-600 hover:text-purple-800",children:"Open"})]}),s.jsxs("div",{className:"space-y-2",children:[b&&s.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[s.jsx(Xl,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"font-mono text-xs",children:i?"":b})]}),E&&!i&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[s.jsx(Mv,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"font-mono text-xs",children:r?E:""})]}),s.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>n(!r),className:"h-6 w-6 p-0",children:r?s.jsx(Fv,{className:"w-3 h-3"}):s.jsx(Ld,{className:"w-3 h-3"})})]})]})]})})})},w7=({subscriptions:e,onEditSubscription:t,onAddSubscription:r,monthlySubscriptionCost:n,totalPaidToDate:i,displayCurrency:a,formatCurrency:l,billingFilter:c,onBillingFilterChange:d})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-semibold text-slate-800 flex items-center",children:"Subscriptions"}),s.jsx(oi,{value:c,onValueChange:d,children:s.jsxs(ws,{className:"grid w-full grid-cols-3",children:[s.jsx(Ht,{value:"all",children:"All"}),s.jsx(Ht,{value:"monthly",children:"Monthly"}),s.jsx(Ht,{value:"yearly",children:"Yearly"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[e.map(h=>s.jsx(x7,{subscription:h,onEdit:t},h.id)),e.length===0&&s.jsx(Qe,{className:"border-dashed border-2 border-slate-300 col-span-full",children:s.jsxs(Je,{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(Mv,{className:"w-8 h-8 text-slate-400 mb-3"}),s.jsx("p",{className:"text-slate-500 text-center text-sm mb-3",children:"No subscriptions tracked"}),s.jsxs(_e,{onClick:r,size:"sm",variant:"outline",children:[s.jsx(Tt,{className:"w-3 h-3 mr-1"}),"Add Subscription"]})]})})]})]}),b7=({subscriptions:e,displayCurrency:t})=>{const{convert:r,demoMode:n}=wt(),i=e.filter(f=>f.status==="active"),a=i.reduce((f,m)=>{const g=r(m.price,m.currency,t),y=m.seats||1,x=g*y,v=m.billing_cycle==="yearly"?x/12:x;return f+v},0),l=e.reduce((f,m)=>{const g=r(m.total_paid||0,m.currency,t);return f+g},0),c=i.reduce((f,m)=>{const g=r(m.price,m.currency,t),y=m.seats||1,x=g*y,v=m.billing_cycle==="yearly"?x:x*12;return f+v},0),d=(f,m=!1)=>{const g=Math.round(f);if(g>=1e3){const y=(g/1e3).toFixed(2).replace(/\.?0+$/,"");return m?`${t==="RON"?"RON ":t==="EUR"?"":"$"}${y}K`:`${y}K`}return m?`${t==="RON"?"RON ":t==="EUR"?"":"$"}${g}`:g.toString()},h=[{title:"Monthly Subscription Cost",value:a,originalValue:xt(a,t),isCurrency:!0,subtitle:"total monthly recurring costs",statusRows:[`${i.length} active subscription${i.length!==1?"s":""}`]},{title:"Yearly Subscription Cost",value:c,originalValue:xt(c,t),isCurrency:!0,subtitle:"total yearly recurring costs",statusRows:[`${i.length} active subscription${i.length!==1?"s":""}`]},{title:"Total Paid to Date",value:l,originalValue:xt(l,t),isCurrency:!0,subtitle:"across all subscriptions",statusRows:[`${e.length} total subscription${e.length!==1?"s":""}`]},{title:"Active Subscriptions",value:i.length,originalValue:i.length.toString(),isCurrency:!1,subtitle:"currently active",statusRows:e.length>i.length?[`${e.length-i.length} inactive`]:[]}];return s.jsx(Js,{children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:h.map((f,m)=>{const g=n&&f.isCurrency?"":d(f.value,f.isCurrency),y=!n&&typeof f.value=="number"?f.value>=1e3:!1;return s.jsx(Qe,{className:"hover:shadow-none transition-all duration-200 shadow-none w-full min-w-0",children:s.jsxs(Je,{className:"p-4 lg:p-6 flex flex-col justify-between h-full min-h-[200px] lg:min-h-[231px]",children:[s.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[s.jsx("div",{className:"space-y-1 lg:space-y-2",children:s.jsx("h3",{className:"font-satoshi font-normal text-sm lg:text-lg xl:text-xl leading-tight",style:{color:"var(--Dark-color, #081735)"},children:f.title})}),s.jsxs("div",{className:"space-y-1",children:[f.statusRows.map((x,v)=>s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("span",{className:"text-xs text-slate-500 truncate",children:x})},v)),f.statusRows.length===0&&s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("span",{className:"text-xs text-slate-500 truncate",children:f.subtitle})})]})]}),s.jsx("div",{className:"mt-2 lg:mt-4",children:y?s.jsxs(ir,{children:[s.jsx(ar,{asChild:!0,children:s.jsx("p",{className:"font-satoshi font-normal cursor-help text-xl sm:text-2xl lg:text-3xl xl:text-5xl leading-tight",style:{color:"var(--Dark-color, #081735)"},children:g})}),s.jsx(Xt,{children:s.jsx("p",{children:f.originalValue})})]}):s.jsx("p",{className:"font-satoshi font-normal text-xl sm:text-2xl lg:text-3xl xl:text-5xl leading-tight",style:{color:"var(--Dark-color, #081735)"},children:g})})]})},m)})})})},_7=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx($t,{className:"h-8 w-48"}),s.jsx($t,{className:"h-9 w-40"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,t)=>s.jsxs(Qe,{children:[s.jsx(dt,{className:"pb-2",children:s.jsx(ht,{className:"text-sm font-medium",children:s.jsx($t,{className:"h-4 w-28"})})}),s.jsxs(Je,{className:"space-y-2",children:[s.jsx($t,{className:"h-7 w-24"}),s.jsx($t,{className:"h-3 w-32"})]})]},t))}),s.jsx("div",{className:"space-y-4",children:Array.from({length:4}).map((e,t)=>s.jsx(Qe,{children:s.jsxs(Je,{className:"py-4 space-y-3",children:[s.jsx($t,{className:"h-5 w-48"}),s.jsx($t,{className:"h-4 w-full"}),s.jsx($t,{className:"h-4 w-1/2"})]})},t))})]}),j7=()=>{const{displayCurrency:e,convert:t}=wt(),[r,n]=N.useState(0),[i,a]=_t.useState(!1),[l,c]=_t.useState(!1),[d,h]=_t.useState(null),[f,m]=_t.useState("all"),{subscriptions:g,loading:y,addSubscription:x,updateSubscription:v}=CT();Yi();const b=Dy();N.useEffect(()=>{const S=()=>{n(P=>P+1)};return window.addEventListener("currencyChanged",S),()=>{window.removeEventListener("currencyChanged",S)}},[]);const w=g.filter(S=>f==="all"?!0:S.billing_cycle===f),E=w.reduce((S,P)=>{const B=P.total_paid||0,L=t(B,P.currency||"USD",e);return S+L},0),_=S=>{h(S),c(!0)};return y?s.jsx(Nn,{children:s.jsx("div",{className:"min-h-screen p-6",style:{backgroundColor:"#F3F3F2"},children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx(_7,{})})})}):s.jsx(Nn,{children:s.jsx("div",{className:"min-h-screen p-6",style:{backgroundColor:"#F3F3F2"},children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Subscriptions"})}),s.jsxs(_e,{onClick:()=>a(!0),className:"bg-yellow-500 hover:bg-neutral-950 text-neutral-950 hover:text-yellow-500 transition-colors",children:[s.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Subscription"]})]}),s.jsx(b7,{subscriptions:w,displayCurrency:e},`metrics-${e}-${r}-${f}`),s.jsx(w7,{subscriptions:w,onEditSubscription:_,onAddSubscription:()=>a(!0),monthlySubscriptionCost:b.monthlySubscriptionCost,totalPaidToDate:E,displayCurrency:e,formatCurrency:xt,billingFilter:f,onBillingFilterChange:m}),s.jsx(NT,{showClientModal:!1,onCloseClientModal:()=>{},onAddClient:()=>{},showSubscriptionModal:i,onCloseSubscriptionModal:()=>a(!1),onAddSubscription:x,showEditSubscriptionModal:l,onCloseEditSubscriptionModal:()=>{c(!1),h(null)},selectedSubscription:d,onUpdateSubscription:v})]})})})},S7=({isOpen:e,onClose:t,onInvite:r})=>{const[n,i]=N.useState(""),[a,l]=N.useState("standard"),[c,d]=N.useState(!1),h=async m=>{if(m.preventDefault(),!!n.trim()){d(!0);try{await r(n.trim(),a),i(""),l("standard"),t()}finally{d(!1)}}},f=()=>{i(""),l("standard"),t()};return s.jsx(mr,{open:e,onOpenChange:f,children:s.jsxs(lr,{className:"sm:max-w-md",children:[s.jsxs(cr,{children:[s.jsxs(ur,{className:"flex items-center",children:[s.jsx(Xl,{className:"w-5 h-5 mr-2"}),"Invite New User"]}),s.jsx(di,{children:"Send an invitation to a new user to join your workspace."})]}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"email",children:"Email Address"}),s.jsx(De,{id:"email",type:"email",value:n,onChange:m=>i(m.target.value),placeholder:"user@example.com",required:!0,disabled:c})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"role",children:"User Role"}),s.jsxs(mt,{value:a,onValueChange:m=>l(m),disabled:c,children:[s.jsx(ft,{children:s.jsx(gt,{placeholder:"Select role"})}),s.jsxs(pt,{children:[s.jsx(Me,{value:"standard",children:"Standard User"}),s.jsx(Me,{value:"admin",children:"Admin User"})]})]}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:a==="admin"?"Admin users have full access to all features":"Standard users can only add tasks and view limited dashboard data"})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(_e,{type:"button",variant:"outline",onClick:f,disabled:c,children:"Cancel"}),s.jsx(_e,{type:"submit",disabled:c||!n.trim(),children:c?s.jsxs(s.Fragment,{children:[s.jsx(Va,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):"Send Invite"})]})]})]})})},E7=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!1),{toast:i}=Jt(),a=async()=>{n(!0);try{const{data:h,error:f}=await Re.from("user_project_assignments").select("*").order("assigned_at",{ascending:!1});if(f)throw f;t(h||[])}catch(h){console.error("Error fetching assignments:",h),i({title:"Error",description:"Failed to load project assignments",variant:"destructive"})}finally{n(!1)}},l=async(h,f)=>{try{const{data:{user:m}}=await Re.auth.getUser();if(!m)throw new Error("User not authenticated");const{error:g}=await Re.from("user_project_assignments").insert([{user_id:h,project_id:f,assigned_by:m.id}]);if(g)throw g;i({title:"Success",description:"User assigned to project successfully"}),await a()}catch(m){console.error("Error assigning user to project:",m),i({title:"Error",description:"Failed to assign user to project",variant:"destructive"})}},c=async(h,f)=>{try{const{error:m}=await Re.from("user_project_assignments").delete().eq("user_id",h).eq("project_id",f);if(m)throw m;i({title:"Success",description:"User removed from project successfully"}),await a()}catch(m){console.error("Error removing user from project:",m),i({title:"Error",description:"Failed to remove user from project",variant:"destructive"})}},d=h=>e.filter(f=>f.user_id===h);return N.useEffect(()=>{a()},[]),{assignments:e,loading:r,assignUserToProject:l,removeUserFromProject:c,getUserAssignments:d,refreshAssignments:a}},N7=({user:e,onUserUpdate:t})=>{const{demoMode:r}=wt(),{toast:n}=Jt(),[i,a]=N.useState(!1),[l,c]=N.useState(e.full_name||""),[d,h]=N.useState(!1),f=async()=>{if(!l.trim()){n({title:"Error",description:"Display name cannot be empty",variant:"destructive"});return}h(!0);try{const{error:g}=await Re.from("profiles").update({full_name:l.trim()}).eq("id",e.id);if(g)throw g;const y={...e,full_name:l.trim()};t?.(y),n({title:"Success",description:"Display name updated successfully"}),a(!1)}catch(g){console.error("Error updating display name:",g),n({title:"Error",description:"Failed to update display name",variant:"destructive"})}finally{h(!1)}},m=()=>{c(e.full_name||""),a(!1)};return s.jsx("div",{className:"flex items-center space-x-4 p-4 bg-slate-50 rounded-lg",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-center space-x-2 mb-2",children:i?s.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[s.jsx(De,{value:l,onChange:g=>c(g.target.value),placeholder:"Enter display name",className:"flex-1",disabled:d}),s.jsx(_e,{size:"sm",onClick:f,disabled:d,className:"h-8 w-8 p-0",children:s.jsx(Ov,{className:"h-4 w-4"})}),s.jsx(_e,{size:"sm",variant:"outline",onClick:m,disabled:d,className:"h-8 w-8 p-0",children:s.jsx(Fr,{className:"h-4 w-4"})})]}):s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"font-medium",children:e.full_name||"No name"}),s.jsx(_e,{size:"sm",variant:"ghost",onClick:()=>a(!0),className:"h-6 w-6 p-0 opacity-50 hover:opacity-100",children:s.jsx(ED,{className:"h-3 w-3"})})]})}),s.jsx("p",{className:"text-sm text-slate-600",children:r?"":e.email}),s.jsx(at,{className:e.role==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800",children:e.role})]})})};function C7(e,t){return N.useReducer((r,n)=>t[r][n]??r,e)}var By="ScrollArea",[kT]=an(By),[k7,on]=kT(By),TT=N.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...l}=e,[c,d]=N.useState(null),[h,f]=N.useState(null),[m,g]=N.useState(null),[y,x]=N.useState(null),[v,b]=N.useState(null),[w,E]=N.useState(0),[_,S]=N.useState(0),[P,B]=N.useState(!1),[L,U]=N.useState(!1),F=rt(t,me=>d(me)),ee=Zl(i);return s.jsx(k7,{scope:r,type:n,dir:ee,scrollHideDelay:a,scrollArea:c,viewport:h,onViewportChange:f,content:m,onContentChange:g,scrollbarX:y,onScrollbarXChange:x,scrollbarXEnabled:P,onScrollbarXEnabledChange:B,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:L,onScrollbarYEnabledChange:U,onCornerWidthChange:E,onCornerHeightChange:S,children:s.jsx(We.div,{dir:ee,...l,ref:F,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});TT.displayName=By;var PT="ScrollAreaViewport",AT=N.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:i,nonce:a,...l}=e,c=on(PT,r),d=N.useRef(null),h=rt(t,d,c.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),s.jsx(We.div,{"data-radix-scroll-area-viewport":"",...l,asChild:i,ref:h,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:L7({asChild:i,children:n},f=>s.jsx("div",{"data-radix-scroll-area-content":"",ref:c.onContentChange,style:{minWidth:c.scrollbarXEnabled?"fit-content":void 0},children:f}))})]})});AT.displayName=PT;var Zn="ScrollAreaScrollbar",$y=N.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=on(Zn,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:l}=i,c=e.orientation==="horizontal";return N.useEffect(()=>(c?a(!0):l(!0),()=>{c?a(!1):l(!1)}),[c,a,l]),i.type==="hover"?s.jsx(T7,{...n,ref:t,forceMount:r}):i.type==="scroll"?s.jsx(P7,{...n,ref:t,forceMount:r}):i.type==="auto"?s.jsx(RT,{...n,ref:t,forceMount:r}):i.type==="always"?s.jsx(zy,{...n,ref:t}):null});$y.displayName=Zn;var T7=N.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=on(Zn,e.__scopeScrollArea),[a,l]=N.useState(!1);return N.useEffect(()=>{const c=i.scrollArea;let d=0;if(c){const h=()=>{window.clearTimeout(d),l(!0)},f=()=>{d=window.setTimeout(()=>l(!1),i.scrollHideDelay)};return c.addEventListener("pointerenter",h),c.addEventListener("pointerleave",f),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",h),c.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),s.jsx(Cr,{present:r||a,children:s.jsx(RT,{"data-state":a?"visible":"hidden",...n,ref:t})})}),P7=N.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=on(Zn,e.__scopeScrollArea),a=e.orientation==="horizontal",l=hh(()=>d("SCROLL_END"),100),[c,d]=C7("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return N.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>d("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,i.scrollHideDelay,d]),N.useEffect(()=>{const h=i.viewport,f=a?"scrollLeft":"scrollTop";if(h){let m=h[f];const g=()=>{const y=h[f];m!==y&&(d("SCROLL"),l()),m=y};return h.addEventListener("scroll",g),()=>h.removeEventListener("scroll",g)}},[i.viewport,a,d,l]),s.jsx(Cr,{present:r||c!=="hidden",children:s.jsx(zy,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Le(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Le(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),RT=N.forwardRef((e,t)=>{const r=on(Zn,e.__scopeScrollArea),{forceMount:n,...i}=e,[a,l]=N.useState(!1),c=e.orientation==="horizontal",d=hh(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;l(c?h:f)}},10);return io(r.viewport,d),io(r.content,d),s.jsx(Cr,{present:n||a,children:s.jsx(zy,{"data-state":a?"visible":"hidden",...i,ref:t})})}),zy=N.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,i=on(Zn,e.__scopeScrollArea),a=N.useRef(null),l=N.useRef(0),[c,d]=N.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=FT(c.viewport,c.content),f={...n,sizes:c,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:g=>a.current=g,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:g=>l.current=g};function m(g,y){return M7(g,l.current,c,y)}return r==="horizontal"?s.jsx(A7,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const g=i.viewport.scrollLeft,y=R1(g,c,i.dir);a.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollLeft=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollLeft=m(g,i.dir))}}):r==="vertical"?s.jsx(R7,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const g=i.viewport.scrollTop,y=R1(g,c);a.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollTop=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollTop=m(g))}}):null}),A7=N.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=on(Zn,e.__scopeScrollArea),[l,c]=N.useState(),d=N.useRef(null),h=rt(t,d,a.onScrollbarXChange);return N.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),s.jsx(OT,{"data-orientation":"horizontal",...i,ref:h,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":dh(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(a.viewport){const g=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(g),UT(g,m)&&f.preventDefault()}},onResize:()=>{d.current&&a.viewport&&l&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Td(l.paddingLeft),paddingEnd:Td(l.paddingRight)}})}})}),R7=N.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=on(Zn,e.__scopeScrollArea),[l,c]=N.useState(),d=N.useRef(null),h=rt(t,d,a.onScrollbarYChange);return N.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),s.jsx(OT,{"data-orientation":"vertical",...i,ref:h,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":dh(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(a.viewport){const g=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(g),UT(g,m)&&f.preventDefault()}},onResize:()=>{d.current&&a.viewport&&l&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Td(l.paddingTop),paddingEnd:Td(l.paddingBottom)}})}})}),[D7,DT]=kT(Zn),OT=N.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:f,onResize:m,...g}=e,y=on(Zn,r),[x,v]=N.useState(null),b=rt(t,F=>v(F)),w=N.useRef(null),E=N.useRef(""),_=y.viewport,S=n.content-n.viewport,P=zt(f),B=zt(d),L=hh(m,10);function U(F){if(w.current){const ee=F.clientX-w.current.left,me=F.clientY-w.current.top;h({x:ee,y:me})}}return N.useEffect(()=>{const F=ee=>{const me=ee.target;x?.contains(me)&&P(ee,S)};return document.addEventListener("wheel",F,{passive:!1}),()=>document.removeEventListener("wheel",F,{passive:!1})},[_,x,S,P]),N.useEffect(B,[n,B]),io(x,L),io(y.content,L),s.jsx(D7,{scope:r,scrollbar:x,hasThumb:i,onThumbChange:zt(a),onThumbPointerUp:zt(l),onThumbPositionChange:B,onThumbPointerDown:zt(c),children:s.jsx(We.div,{...g,ref:b,style:{position:"absolute",...g.style},onPointerDown:Le(e.onPointerDown,F=>{F.button===0&&(F.target.setPointerCapture(F.pointerId),w.current=x.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),U(F))}),onPointerMove:Le(e.onPointerMove,U),onPointerUp:Le(e.onPointerUp,F=>{const ee=F.target;ee.hasPointerCapture(F.pointerId)&&ee.releasePointerCapture(F.pointerId),document.body.style.webkitUserSelect=E.current,y.viewport&&(y.viewport.style.scrollBehavior=""),w.current=null})})})}),kd="ScrollAreaThumb",IT=N.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=DT(kd,e.__scopeScrollArea);return s.jsx(Cr,{present:r||i.hasThumb,children:s.jsx(O7,{ref:t,...n})})}),O7=N.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,a=on(kd,r),l=DT(kd,r),{onThumbPositionChange:c}=l,d=rt(t,m=>l.onThumbChange(m)),h=N.useRef(),f=hh(()=>{h.current&&(h.current(),h.current=void 0)},100);return N.useEffect(()=>{const m=a.viewport;if(m){const g=()=>{if(f(),!h.current){const y=F7(m,c);h.current=y,c()}};return c(),m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[a.viewport,f,c]),s.jsx(We.div,{"data-state":l.hasThumb?"visible":"hidden",...i,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Le(e.onPointerDownCapture,m=>{const y=m.target.getBoundingClientRect(),x=m.clientX-y.left,v=m.clientY-y.top;l.onThumbPointerDown({x,y:v})}),onPointerUp:Le(e.onPointerUp,l.onThumbPointerUp)})});IT.displayName=kd;var Hy="ScrollAreaCorner",MT=N.forwardRef((e,t)=>{const r=on(Hy,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(I7,{...e,ref:t}):null});MT.displayName=Hy;var I7=N.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=on(Hy,r),[a,l]=N.useState(0),[c,d]=N.useState(0),h=!!(a&&c);return io(i.scrollbarX,()=>{const f=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(f),d(f)}),io(i.scrollbarY,()=>{const f=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(f),l(f)}),h?s.jsx(We.div,{...n,ref:t,style:{width:a,height:c,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Td(e){return e?parseInt(e,10):0}function FT(e,t){const r=e/t;return isNaN(r)?0:r}function dh(e){const t=FT(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function M7(e,t,r,n="ltr"){const i=dh(r),a=i/2,l=t||a,c=i-l,d=r.scrollbar.paddingStart+l,h=r.scrollbar.size-r.scrollbar.paddingEnd-c,f=r.content-r.viewport,m=n==="ltr"?[0,f]:[f*-1,0];return LT([d,h],m)(e)}function R1(e,t,r="ltr"){const n=dh(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,l=t.content-t.viewport,c=a-n,d=r==="ltr"?[0,l]:[l*-1,0],h=sv(e,d);return LT([0,l],[0,c])(h)}function LT(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function UT(e,t){return e>0&&e<t}var F7=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function i(){const a={left:e.scrollLeft,top:e.scrollTop},l=r.left!==a.left,c=r.top!==a.top;(l||c)&&t(),r=a,n=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(n)};function hh(e,t){const r=zt(e),n=N.useRef(0);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),N.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function io(e,t){const r=zt(t);fr(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}function L7(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const i=N.Children.only(n);return N.cloneElement(i,{children:typeof t=="function"?t(i.props.children):t})}var BT=TT,U7=AT,B7=MT;const Wy=N.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(BT,{ref:n,className:Pe("relative overflow-hidden",e),...r,children:[s.jsx(U7,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx($T,{}),s.jsx(B7,{})]}));Wy.displayName=BT.displayName;const $T=N.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx($y,{ref:n,orientation:t,className:Pe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(IT,{className:"relative flex-1 rounded-full bg-border"})}));$T.displayName=$y.displayName;const $7=({clients:e,projects:t,selectedClients:r,loading:n})=>s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(qn,{className:"w-5 h-5 mr-2"}),s.jsx("h3",{className:"text-lg font-medium",children:"Client Access"})]}),n?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Va,{className:"w-6 h-6 animate-spin"})}):s.jsx(Wy,{className:"h-64 border rounded-lg p-4",children:s.jsx("div",{className:"space-y-3",children:e.map(i=>{const a=r.includes(i.id),l=t.filter(c=>c.clientId===i.id);return s.jsx("div",{className:`p-3 rounded border ${a?"bg-blue-50 border-blue-200":"bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:i.name}),s.jsxs("div",{className:"text-sm text-slate-500",children:[l.length," project",l.length!==1?"s":""," available"]}),a&&s.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Access granted via project assignments"})]}),s.jsx("div",{className:"flex items-center",children:s.jsx(Li,{checked:a,disabled:!0,className:"ml-2"})})]})},i.id)})})}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Note:"}),' Client access is automatically granted when you assign projects to the user. Select projects in the "Project Access" tab to grant access to their associated clients.']})})]}),z7=({projects:e,clients:t,selectedProjects:r,loading:n,isUpdating:i,onProjectToggle:a})=>s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(IS,{className:"w-5 h-5 mr-2"}),s.jsx("h3",{className:"text-lg font-medium",children:"Project Access"})]}),n?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Va,{className:"w-6 h-6 animate-spin"})}):s.jsx(Wy,{className:"h-64 border rounded-lg p-4",children:s.jsx("div",{className:"space-y-3",children:e.map(l=>{const c=t.find(d=>d.id===l.clientId);return s.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-slate-50 rounded",children:[s.jsx(Li,{id:`project-${l.id}`,checked:r.includes(l.id),onCheckedChange:d=>a(l.id,d),disabled:i}),s.jsxs("label",{htmlFor:`project-${l.id}`,className:"flex-1 cursor-pointer",children:[s.jsx("div",{className:"font-medium",children:l.name}),s.jsxs("div",{className:"text-sm text-slate-500",children:["Client: ",c?.name||"Unknown"," | Status: ",l.status]})]})]},l.id)})})}),s.jsxs("div",{className:"mt-4 text-sm text-slate-600",children:["Selected projects: ",r.length," of ",e.length]})]}),H7=({projects:e,clients:t,selectedProjects:r,selectedClients:n,loading:i,isUpdating:a,onProjectToggle:l})=>s.jsxs(oi,{defaultValue:"clients",className:"w-full",children:[s.jsxs(ws,{className:"grid w-full grid-cols-2",children:[s.jsxs(Ht,{value:"clients",children:["Client Access (",n.length,")"]}),s.jsxs(Ht,{value:"projects",children:["Project Access (",r.length,")"]})]}),s.jsx(or,{value:"clients",children:s.jsx($7,{clients:t,projects:e,selectedClients:n,loading:i})}),s.jsx(or,{value:"projects",children:s.jsx(z7,{projects:e,clients:t,selectedProjects:r,loading:i,isUpdating:a,onProjectToggle:l})})]}),W7=({isOpen:e,onClose:t,user:r,projects:n,clients:i=[],onUserUpdate:a})=>{const{assignments:l,loading:c,assignUserToProject:d,removeUserFromProject:h,getUserAssignments:f}=E7(),{demoMode:m}=wt(),[g,y]=N.useState(r),[x,v]=N.useState([]),[b,w]=N.useState([]),[E,_]=N.useState(!1);N.useEffect(()=>{y(r)},[r]),N.useEffect(()=>{if(g&&e){const L=f(g.id).map(F=>F.project_id);v(L);const U=n.filter(F=>L.includes(F.id)).map(F=>F.clientId);w([...new Set(U)])}},[g,l,e,n]);const S=async(B,L)=>{if(g){_(!0);try{L?(await d(g.id,B),v(ee=>[...ee,B])):(await h(g.id,B),v(ee=>ee.filter(me=>me!==B)));const U=L?[...x,B]:x.filter(ee=>ee!==B),F=n.filter(ee=>U.includes(ee.id)).map(ee=>ee.clientId);w([...new Set(F)])}catch(U){console.error("Error toggling project assignment:",U)}finally{_(!1)}}},P=B=>{y(B),a?.(B)};return g?s.jsx(mr,{open:e,onOpenChange:t,children:s.jsxs(lr,{className:"max-w-4xl",children:[s.jsx(cr,{children:s.jsxs(ur,{className:"flex items-center",children:[s.jsx(Uv,{className:"w-5 h-5 mr-2"}),"Edit User: ",g.full_name||(m?"Demo User":g.email)]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(N7,{user:g,onUserUpdate:P}),g.role==="standard"&&s.jsx(H7,{projects:n,clients:i,selectedProjects:x,selectedClients:b,loading:c,isUpdating:E,onProjectToggle:S}),g.role==="admin"&&s.jsx("div",{className:"p-4 bg-purple-50 rounded-lg",children:s.jsxs("p",{className:"text-purple-800",children:[s.jsx("strong",{children:"Admin users"})," have access to all clients and projects automatically."]})})]}),s.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:s.jsx(_e,{variant:"outline",onClick:t,children:"Close"})})]})}):null},q7=({rows:e=5,cols:t=4,headers:r})=>{const n=r&&r.length>0?r:Array.from({length:t},()=>"");return s.jsx("div",{className:"rounded-md border",children:s.jsxs(pc,{children:[s.jsx(mc,{children:s.jsx(Gn,{children:n.map((i,a)=>s.jsx(Ut,{children:i||s.jsx($t,{className:"h-4 w-24"})},a))})}),s.jsx(gc,{children:Array.from({length:e}).map((i,a)=>s.jsx(Gn,{children:Array.from({length:n.length}).map((l,c)=>s.jsx(Bt,{children:s.jsx($t,{className:"h-4 w-full"})},c))},a))})]})})},V7=({users:e,loading:t,onEditUser:r})=>{const{demoMode:n}=wt();return t?s.jsx(q7,{rows:5,cols:5,headers:["Name","Email","Role","Joined","Actions"]}):e.length===0?s.jsx("div",{className:"text-center py-8 text-slate-500",children:"No users found"}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(pc,{children:[s.jsx(mc,{children:s.jsxs(Gn,{children:[s.jsx(Ut,{children:"Name"}),s.jsx(Ut,{children:"Email"}),s.jsx(Ut,{children:"Role"}),s.jsx(Ut,{children:"Joined"}),s.jsx(Ut,{className:"text-right",children:"Actions"})]})}),s.jsx(gc,{children:e.map(i=>s.jsxs(Gn,{children:[s.jsx(Bt,{className:"font-medium",children:i.full_name||"N/A"}),s.jsx(Bt,{children:n?"":i.email}),s.jsx(Bt,{children:s.jsx(at,{className:i.role==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800",children:i.role})}),s.jsx(Bt,{children:sn(new Date(i.created_at),"MMM d, yyyy")}),s.jsx(Bt,{className:"text-right",children:s.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>r(i),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:s.jsx(vs,{className:"h-4 w-4"})})})]},i.id))})]})})},D1=({invites:e,onDeleteInvite:t,showActions:r=!0})=>{const{demoMode:n}=wt(),i=l=>l.used?s.jsx(Ll,{className:"h-4 w-4 text-green-600"}):new Date(l.expires_at)<=new Date?s.jsx(mD,{className:"h-4 w-4 text-red-600"}):l.email_sent?s.jsx(Xl,{className:"h-4 w-4 text-blue-600"}):s.jsx(Kr,{className:"h-4 w-4 text-yellow-600"}),a=l=>l.used?"Used":new Date(l.expires_at)<=new Date?"Expired":l.email_sent?"Sent":"Pending";return e.length===0?s.jsx("div",{className:"text-center py-8 text-slate-500",children:"No invites found"}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(pc,{children:[s.jsx(mc,{children:s.jsxs(Gn,{children:[s.jsx(Ut,{children:"Email"}),s.jsx(Ut,{children:"Role"}),s.jsx(Ut,{children:"Status"}),s.jsx(Ut,{children:r?"Expires":"Date"}),r&&s.jsx(Ut,{className:"text-right",children:"Actions"})]})}),s.jsx(gc,{children:e.map(l=>s.jsxs(Gn,{className:r?"":"opacity-60",children:[s.jsx(Bt,{className:"font-medium",children:n?"":l.email}),s.jsx(Bt,{children:s.jsx(at,{className:l.role==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800",children:l.role})}),s.jsx(Bt,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[i(l),s.jsx("span",{className:"text-sm",children:a(l)})]})}),s.jsx(Bt,{children:sn(new Date(r?l.expires_at:l.used?l.used_at:l.expires_at),"MMM d, yyyy HH:mm")}),r&&s.jsx(Bt,{className:"text-right",children:s.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>t(l.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Wn,{className:"h-4 w-4"})})})]},l.id))})]})})},K7=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!1),{toast:i}=Jt(),{isAdmin:a}=pr(),l=async(m,g,y,x)=>{try{if(["user_role_changed","admin_access","bulk_delete","data_export","login_attempt","failed_login","password_reset"].includes(m)){const{error:b}=await Re.rpc("log_security_action",{p_action:m,p_resource_type:g,p_resource_id:y,p_details:x||{}});b&&console.error("Failed to log security action:",b),["user_role_changed","failed_login"].includes(m)&&i({title:"Security Action Logged",description:`Action: ${m}`,variant:m.includes("failed")?"destructive":"default"})}}catch(v){console.error("Security logging error:",v)}},c=async()=>{},d=(m,g)=>{const y=[/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,/javascript:/gi,/on\w+\s*=/gi,/<iframe\b[^<]*(?:(?!<\/iframe>)<[^<]*)*<\/iframe>/gi,/<object\b[^<]*(?:(?!<\/object>)<[^<]*)*<\/object>/gi,/<embed\b[^<]*(?:(?!<\/embed>)<[^<]*)*<\/embed>/gi,/vbscript:/gi,/data:text\/html/gi];for(const b of y)if(b.test(m))return l("xss_attempt",g,void 0,{input:m.substring(0,100),pattern:b.toString()}),!1;const x=[/('|(\\')|(;|\/\*|\*\/|--|\+))/gi,/(union|select|insert|update|delete|drop|create|alter|exec|execute)/gi,/(or|and)\s+\d+\s*=\s*\d+/gi,/'\s*(or|and)\s*'[^']*'/gi];for(const b of x)if(b.test(m))return l("sql_injection_attempt",g,void 0,{input:m.substring(0,100),pattern:b.toString()}),!1;const v=[/\.\.[\/\\]/gi,/[\/\\]etc[\/\\]/gi,/[\/\\]proc[\/\\]/gi,/[\/\\]sys[\/\\]/gi];for(const b of v)if(b.test(m))return l("path_traversal_attempt",g,void 0,{input:m.substring(0,100)}),!1;return!0},h=(m,g,y)=>{const x=`validation_error_${m}`,v=parseInt(sessionStorage.getItem(x)||"0")+1;sessionStorage.setItem(x,v.toString()),v>5&&l("repeated_validation_errors",m,void 0,{error:g.substring(0,200),count:v,context:"form_validation"}),setTimeout(()=>{sessionStorage.removeItem(x)},36e5)},f=async()=>{if(a){n(!0);try{const{data:m,error:g}=await Re.from("security_audit_log").select("*").order("created_at",{ascending:!1}).limit(100);if(g)throw g;t((m||[]).map(y=>({id:y.id,user_id:y.user_id,action:y.action,resource_type:y.resource_type,resource_id:y.resource_id,details:typeof y.details=="string"?JSON.parse(y.details):y.details||{},ip_address:y.ip_address,user_agent:y.user_agent,created_at:y.created_at})))}catch(m){console.error("Failed to fetch audit logs:",m)}finally{n(!1)}}};return N.useEffect(()=>{if(a){c();const m=setInterval(c,300*1e3);return()=>clearInterval(m)}},[a]),{auditLogs:e,loading:r,logSecurityAction:l,validateInput:d,trackValidationError:h,checkAccessPatterns:c,fetchAuditLogs:f}},G7=()=>{const{isAdmin:e}=pr(),{auditLogs:t,loading:r,fetchAuditLogs:n}=K7();if(N.useEffect(()=>{e&&n()},[e]),!e)return s.jsx(Qe,{children:s.jsx(Je,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(wb,{className:"h-4 w-4"}),s.jsx("span",{children:"Access denied. Admin privileges required."})]})})});const i=l=>l.includes("role")?s.jsx(Uv,{className:"h-4 w-4"}):l.includes("attempt")||l.includes("failed")?s.jsx(PD,{className:"h-4 w-4"}):s.jsx(vD,{className:"h-4 w-4"}),a=l=>l.includes("failed")||l.includes("attempt")?s.jsx(at,{variant:"destructive",children:"Security Alert"}):l.includes("role")||l.includes("admin")?s.jsx(at,{variant:"secondary",children:"Admin Action"}):s.jsx(at,{variant:"outline",children:"System Event"});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wb,{className:"h-6 w-6"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Security Audit Dashboard"})]}),s.jsxs(Qe,{children:[s.jsxs(dt,{children:[s.jsx(ht,{children:"Recent Security Events"}),s.jsx(Vv,{children:"Monitor system security events and administrative actions"})]}),s.jsx(Je,{children:r?s.jsx("div",{className:"text-center py-8",children:"Loading audit logs..."}):t.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No security events recorded yet."}):s.jsx("div",{className:"space-y-4",children:t.map(l=>s.jsxs("div",{className:"flex items-start gap-4 p-4 border rounded-lg",children:[s.jsx("div",{className:"mt-1",children:i(l.action)}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:l.action}),a(l.action)]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Resource: ",l.resource_type,l.resource_id&&` (ID: ${l.resource_id})`]}),l.details&&Object.keys(l.details).length>0&&s.jsx("div",{className:"text-xs bg-muted p-2 rounded",children:s.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(l.details,null,2)})}),s.jsx("div",{className:"text-xs text-muted-foreground",children:sn(new Date(l.created_at),"PPpp")})]})]},l.id))})})]})]})},Y7=()=>{const{users:e,loading:t,refreshUsers:r}=ch(),{invites:n,loading:i,createInvite:a,deleteInvite:l}=zE(),{projects:c}=vc(),{clients:d}=Yi(),{isAdmin:h}=pr(),[f,m]=N.useState(!1),[g,y]=N.useState(!1),[x,v]=N.useState(null);if(!h)return s.jsx(Nn,{children:s.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",style:{backgroundColor:"#F3F3F2"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})]})})});const b=async(P,B)=>{await a(P,B)},w=P=>{v(P),y(!0)},E=P=>{r()},_=n.filter(P=>!P.used&&new Date(P.expires_at)>new Date),S=n.filter(P=>P.used||new Date(P.expires_at)<=new Date);return s.jsx(Nn,{children:s.jsx("div",{className:"min-h-screen p-6",style:{backgroundColor:"#F3F3F2"},children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center",children:[s.jsx(qn,{className:"w-8 h-8 mr-3"}),"User Management"]})}),s.jsxs(_e,{onClick:()=>m(!0),className:"bg-yellow-500 hover:bg-neutral-950 text-neutral-950 hover:text-yellow-500 rounded-sm transition-colors",children:[s.jsx(BS,{className:"w-4 h-4 mr-2"}),"Invite User"]})]}),s.jsxs(oi,{defaultValue:"users",className:"w-full",children:[s.jsxs(ws,{className:"grid w-full grid-cols-3",children:[s.jsxs(Ht,{value:"users",children:["Users (",e.length,")"]}),s.jsxs(Ht,{value:"invites",children:["Invites (",_.length,")"]}),s.jsx(Ht,{value:"security",children:"Security Audit"})]}),s.jsx(or,{value:"users",className:"mt-6",children:s.jsxs(Qe,{children:[s.jsx(dt,{children:s.jsx(ht,{children:"Registered Users"})}),s.jsx(Je,{children:s.jsx(V7,{users:e,loading:t,onEditUser:w})})]})}),s.jsx(or,{value:"invites",className:"mt-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Qe,{children:[s.jsx(dt,{children:s.jsxs(ht,{className:"flex items-center",children:[s.jsx(Xl,{className:"w-5 h-5 mr-2"}),"Active Invites"]})}),s.jsx(Je,{children:i?s.jsx("div",{className:"rounded-md border",children:s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx("div",{className:"h-4 w-32 bg-muted animate-pulse rounded"}),Array.from({length:4}).map((P,B)=>s.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"},B))]})}):s.jsx(D1,{invites:_,onDeleteInvite:l,showActions:!0})})]}),S.length>0&&s.jsxs(Qe,{children:[s.jsx(dt,{children:s.jsx(ht,{children:"Expired/Used Invites"})}),s.jsx(Je,{children:i?s.jsx("div",{className:"rounded-md border",children:s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx("div",{className:"h-4 w-32 bg-muted animate-pulse rounded"}),Array.from({length:3}).map((P,B)=>s.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"},B))]})}):s.jsx(D1,{invites:S,onDeleteInvite:l,showActions:!1})})]})]})}),s.jsx(or,{value:"security",children:s.jsx(G7,{})})]}),s.jsx(S7,{isOpen:f,onClose:()=>m(!1),onInvite:b}),s.jsx(W7,{isOpen:g,onClose:()=>y(!1),user:x,projects:c,clients:d,onUserUpdate:E})]})})})},X7=()=>{const e=Vi();return N.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},qs=({children:e})=>{const{user:t,loading:r}=pr(),n=ii();return N.useEffect(()=>{!r&&!t&&n("/auth",{replace:!0})},[t,r,n]),r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#F3F3F2"},children:s.jsxs("div",{className:"text-center",children:[s.jsx(Va,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600",children:"Loading..."})]})}):t?s.jsx(s.Fragment,{children:e}):null},O1=({children:e})=>s.jsx(gy,{children:s.jsxs("div",{className:"min-h-screen flex w-full",children:[s.jsx("header",{className:"fixed top-0 left-0 z-50 lg:hidden",children:s.jsx(vy,{className:"m-2"})}),s.jsx(WC,{}),s.jsx("main",{className:"flex-1 lg:ml-0 pt-12 lg:pt-0",children:e})]})}),Q7=async()=>{const{data:e,error:t}=await Re.from("contract_templates").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error loading contract templates:",t),t;return(e||[]).map(r=>({...r,variables:Array.isArray(r.variables)?r.variables.filter(n=>typeof n=="string"):[]}))},J7=async e=>{const{data:t,error:r}=await Re.from("contract_templates").insert({name:e.name,template_content:e.template_content,variables:e.variables}).select().single();if(r)throw console.error("Error adding contract template:",r),r;return{...t,variables:Array.isArray(t.variables)?t.variables.filter(n=>typeof n=="string"):[]}},Z7=async(e,t)=>{const{error:r}=await Re.from("contract_templates").update({name:t.name,template_content:t.template_content,variables:t.variables,updated_at:new Date().toISOString()}).eq("id",e);if(r)throw console.error("Error updating contract template:",r),r},e$=async e=>{const{error:t}=await Re.from("contract_templates").delete().eq("id",e);if(t)throw console.error("Error deleting contract template:",t),t},t$=async e=>{const{data:t,error:r}=await Re.from("generated_documents").insert(e).select().single();if(r)throw console.error("Error saving generated document:",r),r;return{...t,variables_used:typeof t.variables_used=="object"&&t.variables_used!==null?t.variables_used:{}}},r$=async()=>{const{data:e,error:t}=await Re.from("generated_documents").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error loading generated documents:",t),t;return(e||[]).map(r=>({...r,variables_used:typeof r.variables_used=="object"&&r.variables_used!==null?r.variables_used:{}}))},n$=async e=>{const{error:t}=await Re.from("generated_documents").delete().eq("id",e);if(t)throw console.error("Error deleting generated document:",t),t},fh=()=>{const[e,t]=N.useState([]),[r,n]=N.useState([]),[i,a]=N.useState(!0),{toast:l}=Jt(),c=async()=>{try{a(!0);const x=await Q7();t(x)}catch(x){console.error("Error loading templates:",x),l({title:"Error",description:"Failed to load contract templates",variant:"destructive"})}finally{a(!1)}},d=async()=>{try{const x=await r$();n(x)}catch(x){console.error("Error loading generated documents:",x),l({title:"Error",description:"Failed to load generated documents",variant:"destructive"})}};return N.useEffect(()=>{c(),d()},[]),{templates:e,generatedDocuments:r,loading:i,addTemplate:async x=>{try{const v=await J7(x);t(b=>[v,...b]),l({title:"Success",description:"Contract template added successfully"})}catch(v){console.error("Error adding template:",v),l({title:"Error",description:"Failed to add contract template",variant:"destructive"})}},updateTemplate:async(x,v)=>{try{await Z7(x,v),t(b=>b.map(w=>w.id===x?{...w,...v}:w)),l({title:"Success",description:"Contract template updated successfully"})}catch(b){console.error("Error updating template:",b),l({title:"Error",description:"Failed to update contract template",variant:"destructive"})}},deleteTemplate:async x=>{try{await e$(x),t(v=>v.filter(b=>b.id!==x)),l({title:"Success",description:"Contract template deleted successfully"})}catch(v){console.error("Error deleting template:",v),l({title:"Error",description:"Failed to delete contract template",variant:"destructive"})}},deleteGeneratedDocument:async x=>{try{await n$(x),n(v=>v.filter(b=>b.id!==x)),l({title:"Success",description:"Generated document deleted successfully"})}catch(v){console.error("Error deleting generated document:",v),l({title:"Error",description:"Failed to delete generated document",variant:"destructive"})}},generateDocument:async(x,v,b,w,E)=>{try{const _=e.find(B=>B.id===x);if(!_)throw new Error("Template not found");let S=_.template_content;Object.entries(v).forEach(([B,L])=>{const U=new RegExp(`{{${B}}}`,"g");S=S.replace(U,String(L))});const P=await t$({template_id:x,project_id:w,client_id:E,document_name:b,generated_content:S,variables_used:v});return n(B=>[P,...B]),l({title:"Success",description:"Document generated successfully"}),P}catch(_){throw console.error("Error generating document:",_),l({title:"Error",description:"Failed to generate document",variant:"destructive"}),_}},refreshTemplates:c,refreshGeneratedDocuments:d}};var s$=Object.defineProperty,i$=Object.defineProperties,a$=Object.getOwnPropertyDescriptors,I1=Object.getOwnPropertySymbols,o$=Object.prototype.hasOwnProperty,l$=Object.prototype.propertyIsEnumerable,fv=(e,t,r)=>t in e?s$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ot=(e,t)=>{for(var r in t||(t={}))o$.call(t,r)&&fv(e,r,t[r]);if(I1)for(var r of I1(t))l$.call(t,r)&&fv(e,r,t[r]);return e},ao=(e,t)=>i$(e,a$(t)),Se=(e,t,r)=>fv(e,typeof t!="symbol"?t+"":t,r),c$=(e,t,r)=>new Promise((n,i)=>{var a=d=>{try{c(r.next(d))}catch(h){i(h)}},l=d=>{try{c(r.throw(d))}catch(h){i(h)}},c=d=>d.done?n(d.value):Promise.resolve(d.value).then(a,l);c((r=r.apply(e,t)).next())});class Pd{constructor(t){Se(this,"rootKey"),this.rootKey=t}}const u$=Object.seal({});class Ce extends Pd{constructor(t){super(t),Se(this,"root"),this.root=new Array}prepForXml(t){var r;t.stack.push(this);const n=this.root.map(i=>i instanceof Pd?i.prepForXml(t):i).filter(i=>i!==void 0);return t.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:u$}}addChildElement(t){return this.root.push(t),this}}class ph extends Ce{prepForXml(t){const r=super.prepForXml(t);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class Ze extends Pd{constructor(t){super("_attr"),Se(this,"xmlKeys"),this.root=t}prepForXml(t){const r={};return Object.entries(this.root).forEach(([n,i])=>{if(i!==void 0){const a=this.xmlKeys&&this.xmlKeys[n]||n;r[a]=i}}),{_attr:r}}}class mh extends Pd{constructor(t){super("_attr"),this.root=t}prepForXml(t){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:a})=>ao(ot({},n),{[i]:a}),{})}}}class Wt extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var $n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zT(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zp={},Vu={exports:{}},M1;function qy(){if(M1)return Vu.exports;M1=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(P,B,L){return Function.prototype.apply.call(P,B,L)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(P){return Object.getOwnPropertyNames(P).concat(Object.getOwnPropertySymbols(P))}:r=function(P){return Object.getOwnPropertyNames(P)};function n(S){console&&console.warn&&console.warn(S)}var i=Number.isNaN||function(P){return P!==P};function a(){a.init.call(this)}Vu.exports=a,Vu.exports.once=w,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var l=10;function c(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(S){if(typeof S!="number"||S<0||i(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");l=S}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||i(P))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+P+".");return this._maxListeners=P,this};function d(S){return S._maxListeners===void 0?a.defaultMaxListeners:S._maxListeners}a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(P){for(var B=[],L=1;L<arguments.length;L++)B.push(arguments[L]);var U=P==="error",F=this._events;if(F!==void 0)U=U&&F.error===void 0;else if(!U)return!1;if(U){var ee;if(B.length>0&&(ee=B[0]),ee instanceof Error)throw ee;var me=new Error("Unhandled error."+(ee?" ("+ee.message+")":""));throw me.context=ee,me}var z=F[P];if(z===void 0)return!1;if(typeof z=="function")t(z,this,B);else for(var G=z.length,A=x(z,G),L=0;L<G;++L)t(A[L],this,B);return!0};function h(S,P,B,L){var U,F,ee;if(c(B),F=S._events,F===void 0?(F=S._events=Object.create(null),S._eventsCount=0):(F.newListener!==void 0&&(S.emit("newListener",P,B.listener?B.listener:B),F=S._events),ee=F[P]),ee===void 0)ee=F[P]=B,++S._eventsCount;else if(typeof ee=="function"?ee=F[P]=L?[B,ee]:[ee,B]:L?ee.unshift(B):ee.push(B),U=d(S),U>0&&ee.length>U&&!ee.warned){ee.warned=!0;var me=new Error("Possible EventEmitter memory leak detected. "+ee.length+" "+String(P)+" listeners added. Use emitter.setMaxListeners() to increase limit");me.name="MaxListenersExceededWarning",me.emitter=S,me.type=P,me.count=ee.length,n(me)}return S}a.prototype.addListener=function(P,B){return h(this,P,B,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(P,B){return h(this,P,B,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(S,P,B){var L={fired:!1,wrapFn:void 0,target:S,type:P,listener:B},U=f.bind(L);return U.listener=B,L.wrapFn=U,U}a.prototype.once=function(P,B){return c(B),this.on(P,m(this,P,B)),this},a.prototype.prependOnceListener=function(P,B){return c(B),this.prependListener(P,m(this,P,B)),this},a.prototype.removeListener=function(P,B){var L,U,F,ee,me;if(c(B),U=this._events,U===void 0)return this;if(L=U[P],L===void 0)return this;if(L===B||L.listener===B)--this._eventsCount===0?this._events=Object.create(null):(delete U[P],U.removeListener&&this.emit("removeListener",P,L.listener||B));else if(typeof L!="function"){for(F=-1,ee=L.length-1;ee>=0;ee--)if(L[ee]===B||L[ee].listener===B){me=L[ee].listener,F=ee;break}if(F<0)return this;F===0?L.shift():v(L,F),L.length===1&&(U[P]=L[0]),U.removeListener!==void 0&&this.emit("removeListener",P,me||B)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(P){var B,L,U;if(L=this._events,L===void 0)return this;if(L.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):L[P]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete L[P]),this;if(arguments.length===0){var F=Object.keys(L),ee;for(U=0;U<F.length;++U)ee=F[U],ee!=="removeListener"&&this.removeAllListeners(ee);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(B=L[P],typeof B=="function")this.removeListener(P,B);else if(B!==void 0)for(U=B.length-1;U>=0;U--)this.removeListener(P,B[U]);return this};function g(S,P,B){var L=S._events;if(L===void 0)return[];var U=L[P];return U===void 0?[]:typeof U=="function"?B?[U.listener||U]:[U]:B?b(U):x(U,U.length)}a.prototype.listeners=function(P){return g(this,P,!0)},a.prototype.rawListeners=function(P){return g(this,P,!1)},a.listenerCount=function(S,P){return typeof S.listenerCount=="function"?S.listenerCount(P):y.call(S,P)},a.prototype.listenerCount=y;function y(S){var P=this._events;if(P!==void 0){var B=P[S];if(typeof B=="function")return 1;if(B!==void 0)return B.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function x(S,P){for(var B=new Array(P),L=0;L<P;++L)B[L]=S[L];return B}function v(S,P){for(;P+1<S.length;P++)S[P]=S[P+1];S.pop()}function b(S){for(var P=new Array(S.length),B=0;B<P.length;++B)P[B]=S[B].listener||S[B];return P}function w(S,P){return new Promise(function(B,L){function U(ee){S.removeListener(P,F),L(ee)}function F(){typeof S.removeListener=="function"&&S.removeListener("error",U),B([].slice.call(arguments))}_(S,P,F,{once:!0}),P!=="error"&&E(S,U,{once:!0})})}function E(S,P,B){typeof S.on=="function"&&_(S,"error",P,B)}function _(S,P,B,L){if(typeof S.on=="function")L.once?S.once(P,B):S.on(P,B);else if(typeof S.addEventListener=="function")S.addEventListener(P,function U(F){L.once&&S.removeEventListener(P,U),B(F)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return Vu.exports}var Ku={exports:{}},F1;function hi(){return F1||(F1=1,typeof Object.create=="function"?Ku.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Ku.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),Ku.exports}function d$(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var HT={exports:{}},qt=HT.exports={},Fn,Ln;function pv(){throw new Error("setTimeout has not been defined")}function mv(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Fn=setTimeout:Fn=pv}catch{Fn=pv}try{typeof clearTimeout=="function"?Ln=clearTimeout:Ln=mv}catch{Ln=mv}})();function WT(e){if(Fn===setTimeout)return setTimeout(e,0);if((Fn===pv||!Fn)&&setTimeout)return Fn=setTimeout,setTimeout(e,0);try{return Fn(e,0)}catch{try{return Fn.call(null,e,0)}catch{return Fn.call(this,e,0)}}}function h$(e){if(Ln===clearTimeout)return clearTimeout(e);if((Ln===mv||!Ln)&&clearTimeout)return Ln=clearTimeout,clearTimeout(e);try{return Ln(e)}catch{try{return Ln.call(null,e)}catch{return Ln.call(this,e)}}}var gs=[],Ha=!1,Ui,ud=-1;function f$(){!Ha||!Ui||(Ha=!1,Ui.length?gs=Ui.concat(gs):ud=-1,gs.length&&qT())}function qT(){if(!Ha){var e=WT(f$);Ha=!0;for(var t=gs.length;t;){for(Ui=gs,gs=[];++ud<t;)Ui&&Ui[ud].run();ud=-1,t=gs.length}Ui=null,Ha=!1,h$(e)}}qt.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];gs.push(new VT(e,t)),gs.length===1&&!Ha&&WT(qT)};function VT(e,t){this.fun=e,this.array=t}VT.prototype.run=function(){this.fun.apply(null,this.array)};qt.title="browser";qt.browser=!0;qt.env={};qt.argv=[];qt.version="";qt.versions={};function _s(){}qt.on=_s;qt.addListener=_s;qt.once=_s;qt.off=_s;qt.removeListener=_s;qt.removeAllListeners=_s;qt.emit=_s;qt.prependListener=_s;qt.prependOnceListener=_s;qt.listeners=function(e){return[]};qt.binding=function(e){throw new Error("process.binding is not supported")};qt.cwd=function(){return"/"};qt.chdir=function(e){throw new Error("process.chdir is not supported")};qt.umask=function(){return 0};var p$=HT.exports;const nt=d$(p$);var Hp,L1;function KT(){return L1||(L1=1,Hp=qy().EventEmitter),Hp}var Wp={},yl={},U1;function m$(){if(U1)return yl;U1=1,yl.byteLength=c,yl.toByteArray=h,yl.fromByteArray=g;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=n.length;i<a;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function l(y){var x=y.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=y.indexOf("=");v===-1&&(v=x);var b=v===x?0:4-v%4;return[v,b]}function c(y){var x=l(y),v=x[0],b=x[1];return(v+b)*3/4-b}function d(y,x,v){return(x+v)*3/4-v}function h(y){var x,v=l(y),b=v[0],w=v[1],E=new r(d(y,b,w)),_=0,S=w>0?b-4:b,P;for(P=0;P<S;P+=4)x=t[y.charCodeAt(P)]<<18|t[y.charCodeAt(P+1)]<<12|t[y.charCodeAt(P+2)]<<6|t[y.charCodeAt(P+3)],E[_++]=x>>16&255,E[_++]=x>>8&255,E[_++]=x&255;return w===2&&(x=t[y.charCodeAt(P)]<<2|t[y.charCodeAt(P+1)]>>4,E[_++]=x&255),w===1&&(x=t[y.charCodeAt(P)]<<10|t[y.charCodeAt(P+1)]<<4|t[y.charCodeAt(P+2)]>>2,E[_++]=x>>8&255,E[_++]=x&255),E}function f(y){return e[y>>18&63]+e[y>>12&63]+e[y>>6&63]+e[y&63]}function m(y,x,v){for(var b,w=[],E=x;E<v;E+=3)b=(y[E]<<16&16711680)+(y[E+1]<<8&65280)+(y[E+2]&255),w.push(f(b));return w.join("")}function g(y){for(var x,v=y.length,b=v%3,w=[],E=16383,_=0,S=v-b;_<S;_+=E)w.push(m(y,_,_+E>S?S:_+E));return b===1?(x=y[v-1],w.push(e[x>>2]+e[x<<4&63]+"==")):b===2&&(x=(y[v-2]<<8)+y[v-1],w.push(e[x>>10]+e[x>>4&63]+e[x<<2&63]+"=")),w.join("")}return yl}var Gu={};var B1;function g$(){return B1||(B1=1,Gu.read=function(e,t,r,n,i){var a,l,c=i*8-n-1,d=(1<<c)-1,h=d>>1,f=-7,m=r?i-1:0,g=r?-1:1,y=e[t+m];for(m+=g,a=y&(1<<-f)-1,y>>=-f,f+=c;f>0;a=a*256+e[t+m],m+=g,f-=8);for(l=a&(1<<-f)-1,a>>=-f,f+=n;f>0;l=l*256+e[t+m],m+=g,f-=8);if(a===0)a=1-h;else{if(a===d)return l?NaN:(y?-1:1)*(1/0);l=l+Math.pow(2,n),a=a-h}return(y?-1:1)*l*Math.pow(2,a-n)},Gu.write=function(e,t,r,n,i,a){var l,c,d,h=a*8-i-1,f=(1<<h)-1,m=f>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:a-1,x=n?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,l=f):(l=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-l))<1&&(l--,d*=2),l+m>=1?t+=g/d:t+=g*Math.pow(2,1-m),t*d>=2&&(l++,d/=2),l+m>=f?(c=0,l=f):l+m>=1?(c=(t*d-1)*Math.pow(2,i),l=l+m):(c=t*Math.pow(2,m-1)*Math.pow(2,i),l=0));i>=8;e[r+y]=c&255,y+=x,c/=256,i-=8);for(l=l<<i|c,h+=i;h>0;e[r+y]=l&255,y+=x,l/=256,h-=8);e[r+y-x]|=v*128}),Gu}var $1;function gh(){return $1||($1=1,(function(e){var t=m$(),r=g$(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=E,e.INSPECT_MAX_BYTES=50;var i=2147483647;e.kMaxLength=i,c.TYPED_ARRAY_SUPPORT=a(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{var $=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf($,C),$.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function l($){if($>i)throw new RangeError('The value "'+$+'" is invalid for option "size"');var C=new Uint8Array($);return Object.setPrototypeOf(C,c.prototype),C}function c($,C,k){if(typeof $=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m($)}return d($,C,k)}c.poolSize=8192;function d($,C,k){if(typeof $=="string")return g($,C);if(ArrayBuffer.isView($))return x($);if($==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(pe($,ArrayBuffer)||$&&pe($.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pe($,SharedArrayBuffer)||$&&pe($.buffer,SharedArrayBuffer)))return v($,C,k);if(typeof $=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var M=$.valueOf&&$.valueOf();if(M!=null&&M!==$)return c.from(M,C,k);var Z=b($);if(Z)return Z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof $[Symbol.toPrimitive]=="function")return c.from($[Symbol.toPrimitive]("string"),C,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}c.from=function($,C,k){return d($,C,k)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function h($){if(typeof $!="number")throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function f($,C,k){return h($),$<=0?l($):C!==void 0?typeof k=="string"?l($).fill(C,k):l($).fill(C):l($)}c.alloc=function($,C,k){return f($,C,k)};function m($){return h($),l($<0?0:w($)|0)}c.allocUnsafe=function($){return m($)},c.allocUnsafeSlow=function($){return m($)};function g($,C){if((typeof C!="string"||C==="")&&(C="utf8"),!c.isEncoding(C))throw new TypeError("Unknown encoding: "+C);var k=_($,C)|0,M=l(k),Z=M.write($,C);return Z!==k&&(M=M.slice(0,Z)),M}function y($){for(var C=$.length<0?0:w($.length)|0,k=l(C),M=0;M<C;M+=1)k[M]=$[M]&255;return k}function x($){if(pe($,Uint8Array)){var C=new Uint8Array($);return v(C.buffer,C.byteOffset,C.byteLength)}return y($)}function v($,C,k){if(C<0||$.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<C+(k||0))throw new RangeError('"length" is outside of buffer bounds');var M;return C===void 0&&k===void 0?M=new Uint8Array($):k===void 0?M=new Uint8Array($,C):M=new Uint8Array($,C,k),Object.setPrototypeOf(M,c.prototype),M}function b($){if(c.isBuffer($)){var C=w($.length)|0,k=l(C);return k.length===0||$.copy(k,0,0,C),k}if($.length!==void 0)return typeof $.length!="number"||I($.length)?l(0):y($);if($.type==="Buffer"&&Array.isArray($.data))return y($.data)}function w($){if($>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return $|0}function E($){return+$!=$&&($=0),c.alloc(+$)}c.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==c.prototype},c.compare=function(C,k){if(pe(C,Uint8Array)&&(C=c.from(C,C.offset,C.byteLength)),pe(k,Uint8Array)&&(k=c.from(k,k.offset,k.byteLength)),!c.isBuffer(C)||!c.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===k)return 0;for(var M=C.length,Z=k.length,ce=0,se=Math.min(M,Z);ce<se;++ce)if(C[ce]!==k[ce]){M=C[ce],Z=k[ce];break}return M<Z?-1:Z<M?1:0},c.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(C,k){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return c.alloc(0);var M;if(k===void 0)for(k=0,M=0;M<C.length;++M)k+=C[M].length;var Z=c.allocUnsafe(k),ce=0;for(M=0;M<C.length;++M){var se=C[M];if(pe(se,Uint8Array))ce+se.length>Z.length?c.from(se).copy(Z,ce):Uint8Array.prototype.set.call(Z,se,ce);else if(c.isBuffer(se))se.copy(Z,ce);else throw new TypeError('"list" argument must be an Array of Buffers');ce+=se.length}return Z};function _($,C){if(c.isBuffer($))return $.length;if(ArrayBuffer.isView($)||pe($,ArrayBuffer))return $.byteLength;if(typeof $!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);var k=$.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&k===0)return 0;for(var Z=!1;;)switch(C){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return O($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return K($).length;default:if(Z)return M?-1:O($).length;C=(""+C).toLowerCase(),Z=!0}}c.byteLength=_;function S($,C,k){var M=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,C>>>=0,k<=C))return"";for($||($="utf8");;)switch($){case"hex":return ne(this,C,k);case"utf8":case"utf-8":return A(this,C,k);case"ascii":return V(this,C,k);case"latin1":case"binary":return X(this,C,k);case"base64":return G(this,C,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,C,k);default:if(M)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),M=!0}}c.prototype._isBuffer=!0;function P($,C,k){var M=$[C];$[C]=$[k],$[k]=M}c.prototype.swap16=function(){var C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var k=0;k<C;k+=2)P(this,k,k+1);return this},c.prototype.swap32=function(){var C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var k=0;k<C;k+=4)P(this,k,k+3),P(this,k+1,k+2);return this},c.prototype.swap64=function(){var C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var k=0;k<C;k+=8)P(this,k,k+7),P(this,k+1,k+6),P(this,k+2,k+5),P(this,k+3,k+4);return this},c.prototype.toString=function(){var C=this.length;return C===0?"":arguments.length===0?A(this,0,C):S.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(C){if(!c.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:c.compare(this,C)===0},c.prototype.inspect=function(){var C="",k=e.INSPECT_MAX_BYTES;return C=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(C+=" ... "),"<Buffer "+C+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(C,k,M,Z,ce){if(pe(C,Uint8Array)&&(C=c.from(C,C.offset,C.byteLength)),!c.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(k===void 0&&(k=0),M===void 0&&(M=C?C.length:0),Z===void 0&&(Z=0),ce===void 0&&(ce=this.length),k<0||M>C.length||Z<0||ce>this.length)throw new RangeError("out of range index");if(Z>=ce&&k>=M)return 0;if(Z>=ce)return-1;if(k>=M)return 1;if(k>>>=0,M>>>=0,Z>>>=0,ce>>>=0,this===C)return 0;for(var se=ce-Z,be=M-k,Ee=Math.min(se,be),je=this.slice(Z,ce),Ie=C.slice(k,M),$e=0;$e<Ee;++$e)if(je[$e]!==Ie[$e]){se=je[$e],be=Ie[$e];break}return se<be?-1:be<se?1:0};function B($,C,k,M,Z){if($.length===0)return-1;if(typeof k=="string"?(M=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,I(k)&&(k=Z?0:$.length-1),k<0&&(k=$.length+k),k>=$.length){if(Z)return-1;k=$.length-1}else if(k<0)if(Z)k=0;else return-1;if(typeof C=="string"&&(C=c.from(C,M)),c.isBuffer(C))return C.length===0?-1:L($,C,k,M,Z);if(typeof C=="number")return C=C&255,typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call($,C,k):Uint8Array.prototype.lastIndexOf.call($,C,k):L($,[C],k,M,Z);throw new TypeError("val must be string, number or Buffer")}function L($,C,k,M,Z){var ce=1,se=$.length,be=C.length;if(M!==void 0&&(M=String(M).toLowerCase(),M==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if($.length<2||C.length<2)return-1;ce=2,se/=2,be/=2,k/=2}function Ee(Zt,kr){return ce===1?Zt[kr]:Zt.readUInt16BE(kr*ce)}var je;if(Z){var Ie=-1;for(je=k;je<se;je++)if(Ee($,je)===Ee(C,Ie===-1?0:je-Ie)){if(Ie===-1&&(Ie=je),je-Ie+1===be)return Ie*ce}else Ie!==-1&&(je-=je-Ie),Ie=-1}else for(k+be>se&&(k=se-be),je=k;je>=0;je--){for(var $e=!0,Ge=0;Ge<be;Ge++)if(Ee($,je+Ge)!==Ee(C,Ge)){$e=!1;break}if($e)return je}return-1}c.prototype.includes=function(C,k,M){return this.indexOf(C,k,M)!==-1},c.prototype.indexOf=function(C,k,M){return B(this,C,k,M,!0)},c.prototype.lastIndexOf=function(C,k,M){return B(this,C,k,M,!1)};function U($,C,k,M){k=Number(k)||0;var Z=$.length-k;M?(M=Number(M),M>Z&&(M=Z)):M=Z;var ce=C.length;M>ce/2&&(M=ce/2);for(var se=0;se<M;++se){var be=parseInt(C.substr(se*2,2),16);if(I(be))return se;$[k+se]=be}return se}function F($,C,k,M){return Y(O(C,$.length-k),$,k,M)}function ee($,C,k,M){return Y(re(C),$,k,M)}function me($,C,k,M){return Y(K(C),$,k,M)}function z($,C,k,M){return Y(Q(C,$.length-k),$,k,M)}c.prototype.write=function(C,k,M,Z){if(k===void 0)Z="utf8",M=this.length,k=0;else if(M===void 0&&typeof k=="string")Z=k,M=this.length,k=0;else if(isFinite(k))k=k>>>0,isFinite(M)?(M=M>>>0,Z===void 0&&(Z="utf8")):(Z=M,M=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ce=this.length-k;if((M===void 0||M>ce)&&(M=ce),C.length>0&&(M<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var se=!1;;)switch(Z){case"hex":return U(this,C,k,M);case"utf8":case"utf-8":return F(this,C,k,M);case"ascii":case"latin1":case"binary":return ee(this,C,k,M);case"base64":return me(this,C,k,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,C,k,M);default:if(se)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),se=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function G($,C,k){return C===0&&k===$.length?t.fromByteArray($):t.fromByteArray($.slice(C,k))}function A($,C,k){k=Math.min($.length,k);for(var M=[],Z=C;Z<k;){var ce=$[Z],se=null,be=ce>239?4:ce>223?3:ce>191?2:1;if(Z+be<=k){var Ee,je,Ie,$e;switch(be){case 1:ce<128&&(se=ce);break;case 2:Ee=$[Z+1],(Ee&192)===128&&($e=(ce&31)<<6|Ee&63,$e>127&&(se=$e));break;case 3:Ee=$[Z+1],je=$[Z+2],(Ee&192)===128&&(je&192)===128&&($e=(ce&15)<<12|(Ee&63)<<6|je&63,$e>2047&&($e<55296||$e>57343)&&(se=$e));break;case 4:Ee=$[Z+1],je=$[Z+2],Ie=$[Z+3],(Ee&192)===128&&(je&192)===128&&(Ie&192)===128&&($e=(ce&15)<<18|(Ee&63)<<12|(je&63)<<6|Ie&63,$e>65535&&$e<1114112&&(se=$e))}}se===null?(se=65533,be=1):se>65535&&(se-=65536,M.push(se>>>10&1023|55296),se=56320|se&1023),M.push(se),Z+=be}return J(M)}var te=4096;function J($){var C=$.length;if(C<=te)return String.fromCharCode.apply(String,$);for(var k="",M=0;M<C;)k+=String.fromCharCode.apply(String,$.slice(M,M+=te));return k}function V($,C,k){var M="";k=Math.min($.length,k);for(var Z=C;Z<k;++Z)M+=String.fromCharCode($[Z]&127);return M}function X($,C,k){var M="";k=Math.min($.length,k);for(var Z=C;Z<k;++Z)M+=String.fromCharCode($[Z]);return M}function ne($,C,k){var M=$.length;(!C||C<0)&&(C=0),(!k||k<0||k>M)&&(k=M);for(var Z="",ce=C;ce<k;++ce)Z+=ge[$[ce]];return Z}function he($,C,k){for(var M=$.slice(C,k),Z="",ce=0;ce<M.length-1;ce+=2)Z+=String.fromCharCode(M[ce]+M[ce+1]*256);return Z}c.prototype.slice=function(C,k){var M=this.length;C=~~C,k=k===void 0?M:~~k,C<0?(C+=M,C<0&&(C=0)):C>M&&(C=M),k<0?(k+=M,k<0&&(k=0)):k>M&&(k=M),k<C&&(k=C);var Z=this.subarray(C,k);return Object.setPrototypeOf(Z,c.prototype),Z};function W($,C,k){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+C>k)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(C,k,M){C=C>>>0,k=k>>>0,M||W(C,k,this.length);for(var Z=this[C],ce=1,se=0;++se<k&&(ce*=256);)Z+=this[C+se]*ce;return Z},c.prototype.readUintBE=c.prototype.readUIntBE=function(C,k,M){C=C>>>0,k=k>>>0,M||W(C,k,this.length);for(var Z=this[C+--k],ce=1;k>0&&(ce*=256);)Z+=this[C+--k]*ce;return Z},c.prototype.readUint8=c.prototype.readUInt8=function(C,k){return C=C>>>0,k||W(C,1,this.length),this[C]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(C,k){return C=C>>>0,k||W(C,2,this.length),this[C]|this[C+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(C,k){return C=C>>>0,k||W(C,2,this.length),this[C]<<8|this[C+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(C,k){return C=C>>>0,k||W(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(C,k){return C=C>>>0,k||W(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},c.prototype.readIntLE=function(C,k,M){C=C>>>0,k=k>>>0,M||W(C,k,this.length);for(var Z=this[C],ce=1,se=0;++se<k&&(ce*=256);)Z+=this[C+se]*ce;return ce*=128,Z>=ce&&(Z-=Math.pow(2,8*k)),Z},c.prototype.readIntBE=function(C,k,M){C=C>>>0,k=k>>>0,M||W(C,k,this.length);for(var Z=k,ce=1,se=this[C+--Z];Z>0&&(ce*=256);)se+=this[C+--Z]*ce;return ce*=128,se>=ce&&(se-=Math.pow(2,8*k)),se},c.prototype.readInt8=function(C,k){return C=C>>>0,k||W(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},c.prototype.readInt16LE=function(C,k){C=C>>>0,k||W(C,2,this.length);var M=this[C]|this[C+1]<<8;return M&32768?M|4294901760:M},c.prototype.readInt16BE=function(C,k){C=C>>>0,k||W(C,2,this.length);var M=this[C+1]|this[C]<<8;return M&32768?M|4294901760:M},c.prototype.readInt32LE=function(C,k){return C=C>>>0,k||W(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},c.prototype.readInt32BE=function(C,k){return C=C>>>0,k||W(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},c.prototype.readFloatLE=function(C,k){return C=C>>>0,k||W(C,4,this.length),r.read(this,C,!0,23,4)},c.prototype.readFloatBE=function(C,k){return C=C>>>0,k||W(C,4,this.length),r.read(this,C,!1,23,4)},c.prototype.readDoubleLE=function(C,k){return C=C>>>0,k||W(C,8,this.length),r.read(this,C,!0,52,8)},c.prototype.readDoubleBE=function(C,k){return C=C>>>0,k||W(C,8,this.length),r.read(this,C,!1,52,8)};function H($,C,k,M,Z,ce){if(!c.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>Z||C<ce)throw new RangeError('"value" argument is out of bounds');if(k+M>$.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(C,k,M,Z){if(C=+C,k=k>>>0,M=M>>>0,!Z){var ce=Math.pow(2,8*M)-1;H(this,C,k,M,ce,0)}var se=1,be=0;for(this[k]=C&255;++be<M&&(se*=256);)this[k+be]=C/se&255;return k+M},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(C,k,M,Z){if(C=+C,k=k>>>0,M=M>>>0,!Z){var ce=Math.pow(2,8*M)-1;H(this,C,k,M,ce,0)}var se=M-1,be=1;for(this[k+se]=C&255;--se>=0&&(be*=256);)this[k+se]=C/be&255;return k+M},c.prototype.writeUint8=c.prototype.writeUInt8=function(C,k,M){return C=+C,k=k>>>0,M||H(this,C,k,1,255,0),this[k]=C&255,k+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(C,k,M){return C=+C,k=k>>>0,M||H(this,C,k,2,65535,0),this[k]=C&255,this[k+1]=C>>>8,k+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(C,k,M){return C=+C,k=k>>>0,M||H(this,C,k,2,65535,0),this[k]=C>>>8,this[k+1]=C&255,k+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(C,k,M){return C=+C,k=k>>>0,M||H(this,C,k,4,4294967295,0),this[k+3]=C>>>24,this[k+2]=C>>>16,this[k+1]=C>>>8,this[k]=C&255,k+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(C,k,M){return C=+C,k=k>>>0,M||H(this,C,k,4,4294967295,0),this[k]=C>>>24,this[k+1]=C>>>16,this[k+2]=C>>>8,this[k+3]=C&255,k+4},c.prototype.writeIntLE=function(C,k,M,Z){if(C=+C,k=k>>>0,!Z){var ce=Math.pow(2,8*M-1);H(this,C,k,M,ce-1,-ce)}var se=0,be=1,Ee=0;for(this[k]=C&255;++se<M&&(be*=256);)C<0&&Ee===0&&this[k+se-1]!==0&&(Ee=1),this[k+se]=(C/be>>0)-Ee&255;return k+M},c.prototype.writeIntBE=function(C,k,M,Z){if(C=+C,k=k>>>0,!Z){var ce=Math.pow(2,8*M-1);H(this,C,k,M,ce-1,-ce)}var se=M-1,be=1,Ee=0;for(this[k+se]=C&255;--se>=0&&(be*=256);)C<0&&Ee===0&&this[k+se+1]!==0&&(Ee=1),this[k+se]=(C/be>>0)-Ee&255;return k+M},c.prototype.writeInt8=function(C,k,M){return C=+C,k=k>>>0,M||H(this,C,k,1,127,-128),C<0&&(C=255+C+1),this[k]=C&255,k+1},c.prototype.writeInt16LE=function(C,k,M){return C=+C,k=k>>>0,M||H(this,C,k,2,32767,-32768),this[k]=C&255,this[k+1]=C>>>8,k+2},c.prototype.writeInt16BE=function(C,k,M){return C=+C,k=k>>>0,M||H(this,C,k,2,32767,-32768),this[k]=C>>>8,this[k+1]=C&255,k+2},c.prototype.writeInt32LE=function(C,k,M){return C=+C,k=k>>>0,M||H(this,C,k,4,2147483647,-2147483648),this[k]=C&255,this[k+1]=C>>>8,this[k+2]=C>>>16,this[k+3]=C>>>24,k+4},c.prototype.writeInt32BE=function(C,k,M){return C=+C,k=k>>>0,M||H(this,C,k,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[k]=C>>>24,this[k+1]=C>>>16,this[k+2]=C>>>8,this[k+3]=C&255,k+4};function ie($,C,k,M,Z,ce){if(k+M>$.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function le($,C,k,M,Z){return C=+C,k=k>>>0,Z||ie($,C,k,4),r.write($,C,k,M,23,4),k+4}c.prototype.writeFloatLE=function(C,k,M){return le(this,C,k,!0,M)},c.prototype.writeFloatBE=function(C,k,M){return le(this,C,k,!1,M)};function fe($,C,k,M,Z){return C=+C,k=k>>>0,Z||ie($,C,k,8),r.write($,C,k,M,52,8),k+8}c.prototype.writeDoubleLE=function(C,k,M){return fe(this,C,k,!0,M)},c.prototype.writeDoubleBE=function(C,k,M){return fe(this,C,k,!1,M)},c.prototype.copy=function(C,k,M,Z){if(!c.isBuffer(C))throw new TypeError("argument should be a Buffer");if(M||(M=0),!Z&&Z!==0&&(Z=this.length),k>=C.length&&(k=C.length),k||(k=0),Z>0&&Z<M&&(Z=M),Z===M||C.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),C.length-k<Z-M&&(Z=C.length-k+M);var ce=Z-M;return this===C&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(k,M,Z):Uint8Array.prototype.set.call(C,this.subarray(M,Z),k),ce},c.prototype.fill=function(C,k,M,Z){if(typeof C=="string"){if(typeof k=="string"?(Z=k,k=0,M=this.length):typeof M=="string"&&(Z=M,M=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!c.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(C.length===1){var ce=C.charCodeAt(0);(Z==="utf8"&&ce<128||Z==="latin1")&&(C=ce)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(k<0||this.length<k||this.length<M)throw new RangeError("Out of range index");if(M<=k)return this;k=k>>>0,M=M===void 0?this.length:M>>>0,C||(C=0);var se;if(typeof C=="number")for(se=k;se<M;++se)this[se]=C;else{var be=c.isBuffer(C)?C:c.from(C,Z),Ee=be.length;if(Ee===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(se=0;se<M-k;++se)this[se+k]=be[se%Ee]}return this};var ae=/[^+/0-9A-Za-z-_]/g;function D($){if($=$.split("=")[0],$=$.trim().replace(ae,""),$.length<2)return"";for(;$.length%4!==0;)$=$+"=";return $}function O($,C){C=C||1/0;for(var k,M=$.length,Z=null,ce=[],se=0;se<M;++se){if(k=$.charCodeAt(se),k>55295&&k<57344){if(!Z){if(k>56319){(C-=3)>-1&&ce.push(239,191,189);continue}else if(se+1===M){(C-=3)>-1&&ce.push(239,191,189);continue}Z=k;continue}if(k<56320){(C-=3)>-1&&ce.push(239,191,189),Z=k;continue}k=(Z-55296<<10|k-56320)+65536}else Z&&(C-=3)>-1&&ce.push(239,191,189);if(Z=null,k<128){if((C-=1)<0)break;ce.push(k)}else if(k<2048){if((C-=2)<0)break;ce.push(k>>6|192,k&63|128)}else if(k<65536){if((C-=3)<0)break;ce.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((C-=4)<0)break;ce.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return ce}function re($){for(var C=[],k=0;k<$.length;++k)C.push($.charCodeAt(k)&255);return C}function Q($,C){for(var k,M,Z,ce=[],se=0;se<$.length&&!((C-=2)<0);++se)k=$.charCodeAt(se),M=k>>8,Z=k%256,ce.push(Z),ce.push(M);return ce}function K($){return t.toByteArray(D($))}function Y($,C,k,M){for(var Z=0;Z<M&&!(Z+k>=C.length||Z>=$.length);++Z)C[Z+k]=$[Z];return Z}function pe($,C){return $ instanceof C||$!=null&&$.constructor!=null&&$.constructor.name!=null&&$.constructor.name===C.name}function I($){return $!==$}var ge=(function(){for(var $="0123456789abcdef",C=new Array(256),k=0;k<16;++k)for(var M=k*16,Z=0;Z<16;++Z)C[M+Z]=$[k]+$[Z];return C})()})(Wp)),Wp}var qp={},Vp={},Kp,z1;function GT(){return z1||(z1=1,Kp=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(var a in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var l=Object.getOwnPropertySymbols(t);if(l.length!==1||l[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(t,r);if(c.value!==i||c.enumerable!==!0)return!1}return!0}),Kp}var Gp,H1;function Vy(){if(H1)return Gp;H1=1;var e=GT();return Gp=function(){return e()&&!!Symbol.toStringTag},Gp}var Yp,W1;function YT(){return W1||(W1=1,Yp=Object),Yp}var Xp,q1;function v$(){return q1||(q1=1,Xp=Error),Xp}var Qp,V1;function y$(){return V1||(V1=1,Qp=EvalError),Qp}var Jp,K1;function x$(){return K1||(K1=1,Jp=RangeError),Jp}var Zp,G1;function w$(){return G1||(G1=1,Zp=ReferenceError),Zp}var em,Y1;function XT(){return Y1||(Y1=1,em=SyntaxError),em}var tm,X1;function yc(){return X1||(X1=1,tm=TypeError),tm}var rm,Q1;function b$(){return Q1||(Q1=1,rm=URIError),rm}var nm,J1;function _$(){return J1||(J1=1,nm=Math.abs),nm}var sm,Z1;function j$(){return Z1||(Z1=1,sm=Math.floor),sm}var im,e_;function S$(){return e_||(e_=1,im=Math.max),im}var am,t_;function E$(){return t_||(t_=1,am=Math.min),am}var om,r_;function N$(){return r_||(r_=1,om=Math.pow),om}var lm,n_;function C$(){return n_||(n_=1,lm=Math.round),lm}var cm,s_;function k$(){return s_||(s_=1,cm=Number.isNaN||function(t){return t!==t}),cm}var um,i_;function T$(){if(i_)return um;i_=1;var e=k$();return um=function(r){return e(r)||r===0?r:r<0?-1:1},um}var dm,a_;function P$(){return a_||(a_=1,dm=Object.getOwnPropertyDescriptor),dm}var hm,o_;function xc(){if(o_)return hm;o_=1;var e=P$();if(e)try{e([],"length")}catch{e=null}return hm=e,hm}var fm,l_;function vh(){if(l_)return fm;l_=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return fm=e,fm}var pm,c_;function A$(){if(c_)return pm;c_=1;var e=typeof Symbol<"u"&&Symbol,t=GT();return pm=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},pm}var mm,u_;function QT(){return u_||(u_=1,mm=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),mm}var gm,d_;function JT(){if(d_)return gm;d_=1;var e=YT();return gm=e.getPrototypeOf||null,gm}var vm,h_;function R$(){if(h_)return vm;h_=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(d,h){for(var f=[],m=0;m<d.length;m+=1)f[m]=d[m];for(var g=0;g<h.length;g+=1)f[g+d.length]=h[g];return f},a=function(d,h){for(var f=[],m=h,g=0;m<d.length;m+=1,g+=1)f[g]=d[m];return f},l=function(c,d){for(var h="",f=0;f<c.length;f+=1)h+=c[f],f+1<c.length&&(h+=d);return h};return vm=function(d){var h=this;if(typeof h!="function"||t.apply(h)!==n)throw new TypeError(e+h);for(var f=a(arguments,1),m,g=function(){if(this instanceof m){var w=h.apply(this,i(f,arguments));return Object(w)===w?w:this}return h.apply(d,i(f,arguments))},y=r(0,h.length-f.length),x=[],v=0;v<y;v++)x[v]="$"+v;if(m=Function("binder","return function ("+l(x,",")+"){ return binder.apply(this,arguments); }")(g),h.prototype){var b=function(){};b.prototype=h.prototype,m.prototype=new b,b.prototype=null}return m},vm}var ym,f_;function wc(){if(f_)return ym;f_=1;var e=R$();return ym=Function.prototype.bind||e,ym}var xm,p_;function Ky(){return p_||(p_=1,xm=Function.prototype.call),xm}var wm,m_;function ZT(){return m_||(m_=1,wm=Function.prototype.apply),wm}var bm,g_;function D$(){return g_||(g_=1,bm=typeof Reflect<"u"&&Reflect&&Reflect.apply),bm}var _m,v_;function O$(){if(v_)return _m;v_=1;var e=wc(),t=ZT(),r=Ky(),n=D$();return _m=n||e.call(r,t),_m}var jm,y_;function I$(){if(y_)return jm;y_=1;var e=wc(),t=yc(),r=Ky(),n=O$();return jm=function(a){if(a.length<1||typeof a[0]!="function")throw new t("a function is required");return n(e,r,a)},jm}var Sm,x_;function M$(){if(x_)return Sm;x_=1;var e=I$(),t=xc(),r;try{r=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var n=!!r&&t&&t(Object.prototype,"__proto__"),i=Object,a=i.getPrototypeOf;return Sm=n&&typeof n.get=="function"?e([n.get]):typeof a=="function"?(function(c){return a(c==null?c:i(c))}):!1,Sm}var Em,w_;function F$(){if(w_)return Em;w_=1;var e=QT(),t=JT(),r=M$();return Em=e?function(i){return e(i)}:t?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return t(i)}:r?function(i){return r(i)}:null,Em}var Nm,b_;function L$(){if(b_)return Nm;b_=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=wc();return Nm=r.call(e,t),Nm}var Cm,__;function Gy(){if(__)return Cm;__=1;var e,t=YT(),r=v$(),n=y$(),i=x$(),a=w$(),l=XT(),c=yc(),d=b$(),h=_$(),f=j$(),m=S$(),g=E$(),y=N$(),x=C$(),v=T$(),b=Function,w=function(re){try{return b('"use strict"; return ('+re+").constructor;")()}catch{}},E=xc(),_=vh(),S=function(){throw new c},P=E?(function(){try{return arguments.callee,S}catch{try{return E(arguments,"callee").get}catch{return S}}})():S,B=A$()(),L=F$(),U=JT(),F=QT(),ee=ZT(),me=Ky(),z={},G=typeof Uint8Array>"u"||!L?e:L(Uint8Array),A={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":B&&L?L([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":z,"%AsyncGenerator%":z,"%AsyncGeneratorFunction%":z,"%AsyncIteratorPrototype%":z,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":z,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":B&&L?L(L([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!B||!L?e:L(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":E,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":i,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!B||!L?e:L(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":B&&L?L(""[Symbol.iterator]()):e,"%Symbol%":B?Symbol:e,"%SyntaxError%":l,"%ThrowTypeError%":P,"%TypedArray%":G,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":d,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":me,"%Function.prototype.apply%":ee,"%Object.defineProperty%":_,"%Object.getPrototypeOf%":U,"%Math.abs%":h,"%Math.floor%":f,"%Math.max%":m,"%Math.min%":g,"%Math.pow%":y,"%Math.round%":x,"%Math.sign%":v,"%Reflect.getPrototypeOf%":F};if(L)try{null.error}catch(re){var te=L(L(re));A["%Error.prototype%"]=te}var J=function re(Q){var K;if(Q==="%AsyncFunction%")K=w("async function () {}");else if(Q==="%GeneratorFunction%")K=w("function* () {}");else if(Q==="%AsyncGeneratorFunction%")K=w("async function* () {}");else if(Q==="%AsyncGenerator%"){var Y=re("%AsyncGeneratorFunction%");Y&&(K=Y.prototype)}else if(Q==="%AsyncIteratorPrototype%"){var pe=re("%AsyncGenerator%");pe&&L&&(K=L(pe.prototype))}return A[Q]=K,K},V={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},X=wc(),ne=L$(),he=X.call(me,Array.prototype.concat),W=X.call(ee,Array.prototype.splice),H=X.call(me,String.prototype.replace),ie=X.call(me,String.prototype.slice),le=X.call(me,RegExp.prototype.exec),fe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ae=/\\(\\)?/g,D=function(Q){var K=ie(Q,0,1),Y=ie(Q,-1);if(K==="%"&&Y!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(Y==="%"&&K!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var pe=[];return H(Q,fe,function(I,ge,$,C){pe[pe.length]=$?H(C,ae,"$1"):ge||I}),pe},O=function(Q,K){var Y=Q,pe;if(ne(V,Y)&&(pe=V[Y],Y="%"+pe[0]+"%"),ne(A,Y)){var I=A[Y];if(I===z&&(I=J(Y)),typeof I>"u"&&!K)throw new c("intrinsic "+Q+" exists, but is not available. Please file an issue!");return{alias:pe,name:Y,value:I}}throw new l("intrinsic "+Q+" does not exist!")};return Cm=function(Q,K){if(typeof Q!="string"||Q.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof K!="boolean")throw new c('"allowMissing" argument must be a boolean');if(le(/^%?[^%]*%?$/,Q)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Y=D(Q),pe=Y.length>0?Y[0]:"",I=O("%"+pe+"%",K),ge=I.name,$=I.value,C=!1,k=I.alias;k&&(pe=k[0],W(Y,he([0,1],k)));for(var M=1,Z=!0;M<Y.length;M+=1){var ce=Y[M],se=ie(ce,0,1),be=ie(ce,-1);if((se==='"'||se==="'"||se==="`"||be==='"'||be==="'"||be==="`")&&se!==be)throw new l("property names with quotes must have matching quotes");if((ce==="constructor"||!Z)&&(C=!0),pe+="."+ce,ge="%"+pe+"%",ne(A,ge))$=A[ge];else if($!=null){if(!(ce in $)){if(!K)throw new c("base intrinsic for "+Q+" exists, but the property is not available.");return}if(E&&M+1>=Y.length){var Ee=E($,ce);Z=!!Ee,Z&&"get"in Ee&&!("originalValue"in Ee.get)?$=Ee.get:$=$[ce]}else Z=ne($,ce),$=$[ce];Z&&!C&&(A[ge]=$)}}return $},Cm}var km={exports:{}},Tm,j_;function U$(){if(j_)return Tm;j_=1;var e=vh(),t=XT(),r=yc(),n=xc();return Tm=function(a,l,c){if(!a||typeof a!="object"&&typeof a!="function")throw new r("`obj` must be an object or a function`");if(typeof l!="string"&&typeof l!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var d=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,m=arguments.length>6?arguments[6]:!1,g=!!n&&n(a,l);if(e)e(a,l,{configurable:f===null&&g?g.configurable:!f,enumerable:d===null&&g?g.enumerable:!d,value:c,writable:h===null&&g?g.writable:!h});else if(m||!d&&!h&&!f)a[l]=c;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Tm}var Pm,S_;function B$(){if(S_)return Pm;S_=1;var e=vh(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},Pm=t,Pm}var Am,E_;function $$(){if(E_)return Am;E_=1;var e=Gy(),t=U$(),r=B$()(),n=xc(),i=yc(),a=e("%Math.floor%");return Am=function(c,d){if(typeof c!="function")throw new i("`fn` is not a function");if(typeof d!="number"||d<0||d>4294967295||a(d)!==d)throw new i("`length` must be a positive 32-bit integer");var h=arguments.length>2&&!!arguments[2],f=!0,m=!0;if("length"in c&&n){var g=n(c,"length");g&&!g.configurable&&(f=!1),g&&!g.writable&&(m=!1)}return(f||m||!h)&&(r?t(c,"length",d,!0,!0):t(c,"length",d)),c},Am}var N_;function e2(){return N_||(N_=1,(function(e){var t=wc(),r=Gy(),n=$$(),i=yc(),a=r("%Function.prototype.apply%"),l=r("%Function.prototype.call%"),c=r("%Reflect.apply%",!0)||t.call(l,a),d=vh(),h=r("%Math.max%");e.exports=function(g){if(typeof g!="function")throw new i("a function is required");var y=c(t,l,arguments);return n(y,1+h(0,g.length-(arguments.length-1)),!0)};var f=function(){return c(t,a,arguments)};d?d(e.exports,"apply",{value:f}):e.exports.apply=f})(km)),km.exports}var Rm,C_;function t2(){if(C_)return Rm;C_=1;var e=Gy(),t=e2(),r=t(e("String.prototype.indexOf"));return Rm=function(i,a){var l=e(i,!!a);return typeof l=="function"&&r(i,".prototype.")>-1?t(l):l},Rm}var Dm,k_;function z$(){if(k_)return Dm;k_=1;var e=Vy()(),t=t2(),r=t("Object.prototype.toString"),n=function(c){return e&&c&&typeof c=="object"&&Symbol.toStringTag in c?!1:r(c)==="[object Arguments]"},i=function(c){return n(c)?!0:c!==null&&typeof c=="object"&&typeof c.length=="number"&&c.length>=0&&r(c)!=="[object Array]"&&r(c.callee)==="[object Function]"},a=(function(){return n(arguments)})();return n.isLegacyArguments=i,Dm=a?n:i,Dm}var Om,T_;function H$(){if(T_)return Om;T_=1;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=Vy()(),i=Object.getPrototypeOf,a=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},l;return Om=function(d){if(typeof d!="function")return!1;if(r.test(t.call(d)))return!0;if(!n){var h=e.call(d);return h==="[object GeneratorFunction]"}if(!i)return!1;if(typeof l>"u"){var f=a();l=f?i(f):!1}return i(d)===l},Om}var Im,P_;function W$(){if(P_)return Im;P_=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(E){E!==n&&(t=null)}else t=null;var i=/^\s*class\b/,a=function(_){try{var S=e.call(_);return i.test(S)}catch{return!1}},l=function(_){try{return a(_)?!1:(e.call(_),!0)}catch{return!1}},c=Object.prototype.toString,d="[object Object]",h="[object Function]",f="[object GeneratorFunction]",m="[object HTMLAllCollection]",g="[object HTML document.all class]",y="[object HTMLCollection]",x=typeof Symbol=="function"&&!!Symbol.toStringTag,v=!(0 in[,]),b=function(){return!1};if(typeof document=="object"){var w=document.all;c.call(w)===c.call(document.all)&&(b=function(_){if((v||!_)&&(typeof _>"u"||typeof _=="object"))try{var S=c.call(_);return(S===m||S===g||S===y||S===d)&&_("")==null}catch{}return!1})}return Im=t?function(_){if(b(_))return!0;if(!_||typeof _!="function"&&typeof _!="object")return!1;try{t(_,null,r)}catch(S){if(S!==n)return!1}return!a(_)&&l(_)}:function(_){if(b(_))return!0;if(!_||typeof _!="function"&&typeof _!="object")return!1;if(x)return l(_);if(a(_))return!1;var S=c.call(_);return S!==h&&S!==f&&!/^\[object HTML/.test(S)?!1:l(_)},Im}var Mm,A_;function q$(){if(A_)return Mm;A_=1;var e=W$(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(d,h,f){for(var m=0,g=d.length;m<g;m++)r.call(d,m)&&(f==null?h(d[m],m,d):h.call(f,d[m],m,d))},i=function(d,h,f){for(var m=0,g=d.length;m<g;m++)f==null?h(d.charAt(m),m,d):h.call(f,d.charAt(m),m,d)},a=function(d,h,f){for(var m in d)r.call(d,m)&&(f==null?h(d[m],m,d):h.call(f,d[m],m,d))},l=function(d,h,f){if(!e(h))throw new TypeError("iterator must be a function");var m;arguments.length>=3&&(m=f),t.call(d)==="[object Array]"?n(d,h,m):typeof d=="string"?i(d,h,m):a(d,h,m)};return Mm=l,Mm}var Fm,R_;function V$(){return R_||(R_=1,Fm=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),Fm}var Lm,D_;function K$(){if(D_)return Lm;D_=1;var e=V$(),t=typeof globalThis>"u"?$n:globalThis;return Lm=function(){for(var n=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(n[n.length]=e[i]);return n},Lm}var Um,O_;function r2(){if(O_)return Um;O_=1;var e=q$(),t=K$(),r=e2(),n=t2(),i=xc(),a=n("Object.prototype.toString"),l=Vy()(),c=typeof globalThis>"u"?$n:globalThis,d=t(),h=n("String.prototype.slice"),f=Object.getPrototypeOf,m=n("Array.prototype.indexOf",!0)||function(b,w){for(var E=0;E<b.length;E+=1)if(b[E]===w)return E;return-1},g={__proto__:null};l&&i&&f?e(d,function(v){var b=new c[v];if(Symbol.toStringTag in b){var w=f(b),E=i(w,Symbol.toStringTag);if(!E){var _=f(w);E=i(_,Symbol.toStringTag)}g["$"+v]=r(E.get)}}):e(d,function(v){var b=new c[v],w=b.slice||b.set;w&&(g["$"+v]=r(w))});var y=function(b){var w=!1;return e(g,function(E,_){if(!w)try{"$"+E(b)===_&&(w=h(_,1))}catch{}}),w},x=function(b){var w=!1;return e(g,function(E,_){if(!w)try{E(b),w=h(_,1)}catch{}}),w};return Um=function(b){if(!b||typeof b!="object")return!1;if(!l){var w=h(a(b),8,-1);return m(d,w)>-1?w:w!=="Object"?!1:x(b)}return i?y(b):null},Um}var Bm,I_;function G$(){if(I_)return Bm;I_=1;var e=r2();return Bm=function(r){return!!e(r)},Bm}var M_;function Y$(){return M_||(M_=1,(function(e){var t=z$(),r=H$(),n=r2(),i=G$();function a(M){return M.call.bind(M)}var l=typeof BigInt<"u",c=typeof Symbol<"u",d=a(Object.prototype.toString),h=a(Number.prototype.valueOf),f=a(String.prototype.valueOf),m=a(Boolean.prototype.valueOf);if(l)var g=a(BigInt.prototype.valueOf);if(c)var y=a(Symbol.prototype.valueOf);function x(M,Z){if(typeof M!="object")return!1;try{return Z(M),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=i;function v(M){return typeof Promise<"u"&&M instanceof Promise||M!==null&&typeof M=="object"&&typeof M.then=="function"&&typeof M.catch=="function"}e.isPromise=v;function b(M){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(M):i(M)||ie(M)}e.isArrayBufferView=b;function w(M){return n(M)==="Uint8Array"}e.isUint8Array=w;function E(M){return n(M)==="Uint8ClampedArray"}e.isUint8ClampedArray=E;function _(M){return n(M)==="Uint16Array"}e.isUint16Array=_;function S(M){return n(M)==="Uint32Array"}e.isUint32Array=S;function P(M){return n(M)==="Int8Array"}e.isInt8Array=P;function B(M){return n(M)==="Int16Array"}e.isInt16Array=B;function L(M){return n(M)==="Int32Array"}e.isInt32Array=L;function U(M){return n(M)==="Float32Array"}e.isFloat32Array=U;function F(M){return n(M)==="Float64Array"}e.isFloat64Array=F;function ee(M){return n(M)==="BigInt64Array"}e.isBigInt64Array=ee;function me(M){return n(M)==="BigUint64Array"}e.isBigUint64Array=me;function z(M){return d(M)==="[object Map]"}z.working=typeof Map<"u"&&z(new Map);function G(M){return typeof Map>"u"?!1:z.working?z(M):M instanceof Map}e.isMap=G;function A(M){return d(M)==="[object Set]"}A.working=typeof Set<"u"&&A(new Set);function te(M){return typeof Set>"u"?!1:A.working?A(M):M instanceof Set}e.isSet=te;function J(M){return d(M)==="[object WeakMap]"}J.working=typeof WeakMap<"u"&&J(new WeakMap);function V(M){return typeof WeakMap>"u"?!1:J.working?J(M):M instanceof WeakMap}e.isWeakMap=V;function X(M){return d(M)==="[object WeakSet]"}X.working=typeof WeakSet<"u"&&X(new WeakSet);function ne(M){return X(M)}e.isWeakSet=ne;function he(M){return d(M)==="[object ArrayBuffer]"}he.working=typeof ArrayBuffer<"u"&&he(new ArrayBuffer);function W(M){return typeof ArrayBuffer>"u"?!1:he.working?he(M):M instanceof ArrayBuffer}e.isArrayBuffer=W;function H(M){return d(M)==="[object DataView]"}H.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&H(new DataView(new ArrayBuffer(1),0,1));function ie(M){return typeof DataView>"u"?!1:H.working?H(M):M instanceof DataView}e.isDataView=ie;var le=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function fe(M){return d(M)==="[object SharedArrayBuffer]"}function ae(M){return typeof le>"u"?!1:(typeof fe.working>"u"&&(fe.working=fe(new le)),fe.working?fe(M):M instanceof le)}e.isSharedArrayBuffer=ae;function D(M){return d(M)==="[object AsyncFunction]"}e.isAsyncFunction=D;function O(M){return d(M)==="[object Map Iterator]"}e.isMapIterator=O;function re(M){return d(M)==="[object Set Iterator]"}e.isSetIterator=re;function Q(M){return d(M)==="[object Generator]"}e.isGeneratorObject=Q;function K(M){return d(M)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=K;function Y(M){return x(M,h)}e.isNumberObject=Y;function pe(M){return x(M,f)}e.isStringObject=pe;function I(M){return x(M,m)}e.isBooleanObject=I;function ge(M){return l&&x(M,g)}e.isBigIntObject=ge;function $(M){return c&&x(M,y)}e.isSymbolObject=$;function C(M){return Y(M)||pe(M)||I(M)||ge(M)||$(M)}e.isBoxedPrimitive=C;function k(M){return typeof Uint8Array<"u"&&(W(M)||ae(M))}e.isAnyArrayBuffer=k,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(M){Object.defineProperty(e,M,{enumerable:!1,value:function(){throw new Error(M+" is not supported in userland")}})})})(Vp)),Vp}var $m,F_;function X$(){return F_||(F_=1,$m=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),$m}var L_;function n2(){return L_||(L_=1,(function(e){var t=Object.getOwnPropertyDescriptors||function(ie){for(var le=Object.keys(ie),fe={},ae=0;ae<le.length;ae++)fe[le[ae]]=Object.getOwnPropertyDescriptor(ie,le[ae]);return fe},r=/%[sdj%]/g;e.format=function(H){if(!P(H)){for(var ie=[],le=0;le<arguments.length;le++)ie.push(l(arguments[le]));return ie.join(" ")}for(var le=1,fe=arguments,ae=fe.length,D=String(H).replace(r,function(re){if(re==="%%")return"%";if(le>=ae)return re;switch(re){case"%s":return String(fe[le++]);case"%d":return Number(fe[le++]);case"%j":try{return JSON.stringify(fe[le++])}catch{return"[Circular]"}default:return re}}),O=fe[le];le<ae;O=fe[++le])E(O)||!F(O)?D+=" "+O:D+=" "+l(O);return D},e.deprecate=function(H,ie){if(typeof nt<"u"&&nt.noDeprecation===!0)return H;if(typeof nt>"u")return function(){return e.deprecate(H,ie).apply(this,arguments)};var le=!1;function fe(){if(!le){if(nt.throwDeprecation)throw new Error(ie);nt.traceDeprecation?console.trace(ie):console.error(ie),le=!0}return H.apply(this,arguments)}return fe};var n={},i=/^$/;if(nt.env.NODE_DEBUG){var a=nt.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+a+"$","i")}e.debuglog=function(H){if(H=H.toUpperCase(),!n[H])if(i.test(H)){var ie=nt.pid;n[H]=function(){var le=e.format.apply(e,arguments);console.error("%s %d: %s",H,ie,le)}}else n[H]=function(){};return n[H]};function l(H,ie){var le={seen:[],stylize:d};return arguments.length>=3&&(le.depth=arguments[2]),arguments.length>=4&&(le.colors=arguments[3]),w(ie)?le.showHidden=ie:ie&&e._extend(le,ie),L(le.showHidden)&&(le.showHidden=!1),L(le.depth)&&(le.depth=2),L(le.colors)&&(le.colors=!1),L(le.customInspect)&&(le.customInspect=!0),le.colors&&(le.stylize=c),f(le,H,le.depth)}e.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function c(H,ie){var le=l.styles[ie];return le?"\x1B["+l.colors[le][0]+"m"+H+"\x1B["+l.colors[le][1]+"m":H}function d(H,ie){return H}function h(H){var ie={};return H.forEach(function(le,fe){ie[le]=!0}),ie}function f(H,ie,le){if(H.customInspect&&ie&&z(ie.inspect)&&ie.inspect!==e.inspect&&!(ie.constructor&&ie.constructor.prototype===ie)){var fe=ie.inspect(le,H);return P(fe)||(fe=f(H,fe,le)),fe}var ae=m(H,ie);if(ae)return ae;var D=Object.keys(ie),O=h(D);if(H.showHidden&&(D=Object.getOwnPropertyNames(ie)),me(ie)&&(D.indexOf("message")>=0||D.indexOf("description")>=0))return g(ie);if(D.length===0){if(z(ie)){var re=ie.name?": "+ie.name:"";return H.stylize("[Function"+re+"]","special")}if(U(ie))return H.stylize(RegExp.prototype.toString.call(ie),"regexp");if(ee(ie))return H.stylize(Date.prototype.toString.call(ie),"date");if(me(ie))return g(ie)}var Q="",K=!1,Y=["{","}"];if(b(ie)&&(K=!0,Y=["[","]"]),z(ie)){var pe=ie.name?": "+ie.name:"";Q=" [Function"+pe+"]"}if(U(ie)&&(Q=" "+RegExp.prototype.toString.call(ie)),ee(ie)&&(Q=" "+Date.prototype.toUTCString.call(ie)),me(ie)&&(Q=" "+g(ie)),D.length===0&&(!K||ie.length==0))return Y[0]+Q+Y[1];if(le<0)return U(ie)?H.stylize(RegExp.prototype.toString.call(ie),"regexp"):H.stylize("[Object]","special");H.seen.push(ie);var I;return K?I=y(H,ie,le,O,D):I=D.map(function(ge){return x(H,ie,le,O,ge,K)}),H.seen.pop(),v(I,Q,Y)}function m(H,ie){if(L(ie))return H.stylize("undefined","undefined");if(P(ie)){var le="'"+JSON.stringify(ie).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return H.stylize(le,"string")}if(S(ie))return H.stylize(""+ie,"number");if(w(ie))return H.stylize(""+ie,"boolean");if(E(ie))return H.stylize("null","null")}function g(H){return"["+Error.prototype.toString.call(H)+"]"}function y(H,ie,le,fe,ae){for(var D=[],O=0,re=ie.length;O<re;++O)X(ie,String(O))?D.push(x(H,ie,le,fe,String(O),!0)):D.push("");return ae.forEach(function(Q){Q.match(/^\d+$/)||D.push(x(H,ie,le,fe,Q,!0))}),D}function x(H,ie,le,fe,ae,D){var O,re,Q;if(Q=Object.getOwnPropertyDescriptor(ie,ae)||{value:ie[ae]},Q.get?Q.set?re=H.stylize("[Getter/Setter]","special"):re=H.stylize("[Getter]","special"):Q.set&&(re=H.stylize("[Setter]","special")),X(fe,ae)||(O="["+ae+"]"),re||(H.seen.indexOf(Q.value)<0?(E(le)?re=f(H,Q.value,null):re=f(H,Q.value,le-1),re.indexOf(`
`)>-1&&(D?re=re.split(`
`).map(function(K){return"  "+K}).join(`
`).slice(2):re=`
`+re.split(`
`).map(function(K){return"   "+K}).join(`
`))):re=H.stylize("[Circular]","special")),L(O)){if(D&&ae.match(/^\d+$/))return re;O=JSON.stringify(""+ae),O.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(O=O.slice(1,-1),O=H.stylize(O,"name")):(O=O.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),O=H.stylize(O,"string"))}return O+": "+re}function v(H,ie,le){var fe=H.reduce(function(ae,D){return D.indexOf(`
`)>=0,ae+D.replace(/\u001b\[\d\d?m/g,"").length+1},0);return fe>60?le[0]+(ie===""?"":ie+`
 `)+" "+H.join(`,
  `)+" "+le[1]:le[0]+ie+" "+H.join(", ")+" "+le[1]}e.types=Y$();function b(H){return Array.isArray(H)}e.isArray=b;function w(H){return typeof H=="boolean"}e.isBoolean=w;function E(H){return H===null}e.isNull=E;function _(H){return H==null}e.isNullOrUndefined=_;function S(H){return typeof H=="number"}e.isNumber=S;function P(H){return typeof H=="string"}e.isString=P;function B(H){return typeof H=="symbol"}e.isSymbol=B;function L(H){return H===void 0}e.isUndefined=L;function U(H){return F(H)&&A(H)==="[object RegExp]"}e.isRegExp=U,e.types.isRegExp=U;function F(H){return typeof H=="object"&&H!==null}e.isObject=F;function ee(H){return F(H)&&A(H)==="[object Date]"}e.isDate=ee,e.types.isDate=ee;function me(H){return F(H)&&(A(H)==="[object Error]"||H instanceof Error)}e.isError=me,e.types.isNativeError=me;function z(H){return typeof H=="function"}e.isFunction=z;function G(H){return H===null||typeof H=="boolean"||typeof H=="number"||typeof H=="string"||typeof H=="symbol"||typeof H>"u"}e.isPrimitive=G,e.isBuffer=X$();function A(H){return Object.prototype.toString.call(H)}function te(H){return H<10?"0"+H.toString(10):H.toString(10)}var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function V(){var H=new Date,ie=[te(H.getHours()),te(H.getMinutes()),te(H.getSeconds())].join(":");return[H.getDate(),J[H.getMonth()],ie].join(" ")}e.log=function(){console.log("%s - %s",V(),e.format.apply(e,arguments))},e.inherits=hi(),e._extend=function(H,ie){if(!ie||!F(ie))return H;for(var le=Object.keys(ie),fe=le.length;fe--;)H[le[fe]]=ie[le[fe]];return H};function X(H,ie){return Object.prototype.hasOwnProperty.call(H,ie)}var ne=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(ie){if(typeof ie!="function")throw new TypeError('The "original" argument must be of type Function');if(ne&&ie[ne]){var le=ie[ne];if(typeof le!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(le,ne,{value:le,enumerable:!1,writable:!1,configurable:!0}),le}function le(){for(var fe,ae,D=new Promise(function(Q,K){fe=Q,ae=K}),O=[],re=0;re<arguments.length;re++)O.push(arguments[re]);O.push(function(Q,K){Q?ae(Q):fe(K)});try{ie.apply(this,O)}catch(Q){ae(Q)}return D}return Object.setPrototypeOf(le,Object.getPrototypeOf(ie)),ne&&Object.defineProperty(le,ne,{value:le,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(le,t(ie))},e.promisify.custom=ne;function he(H,ie){if(!H){var le=new Error("Promise was rejected with a falsy value");le.reason=H,H=le}return ie(H)}function W(H){if(typeof H!="function")throw new TypeError('The "original" argument must be of type Function');function ie(){for(var le=[],fe=0;fe<arguments.length;fe++)le.push(arguments[fe]);var ae=le.pop();if(typeof ae!="function")throw new TypeError("The last argument must be of type Function");var D=this,O=function(){return ae.apply(D,arguments)};H.apply(this,le).then(function(re){nt.nextTick(O.bind(null,null,re))},function(re){nt.nextTick(he.bind(null,re,O))})}return Object.setPrototypeOf(ie,Object.getPrototypeOf(H)),Object.defineProperties(ie,t(H)),ie}e.callbackify=W})(qp)),qp}var zm,U_;function Q$(){if(U_)return zm;U_=1;function e(g,y){var x=Object.keys(g);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(g);y&&(v=v.filter(function(b){return Object.getOwnPropertyDescriptor(g,b).enumerable})),x.push.apply(x,v)}return x}function t(g){for(var y=1;y<arguments.length;y++){var x=arguments[y]!=null?arguments[y]:{};y%2?e(Object(x),!0).forEach(function(v){r(g,v,x[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(x)):e(Object(x)).forEach(function(v){Object.defineProperty(g,v,Object.getOwnPropertyDescriptor(x,v))})}return g}function r(g,y,x){return y in g?Object.defineProperty(g,y,{value:x,enumerable:!0,configurable:!0,writable:!0}):g[y]=x,g}function n(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function i(g,y){for(var x=0;x<y.length;x++){var v=y[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}function a(g,y,x){return y&&i(g.prototype,y),g}var l=gh(),c=l.Buffer,d=n2(),h=d.inspect,f=h&&h.custom||"inspect";function m(g,y,x){c.prototype.copy.call(g,y,x)}return zm=(function(){function g(){n(this,g),this.head=null,this.tail=null,this.length=0}return a(g,[{key:"push",value:function(x){var v={data:x,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(x){var v={data:x,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var x=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,x}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(x){if(this.length===0)return"";for(var v=this.head,b=""+v.data;v=v.next;)b+=x+v.data;return b}},{key:"concat",value:function(x){if(this.length===0)return c.alloc(0);for(var v=c.allocUnsafe(x>>>0),b=this.head,w=0;b;)m(b.data,v,w),w+=b.data.length,b=b.next;return v}},{key:"consume",value:function(x,v){var b;return x<this.head.data.length?(b=this.head.data.slice(0,x),this.head.data=this.head.data.slice(x)):x===this.head.data.length?b=this.shift():b=v?this._getString(x):this._getBuffer(x),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(x){var v=this.head,b=1,w=v.data;for(x-=w.length;v=v.next;){var E=v.data,_=x>E.length?E.length:x;if(_===E.length?w+=E:w+=E.slice(0,x),x-=_,x===0){_===E.length?(++b,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=E.slice(_));break}++b}return this.length-=b,w}},{key:"_getBuffer",value:function(x){var v=c.allocUnsafe(x),b=this.head,w=1;for(b.data.copy(v),x-=b.data.length;b=b.next;){var E=b.data,_=x>E.length?E.length:x;if(E.copy(v,v.length-x,0,_),x-=_,x===0){_===E.length?(++w,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=E.slice(_));break}++w}return this.length-=w,v}},{key:f,value:function(x,v){return h(this,t({},v,{depth:0,customInspect:!1}))}}]),g})(),zm}var Hm,B_;function s2(){if(B_)return Hm;B_=1;function e(l,c){var d=this,h=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return h||f?(c?c(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,nt.nextTick(i,this,l)):nt.nextTick(i,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(m){!c&&m?d._writableState?d._writableState.errorEmitted?nt.nextTick(r,d):(d._writableState.errorEmitted=!0,nt.nextTick(t,d,m)):nt.nextTick(t,d,m):c?(nt.nextTick(r,d),c(m)):nt.nextTick(r,d)}),this)}function t(l,c){i(l,c),r(l)}function r(l){l._writableState&&!l._writableState.emitClose||l._readableState&&!l._readableState.emitClose||l.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(l,c){l.emit("error",c)}function a(l,c){var d=l._readableState,h=l._writableState;d&&d.autoDestroy||h&&h.autoDestroy?l.destroy(c):l.emit("error",c)}return Hm={destroy:e,undestroy:n,errorOrDestroy:a},Hm}var Wm={},$_;function So(){if($_)return Wm;$_=1;function e(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var t={};function r(c,d,h){h||(h=Error);function f(g,y,x){return typeof d=="string"?d:d(g,y,x)}var m=(function(g){e(y,g);function y(x,v,b){return g.call(this,f(x,v,b))||this}return y})(h);m.prototype.name=h.name,m.prototype.code=c,t[c]=m}function n(c,d){if(Array.isArray(c)){var h=c.length;return c=c.map(function(f){return String(f)}),h>2?"one of ".concat(d," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(d," ").concat(c[0]," or ").concat(c[1]):"of ".concat(d," ").concat(c[0])}else return"of ".concat(d," ").concat(String(c))}function i(c,d,h){return c.substr(0,d.length)===d}function a(c,d,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-d.length,h)===d}function l(c,d,h){return typeof h!="number"&&(h=0),h+d.length>c.length?!1:c.indexOf(d,h)!==-1}return r("ERR_INVALID_OPT_VALUE",function(c,d){return'The value "'+d+'" is invalid for option "'+c+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(c,d,h){var f;typeof d=="string"&&i(d,"not ")?(f="must not be",d=d.replace(/^not /,"")):f="must be";var m;if(a(c," argument"))m="The ".concat(c," ").concat(f," ").concat(n(d,"type"));else{var g=l(c,".")?"property":"argument";m='The "'.concat(c,'" ').concat(g," ").concat(f," ").concat(n(d,"type"))}return m+=". Received type ".concat(typeof h),m},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Wm.codes=t,Wm}var qm,z_;function i2(){if(z_)return qm;z_=1;var e=So().codes.ERR_INVALID_OPT_VALUE;function t(n,i,a){return n.highWaterMark!=null?n.highWaterMark:i?n[a]:null}function r(n,i,a,l){var c=t(i,l,a);if(c!=null){if(!(isFinite(c)&&Math.floor(c)===c)||c<0){var d=l?a:"highWaterMark";throw new e(d,c)}return Math.floor(c)}return n.objectMode?16:16*1024}return qm={getHighWaterMark:r},qm}var Vm,H_;function J$(){if(H_)return Vm;H_=1,Vm=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function a(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return a}function t(r){try{if(!$n.localStorage)return!1}catch{return!1}var n=$n.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Vm}var Km,W_;function a2(){if(W_)return Km;W_=1,Km=U;function e(ae){var D=this;this.next=null,this.entry=null,this.finish=function(){fe(D,ae)}}var t;U.WritableState=B;var r={deprecate:J$()},n=KT(),i=gh().Buffer,a=$n.Uint8Array||function(){};function l(ae){return i.from(ae)}function c(ae){return i.isBuffer(ae)||ae instanceof a}var d=s2(),h=i2(),f=h.getHighWaterMark,m=So().codes,g=m.ERR_INVALID_ARG_TYPE,y=m.ERR_METHOD_NOT_IMPLEMENTED,x=m.ERR_MULTIPLE_CALLBACK,v=m.ERR_STREAM_CANNOT_PIPE,b=m.ERR_STREAM_DESTROYED,w=m.ERR_STREAM_NULL_VALUES,E=m.ERR_STREAM_WRITE_AFTER_END,_=m.ERR_UNKNOWN_ENCODING,S=d.errorOrDestroy;hi()(U,n);function P(){}function B(ae,D,O){t=t||oo(),ae=ae||{},typeof O!="boolean"&&(O=D instanceof t),this.objectMode=!!ae.objectMode,O&&(this.objectMode=this.objectMode||!!ae.writableObjectMode),this.highWaterMark=f(this,ae,"writableHighWaterMark",O),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var re=ae.decodeStrings===!1;this.decodeStrings=!re,this.defaultEncoding=ae.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Q){J(D,Q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ae.emitClose!==!1,this.autoDestroy=!!ae.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}B.prototype.getBuffer=function(){for(var D=this.bufferedRequest,O=[];D;)O.push(D),D=D.next;return O},(function(){try{Object.defineProperty(B.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var L;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(L=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function(D){return L.call(this,D)?!0:this!==U?!1:D&&D._writableState instanceof B}})):L=function(D){return D instanceof this};function U(ae){t=t||oo();var D=this instanceof t;if(!D&&!L.call(U,this))return new U(ae);this._writableState=new B(ae,this,D),this.writable=!0,ae&&(typeof ae.write=="function"&&(this._write=ae.write),typeof ae.writev=="function"&&(this._writev=ae.writev),typeof ae.destroy=="function"&&(this._destroy=ae.destroy),typeof ae.final=="function"&&(this._final=ae.final)),n.call(this)}U.prototype.pipe=function(){S(this,new v)};function F(ae,D){var O=new E;S(ae,O),nt.nextTick(D,O)}function ee(ae,D,O,re){var Q;return O===null?Q=new w:typeof O!="string"&&!D.objectMode&&(Q=new g("chunk",["string","Buffer"],O)),Q?(S(ae,Q),nt.nextTick(re,Q),!1):!0}U.prototype.write=function(ae,D,O){var re=this._writableState,Q=!1,K=!re.objectMode&&c(ae);return K&&!i.isBuffer(ae)&&(ae=l(ae)),typeof D=="function"&&(O=D,D=null),K?D="buffer":D||(D=re.defaultEncoding),typeof O!="function"&&(O=P),re.ending?F(this,O):(K||ee(this,re,ae,O))&&(re.pendingcb++,Q=z(this,re,K,ae,D,O)),Q},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){var ae=this._writableState;ae.corked&&(ae.corked--,!ae.writing&&!ae.corked&&!ae.bufferProcessing&&ae.bufferedRequest&&ne(this,ae))},U.prototype.setDefaultEncoding=function(D){if(typeof D=="string"&&(D=D.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((D+"").toLowerCase())>-1))throw new _(D);return this._writableState.defaultEncoding=D,this},Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function me(ae,D,O){return!ae.objectMode&&ae.decodeStrings!==!1&&typeof D=="string"&&(D=i.from(D,O)),D}Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function z(ae,D,O,re,Q,K){if(!O){var Y=me(D,re,Q);re!==Y&&(O=!0,Q="buffer",re=Y)}var pe=D.objectMode?1:re.length;D.length+=pe;var I=D.length<D.highWaterMark;if(I||(D.needDrain=!0),D.writing||D.corked){var ge=D.lastBufferedRequest;D.lastBufferedRequest={chunk:re,encoding:Q,isBuf:O,callback:K,next:null},ge?ge.next=D.lastBufferedRequest:D.bufferedRequest=D.lastBufferedRequest,D.bufferedRequestCount+=1}else G(ae,D,!1,pe,re,Q,K);return I}function G(ae,D,O,re,Q,K,Y){D.writelen=re,D.writecb=Y,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new b("write")):O?ae._writev(Q,D.onwrite):ae._write(Q,K,D.onwrite),D.sync=!1}function A(ae,D,O,re,Q){--D.pendingcb,O?(nt.nextTick(Q,re),nt.nextTick(ie,ae,D),ae._writableState.errorEmitted=!0,S(ae,re)):(Q(re),ae._writableState.errorEmitted=!0,S(ae,re),ie(ae,D))}function te(ae){ae.writing=!1,ae.writecb=null,ae.length-=ae.writelen,ae.writelen=0}function J(ae,D){var O=ae._writableState,re=O.sync,Q=O.writecb;if(typeof Q!="function")throw new x;if(te(O),D)A(ae,O,re,D,Q);else{var K=he(O)||ae.destroyed;!K&&!O.corked&&!O.bufferProcessing&&O.bufferedRequest&&ne(ae,O),re?nt.nextTick(V,ae,O,K,Q):V(ae,O,K,Q)}}function V(ae,D,O,re){O||X(ae,D),D.pendingcb--,re(),ie(ae,D)}function X(ae,D){D.length===0&&D.needDrain&&(D.needDrain=!1,ae.emit("drain"))}function ne(ae,D){D.bufferProcessing=!0;var O=D.bufferedRequest;if(ae._writev&&O&&O.next){var re=D.bufferedRequestCount,Q=new Array(re),K=D.corkedRequestsFree;K.entry=O;for(var Y=0,pe=!0;O;)Q[Y]=O,O.isBuf||(pe=!1),O=O.next,Y+=1;Q.allBuffers=pe,G(ae,D,!0,D.length,Q,"",K.finish),D.pendingcb++,D.lastBufferedRequest=null,K.next?(D.corkedRequestsFree=K.next,K.next=null):D.corkedRequestsFree=new e(D),D.bufferedRequestCount=0}else{for(;O;){var I=O.chunk,ge=O.encoding,$=O.callback,C=D.objectMode?1:I.length;if(G(ae,D,!1,C,I,ge,$),O=O.next,D.bufferedRequestCount--,D.writing)break}O===null&&(D.lastBufferedRequest=null)}D.bufferedRequest=O,D.bufferProcessing=!1}U.prototype._write=function(ae,D,O){O(new y("_write()"))},U.prototype._writev=null,U.prototype.end=function(ae,D,O){var re=this._writableState;return typeof ae=="function"?(O=ae,ae=null,D=null):typeof D=="function"&&(O=D,D=null),ae!=null&&this.write(ae,D),re.corked&&(re.corked=1,this.uncork()),re.ending||le(this,re,O),this},Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function he(ae){return ae.ending&&ae.length===0&&ae.bufferedRequest===null&&!ae.finished&&!ae.writing}function W(ae,D){ae._final(function(O){D.pendingcb--,O&&S(ae,O),D.prefinished=!0,ae.emit("prefinish"),ie(ae,D)})}function H(ae,D){!D.prefinished&&!D.finalCalled&&(typeof ae._final=="function"&&!D.destroyed?(D.pendingcb++,D.finalCalled=!0,nt.nextTick(W,ae,D)):(D.prefinished=!0,ae.emit("prefinish")))}function ie(ae,D){var O=he(D);if(O&&(H(ae,D),D.pendingcb===0&&(D.finished=!0,ae.emit("finish"),D.autoDestroy))){var re=ae._readableState;(!re||re.autoDestroy&&re.endEmitted)&&ae.destroy()}return O}function le(ae,D,O){D.ending=!0,ie(ae,D),O&&(D.finished?nt.nextTick(O):ae.once("finish",O)),D.ended=!0,ae.writable=!1}function fe(ae,D,O){var re=ae.entry;for(ae.entry=null;re;){var Q=re.callback;D.pendingcb--,Q(O),re=re.next}D.corkedRequestsFree.next=ae}return Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(D){this._writableState&&(this._writableState.destroyed=D)}}),U.prototype.destroy=d.destroy,U.prototype._undestroy=d.undestroy,U.prototype._destroy=function(ae,D){D(ae)},Km}var Gm,q_;function oo(){if(q_)return Gm;q_=1;var e=Object.keys||function(h){var f=[];for(var m in h)f.push(m);return f};Gm=l;var t=o2(),r=a2();hi()(l,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var a=n[i];l.prototype[a]||(l.prototype[a]=r.prototype[a])}function l(h){if(!(this instanceof l))return new l(h);t.call(this,h),r.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",c)))}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function c(){this._writableState.ended||nt.nextTick(d,this)}function d(h){h.end()}return Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),Gm}var Ym={},Yu={exports:{}},V_;function Z$(){return V_||(V_=1,(function(e,t){var r=gh(),n=r.Buffer;function i(l,c){for(var d in l)c[d]=l[d]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a);function a(l,c,d){return n(l,c,d)}i(n,a),a.from=function(l,c,d){if(typeof l=="number")throw new TypeError("Argument must not be a number");return n(l,c,d)},a.alloc=function(l,c,d){if(typeof l!="number")throw new TypeError("Argument must be a number");var h=n(l);return c!==void 0?typeof d=="string"?h.fill(c,d):h.fill(c):h.fill(0),h},a.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n(l)},a.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(l)}})(Yu,Yu.exports)),Yu.exports}var K_;function gv(){if(K_)return Ym;K_=1;var e=Z$().Buffer,t=e.isEncoding||function(w){switch(w=""+w,w&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(w){if(!w)return"utf8";for(var E;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(E)return;w=(""+w).toLowerCase(),E=!0}}function n(w){var E=r(w);if(typeof E!="string"&&(e.isEncoding===t||!t(w)))throw new Error("Unknown encoding: "+w);return E||w}Ym.StringDecoder=i;function i(w){this.encoding=n(w);var E;switch(this.encoding){case"utf16le":this.text=m,this.end=g,E=4;break;case"utf8":this.fillLast=d,E=4;break;case"base64":this.text=y,this.end=x,E=3;break;default:this.write=v,this.end=b;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(E)}i.prototype.write=function(w){if(w.length===0)return"";var E,_;if(this.lastNeed){if(E=this.fillLast(w),E===void 0)return"";_=this.lastNeed,this.lastNeed=0}else _=0;return _<w.length?E?E+this.text(w,_):this.text(w,_):E||""},i.prototype.end=f,i.prototype.text=h,i.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length};function a(w){return w<=127?0:w>>5===6?2:w>>4===14?3:w>>3===30?4:w>>6===2?-1:-2}function l(w,E,_){var S=E.length-1;if(S<_)return 0;var P=a(E[S]);return P>=0?(P>0&&(w.lastNeed=P-1),P):--S<_||P===-2?0:(P=a(E[S]),P>=0?(P>0&&(w.lastNeed=P-2),P):--S<_||P===-2?0:(P=a(E[S]),P>=0?(P>0&&(P===2?P=0:w.lastNeed=P-3),P):0))}function c(w,E,_){if((E[0]&192)!==128)return w.lastNeed=0,"";if(w.lastNeed>1&&E.length>1){if((E[1]&192)!==128)return w.lastNeed=1,"";if(w.lastNeed>2&&E.length>2&&(E[2]&192)!==128)return w.lastNeed=2,""}}function d(w){var E=this.lastTotal-this.lastNeed,_=c(this,w);if(_!==void 0)return _;if(this.lastNeed<=w.length)return w.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,E,0,w.length),this.lastNeed-=w.length}function h(w,E){var _=l(this,w,E);if(!this.lastNeed)return w.toString("utf8",E);this.lastTotal=_;var S=w.length-(_-this.lastNeed);return w.copy(this.lastChar,0,S),w.toString("utf8",E,S)}function f(w){var E=w&&w.length?this.write(w):"";return this.lastNeed?E+"":E}function m(w,E){if((w.length-E)%2===0){var _=w.toString("utf16le",E);if(_){var S=_.charCodeAt(_.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],_.slice(0,-1)}return _}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",E,w.length-1)}function g(w){var E=w&&w.length?this.write(w):"";if(this.lastNeed){var _=this.lastTotal-this.lastNeed;return E+this.lastChar.toString("utf16le",0,_)}return E}function y(w,E){var _=(w.length-E)%3;return _===0?w.toString("base64",E):(this.lastNeed=3-_,this.lastTotal=3,_===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",E,w.length-_))}function x(w){var E=w&&w.length?this.write(w):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function v(w){return w.toString(this.encoding)}function b(w){return w&&w.length?this.write(w):""}return Ym}var Xm,G_;function Yy(){if(G_)return Xm;G_=1;var e=So().codes.ERR_STREAM_PREMATURE_CLOSE;function t(a){var l=!1;return function(){if(!l){l=!0;for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];a.apply(this,d)}}}function r(){}function n(a){return a.setHeader&&typeof a.abort=="function"}function i(a,l,c){if(typeof l=="function")return i(a,null,l);l||(l={}),c=t(c||r);var d=l.readable||l.readable!==!1&&a.readable,h=l.writable||l.writable!==!1&&a.writable,f=function(){a.writable||g()},m=a._writableState&&a._writableState.finished,g=function(){h=!1,m=!0,d||c.call(a)},y=a._readableState&&a._readableState.endEmitted,x=function(){d=!1,y=!0,h||c.call(a)},v=function(_){c.call(a,_)},b=function(){var _;if(d&&!y)return(!a._readableState||!a._readableState.ended)&&(_=new e),c.call(a,_);if(h&&!m)return(!a._writableState||!a._writableState.ended)&&(_=new e),c.call(a,_)},w=function(){a.req.on("finish",g)};return n(a)?(a.on("complete",g),a.on("abort",b),a.req?w():a.on("request",w)):h&&!a._writableState&&(a.on("end",f),a.on("close",f)),a.on("end",x),a.on("finish",g),l.error!==!1&&a.on("error",v),a.on("close",b),function(){a.removeListener("complete",g),a.removeListener("abort",b),a.removeListener("request",w),a.req&&a.req.removeListener("finish",g),a.removeListener("end",f),a.removeListener("close",f),a.removeListener("finish",g),a.removeListener("end",x),a.removeListener("error",v),a.removeListener("close",b)}}return Xm=i,Xm}var Qm,Y_;function ez(){if(Y_)return Qm;Y_=1;var e;function t(w,E,_){return E in w?Object.defineProperty(w,E,{value:_,enumerable:!0,configurable:!0,writable:!0}):w[E]=_,w}var r=Yy(),n=Symbol("lastResolve"),i=Symbol("lastReject"),a=Symbol("error"),l=Symbol("ended"),c=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function f(w,E){return{value:w,done:E}}function m(w){var E=w[n];if(E!==null){var _=w[h].read();_!==null&&(w[c]=null,w[n]=null,w[i]=null,E(f(_,!1)))}}function g(w){nt.nextTick(m,w)}function y(w,E){return function(_,S){w.then(function(){if(E[l]){_(f(void 0,!0));return}E[d](_,S)},S)}}var x=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((e={get stream(){return this[h]},next:function(){var E=this,_=this[a];if(_!==null)return Promise.reject(_);if(this[l])return Promise.resolve(f(void 0,!0));if(this[h].destroyed)return new Promise(function(L,U){nt.nextTick(function(){E[a]?U(E[a]):L(f(void 0,!0))})});var S=this[c],P;if(S)P=new Promise(y(S,this));else{var B=this[h].read();if(B!==null)return Promise.resolve(f(B,!1));P=new Promise(this[d])}return this[c]=P,P}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var E=this;return new Promise(function(_,S){E[h].destroy(null,function(P){if(P){S(P);return}_(f(void 0,!0))})})}),e),x),b=function(E){var _,S=Object.create(v,(_={},t(_,h,{value:E,writable:!0}),t(_,n,{value:null,writable:!0}),t(_,i,{value:null,writable:!0}),t(_,a,{value:null,writable:!0}),t(_,l,{value:E._readableState.endEmitted,writable:!0}),t(_,d,{value:function(B,L){var U=S[h].read();U?(S[c]=null,S[n]=null,S[i]=null,B(f(U,!1))):(S[n]=B,S[i]=L)},writable:!0}),_));return S[c]=null,r(E,function(P){if(P&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=S[i];B!==null&&(S[c]=null,S[n]=null,S[i]=null,B(P)),S[a]=P;return}var L=S[n];L!==null&&(S[c]=null,S[n]=null,S[i]=null,L(f(void 0,!0))),S[l]=!0}),E.on("readable",g.bind(null,S)),S};return Qm=b,Qm}var Jm,X_;function tz(){return X_||(X_=1,Jm=function(){throw new Error("Readable.from is not available in the browser")}),Jm}var Zm,Q_;function o2(){if(Q_)return Zm;Q_=1,Zm=F;var e;F.ReadableState=U,qy().EventEmitter;var t=function(Y,pe){return Y.listeners(pe).length},r=KT(),n=gh().Buffer,i=$n.Uint8Array||function(){};function a(K){return n.from(K)}function l(K){return n.isBuffer(K)||K instanceof i}var c=n2(),d;c&&c.debuglog?d=c.debuglog("stream"):d=function(){};var h=Q$(),f=s2(),m=i2(),g=m.getHighWaterMark,y=So().codes,x=y.ERR_INVALID_ARG_TYPE,v=y.ERR_STREAM_PUSH_AFTER_EOF,b=y.ERR_METHOD_NOT_IMPLEMENTED,w=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,E,_,S;hi()(F,r);var P=f.errorOrDestroy,B=["error","close","destroy","pause","resume"];function L(K,Y,pe){if(typeof K.prependListener=="function")return K.prependListener(Y,pe);!K._events||!K._events[Y]?K.on(Y,pe):Array.isArray(K._events[Y])?K._events[Y].unshift(pe):K._events[Y]=[pe,K._events[Y]]}function U(K,Y,pe){e=e||oo(),K=K||{},typeof pe!="boolean"&&(pe=Y instanceof e),this.objectMode=!!K.objectMode,pe&&(this.objectMode=this.objectMode||!!K.readableObjectMode),this.highWaterMark=g(this,K,"readableHighWaterMark",pe),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=K.emitClose!==!1,this.autoDestroy=!!K.autoDestroy,this.destroyed=!1,this.defaultEncoding=K.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,K.encoding&&(E||(E=gv().StringDecoder),this.decoder=new E(K.encoding),this.encoding=K.encoding)}function F(K){if(e=e||oo(),!(this instanceof F))return new F(K);var Y=this instanceof e;this._readableState=new U(K,this,Y),this.readable=!0,K&&(typeof K.read=="function"&&(this._read=K.read),typeof K.destroy=="function"&&(this._destroy=K.destroy)),r.call(this)}Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Y){this._readableState&&(this._readableState.destroyed=Y)}}),F.prototype.destroy=f.destroy,F.prototype._undestroy=f.undestroy,F.prototype._destroy=function(K,Y){Y(K)},F.prototype.push=function(K,Y){var pe=this._readableState,I;return pe.objectMode?I=!0:typeof K=="string"&&(Y=Y||pe.defaultEncoding,Y!==pe.encoding&&(K=n.from(K,Y),Y=""),I=!0),ee(this,K,Y,!1,I)},F.prototype.unshift=function(K){return ee(this,K,null,!0,!1)};function ee(K,Y,pe,I,ge){d("readableAddChunk",Y);var $=K._readableState;if(Y===null)$.reading=!1,J(K,$);else{var C;if(ge||(C=z($,Y)),C)P(K,C);else if($.objectMode||Y&&Y.length>0)if(typeof Y!="string"&&!$.objectMode&&Object.getPrototypeOf(Y)!==n.prototype&&(Y=a(Y)),I)$.endEmitted?P(K,new w):me(K,$,Y,!0);else if($.ended)P(K,new v);else{if($.destroyed)return!1;$.reading=!1,$.decoder&&!pe?(Y=$.decoder.write(Y),$.objectMode||Y.length!==0?me(K,$,Y,!1):ne(K,$)):me(K,$,Y,!1)}else I||($.reading=!1,ne(K,$))}return!$.ended&&($.length<$.highWaterMark||$.length===0)}function me(K,Y,pe,I){Y.flowing&&Y.length===0&&!Y.sync?(Y.awaitDrain=0,K.emit("data",pe)):(Y.length+=Y.objectMode?1:pe.length,I?Y.buffer.unshift(pe):Y.buffer.push(pe),Y.needReadable&&V(K)),ne(K,Y)}function z(K,Y){var pe;return!l(Y)&&typeof Y!="string"&&Y!==void 0&&!K.objectMode&&(pe=new x("chunk",["string","Buffer","Uint8Array"],Y)),pe}F.prototype.isPaused=function(){return this._readableState.flowing===!1},F.prototype.setEncoding=function(K){E||(E=gv().StringDecoder);var Y=new E(K);this._readableState.decoder=Y,this._readableState.encoding=this._readableState.decoder.encoding;for(var pe=this._readableState.buffer.head,I="";pe!==null;)I+=Y.write(pe.data),pe=pe.next;return this._readableState.buffer.clear(),I!==""&&this._readableState.buffer.push(I),this._readableState.length=I.length,this};var G=1073741824;function A(K){return K>=G?K=G:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K}function te(K,Y){return K<=0||Y.length===0&&Y.ended?0:Y.objectMode?1:K!==K?Y.flowing&&Y.length?Y.buffer.head.data.length:Y.length:(K>Y.highWaterMark&&(Y.highWaterMark=A(K)),K<=Y.length?K:Y.ended?Y.length:(Y.needReadable=!0,0))}F.prototype.read=function(K){d("read",K),K=parseInt(K,10);var Y=this._readableState,pe=K;if(K!==0&&(Y.emittedReadable=!1),K===0&&Y.needReadable&&((Y.highWaterMark!==0?Y.length>=Y.highWaterMark:Y.length>0)||Y.ended))return d("read: emitReadable",Y.length,Y.ended),Y.length===0&&Y.ended?O(this):V(this),null;if(K=te(K,Y),K===0&&Y.ended)return Y.length===0&&O(this),null;var I=Y.needReadable;d("need readable",I),(Y.length===0||Y.length-K<Y.highWaterMark)&&(I=!0,d("length less than watermark",I)),Y.ended||Y.reading?(I=!1,d("reading or ended",I)):I&&(d("do read"),Y.reading=!0,Y.sync=!0,Y.length===0&&(Y.needReadable=!0),this._read(Y.highWaterMark),Y.sync=!1,Y.reading||(K=te(pe,Y)));var ge;return K>0?ge=D(K,Y):ge=null,ge===null?(Y.needReadable=Y.length<=Y.highWaterMark,K=0):(Y.length-=K,Y.awaitDrain=0),Y.length===0&&(Y.ended||(Y.needReadable=!0),pe!==K&&Y.ended&&O(this)),ge!==null&&this.emit("data",ge),ge};function J(K,Y){if(d("onEofChunk"),!Y.ended){if(Y.decoder){var pe=Y.decoder.end();pe&&pe.length&&(Y.buffer.push(pe),Y.length+=Y.objectMode?1:pe.length)}Y.ended=!0,Y.sync?V(K):(Y.needReadable=!1,Y.emittedReadable||(Y.emittedReadable=!0,X(K)))}}function V(K){var Y=K._readableState;d("emitReadable",Y.needReadable,Y.emittedReadable),Y.needReadable=!1,Y.emittedReadable||(d("emitReadable",Y.flowing),Y.emittedReadable=!0,nt.nextTick(X,K))}function X(K){var Y=K._readableState;d("emitReadable_",Y.destroyed,Y.length,Y.ended),!Y.destroyed&&(Y.length||Y.ended)&&(K.emit("readable"),Y.emittedReadable=!1),Y.needReadable=!Y.flowing&&!Y.ended&&Y.length<=Y.highWaterMark,ae(K)}function ne(K,Y){Y.readingMore||(Y.readingMore=!0,nt.nextTick(he,K,Y))}function he(K,Y){for(;!Y.reading&&!Y.ended&&(Y.length<Y.highWaterMark||Y.flowing&&Y.length===0);){var pe=Y.length;if(d("maybeReadMore read 0"),K.read(0),pe===Y.length)break}Y.readingMore=!1}F.prototype._read=function(K){P(this,new b("_read()"))},F.prototype.pipe=function(K,Y){var pe=this,I=this._readableState;switch(I.pipesCount){case 0:I.pipes=K;break;case 1:I.pipes=[I.pipes,K];break;default:I.pipes.push(K);break}I.pipesCount+=1,d("pipe count=%d opts=%j",I.pipesCount,Y);var ge=(!Y||Y.end!==!1)&&K!==nt.stdout&&K!==nt.stderr,$=ge?k:Ie;I.endEmitted?nt.nextTick($):pe.once("end",$),K.on("unpipe",C);function C($e,Ge){d("onunpipe"),$e===pe&&Ge&&Ge.hasUnpiped===!1&&(Ge.hasUnpiped=!0,ce())}function k(){d("onend"),K.end()}var M=W(pe);K.on("drain",M);var Z=!1;function ce(){d("cleanup"),K.removeListener("close",Ee),K.removeListener("finish",je),K.removeListener("drain",M),K.removeListener("error",be),K.removeListener("unpipe",C),pe.removeListener("end",k),pe.removeListener("end",Ie),pe.removeListener("data",se),Z=!0,I.awaitDrain&&(!K._writableState||K._writableState.needDrain)&&M()}pe.on("data",se);function se($e){d("ondata");var Ge=K.write($e);d("dest.write",Ge),Ge===!1&&((I.pipesCount===1&&I.pipes===K||I.pipesCount>1&&Q(I.pipes,K)!==-1)&&!Z&&(d("false write response, pause",I.awaitDrain),I.awaitDrain++),pe.pause())}function be($e){d("onerror",$e),Ie(),K.removeListener("error",be),t(K,"error")===0&&P(K,$e)}L(K,"error",be);function Ee(){K.removeListener("finish",je),Ie()}K.once("close",Ee);function je(){d("onfinish"),K.removeListener("close",Ee),Ie()}K.once("finish",je);function Ie(){d("unpipe"),pe.unpipe(K)}return K.emit("pipe",pe),I.flowing||(d("pipe resume"),pe.resume()),K};function W(K){return function(){var pe=K._readableState;d("pipeOnDrain",pe.awaitDrain),pe.awaitDrain&&pe.awaitDrain--,pe.awaitDrain===0&&t(K,"data")&&(pe.flowing=!0,ae(K))}}F.prototype.unpipe=function(K){var Y=this._readableState,pe={hasUnpiped:!1};if(Y.pipesCount===0)return this;if(Y.pipesCount===1)return K&&K!==Y.pipes?this:(K||(K=Y.pipes),Y.pipes=null,Y.pipesCount=0,Y.flowing=!1,K&&K.emit("unpipe",this,pe),this);if(!K){var I=Y.pipes,ge=Y.pipesCount;Y.pipes=null,Y.pipesCount=0,Y.flowing=!1;for(var $=0;$<ge;$++)I[$].emit("unpipe",this,{hasUnpiped:!1});return this}var C=Q(Y.pipes,K);return C===-1?this:(Y.pipes.splice(C,1),Y.pipesCount-=1,Y.pipesCount===1&&(Y.pipes=Y.pipes[0]),K.emit("unpipe",this,pe),this)},F.prototype.on=function(K,Y){var pe=r.prototype.on.call(this,K,Y),I=this._readableState;return K==="data"?(I.readableListening=this.listenerCount("readable")>0,I.flowing!==!1&&this.resume()):K==="readable"&&!I.endEmitted&&!I.readableListening&&(I.readableListening=I.needReadable=!0,I.flowing=!1,I.emittedReadable=!1,d("on readable",I.length,I.reading),I.length?V(this):I.reading||nt.nextTick(ie,this)),pe},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(K,Y){var pe=r.prototype.removeListener.call(this,K,Y);return K==="readable"&&nt.nextTick(H,this),pe},F.prototype.removeAllListeners=function(K){var Y=r.prototype.removeAllListeners.apply(this,arguments);return(K==="readable"||K===void 0)&&nt.nextTick(H,this),Y};function H(K){var Y=K._readableState;Y.readableListening=K.listenerCount("readable")>0,Y.resumeScheduled&&!Y.paused?Y.flowing=!0:K.listenerCount("data")>0&&K.resume()}function ie(K){d("readable nexttick read 0"),K.read(0)}F.prototype.resume=function(){var K=this._readableState;return K.flowing||(d("resume"),K.flowing=!K.readableListening,le(this,K)),K.paused=!1,this};function le(K,Y){Y.resumeScheduled||(Y.resumeScheduled=!0,nt.nextTick(fe,K,Y))}function fe(K,Y){d("resume",Y.reading),Y.reading||K.read(0),Y.resumeScheduled=!1,K.emit("resume"),ae(K),Y.flowing&&!Y.reading&&K.read(0)}F.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ae(K){var Y=K._readableState;for(d("flow",Y.flowing);Y.flowing&&K.read()!==null;);}F.prototype.wrap=function(K){var Y=this,pe=this._readableState,I=!1;K.on("end",function(){if(d("wrapped end"),pe.decoder&&!pe.ended){var C=pe.decoder.end();C&&C.length&&Y.push(C)}Y.push(null)}),K.on("data",function(C){if(d("wrapped data"),pe.decoder&&(C=pe.decoder.write(C)),!(pe.objectMode&&C==null)&&!(!pe.objectMode&&(!C||!C.length))){var k=Y.push(C);k||(I=!0,K.pause())}});for(var ge in K)this[ge]===void 0&&typeof K[ge]=="function"&&(this[ge]=(function(k){return function(){return K[k].apply(K,arguments)}})(ge));for(var $=0;$<B.length;$++)K.on(B[$],this.emit.bind(this,B[$]));return this._read=function(C){d("wrapped _read",C),I&&(I=!1,K.resume())},this},typeof Symbol=="function"&&(F.prototype[Symbol.asyncIterator]=function(){return _===void 0&&(_=ez()),_(this)}),Object.defineProperty(F.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(F.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(F.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Y){this._readableState&&(this._readableState.flowing=Y)}}),F._fromList=D,Object.defineProperty(F.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function D(K,Y){if(Y.length===0)return null;var pe;return Y.objectMode?pe=Y.buffer.shift():!K||K>=Y.length?(Y.decoder?pe=Y.buffer.join(""):Y.buffer.length===1?pe=Y.buffer.first():pe=Y.buffer.concat(Y.length),Y.buffer.clear()):pe=Y.buffer.consume(K,Y.decoder),pe}function O(K){var Y=K._readableState;d("endReadable",Y.endEmitted),Y.endEmitted||(Y.ended=!0,nt.nextTick(re,Y,K))}function re(K,Y){if(d("endReadableNT",K.endEmitted,K.length),!K.endEmitted&&K.length===0&&(K.endEmitted=!0,Y.readable=!1,Y.emit("end"),K.autoDestroy)){var pe=Y._writableState;(!pe||pe.autoDestroy&&pe.finished)&&Y.destroy()}}typeof Symbol=="function"&&(F.from=function(K,Y){return S===void 0&&(S=tz()),S(F,K,Y)});function Q(K,Y){for(var pe=0,I=K.length;pe<I;pe++)if(K[pe]===Y)return pe;return-1}return Zm}var eg,J_;function l2(){if(J_)return eg;J_=1,eg=c;var e=So().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,a=oo();hi()(c,a);function l(f,m){var g=this._transformState;g.transforming=!1;var y=g.writecb;if(y===null)return this.emit("error",new r);g.writechunk=null,g.writecb=null,m!=null&&this.push(m),y(f);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function c(f){if(!(this instanceof c))return new c(f);a.call(this,f),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",d)}function d(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(m,g){h(f,m,g)}):h(this,null,null)}c.prototype.push=function(f,m){return this._transformState.needTransform=!1,a.prototype.push.call(this,f,m)},c.prototype._transform=function(f,m,g){g(new t("_transform()"))},c.prototype._write=function(f,m,g){var y=this._transformState;if(y.writecb=g,y.writechunk=f,y.writeencoding=m,!y.transforming){var x=this._readableState;(y.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},c.prototype._read=function(f){var m=this._transformState;m.writechunk!==null&&!m.transforming?(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform)):m.needTransform=!0},c.prototype._destroy=function(f,m){a.prototype._destroy.call(this,f,function(g){m(g)})};function h(f,m,g){if(m)return f.emit("error",m);if(g!=null&&f.push(g),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return eg}var tg,Z_;function rz(){if(Z_)return tg;Z_=1,tg=t;var e=l2();hi()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},tg}var rg,ej;function nz(){if(ej)return rg;ej=1;var e;function t(g){var y=!1;return function(){y||(y=!0,g.apply(void 0,arguments))}}var r=So().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function a(g){if(g)throw g}function l(g){return g.setHeader&&typeof g.abort=="function"}function c(g,y,x,v){v=t(v);var b=!1;g.on("close",function(){b=!0}),e===void 0&&(e=Yy()),e(g,{readable:y,writable:x},function(E){if(E)return v(E);b=!0,v()});var w=!1;return function(E){if(!b&&!w){if(w=!0,l(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();v(E||new i("pipe"))}}}function d(g){g()}function h(g,y){return g.pipe(y)}function f(g){return!g.length||typeof g[g.length-1]!="function"?a:g.pop()}function m(){for(var g=arguments.length,y=new Array(g),x=0;x<g;x++)y[x]=arguments[x];var v=f(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new n("streams");var b,w=y.map(function(E,_){var S=_<y.length-1,P=_>0;return c(E,S,P,function(B){b||(b=B),B&&w.forEach(d),!S&&(w.forEach(d),v(b))})});return y.reduce(h)}return rg=m,rg}var ng,tj;function Xy(){if(tj)return ng;tj=1,ng=r;var e=qy().EventEmitter,t=hi();t(r,e),r.Readable=o2(),r.Writable=a2(),r.Duplex=oo(),r.Transform=l2(),r.PassThrough=rz(),r.finished=Yy(),r.pipeline=nz(),r.Stream=r;function r(){e.call(this)}return r.prototype.pipe=function(n,i){var a=this;function l(y){n.writable&&n.write(y)===!1&&a.pause&&a.pause()}a.on("data",l);function c(){a.readable&&a.resume&&a.resume()}n.on("drain",c),!n._isStdio&&(!i||i.end!==!1)&&(a.on("end",h),a.on("close",f));var d=!1;function h(){d||(d=!0,n.end())}function f(){d||(d=!0,typeof n.destroy=="function"&&n.destroy())}function m(y){if(g(),e.listenerCount(this,"error")===0)throw y}a.on("error",m),n.on("error",m);function g(){a.removeListener("data",l),n.removeListener("drain",c),a.removeListener("end",h),a.removeListener("close",f),a.removeListener("error",m),n.removeListener("error",m),a.removeListener("end",g),a.removeListener("close",g),n.removeListener("close",g)}return a.on("end",g),a.on("close",g),n.on("close",g),n.emit("pipe",a),n},ng}var rj;function sz(){return rj||(rj=1,(function(e){(function(t){t.parser=function(D,O){return new n(D,O)},t.SAXParser=n,t.SAXStream=f,t.createStream=h,t.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(D,O){if(!(this instanceof n))return new n(D,O);var re=this;a(re),re.q=re.c="",re.bufferCheckPosition=t.MAX_BUFFER_LENGTH,re.opt=O||{},re.opt.lowercase=re.opt.lowercase||re.opt.lowercasetags,re.looseCase=re.opt.lowercase?"toLowerCase":"toUpperCase",re.tags=[],re.closed=re.closedRoot=re.sawRoot=!1,re.tag=re.error=null,re.strict=!!D,re.noscript=!!(D||re.opt.noscript),re.state=F.BEGIN,re.strictEntities=re.opt.strictEntities,re.ENTITIES=re.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),re.attribList=[],re.opt.xmlns&&(re.ns=Object.create(v)),re.trackPosition=re.opt.position!==!1,re.trackPosition&&(re.position=re.line=re.column=0),me(re,"onready")}Object.create||(Object.create=function(D){function O(){}O.prototype=D;var re=new O;return re}),Object.keys||(Object.keys=function(D){var O=[];for(var re in D)D.hasOwnProperty(re)&&O.push(re);return O});function i(D){for(var O=Math.max(t.MAX_BUFFER_LENGTH,10),re=0,Q=0,K=r.length;Q<K;Q++){var Y=D[r[Q]].length;if(Y>O)switch(r[Q]){case"textNode":G(D);break;case"cdata":z(D,"oncdata",D.cdata),D.cdata="";break;case"script":z(D,"onscript",D.script),D.script="";break;default:te(D,"Max buffer length exceeded: "+r[Q])}re=Math.max(re,Y)}var pe=t.MAX_BUFFER_LENGTH-re;D.bufferCheckPosition=pe+D.position}function a(D){for(var O=0,re=r.length;O<re;O++)D[r[O]]=""}function l(D){G(D),D.cdata!==""&&(z(D,"oncdata",D.cdata),D.cdata=""),D.script!==""&&(z(D,"onscript",D.script),D.script="")}n.prototype={end:function(){J(this)},write:ae,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){l(this)}};var c;try{c=Xy().Stream}catch{c=function(){}}var d=t.EVENTS.filter(function(D){return D!=="error"&&D!=="end"});function h(D,O){return new f(D,O)}function f(D,O){if(!(this instanceof f))return new f(D,O);c.apply(this),this._parser=new n(D,O),this.writable=!0,this.readable=!0;var re=this;this._parser.onend=function(){re.emit("end")},this._parser.onerror=function(Q){re.emit("error",Q),re._parser.error=null},this._decoder=null,d.forEach(function(Q){Object.defineProperty(re,"on"+Q,{get:function(){return re._parser["on"+Q]},set:function(K){if(!K)return re.removeAllListeners(Q),re._parser["on"+Q]=K,K;re.on(Q,K)},enumerable:!0,configurable:!1})})}f.prototype=Object.create(c.prototype,{constructor:{value:f}}),f.prototype.write=function(D){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(D)){if(!this._decoder){var O=gv().StringDecoder;this._decoder=new O("utf8")}D=this._decoder.write(D)}return this._parser.write(D.toString()),this.emit("data",D),!0},f.prototype.end=function(D){return D&&D.length&&this.write(D),this._parser.end(),!0},f.prototype.on=function(D,O){var re=this;return!re._parser["on"+D]&&d.indexOf(D)!==-1&&(re._parser["on"+D]=function(){var Q=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);Q.splice(0,0,D),re.emit.apply(re,Q)}),c.prototype.on.call(re,D,O)};var m="[CDATA[",g="DOCTYPE",y="http://www.w3.org/XML/1998/namespace",x="http://www.w3.org/2000/xmlns/",v={xml:y,xmlns:x},b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,w=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,E=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function S(D){return D===" "||D===`
`||D==="\r"||D==="	"}function P(D){return D==='"'||D==="'"}function B(D){return D===">"||S(D)}function L(D,O){return D.test(O)}function U(D,O){return!L(D,O)}var F=0;t.STATE={BEGIN:F++,BEGIN_WHITESPACE:F++,TEXT:F++,TEXT_ENTITY:F++,OPEN_WAKA:F++,SGML_DECL:F++,SGML_DECL_QUOTED:F++,DOCTYPE:F++,DOCTYPE_QUOTED:F++,DOCTYPE_DTD:F++,DOCTYPE_DTD_QUOTED:F++,COMMENT_STARTING:F++,COMMENT:F++,COMMENT_ENDING:F++,COMMENT_ENDED:F++,CDATA:F++,CDATA_ENDING:F++,CDATA_ENDING_2:F++,PROC_INST:F++,PROC_INST_BODY:F++,PROC_INST_ENDING:F++,OPEN_TAG:F++,OPEN_TAG_SLASH:F++,ATTRIB:F++,ATTRIB_NAME:F++,ATTRIB_NAME_SAW_WHITE:F++,ATTRIB_VALUE:F++,ATTRIB_VALUE_QUOTED:F++,ATTRIB_VALUE_CLOSED:F++,ATTRIB_VALUE_UNQUOTED:F++,ATTRIB_VALUE_ENTITY_Q:F++,ATTRIB_VALUE_ENTITY_U:F++,CLOSE_TAG:F++,CLOSE_TAG_SAW_WHITE:F++,SCRIPT:F++,SCRIPT_ENDING:F++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(D){var O=t.ENTITIES[D],re=typeof O=="number"?String.fromCharCode(O):O;t.ENTITIES[D]=re});for(var ee in t.STATE)t.STATE[t.STATE[ee]]=ee;F=t.STATE;function me(D,O,re){D[O]&&D[O](re)}function z(D,O,re){D.textNode&&G(D),me(D,O,re)}function G(D){D.textNode=A(D.opt,D.textNode),D.textNode&&me(D,"ontext",D.textNode),D.textNode=""}function A(D,O){return D.trim&&(O=O.trim()),D.normalize&&(O=O.replace(/\s+/g," ")),O}function te(D,O){return G(D),D.trackPosition&&(O+=`
Line: `+D.line+`
Column: `+D.column+`
Char: `+D.c),O=new Error(O),D.error=O,me(D,"onerror",O),D}function J(D){return D.sawRoot&&!D.closedRoot&&V(D,"Unclosed root tag"),D.state!==F.BEGIN&&D.state!==F.BEGIN_WHITESPACE&&D.state!==F.TEXT&&te(D,"Unexpected end"),G(D),D.c="",D.closed=!0,me(D,"onend"),n.call(D,D.strict,D.opt),D}function V(D,O){if(typeof D!="object"||!(D instanceof n))throw new Error("bad call to strictFail");D.strict&&te(D,O)}function X(D){D.strict||(D.tagName=D.tagName[D.looseCase]());var O=D.tags[D.tags.length-1]||D,re=D.tag={name:D.tagName,attributes:{}};D.opt.xmlns&&(re.ns=O.ns),D.attribList.length=0,z(D,"onopentagstart",re)}function ne(D,O){var re=D.indexOf(":"),Q=re<0?["",D]:D.split(":"),K=Q[0],Y=Q[1];return O&&D==="xmlns"&&(K="xmlns",Y=""),{prefix:K,local:Y}}function he(D){if(D.strict||(D.attribName=D.attribName[D.looseCase]()),D.attribList.indexOf(D.attribName)!==-1||D.tag.attributes.hasOwnProperty(D.attribName)){D.attribName=D.attribValue="";return}if(D.opt.xmlns){var O=ne(D.attribName,!0),re=O.prefix,Q=O.local;if(re==="xmlns")if(Q==="xml"&&D.attribValue!==y)V(D,"xml: prefix must be bound to "+y+`
Actual: `+D.attribValue);else if(Q==="xmlns"&&D.attribValue!==x)V(D,"xmlns: prefix must be bound to "+x+`
Actual: `+D.attribValue);else{var K=D.tag,Y=D.tags[D.tags.length-1]||D;K.ns===Y.ns&&(K.ns=Object.create(Y.ns)),K.ns[Q]=D.attribValue}D.attribList.push([D.attribName,D.attribValue])}else D.tag.attributes[D.attribName]=D.attribValue,z(D,"onattribute",{name:D.attribName,value:D.attribValue});D.attribName=D.attribValue=""}function W(D,O){if(D.opt.xmlns){var re=D.tag,Q=ne(D.tagName);re.prefix=Q.prefix,re.local=Q.local,re.uri=re.ns[Q.prefix]||"",re.prefix&&!re.uri&&(V(D,"Unbound namespace prefix: "+JSON.stringify(D.tagName)),re.uri=Q.prefix);var K=D.tags[D.tags.length-1]||D;re.ns&&K.ns!==re.ns&&Object.keys(re.ns).forEach(function(se){z(D,"onopennamespace",{prefix:se,uri:re.ns[se]})});for(var Y=0,pe=D.attribList.length;Y<pe;Y++){var I=D.attribList[Y],ge=I[0],$=I[1],C=ne(ge,!0),k=C.prefix,M=C.local,Z=k===""?"":re.ns[k]||"",ce={name:ge,value:$,prefix:k,local:M,uri:Z};k&&k!=="xmlns"&&!Z&&(V(D,"Unbound namespace prefix: "+JSON.stringify(k)),ce.uri=k),D.tag.attributes[ge]=ce,z(D,"onattribute",ce)}D.attribList.length=0}D.tag.isSelfClosing=!!O,D.sawRoot=!0,D.tags.push(D.tag),z(D,"onopentag",D.tag),O||(!D.noscript&&D.tagName.toLowerCase()==="script"?D.state=F.SCRIPT:D.state=F.TEXT,D.tag=null,D.tagName=""),D.attribName=D.attribValue="",D.attribList.length=0}function H(D){if(!D.tagName){V(D,"Weird empty close tag."),D.textNode+="</>",D.state=F.TEXT;return}if(D.script){if(D.tagName!=="script"){D.script+="</"+D.tagName+">",D.tagName="",D.state=F.SCRIPT;return}z(D,"onscript",D.script),D.script=""}var O=D.tags.length,re=D.tagName;D.strict||(re=re[D.looseCase]());for(var Q=re;O--;){var K=D.tags[O];if(K.name!==Q)V(D,"Unexpected close tag");else break}if(O<0){V(D,"Unmatched closing tag: "+D.tagName),D.textNode+="</"+D.tagName+">",D.state=F.TEXT;return}D.tagName=re;for(var Y=D.tags.length;Y-- >O;){var pe=D.tag=D.tags.pop();D.tagName=D.tag.name,z(D,"onclosetag",D.tagName);var I={};for(var ge in pe.ns)I[ge]=pe.ns[ge];var $=D.tags[D.tags.length-1]||D;D.opt.xmlns&&pe.ns!==$.ns&&Object.keys(pe.ns).forEach(function(C){var k=pe.ns[C];z(D,"onclosenamespace",{prefix:C,uri:k})})}O===0&&(D.closedRoot=!0),D.tagName=D.attribValue=D.attribName="",D.attribList.length=0,D.state=F.TEXT}function ie(D){var O=D.entity,re=O.toLowerCase(),Q,K="";return D.ENTITIES[O]?D.ENTITIES[O]:D.ENTITIES[re]?D.ENTITIES[re]:(O=re,O.charAt(0)==="#"&&(O.charAt(1)==="x"?(O=O.slice(2),Q=parseInt(O,16),K=Q.toString(16)):(O=O.slice(1),Q=parseInt(O,10),K=Q.toString(10))),O=O.replace(/^0+/,""),isNaN(Q)||K.toLowerCase()!==O?(V(D,"Invalid character entity"),"&"+D.entity+";"):String.fromCodePoint(Q))}function le(D,O){O==="<"?(D.state=F.OPEN_WAKA,D.startTagPosition=D.position):S(O)||(V(D,"Non-whitespace before first tag."),D.textNode=O,D.state=F.TEXT)}function fe(D,O){var re="";return O<D.length&&(re=D.charAt(O)),re}function ae(D){var O=this;if(this.error)throw this.error;if(O.closed)return te(O,"Cannot write after close. Assign an onready handler.");if(D===null)return J(O);typeof D=="object"&&(D=D.toString());for(var re=0,Q="";Q=fe(D,re++),O.c=Q,!!Q;)switch(O.trackPosition&&(O.position++,Q===`
`?(O.line++,O.column=0):O.column++),O.state){case F.BEGIN:if(O.state=F.BEGIN_WHITESPACE,Q==="\uFEFF")continue;le(O,Q);continue;case F.BEGIN_WHITESPACE:le(O,Q);continue;case F.TEXT:if(O.sawRoot&&!O.closedRoot){for(var K=re-1;Q&&Q!=="<"&&Q!=="&";)Q=fe(D,re++),Q&&O.trackPosition&&(O.position++,Q===`
`?(O.line++,O.column=0):O.column++);O.textNode+=D.substring(K,re-1)}Q==="<"&&!(O.sawRoot&&O.closedRoot&&!O.strict)?(O.state=F.OPEN_WAKA,O.startTagPosition=O.position):(!S(Q)&&(!O.sawRoot||O.closedRoot)&&V(O,"Text data outside of root node."),Q==="&"?O.state=F.TEXT_ENTITY:O.textNode+=Q);continue;case F.SCRIPT:Q==="<"?O.state=F.SCRIPT_ENDING:O.script+=Q;continue;case F.SCRIPT_ENDING:Q==="/"?O.state=F.CLOSE_TAG:(O.script+="<"+Q,O.state=F.SCRIPT);continue;case F.OPEN_WAKA:if(Q==="!")O.state=F.SGML_DECL,O.sgmlDecl="";else if(!S(Q))if(L(b,Q))O.state=F.OPEN_TAG,O.tagName=Q;else if(Q==="/")O.state=F.CLOSE_TAG,O.tagName="";else if(Q==="?")O.state=F.PROC_INST,O.procInstName=O.procInstBody="";else{if(V(O,"Unencoded <"),O.startTagPosition+1<O.position){var Y=O.position-O.startTagPosition;Q=new Array(Y).join(" ")+Q}O.textNode+="<"+Q,O.state=F.TEXT}continue;case F.SGML_DECL:(O.sgmlDecl+Q).toUpperCase()===m?(z(O,"onopencdata"),O.state=F.CDATA,O.sgmlDecl="",O.cdata=""):O.sgmlDecl+Q==="--"?(O.state=F.COMMENT,O.comment="",O.sgmlDecl=""):(O.sgmlDecl+Q).toUpperCase()===g?(O.state=F.DOCTYPE,(O.doctype||O.sawRoot)&&V(O,"Inappropriately located doctype declaration"),O.doctype="",O.sgmlDecl=""):Q===">"?(z(O,"onsgmldeclaration",O.sgmlDecl),O.sgmlDecl="",O.state=F.TEXT):(P(Q)&&(O.state=F.SGML_DECL_QUOTED),O.sgmlDecl+=Q);continue;case F.SGML_DECL_QUOTED:Q===O.q&&(O.state=F.SGML_DECL,O.q=""),O.sgmlDecl+=Q;continue;case F.DOCTYPE:Q===">"?(O.state=F.TEXT,z(O,"ondoctype",O.doctype),O.doctype=!0):(O.doctype+=Q,Q==="["?O.state=F.DOCTYPE_DTD:P(Q)&&(O.state=F.DOCTYPE_QUOTED,O.q=Q));continue;case F.DOCTYPE_QUOTED:O.doctype+=Q,Q===O.q&&(O.q="",O.state=F.DOCTYPE);continue;case F.DOCTYPE_DTD:O.doctype+=Q,Q==="]"?O.state=F.DOCTYPE:P(Q)&&(O.state=F.DOCTYPE_DTD_QUOTED,O.q=Q);continue;case F.DOCTYPE_DTD_QUOTED:O.doctype+=Q,Q===O.q&&(O.state=F.DOCTYPE_DTD,O.q="");continue;case F.COMMENT:Q==="-"?O.state=F.COMMENT_ENDING:O.comment+=Q;continue;case F.COMMENT_ENDING:Q==="-"?(O.state=F.COMMENT_ENDED,O.comment=A(O.opt,O.comment),O.comment&&z(O,"oncomment",O.comment),O.comment=""):(O.comment+="-"+Q,O.state=F.COMMENT);continue;case F.COMMENT_ENDED:Q!==">"?(V(O,"Malformed comment"),O.comment+="--"+Q,O.state=F.COMMENT):O.state=F.TEXT;continue;case F.CDATA:Q==="]"?O.state=F.CDATA_ENDING:O.cdata+=Q;continue;case F.CDATA_ENDING:Q==="]"?O.state=F.CDATA_ENDING_2:(O.cdata+="]"+Q,O.state=F.CDATA);continue;case F.CDATA_ENDING_2:Q===">"?(O.cdata&&z(O,"oncdata",O.cdata),z(O,"onclosecdata"),O.cdata="",O.state=F.TEXT):Q==="]"?O.cdata+="]":(O.cdata+="]]"+Q,O.state=F.CDATA);continue;case F.PROC_INST:Q==="?"?O.state=F.PROC_INST_ENDING:S(Q)?O.state=F.PROC_INST_BODY:O.procInstName+=Q;continue;case F.PROC_INST_BODY:if(!O.procInstBody&&S(Q))continue;Q==="?"?O.state=F.PROC_INST_ENDING:O.procInstBody+=Q;continue;case F.PROC_INST_ENDING:Q===">"?(z(O,"onprocessinginstruction",{name:O.procInstName,body:O.procInstBody}),O.procInstName=O.procInstBody="",O.state=F.TEXT):(O.procInstBody+="?"+Q,O.state=F.PROC_INST_BODY);continue;case F.OPEN_TAG:L(w,Q)?O.tagName+=Q:(X(O),Q===">"?W(O):Q==="/"?O.state=F.OPEN_TAG_SLASH:(S(Q)||V(O,"Invalid character in tag name"),O.state=F.ATTRIB));continue;case F.OPEN_TAG_SLASH:Q===">"?(W(O,!0),H(O)):(V(O,"Forward-slash in opening tag not followed by >"),O.state=F.ATTRIB);continue;case F.ATTRIB:if(S(Q))continue;Q===">"?W(O):Q==="/"?O.state=F.OPEN_TAG_SLASH:L(b,Q)?(O.attribName=Q,O.attribValue="",O.state=F.ATTRIB_NAME):V(O,"Invalid attribute name");continue;case F.ATTRIB_NAME:Q==="="?O.state=F.ATTRIB_VALUE:Q===">"?(V(O,"Attribute without value"),O.attribValue=O.attribName,he(O),W(O)):S(Q)?O.state=F.ATTRIB_NAME_SAW_WHITE:L(w,Q)?O.attribName+=Q:V(O,"Invalid attribute name");continue;case F.ATTRIB_NAME_SAW_WHITE:if(Q==="=")O.state=F.ATTRIB_VALUE;else{if(S(Q))continue;V(O,"Attribute without value"),O.tag.attributes[O.attribName]="",O.attribValue="",z(O,"onattribute",{name:O.attribName,value:""}),O.attribName="",Q===">"?W(O):L(b,Q)?(O.attribName=Q,O.state=F.ATTRIB_NAME):(V(O,"Invalid attribute name"),O.state=F.ATTRIB)}continue;case F.ATTRIB_VALUE:if(S(Q))continue;P(Q)?(O.q=Q,O.state=F.ATTRIB_VALUE_QUOTED):(V(O,"Unquoted attribute value"),O.state=F.ATTRIB_VALUE_UNQUOTED,O.attribValue=Q);continue;case F.ATTRIB_VALUE_QUOTED:if(Q!==O.q){Q==="&"?O.state=F.ATTRIB_VALUE_ENTITY_Q:O.attribValue+=Q;continue}he(O),O.q="",O.state=F.ATTRIB_VALUE_CLOSED;continue;case F.ATTRIB_VALUE_CLOSED:S(Q)?O.state=F.ATTRIB:Q===">"?W(O):Q==="/"?O.state=F.OPEN_TAG_SLASH:L(b,Q)?(V(O,"No whitespace between attributes"),O.attribName=Q,O.attribValue="",O.state=F.ATTRIB_NAME):V(O,"Invalid attribute name");continue;case F.ATTRIB_VALUE_UNQUOTED:if(!B(Q)){Q==="&"?O.state=F.ATTRIB_VALUE_ENTITY_U:O.attribValue+=Q;continue}he(O),Q===">"?W(O):O.state=F.ATTRIB;continue;case F.CLOSE_TAG:if(O.tagName)Q===">"?H(O):L(w,Q)?O.tagName+=Q:O.script?(O.script+="</"+O.tagName,O.tagName="",O.state=F.SCRIPT):(S(Q)||V(O,"Invalid tagname in closing tag"),O.state=F.CLOSE_TAG_SAW_WHITE);else{if(S(Q))continue;U(b,Q)?O.script?(O.script+="</"+Q,O.state=F.SCRIPT):V(O,"Invalid tagname in closing tag."):O.tagName=Q}continue;case F.CLOSE_TAG_SAW_WHITE:if(S(Q))continue;Q===">"?H(O):V(O,"Invalid characters in closing tag");continue;case F.TEXT_ENTITY:case F.ATTRIB_VALUE_ENTITY_Q:case F.ATTRIB_VALUE_ENTITY_U:var pe,I;switch(O.state){case F.TEXT_ENTITY:pe=F.TEXT,I="textNode";break;case F.ATTRIB_VALUE_ENTITY_Q:pe=F.ATTRIB_VALUE_QUOTED,I="attribValue";break;case F.ATTRIB_VALUE_ENTITY_U:pe=F.ATTRIB_VALUE_UNQUOTED,I="attribValue";break}Q===";"?(O[I]+=ie(O),O.entity="",O.state=pe):L(O.entity.length?_:E,Q)?O.entity+=Q:(V(O,"Invalid character in entity name"),O[I]+="&"+O.entity+Q,O.entity="",O.state=pe);continue;default:throw new Error(O,"Unknown state: "+O.state)}return O.position>=O.bufferCheckPosition&&i(O),O}String.fromCodePoint||(function(){var D=String.fromCharCode,O=Math.floor,re=function(){var Q=16384,K=[],Y,pe,I=-1,ge=arguments.length;if(!ge)return"";for(var $="";++I<ge;){var C=Number(arguments[I]);if(!isFinite(C)||C<0||C>1114111||O(C)!==C)throw RangeError("Invalid code point: "+C);C<=65535?K.push(C):(C-=65536,Y=(C>>10)+55296,pe=C%1024+56320,K.push(Y,pe)),(I+1===ge||K.length>Q)&&($+=D.apply(null,K),K.length=0)}return $};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:re,configurable:!0,writable:!0}):String.fromCodePoint=re})()})(e)})(zp)),zp}var sg,nj;function Qy(){return nj||(nj=1,sg={isArray:function(e){return Array.isArray?Array.isArray(e):Object.prototype.toString.call(e)==="[object Array]"}}),sg}var ig,sj;function Jy(){if(sj)return ig;sj=1;var e=Qy().isArray;return ig={copyOptions:function(t){var r,n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},ensureFlagExists:function(t,r){(!(t in r)||typeof r[t]!="boolean")&&(r[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||typeof t.spaces!="number"&&typeof t.spaces!="string")&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){(!("alwaysArray"in t)||typeof t.alwaysArray!="boolean"&&!e(t.alwaysArray))&&(t.alwaysArray=!1)},ensureKeyExists:function(t,r){(!(t+"Key"in r)||typeof r[t+"Key"]!="string")&&(r[t+"Key"]=r.compact?"_"+t:t)},checkFnExists:function(t,r){return t+"Fn"in r}},ig}var ag,ij;function c2(){if(ij)return ag;ij=1;var e=sz(),t=Jy(),r=Qy().isArray,n,i;function a(w){return n=t.copyOptions(w),t.ensureFlagExists("ignoreDeclaration",n),t.ensureFlagExists("ignoreInstruction",n),t.ensureFlagExists("ignoreAttributes",n),t.ensureFlagExists("ignoreText",n),t.ensureFlagExists("ignoreComment",n),t.ensureFlagExists("ignoreCdata",n),t.ensureFlagExists("ignoreDoctype",n),t.ensureFlagExists("compact",n),t.ensureFlagExists("alwaysChildren",n),t.ensureFlagExists("addParent",n),t.ensureFlagExists("trim",n),t.ensureFlagExists("nativeType",n),t.ensureFlagExists("nativeTypeAttributes",n),t.ensureFlagExists("sanitize",n),t.ensureFlagExists("instructionHasAttributes",n),t.ensureFlagExists("captureSpacesBetweenElements",n),t.ensureAlwaysArrayExists(n),t.ensureKeyExists("declaration",n),t.ensureKeyExists("instruction",n),t.ensureKeyExists("attributes",n),t.ensureKeyExists("text",n),t.ensureKeyExists("comment",n),t.ensureKeyExists("cdata",n),t.ensureKeyExists("doctype",n),t.ensureKeyExists("type",n),t.ensureKeyExists("name",n),t.ensureKeyExists("elements",n),t.ensureKeyExists("parent",n),t.checkFnExists("doctype",n),t.checkFnExists("instruction",n),t.checkFnExists("cdata",n),t.checkFnExists("comment",n),t.checkFnExists("text",n),t.checkFnExists("instructionName",n),t.checkFnExists("elementName",n),t.checkFnExists("attributeName",n),t.checkFnExists("attributeValue",n),t.checkFnExists("attributes",n),n}function l(w){var E=Number(w);if(!isNaN(E))return E;var _=w.toLowerCase();return _==="true"?!0:_==="false"?!1:w}function c(w,E){var _;if(n.compact){if(!i[n[w+"Key"]]&&(r(n.alwaysArray)?n.alwaysArray.indexOf(n[w+"Key"])!==-1:n.alwaysArray)&&(i[n[w+"Key"]]=[]),i[n[w+"Key"]]&&!r(i[n[w+"Key"]])&&(i[n[w+"Key"]]=[i[n[w+"Key"]]]),w+"Fn"in n&&typeof E=="string"&&(E=n[w+"Fn"](E,i)),w==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(_ in E)if(E.hasOwnProperty(_))if("instructionFn"in n)E[_]=n.instructionFn(E[_],_,i);else{var S=E[_];delete E[_],E[n.instructionNameFn(_,S,i)]=S}}r(i[n[w+"Key"]])?i[n[w+"Key"]].push(E):i[n[w+"Key"]]=E}else{i[n.elementsKey]||(i[n.elementsKey]=[]);var P={};if(P[n.typeKey]=w,w==="instruction"){for(_ in E)if(E.hasOwnProperty(_))break;P[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(_,E,i):_,n.instructionHasAttributes?(P[n.attributesKey]=E[_][n.attributesKey],"instructionFn"in n&&(P[n.attributesKey]=n.instructionFn(P[n.attributesKey],_,i))):("instructionFn"in n&&(E[_]=n.instructionFn(E[_],_,i)),P[n.instructionKey]=E[_])}else w+"Fn"in n&&(E=n[w+"Fn"](E,i)),P[n[w+"Key"]]=E;n.addParent&&(P[n.parentKey]=i),i[n.elementsKey].push(P)}}function d(w){if("attributesFn"in n&&w&&(w=n.attributesFn(w,i)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&w){var E;for(E in w)if(w.hasOwnProperty(E)&&(n.trim&&(w[E]=w[E].trim()),n.nativeTypeAttributes&&(w[E]=l(w[E])),"attributeValueFn"in n&&(w[E]=n.attributeValueFn(w[E],E,i)),"attributeNameFn"in n)){var _=w[E];delete w[E],w[n.attributeNameFn(E,w[E],i)]=_}}return w}function h(w){var E={};if(w.body&&(w.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var _=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,S;(S=_.exec(w.body))!==null;)E[S[1]]=S[2]||S[3]||S[4];E=d(E)}if(w.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;i[n.declarationKey]={},Object.keys(E).length&&(i[n.declarationKey][n.attributesKey]=E),n.addParent&&(i[n.declarationKey][n.parentKey]=i)}else{if(n.ignoreInstruction)return;n.trim&&(w.body=w.body.trim());var P={};n.instructionHasAttributes&&Object.keys(E).length?(P[w.name]={},P[w.name][n.attributesKey]=E):P[w.name]=w.body,c("instruction",P)}}function f(w,E){var _;if(typeof w=="object"&&(E=w.attributes,w=w.name),E=d(E),"elementNameFn"in n&&(w=n.elementNameFn(w,i)),n.compact){if(_={},!n.ignoreAttributes&&E&&Object.keys(E).length){_[n.attributesKey]={};var S;for(S in E)E.hasOwnProperty(S)&&(_[n.attributesKey][S]=E[S])}!(w in i)&&(r(n.alwaysArray)?n.alwaysArray.indexOf(w)!==-1:n.alwaysArray)&&(i[w]=[]),i[w]&&!r(i[w])&&(i[w]=[i[w]]),r(i[w])?i[w].push(_):i[w]=_}else i[n.elementsKey]||(i[n.elementsKey]=[]),_={},_[n.typeKey]="element",_[n.nameKey]=w,!n.ignoreAttributes&&E&&Object.keys(E).length&&(_[n.attributesKey]=E),n.alwaysChildren&&(_[n.elementsKey]=[]),i[n.elementsKey].push(_);_[n.parentKey]=i,i=_}function m(w){n.ignoreText||!w.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(w=w.trim()),n.nativeType&&(w=l(w)),n.sanitize&&(w=w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),c("text",w))}function g(w){n.ignoreComment||(n.trim&&(w=w.trim()),c("comment",w))}function y(w){var E=i[n.parentKey];n.addParent||delete i[n.parentKey],i=E}function x(w){n.ignoreCdata||(n.trim&&(w=w.trim()),c("cdata",w))}function v(w){n.ignoreDoctype||(w=w.replace(/^ /,""),n.trim&&(w=w.trim()),c("doctype",w))}function b(w){w.note=w}return ag=function(w,E){var _=e.parser(!0,{}),S={};if(i=S,n=a(E),_.opt={strictEntities:!0},_.onopentag=f,_.ontext=m,_.oncomment=g,_.onclosetag=y,_.onerror=b,_.oncdata=x,_.ondoctype=v,_.onprocessinginstruction=h,_.write(w).close(),S[n.elementsKey]){var P=S[n.elementsKey];delete S[n.elementsKey],S[n.elementsKey]=P,delete S.text}return S},ag}var og,aj;function iz(){if(aj)return og;aj=1;var e=Jy(),t=c2();function r(n){var i=e.copyOptions(n);return e.ensureSpacesExists(i),i}return og=function(n,i){var a,l,c,d;return a=r(i),l=t(n,a),d="compact"in a&&a.compact?"_parent":"parent","addParent"in a&&a.addParent?c=JSON.stringify(l,function(h,f){return h===d?"_":f},a.spaces):c=JSON.stringify(l,null,a.spaces),c.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},og}var lg,oj;function u2(){if(oj)return lg;oj=1;var e=Jy(),t=Qy().isArray,r,n;function i(_){var S=e.copyOptions(_);return e.ensureFlagExists("ignoreDeclaration",S),e.ensureFlagExists("ignoreInstruction",S),e.ensureFlagExists("ignoreAttributes",S),e.ensureFlagExists("ignoreText",S),e.ensureFlagExists("ignoreComment",S),e.ensureFlagExists("ignoreCdata",S),e.ensureFlagExists("ignoreDoctype",S),e.ensureFlagExists("compact",S),e.ensureFlagExists("indentText",S),e.ensureFlagExists("indentCdata",S),e.ensureFlagExists("indentAttributes",S),e.ensureFlagExists("indentInstruction",S),e.ensureFlagExists("fullTagEmptyElement",S),e.ensureFlagExists("noQuotesForNativeAttributes",S),e.ensureSpacesExists(S),typeof S.spaces=="number"&&(S.spaces=Array(S.spaces+1).join(" ")),e.ensureKeyExists("declaration",S),e.ensureKeyExists("instruction",S),e.ensureKeyExists("attributes",S),e.ensureKeyExists("text",S),e.ensureKeyExists("comment",S),e.ensureKeyExists("cdata",S),e.ensureKeyExists("doctype",S),e.ensureKeyExists("type",S),e.ensureKeyExists("name",S),e.ensureKeyExists("elements",S),e.checkFnExists("doctype",S),e.checkFnExists("instruction",S),e.checkFnExists("cdata",S),e.checkFnExists("comment",S),e.checkFnExists("text",S),e.checkFnExists("instructionName",S),e.checkFnExists("elementName",S),e.checkFnExists("attributeName",S),e.checkFnExists("attributeValue",S),e.checkFnExists("attributes",S),e.checkFnExists("fullTagEmptyElement",S),S}function a(_,S,P){return(!P&&_.spaces?`
`:"")+Array(S+1).join(_.spaces)}function l(_,S,P){if(S.ignoreAttributes)return"";"attributesFn"in S&&(_=S.attributesFn(_,n,r));var B,L,U,F,ee=[];for(B in _)_.hasOwnProperty(B)&&_[B]!==null&&_[B]!==void 0&&(F=S.noQuotesForNativeAttributes&&typeof _[B]!="string"?"":'"',L=""+_[B],L=L.replace(/"/g,"&quot;"),U="attributeNameFn"in S?S.attributeNameFn(B,L,n,r):B,ee.push(S.spaces&&S.indentAttributes?a(S,P+1,!1):" "),ee.push(U+"="+F+("attributeValueFn"in S?S.attributeValueFn(L,B,n,r):L)+F));return _&&Object.keys(_).length&&S.spaces&&S.indentAttributes&&ee.push(a(S,P,!1)),ee.join("")}function c(_,S,P){return r=_,n="xml",S.ignoreDeclaration?"":"<?xml"+l(_[S.attributesKey],S,P)+"?>"}function d(_,S,P){if(S.ignoreInstruction)return"";var B;for(B in _)if(_.hasOwnProperty(B))break;var L="instructionNameFn"in S?S.instructionNameFn(B,_[B],n,r):B;if(typeof _[B]=="object")return r=_,n=L,"<?"+L+l(_[B][S.attributesKey],S,P)+"?>";var U=_[B]?_[B]:"";return"instructionFn"in S&&(U=S.instructionFn(U,B,n,r)),"<?"+L+(U?" "+U:"")+"?>"}function h(_,S){return S.ignoreComment?"":"<!--"+("commentFn"in S?S.commentFn(_,n,r):_)+"-->"}function f(_,S){return S.ignoreCdata?"":"<![CDATA["+("cdataFn"in S?S.cdataFn(_,n,r):_.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function m(_,S){return S.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in S?S.doctypeFn(_,n,r):_)+">"}function g(_,S){return S.ignoreText?"":(_=""+_,_=_.replace(/&amp;/g,"&"),_=_.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in S?S.textFn(_,n,r):_)}function y(_,S){var P;if(_.elements&&_.elements.length)for(P=0;P<_.elements.length;++P)switch(_.elements[P][S.typeKey]){case"text":if(S.indentText)return!0;break;case"cdata":if(S.indentCdata)return!0;break;case"instruction":if(S.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function x(_,S,P){r=_,n=_.name;var B=[],L="elementNameFn"in S?S.elementNameFn(_.name,_):_.name;B.push("<"+L),_[S.attributesKey]&&B.push(l(_[S.attributesKey],S,P));var U=_[S.elementsKey]&&_[S.elementsKey].length||_[S.attributesKey]&&_[S.attributesKey]["xml:space"]==="preserve";return U||("fullTagEmptyElementFn"in S?U=S.fullTagEmptyElementFn(_.name,_):U=S.fullTagEmptyElement),U?(B.push(">"),_[S.elementsKey]&&_[S.elementsKey].length&&(B.push(v(_[S.elementsKey],S,P+1)),r=_,n=_.name),B.push(S.spaces&&y(_,S)?`
`+Array(P+1).join(S.spaces):""),B.push("</"+L+">")):B.push("/>"),B.join("")}function v(_,S,P,B){return _.reduce(function(L,U){var F=a(S,P,B&&!L);switch(U.type){case"element":return L+F+x(U,S,P);case"comment":return L+F+h(U[S.commentKey],S);case"doctype":return L+F+m(U[S.doctypeKey],S);case"cdata":return L+(S.indentCdata?F:"")+f(U[S.cdataKey],S);case"text":return L+(S.indentText?F:"")+g(U[S.textKey],S);case"instruction":var ee={};return ee[U[S.nameKey]]=U[S.attributesKey]?U:U[S.instructionKey],L+(S.indentInstruction?F:"")+d(ee,S,P)}},"")}function b(_,S,P){var B;for(B in _)if(_.hasOwnProperty(B))switch(B){case S.parentKey:case S.attributesKey:break;case S.textKey:if(S.indentText||P)return!0;break;case S.cdataKey:if(S.indentCdata||P)return!0;break;case S.instructionKey:if(S.indentInstruction||P)return!0;break;case S.doctypeKey:case S.commentKey:return!0;default:return!0}return!1}function w(_,S,P,B,L){r=_,n=S;var U="elementNameFn"in P?P.elementNameFn(S,_):S;if(typeof _>"u"||_===null||_==="")return"fullTagEmptyElementFn"in P&&P.fullTagEmptyElementFn(S,_)||P.fullTagEmptyElement?"<"+U+"></"+U+">":"<"+U+"/>";var F=[];if(S){if(F.push("<"+U),typeof _!="object")return F.push(">"+g(_,P)+"</"+U+">"),F.join("");_[P.attributesKey]&&F.push(l(_[P.attributesKey],P,B));var ee=b(_,P,!0)||_[P.attributesKey]&&_[P.attributesKey]["xml:space"]==="preserve";if(ee||("fullTagEmptyElementFn"in P?ee=P.fullTagEmptyElementFn(S,_):ee=P.fullTagEmptyElement),ee)F.push(">");else return F.push("/>"),F.join("")}return F.push(E(_,P,B+1,!1)),r=_,n=S,S&&F.push((L?a(P,B,!1):"")+"</"+U+">"),F.join("")}function E(_,S,P,B){var L,U,F,ee=[];for(U in _)if(_.hasOwnProperty(U))for(F=t(_[U])?_[U]:[_[U]],L=0;L<F.length;++L){switch(U){case S.declarationKey:ee.push(c(F[L],S,P));break;case S.instructionKey:ee.push((S.indentInstruction?a(S,P,B):"")+d(F[L],S,P));break;case S.attributesKey:case S.parentKey:break;case S.textKey:ee.push((S.indentText?a(S,P,B):"")+g(F[L],S));break;case S.cdataKey:ee.push((S.indentCdata?a(S,P,B):"")+f(F[L],S));break;case S.doctypeKey:ee.push(a(S,P,B)+m(F[L],S));break;case S.commentKey:ee.push(a(S,P,B)+h(F[L],S));break;default:ee.push(a(S,P,B)+w(F[L],U,S,P,b(F[L],S)))}B=B&&!ee.length}return ee.join("")}return lg=function(_,S){S=i(S);var P=[];return r=_,n="_root_",S.compact?P.push(E(_,S,0,!0)):(_[S.declarationKey]&&P.push(c(_[S.declarationKey],S,0)),_[S.elementsKey]&&_[S.elementsKey].length&&P.push(v(_[S.elementsKey],S,0,!P.length))),P.join("")},lg}var cg,lj;function az(){if(lj)return cg;lj=1;var e=u2();return cg=function(t,r){t instanceof Buffer&&(t=t.toString());var n=null;if(typeof t=="string")try{n=JSON.parse(t)}catch{throw new Error("The JSON structure is invalid")}else n=t;return e(n,r)},cg}var ug,cj;function oz(){if(cj)return ug;cj=1;var e=c2(),t=iz(),r=u2(),n=az();return ug={xml2js:e,xml2json:t,js2xml:r,json2xml:n},ug}var d2=oz();const Zy=e=>{switch(e.type){case void 0:case"element":const t=new cz(e.name,e.attributes),r=e.elements||[];for(const n of r){const i=Zy(n);i!==void 0&&t.push(i)}return t;case"text":return e.text;default:return}};class lz extends Ze{}class cz extends Ce{static fromXmlString(t){const r=d2.xml2js(t,{compact:!1});return Zy(r)}constructor(t,r){super(t),r&&this.root.push(new lz(r))}push(t){this.root.push(t)}}class uz extends Ce{constructor(t){super(""),this._attr=t}prepForXml(t){return{_attr:this._attr}}}class h2 extends Ce{constructor(t,r){super(t),r&&(this.root=r.root)}}const Lr=e=>{if(isNaN(e))throw new Error(`Invalid value '${e}' specified. Must be an integer.`);return Math.floor(e)},yh=e=>{const t=Lr(e);if(t<0)throw new Error(`Invalid value '${e}' specified. Must be a positive integer.`);return t},f2=(e,t)=>{const r=t*2;if(e.length!==r||isNaN(+`0x${e}`))throw new Error(`Invalid hex value '${e}'. Expected ${r} digit hex value`);return e},uj=e=>f2(e,1),p2=e=>{const t=e.slice(-2),r=e.substring(0,e.length-2);return`${Number(r)}${t}`},m2=e=>{const t=p2(e);if(parseFloat(t)<0)throw new Error(`Invalid value '${t}' specified. Expected a positive number.`);return t},lo=e=>{if(e==="auto")return e;const t=e.charAt(0)==="#"?e.substring(1):e;return f2(t,3)},Bi=e=>typeof e=="string"?p2(e):Lr(e),dz=e=>typeof e=="string"?m2(e):yh(e),_n=e=>typeof e=="string"?m2(e):yh(e),hz=yh,fz=yh,pz=e=>e.toISOString();class Te extends Ce{constructor(t,r=!0){super(t),r!==!0&&this.root.push(new Wt({val:r}))}}class dg extends Ce{constructor(t,r){super(t),this.root.push(new Wt({val:dz(r)}))}}class Wa extends Ce{constructor(t,r){super(t),this.root.push(new Wt({val:r}))}}const xl=(e,t)=>new Yn({name:e,attributes:{value:{key:"w:val",value:t}}});class Dl extends Ce{constructor(t,r){super(t),this.root.push(new Wt({val:r}))}}class Ai extends Ce{constructor(t,r){super(t),this.root.push(r)}}class Yn extends Ce{constructor({name:t,attributes:r,children:n}){super(t),r&&this.root.push(new mh(r)),n&&this.root.push(...n)}}const Mn={START:"start",LEFT:"left"};class mz extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class gz extends Ce{constructor(t){super("w:jc"),this.root.push(new mz({val:t}))}}class Mt extends Ce{constructor(t,{color:r,size:n,space:i,style:a}){super(t),this.root.push(new vz({style:a,color:r===void 0?void 0:lo(r),size:n===void 0?void 0:hz(n),space:i===void 0?void 0:fz(i)}))}}class vz extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const ex={SINGLE:"single",NONE:"none"};class yz extends ph{constructor(t){super("w:pBdr"),t.top&&this.root.push(new Mt("w:top",t.top)),t.bottom&&this.root.push(new Mt("w:bottom",t.bottom)),t.left&&this.root.push(new Mt("w:left",t.left)),t.right&&this.root.push(new Mt("w:right",t.right))}}class xz extends Ce{constructor(){super("w:pBdr");const t=new Mt("w:bottom",{color:"auto",space:1,style:ex.SINGLE,size:6});this.root.push(t)}}class wz extends Ce{constructor({start:t,end:r,left:n,right:i,hanging:a,firstLine:l}){super("w:ind"),this.root.push(new mh({start:{key:"w:start",value:t===void 0?void 0:Bi(t)},end:{key:"w:end",value:r===void 0?void 0:Bi(r)},left:{key:"w:left",value:n===void 0?void 0:Bi(n)},right:{key:"w:right",value:i===void 0?void 0:Bi(i)},hanging:{key:"w:hanging",value:a===void 0?void 0:_n(a)},firstLine:{key:"w:firstLine",value:l===void 0?void 0:_n(l)}}))}}let bz=class extends Ce{constructor(){super("w:br")}};const tx={BEGIN:"begin",END:"end",SEPARATE:"separate"};class rx extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Xu extends Ce{constructor(t){super("w:fldChar"),this.root.push(new rx({type:tx.BEGIN,dirty:t}))}}class Qu extends Ce{constructor(t){super("w:fldChar"),this.root.push(new rx({type:tx.SEPARATE,dirty:t}))}}class Ju extends Ce{constructor(t){super("w:fldChar"),this.root.push(new rx({type:tx.END,dirty:t}))}}const co={DEFAULT:"default",PRESERVE:"preserve"};class uo extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{space:"xml:space"})}}class _z extends Ce{constructor(){super("w:instrText"),this.root.push(new uo({space:co.PRESERVE})),this.root.push("PAGE")}}class jz extends Ce{constructor(){super("w:instrText"),this.root.push(new uo({space:co.PRESERVE})),this.root.push("NUMPAGES")}}class Sz extends Ce{constructor(){super("w:instrText"),this.root.push(new uo({space:co.PRESERVE})),this.root.push("SECTIONPAGES")}}class Ez extends Ce{constructor(){super("w:instrText"),this.root.push(new uo({space:co.PRESERVE})),this.root.push("SECTION")}}class Nz extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class g2 extends Ce{constructor({fill:t,color:r,type:n}){super("w:shd"),this.root.push(new Nz({fill:t===void 0?void 0:lo(t),color:r===void 0?void 0:lo(r),type:n}))}}class Cz extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const kz={DOT:"dot"};class Tz extends Ce{constructor(t){super("w:em"),this.root.push(new Wt({val:t}))}}class Pz extends Tz{constructor(t=kz.DOT){super(t)}}class Az extends Ce{constructor(t){super("w:spacing"),this.root.push(new Wt({val:Bi(t)}))}}class Rz extends Ce{constructor(t){super("w:color"),this.root.push(new Wt({val:lo(t)}))}}class Dz extends Ce{constructor(t){super("w:highlight"),this.root.push(new Wt({val:t}))}}class Oz extends Ce{constructor(t){super("w:highlightCs"),this.root.push(new Wt({val:t}))}}const Iz=e=>new Yn({name:"w:lang",attributes:{value:{key:"w:val",value:e.value},eastAsia:{key:"w:eastAsia",value:e.eastAsia},bidirectional:{key:"w:bidi",value:e.bidirectional}}});class dj extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class hg extends Ce{constructor(t,r){if(super("w:rFonts"),typeof t=="string"){const n=t;this.root.push(new dj({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{const n=t;this.root.push(new dj(n))}}}let v2=class extends Ce{constructor(t){super("w:vertAlign"),this.root.push(new Wt({val:t}))}};class Mz extends v2{constructor(){super("superscript")}}class Fz extends v2{constructor(){super("subscript")}}const y2={SINGLE:"single"};class Lz extends Ce{constructor(t=y2.SINGLE,r){super("w:u"),this.root.push(new Wt({val:t,color:r===void 0?void 0:lo(r)}))}}class Xi extends ph{constructor(t){var r,n;if(super("w:rPr"),!t)return;t.style&&this.push(new Wa("w:rStyle",t.style)),t.font&&(typeof t.font=="string"?this.push(new hg(t.font)):"name"in t.font?this.push(new hg(t.font.name,t.font.hint)):this.push(new hg(t.font))),t.bold!==void 0&&this.push(new Te("w:b",t.bold)),(t.boldComplexScript===void 0&&t.bold!==void 0||t.boldComplexScript)&&this.push(new Te("w:bCs",(r=t.boldComplexScript)!=null?r:t.bold)),t.italics!==void 0&&this.push(new Te("w:i",t.italics)),(t.italicsComplexScript===void 0&&t.italics!==void 0||t.italicsComplexScript)&&this.push(new Te("w:iCs",(n=t.italicsComplexScript)!=null?n:t.italics)),t.smallCaps!==void 0?this.push(new Te("w:smallCaps",t.smallCaps)):t.allCaps!==void 0&&this.push(new Te("w:caps",t.allCaps)),t.strike!==void 0&&this.push(new Te("w:strike",t.strike)),t.doubleStrike!==void 0&&this.push(new Te("w:dstrike",t.doubleStrike)),t.emboss!==void 0&&this.push(new Te("w:emboss",t.emboss)),t.imprint!==void 0&&this.push(new Te("w:imprint",t.imprint)),t.noProof!==void 0&&this.push(new Te("w:noProof",t.noProof)),t.snapToGrid!==void 0&&this.push(new Te("w:snapToGrid",t.snapToGrid)),t.vanish&&this.push(new Te("w:vanish",t.vanish)),t.color&&this.push(new Rz(t.color)),t.characterSpacing&&this.push(new Az(t.characterSpacing)),t.scale!==void 0&&this.push(new Dl("w:w",t.scale)),t.kern&&this.push(new dg("w:kern",t.kern)),t.position&&this.push(new Wa("w:position",t.position)),t.size!==void 0&&this.push(new dg("w:sz",t.size));const i=t.sizeComplexScript===void 0||t.sizeComplexScript===!0?t.size:t.sizeComplexScript;i&&this.push(new dg("w:szCs",i)),t.highlight&&this.push(new Dz(t.highlight));const a=t.highlightComplexScript===void 0||t.highlightComplexScript===!0?t.highlight:t.highlightComplexScript;a&&this.push(new Oz(a)),t.underline&&this.push(new Lz(t.underline.type,t.underline.color)),t.effect&&this.push(new Wa("w:effect",t.effect)),t.border&&this.push(new Mt("w:bdr",t.border)),t.shading&&this.push(new g2(t.shading)),t.subScript&&this.push(new Fz),t.superScript&&this.push(new Mz),t.rightToLeft!==void 0&&this.push(new Te("w:rtl",t.rightToLeft)),t.emphasisMark&&this.push(new Pz(t.emphasisMark.type)),t.language&&this.push(Iz(t.language)),t.specVanish&&this.push(new Te("w:specVanish",t.vanish)),t.math&&this.push(new Te("w:oMath",t.math)),t.revision&&this.push(new Uz(t.revision))}push(t){this.root.push(t)}}class Uz extends Ce{constructor(t){super("w:rPrChange"),this.root.push(new Cz({id:t.id,author:t.author,date:t.date})),this.addChildElement(new Xi(t))}}class hj extends Ce{constructor(t){var r;super("w:t"),typeof t=="string"?(this.root.push(new uo({space:co.PRESERVE})),this.root.push(t)):(this.root.push(new uo({space:(r=t.space)!=null?r:co.DEFAULT})),this.root.push(t.text))}}const Zu={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class xh extends Ce{constructor(t){if(super("w:r"),Se(this,"properties"),this.properties=new Xi(t),this.root.push(this.properties),t.break)for(let r=0;r<t.break;r++)this.root.push(new bz);if(t.children)for(const r of t.children){if(typeof r=="string"){switch(r){case Zu.CURRENT:this.root.push(new Xu),this.root.push(new _z),this.root.push(new Qu),this.root.push(new Ju);break;case Zu.TOTAL_PAGES:this.root.push(new Xu),this.root.push(new jz),this.root.push(new Qu),this.root.push(new Ju);break;case Zu.TOTAL_PAGES_IN_SECTION:this.root.push(new Xu),this.root.push(new Sz),this.root.push(new Qu),this.root.push(new Ju);break;case Zu.CURRENT_SECTION:this.root.push(new Xu),this.root.push(new Ez),this.root.push(new Qu),this.root.push(new Ju);break;default:this.root.push(new hj(r));break}continue}this.root.push(r)}else t.text!==void 0&&this.root.push(new hj(t.text))}}class vv extends xh{constructor(t){super(typeof t=="string"?{text:t}:t)}}var fg={},bt={},pg,fj;function bc(){if(fj)return pg;fj=1,pg=e;function e(t,r){if(!t)throw new Error(r||"Assertion failed")}return e.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},pg}var pj;function es(){if(pj)return bt;pj=1;var e=bc(),t=hi();bt.inherits=t;function r(z,G){return(z.charCodeAt(G)&64512)!==55296||G<0||G+1>=z.length?!1:(z.charCodeAt(G+1)&64512)===56320}function n(z,G){if(Array.isArray(z))return z.slice();if(!z)return[];var A=[];if(typeof z=="string")if(G){if(G==="hex")for(z=z.replace(/[^a-z0-9]+/ig,""),z.length%2!==0&&(z="0"+z),J=0;J<z.length;J+=2)A.push(parseInt(z[J]+z[J+1],16))}else for(var te=0,J=0;J<z.length;J++){var V=z.charCodeAt(J);V<128?A[te++]=V:V<2048?(A[te++]=V>>6|192,A[te++]=V&63|128):r(z,J)?(V=65536+((V&1023)<<10)+(z.charCodeAt(++J)&1023),A[te++]=V>>18|240,A[te++]=V>>12&63|128,A[te++]=V>>6&63|128,A[te++]=V&63|128):(A[te++]=V>>12|224,A[te++]=V>>6&63|128,A[te++]=V&63|128)}else for(J=0;J<z.length;J++)A[J]=z[J]|0;return A}bt.toArray=n;function i(z){for(var G="",A=0;A<z.length;A++)G+=c(z[A].toString(16));return G}bt.toHex=i;function a(z){var G=z>>>24|z>>>8&65280|z<<8&16711680|(z&255)<<24;return G>>>0}bt.htonl=a;function l(z,G){for(var A="",te=0;te<z.length;te++){var J=z[te];G==="little"&&(J=a(J)),A+=d(J.toString(16))}return A}bt.toHex32=l;function c(z){return z.length===1?"0"+z:z}bt.zero2=c;function d(z){return z.length===7?"0"+z:z.length===6?"00"+z:z.length===5?"000"+z:z.length===4?"0000"+z:z.length===3?"00000"+z:z.length===2?"000000"+z:z.length===1?"0000000"+z:z}bt.zero8=d;function h(z,G,A,te){var J=A-G;e(J%4===0);for(var V=new Array(J/4),X=0,ne=G;X<V.length;X++,ne+=4){var he;te==="big"?he=z[ne]<<24|z[ne+1]<<16|z[ne+2]<<8|z[ne+3]:he=z[ne+3]<<24|z[ne+2]<<16|z[ne+1]<<8|z[ne],V[X]=he>>>0}return V}bt.join32=h;function f(z,G){for(var A=new Array(z.length*4),te=0,J=0;te<z.length;te++,J+=4){var V=z[te];G==="big"?(A[J]=V>>>24,A[J+1]=V>>>16&255,A[J+2]=V>>>8&255,A[J+3]=V&255):(A[J+3]=V>>>24,A[J+2]=V>>>16&255,A[J+1]=V>>>8&255,A[J]=V&255)}return A}bt.split32=f;function m(z,G){return z>>>G|z<<32-G}bt.rotr32=m;function g(z,G){return z<<G|z>>>32-G}bt.rotl32=g;function y(z,G){return z+G>>>0}bt.sum32=y;function x(z,G,A){return z+G+A>>>0}bt.sum32_3=x;function v(z,G,A,te){return z+G+A+te>>>0}bt.sum32_4=v;function b(z,G,A,te,J){return z+G+A+te+J>>>0}bt.sum32_5=b;function w(z,G,A,te){var J=z[G],V=z[G+1],X=te+V>>>0,ne=(X<te?1:0)+A+J;z[G]=ne>>>0,z[G+1]=X}bt.sum64=w;function E(z,G,A,te){var J=G+te>>>0,V=(J<G?1:0)+z+A;return V>>>0}bt.sum64_hi=E;function _(z,G,A,te){var J=G+te;return J>>>0}bt.sum64_lo=_;function S(z,G,A,te,J,V,X,ne){var he=0,W=G;W=W+te>>>0,he+=W<G?1:0,W=W+V>>>0,he+=W<V?1:0,W=W+ne>>>0,he+=W<ne?1:0;var H=z+A+J+X+he;return H>>>0}bt.sum64_4_hi=S;function P(z,G,A,te,J,V,X,ne){var he=G+te+V+ne;return he>>>0}bt.sum64_4_lo=P;function B(z,G,A,te,J,V,X,ne,he,W){var H=0,ie=G;ie=ie+te>>>0,H+=ie<G?1:0,ie=ie+V>>>0,H+=ie<V?1:0,ie=ie+ne>>>0,H+=ie<ne?1:0,ie=ie+W>>>0,H+=ie<W?1:0;var le=z+A+J+X+he+H;return le>>>0}bt.sum64_5_hi=B;function L(z,G,A,te,J,V,X,ne,he,W){var H=G+te+V+ne+W;return H>>>0}bt.sum64_5_lo=L;function U(z,G,A){var te=G<<32-A|z>>>A;return te>>>0}bt.rotr64_hi=U;function F(z,G,A){var te=z<<32-A|G>>>A;return te>>>0}bt.rotr64_lo=F;function ee(z,G,A){return z>>>A}bt.shr64_hi=ee;function me(z,G,A){var te=z<<32-A|G>>>A;return te>>>0}return bt.shr64_lo=me,bt}var mg={},mj;function _c(){if(mj)return mg;mj=1;var e=es(),t=bc();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return mg.BlockHash=r,r.prototype.update=function(i,a){if(i=e.toArray(i,a),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var l=i.length%this._delta8;this.pending=i.slice(i.length-l,i.length),this.pending.length===0&&(this.pending=null),i=e.join32(i,0,i.length-l,this.endian);for(var c=0;c<i.length;c+=this._delta32)this._update(i,c,c+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),t(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,a=this._delta8,l=a-(i+this.padLength)%a,c=new Array(l+this.padLength);c[0]=128;for(var d=1;d<l;d++)c[d]=0;if(i<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)c[d++]=0;c[d++]=0,c[d++]=0,c[d++]=0,c[d++]=0,c[d++]=i>>>24&255,c[d++]=i>>>16&255,c[d++]=i>>>8&255,c[d++]=i&255}else for(c[d++]=i&255,c[d++]=i>>>8&255,c[d++]=i>>>16&255,c[d++]=i>>>24&255,c[d++]=0,c[d++]=0,c[d++]=0,c[d++]=0,h=8;h<this.padLength;h++)c[d++]=0;return c},mg}var Ri={},In={},gj;function x2(){if(gj)return In;gj=1;var e=es(),t=e.rotr32;function r(f,m,g,y){if(f===0)return n(m,g,y);if(f===1||f===3)return a(m,g,y);if(f===2)return i(m,g,y)}In.ft_1=r;function n(f,m,g){return f&m^~f&g}In.ch32=n;function i(f,m,g){return f&m^f&g^m&g}In.maj32=i;function a(f,m,g){return f^m^g}In.p32=a;function l(f){return t(f,2)^t(f,13)^t(f,22)}In.s0_256=l;function c(f){return t(f,6)^t(f,11)^t(f,25)}In.s1_256=c;function d(f){return t(f,7)^t(f,18)^f>>>3}In.g0_256=d;function h(f){return t(f,17)^t(f,19)^f>>>10}return In.g1_256=h,In}var gg,vj;function Bz(){if(vj)return gg;vj=1;var e=es(),t=_c(),r=x2(),n=e.rotl32,i=e.sum32,a=e.sum32_5,l=r.ft_1,c=t.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return e.inherits(h,c),gg=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(m,g){for(var y=this.W,x=0;x<16;x++)y[x]=m[g+x];for(;x<y.length;x++)y[x]=n(y[x-3]^y[x-8]^y[x-14]^y[x-16],1);var v=this.h[0],b=this.h[1],w=this.h[2],E=this.h[3],_=this.h[4];for(x=0;x<y.length;x++){var S=~~(x/20),P=a(n(v,5),l(S,b,w,E),_,y[x],d[S]);_=E,E=w,w=n(b,30),b=v,v=P}this.h[0]=i(this.h[0],v),this.h[1]=i(this.h[1],b),this.h[2]=i(this.h[2],w),this.h[3]=i(this.h[3],E),this.h[4]=i(this.h[4],_)},h.prototype._digest=function(m){return m==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},gg}var vg,yj;function w2(){if(yj)return vg;yj=1;var e=es(),t=_c(),r=x2(),n=bc(),i=e.sum32,a=e.sum32_4,l=e.sum32_5,c=r.ch32,d=r.maj32,h=r.s0_256,f=r.s1_256,m=r.g0_256,g=r.g1_256,y=t.BlockHash,x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=x,this.W=new Array(64)}return e.inherits(v,y),vg=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(w,E){for(var _=this.W,S=0;S<16;S++)_[S]=w[E+S];for(;S<_.length;S++)_[S]=a(g(_[S-2]),_[S-7],m(_[S-15]),_[S-16]);var P=this.h[0],B=this.h[1],L=this.h[2],U=this.h[3],F=this.h[4],ee=this.h[5],me=this.h[6],z=this.h[7];for(n(this.k.length===_.length),S=0;S<_.length;S++){var G=l(z,f(F),c(F,ee,me),this.k[S],_[S]),A=i(h(P),d(P,B,L));z=me,me=ee,ee=F,F=i(U,G),U=L,L=B,B=P,P=i(G,A)}this.h[0]=i(this.h[0],P),this.h[1]=i(this.h[1],B),this.h[2]=i(this.h[2],L),this.h[3]=i(this.h[3],U),this.h[4]=i(this.h[4],F),this.h[5]=i(this.h[5],ee),this.h[6]=i(this.h[6],me),this.h[7]=i(this.h[7],z)},v.prototype._digest=function(w){return w==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},vg}var yg,xj;function $z(){if(xj)return yg;xj=1;var e=es(),t=w2();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return e.inherits(r,t),yg=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?e.toHex32(this.h.slice(0,7),"big"):e.split32(this.h.slice(0,7),"big")},yg}var xg,wj;function b2(){if(wj)return xg;wj=1;var e=es(),t=_c(),r=bc(),n=e.rotr64_hi,i=e.rotr64_lo,a=e.shr64_hi,l=e.shr64_lo,c=e.sum64,d=e.sum64_hi,h=e.sum64_lo,f=e.sum64_4_hi,m=e.sum64_4_lo,g=e.sum64_5_hi,y=e.sum64_5_lo,x=t.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;x.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}e.inherits(b,x),xg=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(A,te){for(var J=this.W,V=0;V<32;V++)J[V]=A[te+V];for(;V<J.length;V+=2){var X=me(J[V-4],J[V-3]),ne=z(J[V-4],J[V-3]),he=J[V-14],W=J[V-13],H=F(J[V-30],J[V-29]),ie=ee(J[V-30],J[V-29]),le=J[V-32],fe=J[V-31];J[V]=f(X,ne,he,W,H,ie,le,fe),J[V+1]=m(X,ne,he,W,H,ie,le,fe)}},b.prototype._update=function(A,te){this._prepareBlock(A,te);var J=this.W,V=this.h[0],X=this.h[1],ne=this.h[2],he=this.h[3],W=this.h[4],H=this.h[5],ie=this.h[6],le=this.h[7],fe=this.h[8],ae=this.h[9],D=this.h[10],O=this.h[11],re=this.h[12],Q=this.h[13],K=this.h[14],Y=this.h[15];r(this.k.length===J.length);for(var pe=0;pe<J.length;pe+=2){var I=K,ge=Y,$=L(fe,ae),C=U(fe,ae),k=w(fe,ae,D,O,re),M=E(fe,ae,D,O,re,Q),Z=this.k[pe],ce=this.k[pe+1],se=J[pe],be=J[pe+1],Ee=g(I,ge,$,C,k,M,Z,ce,se,be),je=y(I,ge,$,C,k,M,Z,ce,se,be);I=P(V,X),ge=B(V,X),$=_(V,X,ne,he,W),C=S(V,X,ne,he,W,H);var Ie=d(I,ge,$,C),$e=h(I,ge,$,C);K=re,Y=Q,re=D,Q=O,D=fe,O=ae,fe=d(ie,le,Ee,je),ae=h(le,le,Ee,je),ie=W,le=H,W=ne,H=he,ne=V,he=X,V=d(Ee,je,Ie,$e),X=h(Ee,je,Ie,$e)}c(this.h,0,V,X),c(this.h,2,ne,he),c(this.h,4,W,H),c(this.h,6,ie,le),c(this.h,8,fe,ae),c(this.h,10,D,O),c(this.h,12,re,Q),c(this.h,14,K,Y)},b.prototype._digest=function(A){return A==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")};function w(G,A,te,J,V){var X=G&te^~G&V;return X<0&&(X+=4294967296),X}function E(G,A,te,J,V,X){var ne=A&J^~A&X;return ne<0&&(ne+=4294967296),ne}function _(G,A,te,J,V){var X=G&te^G&V^te&V;return X<0&&(X+=4294967296),X}function S(G,A,te,J,V,X){var ne=A&J^A&X^J&X;return ne<0&&(ne+=4294967296),ne}function P(G,A){var te=n(G,A,28),J=n(A,G,2),V=n(A,G,7),X=te^J^V;return X<0&&(X+=4294967296),X}function B(G,A){var te=i(G,A,28),J=i(A,G,2),V=i(A,G,7),X=te^J^V;return X<0&&(X+=4294967296),X}function L(G,A){var te=n(G,A,14),J=n(G,A,18),V=n(A,G,9),X=te^J^V;return X<0&&(X+=4294967296),X}function U(G,A){var te=i(G,A,14),J=i(G,A,18),V=i(A,G,9),X=te^J^V;return X<0&&(X+=4294967296),X}function F(G,A){var te=n(G,A,1),J=n(G,A,8),V=a(G,A,7),X=te^J^V;return X<0&&(X+=4294967296),X}function ee(G,A){var te=i(G,A,1),J=i(G,A,8),V=l(G,A,7),X=te^J^V;return X<0&&(X+=4294967296),X}function me(G,A){var te=n(G,A,19),J=n(A,G,29),V=a(G,A,6),X=te^J^V;return X<0&&(X+=4294967296),X}function z(G,A){var te=i(G,A,19),J=i(A,G,29),V=l(G,A,6),X=te^J^V;return X<0&&(X+=4294967296),X}return xg}var wg,bj;function zz(){if(bj)return wg;bj=1;var e=es(),t=b2();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return e.inherits(r,t),wg=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?e.toHex32(this.h.slice(0,12),"big"):e.split32(this.h.slice(0,12),"big")},wg}var _j;function Hz(){return _j||(_j=1,Ri.sha1=Bz(),Ri.sha224=$z(),Ri.sha256=w2(),Ri.sha384=zz(),Ri.sha512=b2()),Ri}var bg={},jj;function Wz(){if(jj)return bg;jj=1;var e=es(),t=_c(),r=e.rotl32,n=e.sum32,i=e.sum32_3,a=e.sum32_4,l=t.BlockHash;function c(){if(!(this instanceof c))return new c;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}e.inherits(c,l),bg.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(b,w){for(var E=this.h[0],_=this.h[1],S=this.h[2],P=this.h[3],B=this.h[4],L=E,U=_,F=S,ee=P,me=B,z=0;z<80;z++){var G=n(r(a(E,d(z,_,S,P),b[m[z]+w],h(z)),y[z]),B);E=B,B=P,P=r(S,10),S=_,_=G,G=n(r(a(L,d(79-z,U,F,ee),b[g[z]+w],f(z)),x[z]),me),L=me,me=ee,ee=r(F,10),F=U,U=G}G=i(this.h[1],S,ee),this.h[1]=i(this.h[2],P,me),this.h[2]=i(this.h[3],B,L),this.h[3]=i(this.h[4],E,U),this.h[4]=i(this.h[0],_,F),this.h[0]=G},c.prototype._digest=function(b){return b==="hex"?e.toHex32(this.h,"little"):e.split32(this.h,"little")};function d(v,b,w,E){return v<=15?b^w^E:v<=31?b&w|~b&E:v<=47?(b|~w)^E:v<=63?b&E|w&~E:b^(w|~E)}function h(v){return v<=15?0:v<=31?1518500249:v<=47?1859775393:v<=63?2400959708:2840853838}function f(v){return v<=15?1352829926:v<=31?1548603684:v<=47?1836072691:v<=63?2053994217:0}var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],x=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return bg}var _g,Sj;function qz(){if(Sj)return _g;Sj=1;var e=es(),t=bc();function r(n,i,a){if(!(this instanceof r))return new r(n,i,a);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(e.toArray(i,a))}return _g=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),t(i.length<=this.blockSize);for(var a=i.length;a<this.blockSize;a++)i.push(0);for(a=0;a<i.length;a++)i[a]^=54;for(this.inner=new this.Hash().update(i),a=0;a<i.length;a++)i[a]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,a){return this.inner.update(i,a),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},_g}var Ej;function Vz(){return Ej||(Ej=1,(function(e){var t=e;t.utils=es(),t.common=_c(),t.sha=Hz(),t.ripemd=Wz(),t.hmac=qz(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(fg)),fg}Vz();let Kz="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Gz=(e,t=21)=>(r=t)=>{let n="",i=r|0;for(;i--;)n+=e[Math.random()*e.length|0];return n},Yz=(e=21)=>{let t="",r=e|0;for(;r--;)t+=Kz[Math.random()*64|0];return t};const mn=e=>Math.floor(e*72*20),nx=(e=0)=>{let t=e;return()=>++t},Xz=()=>nx(),Qz=()=>nx(1),Jz=()=>nx(),Zz=()=>Yz().toLowerCase(),wl=e=>Gz("1234567890abcdef",e)(),eH=()=>`${wl(8)}-${wl(4)}-${wl(4)}-${wl(4)}-${wl(12)}`;class tH extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns"})}}class rH extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const nH={EXTERNAL:"External"};class sH extends Ce{constructor(t,r,n,i){super("Relationship"),this.root.push(new rH({id:t,type:r,target:n,targetMode:i}))}}class Qi extends Ce{constructor(){super("Relationships"),this.root.push(new tH({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(t,r,n,i){const a=new sH(`rId${t}`,r,n,i);return this.root.push(a),a}get RelationshipCount(){return this.root.length-1}}class iH extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class aH extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class oH extends Ce{constructor({id:t,initials:r,author:n,date:i=new Date,children:a}){super("w:comment"),this.root.push(new iH({id:t,initials:r,author:n,date:i.toISOString()}));for(const l of a)this.root.push(l)}}class lH extends Ce{constructor({children:t}){super("w:comments"),Se(this,"relationships"),this.root.push(new aH({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of t)this.root.push(new oH(r));this.relationships=new Qi}get Relationships(){return this.relationships}}class cH extends Ce{constructor(){super("w:pageBreakBefore")}}const yv={AUTO:"auto"};class uH extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class dH extends Ce{constructor(t){super("w:spacing"),this.root.push(new uH(t))}}let ed=class extends Ce{constructor(t){super("w:pStyle"),this.root.push(new Wt({val:t}))}};class hH extends Ce{constructor(t){super("w:tabs");for(const r of t)this.root.push(new pH(r))}}const Nj={LEFT:"left",RIGHT:"right"};class fH extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class pH extends Ce{constructor({type:t,position:r,leader:n}){super("w:tab"),this.root.push(new fH({val:t,pos:r,leader:n}))}}class jg extends Ce{constructor(t,r){super("w:numPr"),this.root.push(new mH(r)),this.root.push(new gH(t))}}class mH extends Ce{constructor(t){if(super("w:ilvl"),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Wt({val:t}))}}class gH extends Ce{constructor(t){super("w:numId"),this.root.push(new Wt({val:typeof t=="string"?`{${t}}`:t}))}}class vH extends Ce{constructor(){super(...arguments),Se(this,"fileChild",Symbol())}}class yH extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class xH extends Ce{constructor(t,r,n){super("w:hyperlink"),Se(this,"linkId"),this.linkId=r;const i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},a=new yH(i);this.root.push(a),t.forEach(l=>{this.root.push(l)})}}class wH extends Ce{constructor(t){super("w:externalHyperlink"),this.options=t}}class bH extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class _H extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"w:id"})}}class jH{constructor(t){Se(this,"bookmarkUniqueNumericId",Jz()),Se(this,"start"),Se(this,"children"),Se(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new SH(t.id,r),this.children=t.children,this.end=new EH(r)}}class SH extends Ce{constructor(t,r){super("w:bookmarkStart");const n=new bH({name:t,id:r});this.root.push(n)}}class EH extends Ce{constructor(t){super("w:bookmarkEnd");const r=new _H({id:t});this.root.push(r)}}class NH extends Ce{constructor(t){super("w:outlineLvl"),this.level=t,this.root.push(new Wt({val:t}))}}const CH={TOP:"top",CENTER:"center",BOTTOM:"bottom"};ao(ot({},CH),{BOTH:"both"});class kH extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{verticalAlign:"w:val"})}}class TH extends Ce{constructor(t){super("w:vAlign"),this.root.push(new kH({verticalAlign:t}))}}class PH extends Ce{constructor({space:t,count:r,separate:n,equalWidth:i,children:a}){super("w:cols"),this.root.push(new mh({space:{key:"w:space",value:t===void 0?void 0:_n(t)},count:{key:"w:num",value:r===void 0?void 0:Lr(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&a&&a.forEach(l=>this.addChildElement(l))}}const AH=({type:e,linePitch:t,charSpace:r})=>new Yn({name:"w:docGrid",attributes:{type:{key:"w:type",value:e},linePitch:{key:"w:linePitch",value:Lr(t)},charSpace:{key:"w:charSpace",value:r?Lr(r):void 0}}}),qa={DEFAULT:"default",FIRST:"first",EVEN:"even"};class RH extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const Cj={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class Sg extends Ce{constructor(t,r){super(t),this.root.push(new RH({type:r.type||qa.DEFAULT,id:`rId${r.id}`}))}}const DH=({countBy:e,start:t,restart:r,distance:n})=>new Yn({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:e===void 0?void 0:Lr(e)},start:{key:"w:start",value:t===void 0?void 0:Lr(t)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:_n(n)}}});class kj extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class OH extends ph{constructor(t){if(super("w:pgBorders"),!t)return this;t.pageBorders?this.root.push(new kj({display:t.pageBorders.display,offsetFrom:t.pageBorders.offsetFrom,zOrder:t.pageBorders.zOrder})):this.root.push(new kj({})),t.pageBorderTop&&this.root.push(new Mt("w:top",t.pageBorderTop)),t.pageBorderLeft&&this.root.push(new Mt("w:left",t.pageBorderLeft)),t.pageBorderBottom&&this.root.push(new Mt("w:bottom",t.pageBorderBottom)),t.pageBorderRight&&this.root.push(new Mt("w:right",t.pageBorderRight))}}class IH extends Ce{constructor(t,r,n,i,a,l,c){super("w:pgMar"),this.root.push(new mh({top:{key:"w:top",value:Bi(t)},right:{key:"w:right",value:_n(r)},bottom:{key:"w:bottom",value:Bi(n)},left:{key:"w:left",value:_n(i)},header:{key:"w:header",value:_n(a)},footer:{key:"w:footer",value:_n(l)},gutter:{key:"w:gutter",value:_n(c)}}))}}class MH extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class FH extends Ce{constructor({start:t,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new MH({start:t===void 0?void 0:Lr(t),formatType:r,separator:n}))}}const xv={PORTRAIT:"portrait",LANDSCAPE:"landscape"},LH=({width:e,height:t,orientation:r,code:n})=>{const i=_n(e),a=_n(t);return new Yn({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===xv.LANDSCAPE?a:i},height:{key:"w:h",value:r===xv.LANDSCAPE?i:a},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:n}}})};class UH extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class BH extends Ce{constructor(t){super("w:textDirection"),this.root.push(new UH({val:t}))}}class $H extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class zH extends Ce{constructor(t){super("w:type"),this.root.push(new $H({val:t}))}}const Di={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},Eg={WIDTH:11906,HEIGHT:16838,ORIENTATION:xv.PORTRAIT};class HH extends Ce{constructor({page:{size:{width:t=Eg.WIDTH,height:r=Eg.HEIGHT,orientation:n=Eg.ORIENTATION}={},margin:{top:i=Di.TOP,right:a=Di.RIGHT,bottom:l=Di.BOTTOM,left:c=Di.LEFT,header:d=Di.HEADER,footer:h=Di.FOOTER,gutter:f=Di.GUTTER}={},pageNumbers:m={},borders:g,textDirection:y}={},grid:{linePitch:x=360,charSpace:v,type:b}={},headerWrapperGroup:w={},footerWrapperGroup:E={},lineNumbers:_,titlePage:S,verticalAlign:P,column:B,type:L}={}){super("w:sectPr"),this.addHeaderFooterGroup(Cj.HEADER,w),this.addHeaderFooterGroup(Cj.FOOTER,E),L&&this.root.push(new zH(L)),this.root.push(LH({width:t,height:r,orientation:n})),this.root.push(new IH(i,a,l,c,d,h,f)),g&&this.root.push(new OH(g)),_&&this.root.push(DH(_)),this.root.push(new FH(m)),B&&this.root.push(new PH(B)),P&&this.root.push(new TH(P)),S!==void 0&&this.root.push(new Te("w:titlePg",S)),y&&this.root.push(new BH(y)),this.root.push(AH({linePitch:x,charSpace:v,type:b}))}addHeaderFooterGroup(t,r){r.default&&this.root.push(new Sg(t,{type:qa.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new Sg(t,{type:qa.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new Sg(t,{type:qa.EVEN,id:r.even.View.ReferenceId}))}}class WH extends Ce{constructor(){super("w:body"),Se(this,"sections",[])}addSection(t){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new HH(t))}prepForXml(t){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(t)}push(t){this.root.push(t)}createSectionParagraph(t){const r=new Ad({}),n=new ho({});return n.push(t),r.addChildElement(n),r}}const Tj={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class wh extends Ze{constructor(t,r){super(ot({Ignorable:r},Object.fromEntries(t.map(n=>[n,Tj[n]])))),Se(this,"xmlKeys",ot({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(Tj).map(n=>[n,`xmlns:${n}`]))))}}class qH extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class VH extends Ce{constructor(t){super("w:background"),this.root.push(new qH({color:t.color===void 0?void 0:lo(t.color),themeColor:t.themeColor,themeShade:t.themeShade===void 0?void 0:uj(t.themeShade),themeTint:t.themeTint===void 0?void 0:uj(t.themeTint)}))}}class KH extends Ce{constructor(t){super("w:document"),Se(this,"body"),this.root.push(new wh(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new WH,t.background&&this.root.push(new VH(t.background)),this.root.push(this.body)}add(t){return this.body.push(t),this}get Body(){return this.body}}class _2{constructor(t){Se(this,"document"),Se(this,"relationships"),this.document=new KH(t),this.relationships=new Qi}get View(){return this.document}get Relationships(){return this.relationships}}class GH extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class YH extends Ce{constructor(){super("w:wordWrap"),this.root.push(new GH({val:0}))}}const XH=e=>{var t,r;return new Yn({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:e.anchorLock},dropCap:{key:"w:dropCap",value:e.dropCap},width:{key:"w:w",value:e.width},height:{key:"w:h",value:e.height},x:{key:"w:x",value:e.position?e.position.x:void 0},y:{key:"w:y",value:e.position?e.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:e.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:e.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(t=e.space)==null?void 0:t.horizontal},spaceVertical:{key:"w:vSpace",value:(r=e.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:e.rule},alignmentX:{key:"w:xAlign",value:e.alignment?e.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:e.alignment?e.alignment.y:void 0},lines:{key:"w:lines",value:e.lines},wrap:{key:"w:wrap",value:e.wrap}}})};class ho extends ph{constructor(t){var r,n;if(super("w:pPr"),Se(this,"numberingReferences",[]),!t)return this;t.heading&&this.push(new ed(t.heading)),t.bullet&&this.push(new ed("ListParagraph")),t.numbering&&!t.style&&!t.heading&&(t.numbering.custom||this.push(new ed("ListParagraph"))),t.style&&this.push(new ed(t.style)),t.keepNext!==void 0&&this.push(new Te("w:keepNext",t.keepNext)),t.keepLines!==void 0&&this.push(new Te("w:keepLines",t.keepLines)),t.pageBreakBefore&&this.push(new cH),t.frame&&this.push(XH(t.frame)),t.widowControl!==void 0&&this.push(new Te("w:widowControl",t.widowControl)),t.bullet&&this.push(new jg(1,t.bullet.level)),t.numbering?(this.numberingReferences.push({reference:t.numbering.reference,instance:(r=t.numbering.instance)!=null?r:0}),this.push(new jg(`${t.numbering.reference}-${(n=t.numbering.instance)!=null?n:0}`,t.numbering.level))):t.numbering===!1&&this.push(new jg(0,0)),t.border&&this.push(new yz(t.border)),t.thematicBreak&&this.push(new xz),t.shading&&this.push(new g2(t.shading)),t.wordWrap&&this.push(new YH),t.overflowPunctuation&&this.push(new Te("w:overflowPunct",t.overflowPunctuation));const i=[...t.rightTabStop!==void 0?[{type:Nj.RIGHT,position:t.rightTabStop}]:[],...t.tabStops?t.tabStops:[],...t.leftTabStop!==void 0?[{type:Nj.LEFT,position:t.leftTabStop}]:[]];i.length>0&&this.push(new hH(i)),t.bidirectional!==void 0&&this.push(new Te("w:bidi",t.bidirectional)),t.spacing&&this.push(new dH(t.spacing)),t.indent&&this.push(new wz(t.indent)),t.contextualSpacing!==void 0&&this.push(new Te("w:contextualSpacing",t.contextualSpacing)),t.alignment&&this.push(new gz(t.alignment)),t.outlineLevel!==void 0&&this.push(new NH(t.outlineLevel)),t.suppressLineNumbers!==void 0&&this.push(new Te("w:suppressLineNumbers",t.suppressLineNumbers)),t.autoSpaceEastAsianText!==void 0&&this.push(new Te("w:autoSpaceDN",t.autoSpaceEastAsianText)),t.run&&this.push(new Xi(t.run))}push(t){this.root.push(t)}prepForXml(t){if(t.viewWrapper instanceof _2)for(const r of this.numberingReferences)t.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(t)}}class Ad extends vH{constructor(t){if(super("w:p"),Se(this,"properties"),typeof t=="string")return this.properties=new ho({}),this.root.push(this.properties),this.root.push(new vv(t)),this;if(this.properties=new ho(t),this.root.push(this.properties),t.text&&this.root.push(new vv(t.text)),t.children)for(const r of t.children){if(r instanceof jH){this.root.push(r.start);for(const n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(t){for(const r of this.root)if(r instanceof wH){const n=this.root.indexOf(r),i=new xH(r.options.children,Zz());t.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,nH.EXTERNAL),this.root[n]=i}return super.prepForXml(t)}addRunToFront(t){return this.root.splice(1,0,t),this}}const Oa={style:ex.NONE,size:0,color:"auto"},Ia={style:ex.SINGLE,size:4,color:"auto"};class QH extends Ce{constructor(t){super("w:tblBorders"),t.top?this.root.push(new Mt("w:top",t.top)):this.root.push(new Mt("w:top",Ia)),t.left?this.root.push(new Mt("w:left",t.left)):this.root.push(new Mt("w:left",Ia)),t.bottom?this.root.push(new Mt("w:bottom",t.bottom)):this.root.push(new Mt("w:bottom",Ia)),t.right?this.root.push(new Mt("w:right",t.right)):this.root.push(new Mt("w:right",Ia)),t.insideHorizontal?this.root.push(new Mt("w:insideH",t.insideHorizontal)):this.root.push(new Mt("w:insideH",Ia)),t.insideVertical?this.root.push(new Mt("w:insideV",t.insideVertical)):this.root.push(new Mt("w:insideV",Ia))}}Se(QH,"NONE",{top:Oa,bottom:Oa,left:Oa,right:Oa,insideHorizontal:Oa,insideVertical:Oa});class JH extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class ZH extends Ce{constructor(){super("Properties"),this.root.push(new JH({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class eW extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns"})}}class tW extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class hs extends Ce{constructor(t,r){super("Default"),this.root.push(new tW({contentType:t,extension:r}))}}class rW extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class rn extends Ce{constructor(t,r){super("Override"),this.root.push(new rW({contentType:t,partName:r}))}}class nW extends Ce{constructor(){super("Types"),this.root.push(new eW({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new hs("image/png","png")),this.root.push(new hs("image/jpeg","jpeg")),this.root.push(new hs("image/jpeg","jpg")),this.root.push(new hs("image/bmp","bmp")),this.root.push(new hs("image/gif","gif")),this.root.push(new hs("image/svg+xml","svg")),this.root.push(new hs("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new hs("application/xml","xml")),this.root.push(new hs("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new rn("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new rn("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new rn("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new rn("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new rn("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new rn("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new rn("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new rn("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new rn("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new rn("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(t){this.root.push(new rn("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${t}.xml`))}addHeader(t){this.root.push(new rn("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${t}.xml`))}}class sW extends Ce{constructor(t){super("cp:coreProperties"),this.root.push(new wh(["cp","dc","dcterms","dcmitype","xsi"])),t.title&&this.root.push(new Ai("dc:title",t.title)),t.subject&&this.root.push(new Ai("dc:subject",t.subject)),t.creator&&this.root.push(new Ai("dc:creator",t.creator)),t.keywords&&this.root.push(new Ai("cp:keywords",t.keywords)),t.description&&this.root.push(new Ai("dc:description",t.description)),t.lastModifiedBy&&this.root.push(new Ai("cp:lastModifiedBy",t.lastModifiedBy)),t.revision&&this.root.push(new Ai("cp:revision",String(t.revision))),this.root.push(new Pj("dcterms:created")),this.root.push(new Pj("dcterms:modified"))}}class iW extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"xsi:type"})}}class Pj extends Ce{constructor(t){super(t),this.root.push(new iW({type:"dcterms:W3CDTF"})),this.root.push(pz(new Date))}}class aW extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class oW extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class lW extends Ce{constructor(t,r){super("property"),this.root.push(new oW({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t.toString(),name:r.name})),this.root.push(new cW(r.value))}}class cW extends Ce{constructor(t){super("vt:lpwstr"),this.root.push(t)}}class uW extends Ce{constructor(t){super("Properties"),Se(this,"nextId"),Se(this,"properties",[]),this.root.push(new aW({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of t)this.addCustomProperty(r)}prepForXml(t){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(t)}addCustomProperty(t){this.properties.push(new lW(this.nextId++,t))}}const td=({id:e,fontKey:t,subsetted:r},n)=>new Yn({name:n,attributes:ot({id:{key:"r:id",value:e}},t?{fontKey:{key:"w:fontKey",value:`{${t}}`}}:{}),children:[...r?[new Te("w:subsetted",r)]:[]]}),dW=({name:e,altName:t,panose1:r,charset:n,family:i,notTrueType:a,pitch:l,sig:c,embedRegular:d,embedBold:h,embedItalic:f,embedBoldItalic:m})=>new Yn({name:"w:font",attributes:{name:{key:"w:name",value:e}},children:[...t?[xl("w:altName",t)]:[],...r?[xl("w:panose1",r)]:[],...n?[xl("w:charset",n)]:[],xl("w:family",i),...a?[new Te("w:notTrueType",a)]:[],xl("w:pitch",l),...c?[new Yn({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:c.usb0},usb1:{key:"w:usb1",value:c.usb1},usb2:{key:"w:usb2",value:c.usb2},usb3:{key:"w:usb3",value:c.usb3},csb0:{key:"w:csb0",value:c.csb0},csb1:{key:"w:csb1",value:c.csb1}}})]:[],...d?[td(d,"w:embedRegular")]:[],...h?[td(h,"w:embedBold")]:[],...f?[td(f,"w:embedItalic")]:[],...m?[td(m,"w:embedBoldItalic")]:[]]}),hW=({name:e,index:t,fontKey:r,characterSet:n})=>dW({name:e,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${t}`}}),fW=e=>new Yn({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:e.map((t,r)=>hW({name:t.name,index:r+1,fontKey:t.fontKey}))});class pW{constructor(t){Se(this,"fontTable"),Se(this,"relationships"),Se(this,"fontOptionsWithKey",[]),this.options=t,this.fontOptionsWithKey=t.map(r=>ao(ot({},r),{fontKey:eH()})),this.fontTable=fW(this.fontOptionsWithKey),this.relationships=new Qi;for(let r=0;r<t.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${t[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class mW extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let gW=class extends h2{constructor(t,r){super("w:ftr",r),Se(this,"refId"),this.refId=t,r||this.root.push(new mW({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class vW{constructor(t,r,n){Se(this,"footer"),Se(this,"relationships"),this.media=t,this.footer=new gW(r,n),this.relationships=new Qi}add(t){this.footer.add(t)}addChildElement(t){this.footer.addChildElement(t)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class yW extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class xW extends Ce{constructor(){super("w:footnoteRef")}}class wW extends xh{constructor(){super({style:"FootnoteReference"}),this.root.push(new xW)}}const Aj={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class Ng extends Ce{constructor(t){super("w:footnote"),this.root.push(new yW({type:t.type,id:t.id}));for(let r=0;r<t.children.length;r++){const n=t.children[r];r===0&&n.addRunToFront(new wW),this.root.push(n)}}}class bW extends Ce{constructor(){super("w:continuationSeparator")}}class _W extends xh{constructor(){super({}),this.root.push(new bW)}}class jW extends Ce{constructor(){super("w:separator")}}class SW extends xh{constructor(){super({}),this.root.push(new jW)}}class EW extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class NW extends Ce{constructor(){super("w:footnotes"),this.root.push(new EW({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const t=new Ng({id:-1,type:Aj.SEPERATOR,children:[new Ad({spacing:{after:0,line:240,lineRule:yv.AUTO},children:[new SW]})]});this.root.push(t);const r=new Ng({id:0,type:Aj.CONTINUATION_SEPERATOR,children:[new Ad({spacing:{after:0,line:240,lineRule:yv.AUTO},children:[new _W]})]});this.root.push(r)}createFootNote(t,r){const n=new Ng({id:t,children:r});this.root.push(n)}}class CW{constructor(){Se(this,"footnotess"),Se(this,"relationships"),this.footnotess=new NW,this.relationships=new Qi}get View(){return this.footnotess}get Relationships(){return this.relationships}}class kW extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let TW=class extends h2{constructor(t,r){super("w:hdr",r),Se(this,"refId"),this.refId=t,r||this.root.push(new kW({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class PW{constructor(t,r,n){Se(this,"header"),Se(this,"relationships"),this.media=t,this.header=new TW(r,n),this.relationships=new Qi}add(t){return this.header.add(t),this}addChildElement(t){this.header.addChildElement(t)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class AW{constructor(){Se(this,"map"),this.map=new Map}addImage(t,r){this.map.set(t,r)}get Array(){return Array.from(this.map.values())}}const fs={BULLET:"bullet"};class RW extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class DW extends Ce{constructor(t){super("w:numFmt"),this.root.push(new Wt({val:t}))}}class OW extends Ce{constructor(t){super("w:lvlText"),this.root.push(new Wt({val:t}))}}class IW extends Ce{constructor(t){super("w:lvlJc"),this.root.push(new Wt({val:t}))}}class MW extends Ce{constructor(t){super("w:suff"),this.root.push(new Wt({val:t}))}}class FW extends Ce{constructor(){super("w:isLgl")}}class LW extends Ce{constructor({level:t,format:r,text:n,alignment:i=Mn.START,start:a=1,style:l,suffix:c,isLegalNumberingStyle:d}){if(super("w:lvl"),Se(this,"paragraphProperties"),Se(this,"runProperties"),this.root.push(new Dl("w:start",Lr(a))),r&&this.root.push(new DW(r)),c&&this.root.push(new MW(c)),d&&this.root.push(new FW),n&&this.root.push(new OW(n)),this.root.push(new IW(i)),this.paragraphProperties=new ho(l&&l.paragraph),this.runProperties=new Xi(l&&l.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new RW({ilvl:Lr(t),tentative:1}))}}class UW extends LW{}class BW extends Ce{constructor(t){super("w:multiLevelType"),this.root.push(new Wt({val:t}))}}class $W extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class Rj extends Ce{constructor(t,r){super("w:abstractNum"),Se(this,"id"),this.root.push(new $W({abstractNumId:Lr(t),restartNumberingAfterBreak:0})),this.root.push(new BW("hybridMultilevel")),this.id=t;for(const n of r)this.root.push(new UW(n))}}class zW extends Ce{constructor(t){super("w:abstractNumId"),this.root.push(new Wt({val:t}))}}class HW extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{numId:"w:numId"})}}class Dj extends Ce{constructor(t){if(super("w:num"),Se(this,"numId"),Se(this,"reference"),Se(this,"instance"),this.numId=t.numId,this.reference=t.reference,this.instance=t.instance,this.root.push(new HW({numId:Lr(t.numId)})),this.root.push(new zW(Lr(t.abstractNumId))),t.overrideLevels&&t.overrideLevels.length)for(const r of t.overrideLevels)this.root.push(new qW(r.num,r.start))}}class WW extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{ilvl:"w:ilvl"})}}class qW extends Ce{constructor(t,r){super("w:lvlOverride"),this.root.push(new WW({ilvl:t})),r!==void 0&&this.root.push(new KW(r))}}class VW extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class KW extends Ce{constructor(t){super("w:startOverride"),this.root.push(new VW({val:t}))}}class GW extends Ce{constructor(t){super("w:numbering"),Se(this,"abstractNumberingMap",new Map),Se(this,"concreteNumberingMap",new Map),Se(this,"referenceConfigMap",new Map),Se(this,"abstractNumUniqueNumericId",Xz()),Se(this,"concreteNumUniqueNumericId",Qz()),this.root.push(new wh(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const r=new Rj(this.abstractNumUniqueNumericId(),[{level:0,format:fs.BULLET,text:"",alignment:Mn.LEFT,style:{paragraph:{indent:{left:mn(.5),hanging:mn(.25)}}}},{level:1,format:fs.BULLET,text:"",alignment:Mn.LEFT,style:{paragraph:{indent:{left:mn(1),hanging:mn(.25)}}}},{level:2,format:fs.BULLET,text:"",alignment:Mn.LEFT,style:{paragraph:{indent:{left:2160,hanging:mn(.25)}}}},{level:3,format:fs.BULLET,text:"",alignment:Mn.LEFT,style:{paragraph:{indent:{left:2880,hanging:mn(.25)}}}},{level:4,format:fs.BULLET,text:"",alignment:Mn.LEFT,style:{paragraph:{indent:{left:3600,hanging:mn(.25)}}}},{level:5,format:fs.BULLET,text:"",alignment:Mn.LEFT,style:{paragraph:{indent:{left:4320,hanging:mn(.25)}}}},{level:6,format:fs.BULLET,text:"",alignment:Mn.LEFT,style:{paragraph:{indent:{left:5040,hanging:mn(.25)}}}},{level:7,format:fs.BULLET,text:"",alignment:Mn.LEFT,style:{paragraph:{indent:{left:5760,hanging:mn(.25)}}}},{level:8,format:fs.BULLET,text:"",alignment:Mn.LEFT,style:{paragraph:{indent:{left:6480,hanging:mn(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new Dj({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const n of t.config)this.abstractNumberingMap.set(n.reference,new Rj(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(t){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(t)}createConcreteNumberingInstance(t,r){const n=this.abstractNumberingMap.get(t);if(!n)return;const i=`${t}-${r}`;if(this.concreteNumberingMap.has(i))return;const a=this.referenceConfigMap.get(t),l=a&&a[0].start,c={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:t,instance:r,overrideLevels:[l&&Number.isInteger(l)?{num:0,start:l}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new Dj(c))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class YW extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class XW extends Ce{constructor(t){super("w:compatSetting"),this.root.push(new YW({version:t,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class QW extends Ce{constructor(t){super("w:compat"),t.version&&this.root.push(new XW(t.version)),t.useSingleBorderforContiguousCells&&this.root.push(new Te("w:useSingleBorderforContiguousCells",t.useSingleBorderforContiguousCells)),t.wordPerfectJustification&&this.root.push(new Te("w:wpJustification",t.wordPerfectJustification)),t.noTabStopForHangingIndent&&this.root.push(new Te("w:noTabHangInd",t.noTabStopForHangingIndent)),t.noLeading&&this.root.push(new Te("w:noLeading",t.noLeading)),t.spaceForUnderline&&this.root.push(new Te("w:spaceForUL",t.spaceForUnderline)),t.noColumnBalance&&this.root.push(new Te("w:noColumnBalance",t.noColumnBalance)),t.balanceSingleByteDoubleByteWidth&&this.root.push(new Te("w:balanceSingleByteDoubleByteWidth",t.balanceSingleByteDoubleByteWidth)),t.noExtraLineSpacing&&this.root.push(new Te("w:noExtraLineSpacing",t.noExtraLineSpacing)),t.doNotLeaveBackslashAlone&&this.root.push(new Te("w:doNotLeaveBackslashAlone",t.doNotLeaveBackslashAlone)),t.underlineTrailingSpaces&&this.root.push(new Te("w:ulTrailSpace",t.underlineTrailingSpaces)),t.doNotExpandShiftReturn&&this.root.push(new Te("w:doNotExpandShiftReturn",t.doNotExpandShiftReturn)),t.spacingInWholePoints&&this.root.push(new Te("w:spacingInWholePoints",t.spacingInWholePoints)),t.lineWrapLikeWord6&&this.root.push(new Te("w:lineWrapLikeWord6",t.lineWrapLikeWord6)),t.printBodyTextBeforeHeader&&this.root.push(new Te("w:printBodyTextBeforeHeader",t.printBodyTextBeforeHeader)),t.printColorsBlack&&this.root.push(new Te("w:printColBlack",t.printColorsBlack)),t.spaceWidth&&this.root.push(new Te("w:wpSpaceWidth",t.spaceWidth)),t.showBreaksInFrames&&this.root.push(new Te("w:showBreaksInFrames",t.showBreaksInFrames)),t.subFontBySize&&this.root.push(new Te("w:subFontBySize",t.subFontBySize)),t.suppressBottomSpacing&&this.root.push(new Te("w:suppressBottomSpacing",t.suppressBottomSpacing)),t.suppressTopSpacing&&this.root.push(new Te("w:suppressTopSpacing",t.suppressTopSpacing)),t.suppressSpacingAtTopOfPage&&this.root.push(new Te("w:suppressSpacingAtTopOfPage",t.suppressSpacingAtTopOfPage)),t.suppressTopSpacingWP&&this.root.push(new Te("w:suppressTopSpacingWP",t.suppressTopSpacingWP)),t.suppressSpBfAfterPgBrk&&this.root.push(new Te("w:suppressSpBfAfterPgBrk",t.suppressSpBfAfterPgBrk)),t.swapBordersFacingPages&&this.root.push(new Te("w:swapBordersFacingPages",t.swapBordersFacingPages)),t.convertMailMergeEsc&&this.root.push(new Te("w:convMailMergeEsc",t.convertMailMergeEsc)),t.truncateFontHeightsLikeWP6&&this.root.push(new Te("w:truncateFontHeightsLikeWP6",t.truncateFontHeightsLikeWP6)),t.macWordSmallCaps&&this.root.push(new Te("w:mwSmallCaps",t.macWordSmallCaps)),t.usePrinterMetrics&&this.root.push(new Te("w:usePrinterMetrics",t.usePrinterMetrics)),t.doNotSuppressParagraphBorders&&this.root.push(new Te("w:doNotSuppressParagraphBorders",t.doNotSuppressParagraphBorders)),t.wrapTrailSpaces&&this.root.push(new Te("w:wrapTrailSpaces",t.wrapTrailSpaces)),t.footnoteLayoutLikeWW8&&this.root.push(new Te("w:footnoteLayoutLikeWW8",t.footnoteLayoutLikeWW8)),t.shapeLayoutLikeWW8&&this.root.push(new Te("w:shapeLayoutLikeWW8",t.shapeLayoutLikeWW8)),t.alignTablesRowByRow&&this.root.push(new Te("w:alignTablesRowByRow",t.alignTablesRowByRow)),t.forgetLastTabAlignment&&this.root.push(new Te("w:forgetLastTabAlignment",t.forgetLastTabAlignment)),t.adjustLineHeightInTable&&this.root.push(new Te("w:adjustLineHeightInTable",t.adjustLineHeightInTable)),t.autoSpaceLikeWord95&&this.root.push(new Te("w:autoSpaceLikeWord95",t.autoSpaceLikeWord95)),t.noSpaceRaiseLower&&this.root.push(new Te("w:noSpaceRaiseLower",t.noSpaceRaiseLower)),t.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Te("w:doNotUseHTMLParagraphAutoSpacing",t.doNotUseHTMLParagraphAutoSpacing)),t.layoutRawTableWidth&&this.root.push(new Te("w:layoutRawTableWidth",t.layoutRawTableWidth)),t.layoutTableRowsApart&&this.root.push(new Te("w:layoutTableRowsApart",t.layoutTableRowsApart)),t.useWord97LineBreakRules&&this.root.push(new Te("w:useWord97LineBreakRules",t.useWord97LineBreakRules)),t.doNotBreakWrappedTables&&this.root.push(new Te("w:doNotBreakWrappedTables",t.doNotBreakWrappedTables)),t.doNotSnapToGridInCell&&this.root.push(new Te("w:doNotSnapToGridInCell",t.doNotSnapToGridInCell)),t.selectFieldWithFirstOrLastCharacter&&this.root.push(new Te("w:selectFldWithFirstOrLastChar",t.selectFieldWithFirstOrLastCharacter)),t.applyBreakingRules&&this.root.push(new Te("w:applyBreakingRules",t.applyBreakingRules)),t.doNotWrapTextWithPunctuation&&this.root.push(new Te("w:doNotWrapTextWithPunct",t.doNotWrapTextWithPunctuation)),t.doNotUseEastAsianBreakRules&&this.root.push(new Te("w:doNotUseEastAsianBreakRules",t.doNotUseEastAsianBreakRules)),t.useWord2002TableStyleRules&&this.root.push(new Te("w:useWord2002TableStyleRules",t.useWord2002TableStyleRules)),t.growAutofit&&this.root.push(new Te("w:growAutofit",t.growAutofit)),t.useFELayout&&this.root.push(new Te("w:useFELayout",t.useFELayout)),t.useNormalStyleForList&&this.root.push(new Te("w:useNormalStyleForList",t.useNormalStyleForList)),t.doNotUseIndentAsNumberingTabStop&&this.root.push(new Te("w:doNotUseIndentAsNumberingTabStop",t.doNotUseIndentAsNumberingTabStop)),t.useAlternateEastAsianLineBreakRules&&this.root.push(new Te("w:useAltKinsokuLineBreakRules",t.useAlternateEastAsianLineBreakRules)),t.allowSpaceOfSameStyleInTable&&this.root.push(new Te("w:allowSpaceOfSameStyleInTable",t.allowSpaceOfSameStyleInTable)),t.doNotSuppressIndentation&&this.root.push(new Te("w:doNotSuppressIndentation",t.doNotSuppressIndentation)),t.doNotAutofitConstrainedTables&&this.root.push(new Te("w:doNotAutofitConstrainedTables",t.doNotAutofitConstrainedTables)),t.autofitToFirstFixedWidthCell&&this.root.push(new Te("w:autofitToFirstFixedWidthCell",t.autofitToFirstFixedWidthCell)),t.underlineTabInNumberingList&&this.root.push(new Te("w:underlineTabInNumList",t.underlineTabInNumberingList)),t.displayHangulFixedWidth&&this.root.push(new Te("w:displayHangulFixedWidth",t.displayHangulFixedWidth)),t.splitPgBreakAndParaMark&&this.root.push(new Te("w:splitPgBreakAndParaMark",t.splitPgBreakAndParaMark)),t.doNotVerticallyAlignCellWithSp&&this.root.push(new Te("w:doNotVertAlignCellWithSp",t.doNotVerticallyAlignCellWithSp)),t.doNotBreakConstrainedForcedTable&&this.root.push(new Te("w:doNotBreakConstrainedForcedTable",t.doNotBreakConstrainedForcedTable)),t.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Te("w:doNotVertAlignInTxbx",t.ignoreVerticalAlignmentInTextboxes)),t.useAnsiKerningPairs&&this.root.push(new Te("w:useAnsiKerningPairs",t.useAnsiKerningPairs)),t.cachedColumnBalance&&this.root.push(new Te("w:cachedColBalance",t.cachedColumnBalance))}}class JW extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class ZW extends Ce{constructor(t){var r,n,i,a,l,c,d,h;super("w:settings"),this.root.push(new JW({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Te("w:displayBackgroundShape",!0)),t.trackRevisions!==void 0&&this.root.push(new Te("w:trackRevisions",t.trackRevisions)),t.evenAndOddHeaders!==void 0&&this.root.push(new Te("w:evenAndOddHeaders",t.evenAndOddHeaders)),t.updateFields!==void 0&&this.root.push(new Te("w:updateFields",t.updateFields)),t.defaultTabStop!==void 0&&this.root.push(new Dl("w:defaultTabStop",t.defaultTabStop)),((r=t.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new Te("w:autoHyphenation",t.hyphenation.autoHyphenation)),((n=t.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new Dl("w:hyphenationZone",t.hyphenation.hyphenationZone)),((i=t.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new Dl("w:consecutiveHyphenLimit",t.hyphenation.consecutiveHyphenLimit)),((a=t.hyphenation)==null?void 0:a.doNotHyphenateCaps)!==void 0&&this.root.push(new Te("w:doNotHyphenateCaps",t.hyphenation.doNotHyphenateCaps)),this.root.push(new QW(ao(ot({},(l=t.compatibility)!=null?l:{}),{version:(h=(d=(c=t.compatibility)==null?void 0:c.version)!=null?d:t.compatibilityModeVersion)!=null?h:15})))}}class j2 extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class eq extends Ce{constructor(t){super("w:name"),this.root.push(new j2({val:t}))}}class tq extends Ce{constructor(t){super("w:uiPriority"),this.root.push(new j2({val:Lr(t)}))}}class rq extends Ze{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class S2 extends Ce{constructor(t,r){super("w:style"),this.root.push(new rq(t)),r.name&&this.root.push(new eq(r.name)),r.basedOn&&this.root.push(new Wa("w:basedOn",r.basedOn)),r.next&&this.root.push(new Wa("w:next",r.next)),r.link&&this.root.push(new Wa("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new tq(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new Te("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new Te("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new Te("w:qFormat",r.quickFormat))}}class bh extends S2{constructor(t){super({type:"paragraph",styleId:t.id},t),Se(this,"paragraphProperties"),Se(this,"runProperties"),this.paragraphProperties=new ho(t.paragraph),this.runProperties=new Xi(t.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class _h extends S2{constructor(t){super({type:"character",styleId:t.id},ot({uiPriority:99,unhideWhenUsed:!0},t)),Se(this,"runProperties"),this.runProperties=new Xi(t.run),this.root.push(this.runProperties)}}class fi extends bh{constructor(t){super(ot({basedOn:"Normal",next:"Normal",quickFormat:!0},t))}}class nq extends fi{constructor(t){super(ot({id:"Title",name:"Title"},t))}}class sq extends fi{constructor(t){super(ot({id:"Heading1",name:"Heading 1"},t))}}class iq extends fi{constructor(t){super(ot({id:"Heading2",name:"Heading 2"},t))}}class aq extends fi{constructor(t){super(ot({id:"Heading3",name:"Heading 3"},t))}}class oq extends fi{constructor(t){super(ot({id:"Heading4",name:"Heading 4"},t))}}class lq extends fi{constructor(t){super(ot({id:"Heading5",name:"Heading 5"},t))}}class cq extends fi{constructor(t){super(ot({id:"Heading6",name:"Heading 6"},t))}}class uq extends fi{constructor(t){super(ot({id:"Strong",name:"Strong"},t))}}class dq extends bh{constructor(t){super(ot({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},t))}}class hq extends bh{constructor(t){super(ot({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:yv.AUTO}},run:{size:20}},t))}}class fq extends _h{constructor(t){super(ot({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},t))}}class pq extends _h{constructor(t){super(ot({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},t))}}class mq extends _h{constructor(t){super(ot({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:y2.SINGLE}}},t))}}class wv extends Ce{constructor(t){if(super("w:styles"),t.initialStyles&&this.root.push(t.initialStyles),t.importedStyles)for(const r of t.importedStyles)this.root.push(r);if(t.paragraphStyles)for(const r of t.paragraphStyles)this.root.push(new bh(r));if(t.characterStyles)for(const r of t.characterStyles)this.root.push(new _h(r))}}class gq extends Ce{constructor(t){super("w:pPrDefault"),this.root.push(new ho(t))}}class vq extends Ce{constructor(t){super("w:rPrDefault"),this.root.push(new Xi(t))}}class yq extends Ce{constructor(t){super("w:docDefaults"),Se(this,"runPropertiesDefaults"),Se(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new vq(t.run),this.paragraphPropertiesDefaults=new gq(t.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class xq{newInstance(t){const r=d2.xml2js(t,{compact:!1});let n;for(const l of r.elements||[])l.name==="w:styles"&&(n=l);if(n===void 0)throw new Error("can not find styles element");const i=n.elements||[];return new wv({initialStyles:new uz(n.attributes),importedStyles:i.map(l=>Zy(l))})}}class Oj{newInstance(t={}){var r;return{initialStyles:new wh(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new yq((r=t.document)!=null?r:{}),new nq(ot({run:{size:56}},t.title)),new sq(ot({run:{color:"2E74B5",size:32}},t.heading1)),new iq(ot({run:{color:"2E74B5",size:26}},t.heading2)),new aq(ot({run:{color:"1F4D78",size:24}},t.heading3)),new oq(ot({run:{color:"2E74B5",italics:!0}},t.heading4)),new lq(ot({run:{color:"2E74B5"}},t.heading5)),new cq(ot({run:{color:"1F4D78"}},t.heading6)),new uq(ot({run:{bold:!0}},t.strong)),new dq(t.listParagraph||{}),new mq(t.hyperlink||{}),new fq(t.footnoteReference||{}),new hq(t.footnoteText||{}),new pq(t.footnoteTextChar||{})]}}}class wq{constructor(t){Se(this,"currentRelationshipId",1),Se(this,"documentWrapper"),Se(this,"headers",[]),Se(this,"footers",[]),Se(this,"coreProperties"),Se(this,"numbering"),Se(this,"media"),Se(this,"fileRelationships"),Se(this,"footnotesWrapper"),Se(this,"settings"),Se(this,"contentTypes"),Se(this,"customProperties"),Se(this,"appProperties"),Se(this,"styles"),Se(this,"comments"),Se(this,"fontWrapper");var r,n,i,a,l,c,d,h,f,m,g,y;if(this.coreProperties=new sW(ao(ot({},t),{creator:(r=t.creator)!=null?r:"Un-named",revision:(n=t.revision)!=null?n:1,lastModifiedBy:(i=t.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new GW(t.numbering?t.numbering:{config:[]}),this.comments=new lH((a=t.comments)!=null?a:{children:[]}),this.fileRelationships=new Qi,this.customProperties=new uW((l=t.customProperties)!=null?l:[]),this.appProperties=new ZH,this.footnotesWrapper=new CW,this.contentTypes=new nW,this.documentWrapper=new _2({background:t.background}),this.settings=new ZW({compatibilityModeVersion:t.compatabilityModeVersion,compatibility:t.compatibility,evenAndOddHeaders:!!t.evenAndOddHeaderAndFooters,trackRevisions:(c=t.features)==null?void 0:c.trackRevisions,updateFields:(d=t.features)==null?void 0:d.updateFields,defaultTabStop:t.defaultTabStop,hyphenation:{autoHyphenation:(h=t.hyphenation)==null?void 0:h.autoHyphenation,hyphenationZone:(f=t.hyphenation)==null?void 0:f.hyphenationZone,consecutiveHyphenLimit:(m=t.hyphenation)==null?void 0:m.consecutiveHyphenLimit,doNotHyphenateCaps:(g=t.hyphenation)==null?void 0:g.doNotHyphenateCaps}}),this.media=new AW,t.externalStyles!==void 0){const x=new xq;this.styles=x.newInstance(t.externalStyles)}else if(t.styles){const v=new Oj().newInstance(t.styles.default);this.styles=new wv(ot(ot({},v),t.styles))}else{const x=new Oj;this.styles=new wv(x.newInstance())}this.addDefaultRelationships();for(const x of t.sections)this.addSection(x);if(t.footnotes)for(const x in t.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(x),t.footnotes[x].children);this.fontWrapper=new pW((y=t.fonts)!=null?y:[])}addSection({headers:t={},footers:r={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(ao(ot({},i),{headerWrapperGroup:{default:t.default?this.createHeader(t.default):void 0,first:t.first?this.createHeader(t.first):void 0,even:t.even?this.createHeader(t.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const a of n)this.documentWrapper.View.add(a)}createHeader(t){const r=new PW(this.media,this.currentRelationshipId++);for(const n of t.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(t){const r=new vW(this.media,this.currentRelationshipId++);for(const n of t.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(t,r=qa.DEFAULT){this.headers.push({header:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(t,r=qa.DEFAULT){this.footers.push({footer:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(t=>t.header)}get Footers(){return this.footers.map(t=>t.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}var bq=Xy();function rd(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Cg={exports:{}},Ij;function _q(){return Ij||(Ij=1,(function(e,t){(function(r){e.exports=r()})(function(){return(function r(n,i,a){function l(h,f){if(!i[h]){if(!n[h]){var m=typeof rd=="function"&&rd;if(!f&&m)return m(h,!0);if(c)return c(h,!0);var g=new Error("Cannot find module '"+h+"'");throw g.code="MODULE_NOT_FOUND",g}var y=i[h]={exports:{}};n[h][0].call(y.exports,function(x){var v=n[h][1][x];return l(v||x)},y,y.exports,r,n,i,a)}return i[h].exports}for(var c=typeof rd=="function"&&rd,d=0;d<a.length;d++)l(a[d]);return l})({1:[function(r,n,i){var a=r("./utils"),l=r("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(d){for(var h,f,m,g,y,x,v,b=[],w=0,E=d.length,_=E,S=a.getTypeOf(d)!=="string";w<d.length;)_=E-w,m=S?(h=d[w++],f=w<E?d[w++]:0,w<E?d[w++]:0):(h=d.charCodeAt(w++),f=w<E?d.charCodeAt(w++):0,w<E?d.charCodeAt(w++):0),g=h>>2,y=(3&h)<<4|f>>4,x=1<_?(15&f)<<2|m>>6:64,v=2<_?63&m:64,b.push(c.charAt(g)+c.charAt(y)+c.charAt(x)+c.charAt(v));return b.join("")},i.decode=function(d){var h,f,m,g,y,x,v=0,b=0,w="data:";if(d.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var E,_=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===c.charAt(64)&&_--,d.charAt(d.length-2)===c.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(E=l.uint8array?new Uint8Array(0|_):new Array(0|_);v<d.length;)h=c.indexOf(d.charAt(v++))<<2|(g=c.indexOf(d.charAt(v++)))>>4,f=(15&g)<<4|(y=c.indexOf(d.charAt(v++)))>>2,m=(3&y)<<6|(x=c.indexOf(d.charAt(v++))),E[b++]=h,y!==64&&(E[b++]=f),x!==64&&(E[b++]=m);return E}},{"./support":30,"./utils":32}],2:[function(r,n,i){var a=r("./external"),l=r("./stream/DataWorker"),c=r("./stream/Crc32Probe"),d=r("./stream/DataLengthProbe");function h(f,m,g,y,x){this.compressedSize=f,this.uncompressedSize=m,this.crc32=g,this.compression=y,this.compressedContent=x}h.prototype={getContentWorker:function(){var f=new l(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),m=this;return f.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new l(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(f,m,g){return f.pipe(new c).pipe(new d("uncompressedSize")).pipe(m.compressWorker(g)).pipe(new d("compressedSize")).withStreamInfo("compression",m)},n.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var a=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var a=r("./utils"),l=(function(){for(var c,d=[],h=0;h<256;h++){c=h;for(var f=0;f<8;f++)c=1&c?3988292384^c>>>1:c>>>1;d[h]=c}return d})();n.exports=function(c,d){return c!==void 0&&c.length?a.getTypeOf(c)!=="string"?(function(h,f,m,g){var y=l,x=g+m;h^=-1;for(var v=g;v<x;v++)h=h>>>8^y[255&(h^f[v])];return-1^h})(0|d,c,c.length,0):(function(h,f,m,g){var y=l,x=g+m;h^=-1;for(var v=g;v<x;v++)h=h>>>8^y[255&(h^f.charCodeAt(v))];return-1^h})(0|d,c,c.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var a=null;a=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:a}},{lie:37}],7:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=r("pako"),c=r("./utils"),d=r("./stream/GenericWorker"),h=a?"uint8array":"array";function f(m,g){d.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=g,this.meta={}}i.magic="\b\0",c.inherits(f,d),f.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(h,m.data),!1)},f.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(g){m.push({data:g,meta:m.meta})}},i.compressWorker=function(m){return new f("Deflate",m)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function a(y,x){var v,b="";for(v=0;v<x;v++)b+=String.fromCharCode(255&y),y>>>=8;return b}function l(y,x,v,b,w,E){var _,S,P=y.file,B=y.compression,L=E!==h.utf8encode,U=c.transformTo("string",E(P.name)),F=c.transformTo("string",h.utf8encode(P.name)),ee=P.comment,me=c.transformTo("string",E(ee)),z=c.transformTo("string",h.utf8encode(ee)),G=F.length!==P.name.length,A=z.length!==ee.length,te="",J="",V="",X=P.dir,ne=P.date,he={crc32:0,compressedSize:0,uncompressedSize:0};x&&!v||(he.crc32=y.crc32,he.compressedSize=y.compressedSize,he.uncompressedSize=y.uncompressedSize);var W=0;x&&(W|=8),L||!G&&!A||(W|=2048);var H=0,ie=0;X&&(H|=16),w==="UNIX"?(ie=798,H|=(function(fe,ae){var D=fe;return fe||(D=ae?16893:33204),(65535&D)<<16})(P.unixPermissions,X)):(ie=20,H|=(function(fe){return 63&(fe||0)})(P.dosPermissions)),_=ne.getUTCHours(),_<<=6,_|=ne.getUTCMinutes(),_<<=5,_|=ne.getUTCSeconds()/2,S=ne.getUTCFullYear()-1980,S<<=4,S|=ne.getUTCMonth()+1,S<<=5,S|=ne.getUTCDate(),G&&(J=a(1,1)+a(f(U),4)+F,te+="up"+a(J.length,2)+J),A&&(V=a(1,1)+a(f(me),4)+z,te+="uc"+a(V.length,2)+V);var le="";return le+=`
\0`,le+=a(W,2),le+=B.magic,le+=a(_,2),le+=a(S,2),le+=a(he.crc32,4),le+=a(he.compressedSize,4),le+=a(he.uncompressedSize,4),le+=a(U.length,2),le+=a(te.length,2),{fileRecord:m.LOCAL_FILE_HEADER+le+U+te,dirRecord:m.CENTRAL_FILE_HEADER+a(ie,2)+le+a(me.length,2)+"\0\0\0\0"+a(H,4)+a(b,4)+U+te+me}}var c=r("../utils"),d=r("../stream/GenericWorker"),h=r("../utf8"),f=r("../crc32"),m=r("../signature");function g(y,x,v,b){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=v,this.encodeFileName=b,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(g,d),g.prototype.push=function(y){var x=y.meta.percent||0,v=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,d.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:v?(x+100*(v-b-1))/v:100}}))},g.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var x=this.streamFiles&&!y.file.dir;if(x){var v=l(y,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(y){this.accumulate=!1;var x=this.streamFiles&&!y.file.dir,v=l(y,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),x)this.push({data:(function(b){return m.DATA_DESCRIPTOR+a(b.crc32,4)+a(b.compressedSize,4)+a(b.uncompressedSize,4)})(y),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var y=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var v=this.bytesWritten-y,b=(function(w,E,_,S,P){var B=c.transformTo("string",P(S));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(w,2)+a(w,2)+a(E,4)+a(_,4)+a(B.length,2)+B})(this.dirRecords.length,v,y,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(y){this._sources.push(y);var x=this;return y.on("data",function(v){x.processChunk(v)}),y.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),y.on("error",function(v){x.error(v)}),this},g.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(y){var x=this._sources;if(!d.prototype.error.call(this,y))return!1;for(var v=0;v<x.length;v++)try{x[v].error(y)}catch{}return!0},g.prototype.lock=function(){d.prototype.lock.call(this);for(var y=this._sources,x=0;x<y.length;x++)y[x].lock()},n.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var a=r("../compressions"),l=r("./ZipFileWorker");i.generateWorker=function(c,d,h){var f=new l(d.streamFiles,h,d.platform,d.encodeFileName),m=0;try{c.forEach(function(g,y){m++;var x=(function(E,_){var S=E||_,P=a[S];if(!P)throw new Error(S+" is not a valid compression method !");return P})(y.options.compression,d.compression),v=y.options.compressionOptions||d.compressionOptions||{},b=y.dir,w=y.date;y._compressWorker(x,v).withStreamInfo("file",{name:g,dir:b,date:w,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(f)}),f.entriesCount=m}catch(g){f.error(g)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new a;for(var c in this)typeof this[c]!="function"&&(l[c]=this[c]);return l}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(l,c){return new a().loadAsync(l,c)},a.external=r("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var a=r("./utils"),l=r("./external"),c=r("./utf8"),d=r("./zipEntries"),h=r("./stream/Crc32Probe"),f=r("./nodejsUtils");function m(g){return new l.Promise(function(y,x){var v=g.decompressed.getContentWorker().pipe(new h);v.on("error",function(b){x(b)}).on("end",function(){v.streamInfo.crc32!==g.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}n.exports=function(g,y){var x=this;return y=a.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),f.isNode&&f.isStream(g)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",g,!0,y.optimizedBinaryString,y.base64).then(function(v){var b=new d(y);return b.load(v),b}).then(function(v){var b=[l.Promise.resolve(v)],w=v.files;if(y.checkCRC32)for(var E=0;E<w.length;E++)b.push(m(w[E]));return l.Promise.all(b)}).then(function(v){for(var b=v.shift(),w=b.files,E=0;E<w.length;E++){var _=w[E],S=_.fileNameStr,P=a.resolve(_.fileNameStr);x.file(P,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:y.createFolders}),_.dir||(x.file(P).unsafeOriginalName=S)}return b.zipComment.length&&(x.comment=b.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var a=r("../utils"),l=r("../stream/GenericWorker");function c(d,h){l.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(h)}a.inherits(c,l),c.prototype._bindStream=function(d){var h=this;(this._stream=d).pause(),d.on("data",function(f){h.push({data:f,meta:{percent:0}})}).on("error",function(f){h.isPaused?this.generatedError=f:h.error(f)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},c.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var a=r("readable-stream").Readable;function l(c,d,h){a.call(this,d),this._helper=c;var f=this;c.on("data",function(m,g){f.push(m)||f._helper.pause(),h&&h(g)}).on("error",function(m){f.emit("error",m)}).on("end",function(){f.push(null)})}r("../utils").inherits(l,a),l.prototype._read=function(){this._helper.resume()},n.exports=l},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,l);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,l)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var l=new Buffer(a);return l.fill(0),l},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,n,i){function a(P,B,L){var U,F=c.getTypeOf(B),ee=c.extend(L||{},f);ee.date=ee.date||new Date,ee.compression!==null&&(ee.compression=ee.compression.toUpperCase()),typeof ee.unixPermissions=="string"&&(ee.unixPermissions=parseInt(ee.unixPermissions,8)),ee.unixPermissions&&16384&ee.unixPermissions&&(ee.dir=!0),ee.dosPermissions&&16&ee.dosPermissions&&(ee.dir=!0),ee.dir&&(P=w(P)),ee.createFolders&&(U=b(P))&&E.call(this,U,!0);var me=F==="string"&&ee.binary===!1&&ee.base64===!1;L&&L.binary!==void 0||(ee.binary=!me),(B instanceof m&&B.uncompressedSize===0||ee.dir||!B||B.length===0)&&(ee.base64=!1,ee.binary=!0,B="",ee.compression="STORE",F="string");var z=null;z=B instanceof m||B instanceof d?B:x.isNode&&x.isStream(B)?new v(P,B):c.prepareContent(P,B,ee.binary,ee.optimizedBinaryString,ee.base64);var G=new g(P,z,ee);this.files[P]=G}var l=r("./utf8"),c=r("./utils"),d=r("./stream/GenericWorker"),h=r("./stream/StreamHelper"),f=r("./defaults"),m=r("./compressedObject"),g=r("./zipObject"),y=r("./generate"),x=r("./nodejsUtils"),v=r("./nodejs/NodejsStreamInputAdapter"),b=function(P){P.slice(-1)==="/"&&(P=P.substring(0,P.length-1));var B=P.lastIndexOf("/");return 0<B?P.substring(0,B):""},w=function(P){return P.slice(-1)!=="/"&&(P+="/"),P},E=function(P,B){return B=B!==void 0?B:f.createFolders,P=w(P),this.files[P]||a.call(this,P,null,{dir:!0,createFolders:B}),this.files[P]};function _(P){return Object.prototype.toString.call(P)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(P){var B,L,U;for(B in this.files)U=this.files[B],(L=B.slice(this.root.length,B.length))&&B.slice(0,this.root.length)===this.root&&P(L,U)},filter:function(P){var B=[];return this.forEach(function(L,U){P(L,U)&&B.push(U)}),B},file:function(P,B,L){if(arguments.length!==1)return P=this.root+P,a.call(this,P,B,L),this;if(_(P)){var U=P;return this.filter(function(ee,me){return!me.dir&&U.test(ee)})}var F=this.files[this.root+P];return F&&!F.dir?F:null},folder:function(P){if(!P)return this;if(_(P))return this.filter(function(F,ee){return ee.dir&&P.test(F)});var B=this.root+P,L=E.call(this,B),U=this.clone();return U.root=L.name,U},remove:function(P){P=this.root+P;var B=this.files[P];if(B||(P.slice(-1)!=="/"&&(P+="/"),B=this.files[P]),B&&!B.dir)delete this.files[P];else for(var L=this.filter(function(F,ee){return ee.name.slice(0,P.length)===P}),U=0;U<L.length;U++)delete this.files[L[U].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(P){var B,L={};try{if((L=c.extend(P||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=L.type.toLowerCase(),L.compression=L.compression.toUpperCase(),L.type==="binarystring"&&(L.type="string"),!L.type)throw new Error("No output type specified.");c.checkSupport(L.type),L.platform!=="darwin"&&L.platform!=="freebsd"&&L.platform!=="linux"&&L.platform!=="sunos"||(L.platform="UNIX"),L.platform==="win32"&&(L.platform="DOS");var U=L.comment||this.comment||"";B=y.generateWorker(this,L,U)}catch(F){(B=new d("error")).error(F)}return new h(B,L.type||"string",L.mimeType)},generateAsync:function(P,B){return this.generateInternalStream(P).accumulate(B)},generateNodeStream:function(P,B){return(P=P||{}).type||(P.type="nodebuffer"),this.generateInternalStream(P).toNodejsStream(B)}};n.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var a=r("./DataReader");function l(c){a.call(this,c);for(var d=0;d<this.data.length;d++)c[d]=255&c[d]}r("../utils").inherits(l,a),l.prototype.byteAt=function(c){return this.data[this.zero+c]},l.prototype.lastIndexOfSignature=function(c){for(var d=c.charCodeAt(0),h=c.charCodeAt(1),f=c.charCodeAt(2),m=c.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===d&&this.data[g+1]===h&&this.data[g+2]===f&&this.data[g+3]===m)return g-this.zero;return-1},l.prototype.readAndCheckSignature=function(c){var d=c.charCodeAt(0),h=c.charCodeAt(1),f=c.charCodeAt(2),m=c.charCodeAt(3),g=this.readData(4);return d===g[0]&&h===g[1]&&f===g[2]&&m===g[3]},l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=l},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var a=r("../utils");function l(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var d,h=0;for(this.checkOffset(c),d=this.index+c-1;d>=this.index;d--)h=(h<<8)+this.byteAt(d);return this.index+=c,h},readString:function(c){return a.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},n.exports=l},{"../utils":32}],19:[function(r,n,i){var a=r("./Uint8ArrayReader");function l(c){a.call(this,c)}r("../utils").inherits(l,a),l.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var a=r("./DataReader");function l(c){a.call(this,c)}r("../utils").inherits(l,a),l.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},l.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},l.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},l.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=l},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var a=r("./ArrayReader");function l(c){a.call(this,c)}r("../utils").inherits(l,a),l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var a=r("../utils"),l=r("../support"),c=r("./ArrayReader"),d=r("./StringReader"),h=r("./NodeBufferReader"),f=r("./Uint8ArrayReader");n.exports=function(m){var g=a.getTypeOf(m);return a.checkSupport(g),g!=="string"||l.uint8array?g==="nodebuffer"?new h(m):l.uint8array?new f(a.transformTo("uint8array",m)):new c(a.transformTo("array",m)):new d(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var a=r("./GenericWorker"),l=r("../utils");function c(d){a.call(this,"ConvertWorker to "+d),this.destType=d}l.inherits(c,a),c.prototype.processChunk=function(d){this.push({data:l.transformTo(this.destType,d.data),meta:d.meta})},n.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var a=r("./GenericWorker"),l=r("../crc32");function c(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(c,a),c.prototype.processChunk=function(d){this.streamInfo.crc32=l(d.data,this.streamInfo.crc32||0),this.push(d)},n.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var a=r("../utils"),l=r("./GenericWorker");function c(d){l.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}a.inherits(c,l),c.prototype.processChunk=function(d){if(d){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+d.data.length}l.prototype.processChunk.call(this,d)},n.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var a=r("../utils"),l=r("./GenericWorker");function c(d){l.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(f){h.dataIsReady=!0,h.data=f,h.max=f&&f.length||0,h.type=a.getTypeOf(f),h.isPaused||h._tickAndRepeat()},function(f){h.error(f)})}a.inherits(c,l),c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,h);break;case"uint8array":d=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":d=this.data.slice(this.index,h)}return this.index=h,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function a(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,c){return this._listeners[l].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,c){if(this._listeners[l])for(var d=0;d<this._listeners[l].length;d++)this._listeners[l][d].call(this,c)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var c=this;return l.on("data",function(d){c.processChunk(d)}),l.on("end",function(){c.end()}),l.on("error",function(d){c.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,c){return this.extraStreamInfo[l]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},n.exports=a},{}],29:[function(r,n,i){var a=r("../utils"),l=r("./ConvertWorker"),c=r("./GenericWorker"),d=r("../base64"),h=r("../support"),f=r("../external"),m=null;if(h.nodestream)try{m=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(x,v){return new f.Promise(function(b,w){var E=[],_=x._internalType,S=x._outputType,P=x._mimeType;x.on("data",function(B,L){E.push(B),v&&v(L)}).on("error",function(B){E=[],w(B)}).on("end",function(){try{var B=(function(L,U,F){switch(L){case"blob":return a.newBlob(a.transformTo("arraybuffer",U),F);case"base64":return d.encode(U);default:return a.transformTo(L,U)}})(S,(function(L,U){var F,ee=0,me=null,z=0;for(F=0;F<U.length;F++)z+=U[F].length;switch(L){case"string":return U.join("");case"array":return Array.prototype.concat.apply([],U);case"uint8array":for(me=new Uint8Array(z),F=0;F<U.length;F++)me.set(U[F],ee),ee+=U[F].length;return me;case"nodebuffer":return Buffer.concat(U);default:throw new Error("concat : unsupported type '"+L+"'")}})(_,E),P);b(B)}catch(L){w(L)}E=[]}).resume()})}function y(x,v,b){var w=v;switch(v){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=v,this._mimeType=b,a.checkSupport(w),this._worker=x.pipe(new l(w)),x.lock()}catch(E){this._worker=new c("error"),this._worker.error(E)}}y.prototype={accumulate:function(x){return g(this,x)},on:function(x,v){var b=this;return x==="data"?this._worker.on(x,function(w){v.call(b,w.data,w.meta)}):this._worker.on(x,function(){a.delay(v,arguments,b)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},x)}},n.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(a),i.blob=l.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var a=r("./utils"),l=r("./support"),c=r("./nodejsUtils"),d=r("./stream/GenericWorker"),h=new Array(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;h[254]=h[254]=1;function m(){d.call(this,"utf-8 decode"),this.leftOver=null}function g(){d.call(this,"utf-8 encode")}i.utf8encode=function(y){return l.nodebuffer?c.newBufferFrom(y,"utf-8"):(function(x){var v,b,w,E,_,S=x.length,P=0;for(E=0;E<S;E++)(64512&(b=x.charCodeAt(E)))==55296&&E+1<S&&(64512&(w=x.charCodeAt(E+1)))==56320&&(b=65536+(b-55296<<10)+(w-56320),E++),P+=b<128?1:b<2048?2:b<65536?3:4;for(v=l.uint8array?new Uint8Array(P):new Array(P),E=_=0;_<P;E++)(64512&(b=x.charCodeAt(E)))==55296&&E+1<S&&(64512&(w=x.charCodeAt(E+1)))==56320&&(b=65536+(b-55296<<10)+(w-56320),E++),b<128?v[_++]=b:(b<2048?v[_++]=192|b>>>6:(b<65536?v[_++]=224|b>>>12:(v[_++]=240|b>>>18,v[_++]=128|b>>>12&63),v[_++]=128|b>>>6&63),v[_++]=128|63&b);return v})(y)},i.utf8decode=function(y){return l.nodebuffer?a.transformTo("nodebuffer",y).toString("utf-8"):(function(x){var v,b,w,E,_=x.length,S=new Array(2*_);for(v=b=0;v<_;)if((w=x[v++])<128)S[b++]=w;else if(4<(E=h[w]))S[b++]=65533,v+=E-1;else{for(w&=E===2?31:E===3?15:7;1<E&&v<_;)w=w<<6|63&x[v++],E--;1<E?S[b++]=65533:w<65536?S[b++]=w:(w-=65536,S[b++]=55296|w>>10&1023,S[b++]=56320|1023&w)}return S.length!==b&&(S.subarray?S=S.subarray(0,b):S.length=b),a.applyFromCharCode(S)})(y=a.transformTo(l.uint8array?"uint8array":"array",y))},a.inherits(m,d),m.prototype.processChunk=function(y){var x=a.transformTo(l.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var v=x;(x=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),x.set(v,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var b=(function(E,_){var S;for((_=_||E.length)>E.length&&(_=E.length),S=_-1;0<=S&&(192&E[S])==128;)S--;return S<0||S===0?_:S+h[E[S]]>_?S:_})(x),w=x;b!==x.length&&(l.uint8array?(w=x.subarray(0,b),this.leftOver=x.subarray(b,x.length)):(w=x.slice(0,b),this.leftOver=x.slice(b,x.length))),this.push({data:i.utf8decode(w),meta:y.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,a.inherits(g,d),g.prototype.processChunk=function(y){this.push({data:i.utf8encode(y.data),meta:y.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var a=r("./support"),l=r("./base64"),c=r("./nodejsUtils"),d=r("./external");function h(v){return v}function f(v,b){for(var w=0;w<v.length;++w)b[w]=255&v.charCodeAt(w);return b}r("setimmediate"),i.newBlob=function(v,b){i.checkSupport("blob");try{return new Blob([v],{type:b})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(v),w.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(v,b,w){var E=[],_=0,S=v.length;if(S<=w)return String.fromCharCode.apply(null,v);for(;_<S;)b==="array"||b==="nodebuffer"?E.push(String.fromCharCode.apply(null,v.slice(_,Math.min(_+w,S)))):E.push(String.fromCharCode.apply(null,v.subarray(_,Math.min(_+w,S)))),_+=w;return E.join("")},stringifyByChar:function(v){for(var b="",w=0;w<v.length;w++)b+=String.fromCharCode(v[w]);return b},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}})()}};function g(v){var b=65536,w=i.getTypeOf(v),E=!0;if(w==="uint8array"?E=m.applyCanBeUsed.uint8array:w==="nodebuffer"&&(E=m.applyCanBeUsed.nodebuffer),E)for(;1<b;)try{return m.stringifyByChunk(v,w,b)}catch{b=Math.floor(b/2)}return m.stringifyByChar(v)}function y(v,b){for(var w=0;w<v.length;w++)b[w]=v[w];return b}i.applyFromCharCode=g;var x={};x.string={string:h,array:function(v){return f(v,new Array(v.length))},arraybuffer:function(v){return x.string.uint8array(v).buffer},uint8array:function(v){return f(v,new Uint8Array(v.length))},nodebuffer:function(v){return f(v,c.allocBuffer(v.length))}},x.array={string:g,array:h,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return c.newBufferFrom(v)}},x.arraybuffer={string:function(v){return g(new Uint8Array(v))},array:function(v){return y(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:h,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return c.newBufferFrom(new Uint8Array(v))}},x.uint8array={string:g,array:function(v){return y(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:h,nodebuffer:function(v){return c.newBufferFrom(v)}},x.nodebuffer={string:g,array:function(v){return y(v,new Array(v.length))},arraybuffer:function(v){return x.nodebuffer.uint8array(v).buffer},uint8array:function(v){return y(v,new Uint8Array(v.length))},nodebuffer:h},i.transformTo=function(v,b){if(b=b||"",!v)return b;i.checkSupport(v);var w=i.getTypeOf(b);return x[w][v](b)},i.resolve=function(v){for(var b=v.split("/"),w=[],E=0;E<b.length;E++){var _=b[E];_==="."||_===""&&E!==0&&E!==b.length-1||(_===".."?w.pop():w.push(_))}return w.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":a.nodebuffer&&c.isBuffer(v)?"nodebuffer":a.uint8array&&v instanceof Uint8Array?"uint8array":a.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!a[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var b,w,E="";for(w=0;w<(v||"").length;w++)E+="\\x"+((b=v.charCodeAt(w))<16?"0":"")+b.toString(16).toUpperCase();return E},i.delay=function(v,b,w){setImmediate(function(){v.apply(w||null,b||[])})},i.inherits=function(v,b){function w(){}w.prototype=b.prototype,v.prototype=new w},i.extend=function(){var v,b,w={};for(v=0;v<arguments.length;v++)for(b in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],b)&&w[b]===void 0&&(w[b]=arguments[v][b]);return w},i.prepareContent=function(v,b,w,E,_){return d.Promise.resolve(b).then(function(S){return a.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new d.Promise(function(P,B){var L=new FileReader;L.onload=function(U){P(U.target.result)},L.onerror=function(U){B(U.target.error)},L.readAsArrayBuffer(S)}):S}).then(function(S){var P=i.getTypeOf(S);return P?(P==="arraybuffer"?S=i.transformTo("uint8array",S):P==="string"&&(_?S=l.decode(S):w&&E!==!0&&(S=(function(B){return f(B,a.uint8array?new Uint8Array(B.length):new Array(B.length))})(S))),S):d.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var a=r("./reader/readerFor"),l=r("./utils"),c=r("./signature"),d=r("./zipEntry"),h=r("./support");function f(m){this.files=[],this.loadOptions=m}f.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(g)+", expected "+l.pretty(m)+")")}},isSignature:function(m,g){var y=this.reader.index;this.reader.setIndex(m);var x=this.reader.readString(4)===g;return this.reader.setIndex(y),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),g=h.uint8array?"uint8array":"array",y=l.transformTo(g,m);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,g,y,x=this.zip64EndOfCentralSize-44;0<x;)m=this.reader.readInt(2),g=this.reader.readInt(4),y=this.reader.readData(g),this.zip64ExtensibleData[m]={id:m,length:g,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,g;for(m=0;m<this.files.length;m++)g=this.files[m],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(m=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var g=m;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var x=g-y;if(0<x)this.isSignature(g,c.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(m){this.reader=a(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var a=r("./reader/readerFor"),l=r("./utils"),c=r("./compressedObject"),d=r("./crc32"),h=r("./utf8"),f=r("./compressions"),m=r("./support");function g(y,x){this.options=y,this.loadOptions=x}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var x,v;if(y.skip(22),this.fileNameLength=y.readInt(2),v=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=(function(b){for(var w in f)if(Object.prototype.hasOwnProperty.call(f,w)&&f[w].magic===b)return f[w];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,x,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var x=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(x),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=a(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var x,v,b,w=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<w;)x=y.readInt(2),v=y.readInt(2),b=y.readData(v),this.extraFields[x]={id:x,length:v,value:b};y.setIndex(w)},handleUTF8:function(){var y=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var v=l.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var w=l.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var x=a(y.value);return x.readInt(1)!==1||d(this.fileName)!==x.readInt(4)?null:h.utf8decode(x.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var x=a(y.value);return x.readInt(1)!==1||d(this.fileComment)!==x.readInt(4)?null:h.utf8decode(x.readData(y.length-5))}return null}},n.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function a(x,v,b){this.name=x,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=v,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var l=r("./stream/StreamHelper"),c=r("./stream/DataWorker"),d=r("./utf8"),h=r("./compressedObject"),f=r("./stream/GenericWorker");a.prototype={internalStream:function(x){var v=null,b="string";try{if(!x)throw new Error("No output type specified.");var w=(b=x.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),v=this._decompressWorker();var E=!this._dataBinary;E&&!w&&(v=v.pipe(new d.Utf8EncodeWorker)),!E&&w&&(v=v.pipe(new d.Utf8DecodeWorker))}catch(_){(v=new f("error")).error(_)}return new l(v,b,"")},async:function(x,v){return this.internalStream(x).accumulate(v)},nodeStream:function(x,v){return this.internalStream(x||"nodebuffer").toNodejsStream(v)},_compressWorker:function(x,v){if(this._data instanceof h&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new d.Utf8EncodeWorker)),h.createWorkerFrom(b,x,v)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof f?this._data:new c(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<m.length;y++)a.prototype[m[y]]=g;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(a){var l,c,d=a.MutationObserver||a.WebKitMutationObserver;if(d){var h=0,f=new d(x),m=a.document.createTextNode("");f.observe(m,{characterData:!0}),l=function(){m.data=h=++h%2}}else if(a.setImmediate||a.MessageChannel===void 0)l="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var v=a.document.createElement("script");v.onreadystatechange=function(){x(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},a.document.documentElement.appendChild(v)}:function(){setTimeout(x,0)};else{var g=new a.MessageChannel;g.port1.onmessage=x,l=function(){g.port2.postMessage(0)}}var y=[];function x(){var v,b;c=!0;for(var w=y.length;w;){for(b=y,y=[],v=-1;++v<w;)b[v]();w=y.length}c=!1}n.exports=function(v){y.push(v)!==1||c||l()}}).call(this,typeof $n<"u"?$n:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var a=r("immediate");function l(){}var c={},d=["REJECTED"],h=["FULFILLED"],f=["PENDING"];function m(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,w!==l&&v(this,w)}function g(w,E,_){this.promise=w,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function y(w,E,_){a(function(){var S;try{S=E(_)}catch(P){return c.reject(w,P)}S===w?c.reject(w,new TypeError("Cannot resolve promise with itself")):c.resolve(w,S)})}function x(w){var E=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof E=="function")return function(){E.apply(w,arguments)}}function v(w,E){var _=!1;function S(L){_||(_=!0,c.reject(w,L))}function P(L){_||(_=!0,c.resolve(w,L))}var B=b(function(){E(P,S)});B.status==="error"&&S(B.value)}function b(w,E){var _={};try{_.value=w(E),_.status="success"}catch(S){_.status="error",_.value=S}return _}(n.exports=m).prototype.finally=function(w){if(typeof w!="function")return this;var E=this.constructor;return this.then(function(_){return E.resolve(w()).then(function(){return _})},function(_){return E.resolve(w()).then(function(){throw _})})},m.prototype.catch=function(w){return this.then(null,w)},m.prototype.then=function(w,E){if(typeof w!="function"&&this.state===h||typeof E!="function"&&this.state===d)return this;var _=new this.constructor(l);return this.state!==f?y(_,this.state===h?w:E,this.outcome):this.queue.push(new g(_,w,E)),_},g.prototype.callFulfilled=function(w){c.resolve(this.promise,w)},g.prototype.otherCallFulfilled=function(w){y(this.promise,this.onFulfilled,w)},g.prototype.callRejected=function(w){c.reject(this.promise,w)},g.prototype.otherCallRejected=function(w){y(this.promise,this.onRejected,w)},c.resolve=function(w,E){var _=b(x,E);if(_.status==="error")return c.reject(w,_.value);var S=_.value;if(S)v(w,S);else{w.state=h,w.outcome=E;for(var P=-1,B=w.queue.length;++P<B;)w.queue[P].callFulfilled(E)}return w},c.reject=function(w,E){w.state=d,w.outcome=E;for(var _=-1,S=w.queue.length;++_<S;)w.queue[_].callRejected(E);return w},m.resolve=function(w){return w instanceof this?w:c.resolve(new this(l),w)},m.reject=function(w){var E=new this(l);return c.reject(E,w)},m.all=function(w){var E=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=w.length,S=!1;if(!_)return this.resolve([]);for(var P=new Array(_),B=0,L=-1,U=new this(l);++L<_;)F(w[L],L);return U;function F(ee,me){E.resolve(ee).then(function(z){P[me]=z,++B!==_||S||(S=!0,c.resolve(U,P))},function(z){S||(S=!0,c.reject(U,z))})}},m.race=function(w){var E=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=w.length,S=!1;if(!_)return this.resolve([]);for(var P=-1,B=new this(l);++P<_;)L=w[P],E.resolve(L).then(function(U){S||(S=!0,c.resolve(B,U))},function(U){S||(S=!0,c.reject(B,U))});var L;return B}},{immediate:36}],38:[function(r,n,i){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var a=r("./zlib/deflate"),l=r("./utils/common"),c=r("./utils/strings"),d=r("./zlib/messages"),h=r("./zlib/zstream"),f=Object.prototype.toString,m=0,g=-1,y=0,x=8;function v(w){if(!(this instanceof v))return new v(w);this.options=l.assign({level:g,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},w||{});var E=this.options;E.raw&&0<E.windowBits?E.windowBits=-E.windowBits:E.gzip&&0<E.windowBits&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var _=a.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(_!==m)throw new Error(d[_]);if(E.header&&a.deflateSetHeader(this.strm,E.header),E.dictionary){var S;if(S=typeof E.dictionary=="string"?c.string2buf(E.dictionary):f.call(E.dictionary)==="[object ArrayBuffer]"?new Uint8Array(E.dictionary):E.dictionary,(_=a.deflateSetDictionary(this.strm,S))!==m)throw new Error(d[_]);this._dict_set=!0}}function b(w,E){var _=new v(E);if(_.push(w,!0),_.err)throw _.msg||d[_.err];return _.result}v.prototype.push=function(w,E){var _,S,P=this.strm,B=this.options.chunkSize;if(this.ended)return!1;S=E===~~E?E:E===!0?4:0,typeof w=="string"?P.input=c.string2buf(w):f.call(w)==="[object ArrayBuffer]"?P.input=new Uint8Array(w):P.input=w,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new l.Buf8(B),P.next_out=0,P.avail_out=B),(_=a.deflate(P,S))!==1&&_!==m)return this.onEnd(_),!(this.ended=!0);P.avail_out!==0&&(P.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(l.shrinkBuf(P.output,P.next_out))):this.onData(l.shrinkBuf(P.output,P.next_out)))}while((0<P.avail_in||P.avail_out===0)&&_!==1);return S===4?(_=a.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===m):S!==2||(this.onEnd(m),!(P.avail_out=0))},v.prototype.onData=function(w){this.chunks.push(w)},v.prototype.onEnd=function(w){w===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Deflate=v,i.deflate=b,i.deflateRaw=function(w,E){return(E=E||{}).raw=!0,b(w,E)},i.gzip=function(w,E){return(E=E||{}).gzip=!0,b(w,E)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var a=r("./zlib/inflate"),l=r("./utils/common"),c=r("./utils/strings"),d=r("./zlib/constants"),h=r("./zlib/messages"),f=r("./zlib/zstream"),m=r("./zlib/gzheader"),g=Object.prototype.toString;function y(v){if(!(this instanceof y))return new y(v);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},v||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||v&&v.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var w=a.inflateInit2(this.strm,b.windowBits);if(w!==d.Z_OK)throw new Error(h[w]);this.header=new m,a.inflateGetHeader(this.strm,this.header)}function x(v,b){var w=new y(b);if(w.push(v,!0),w.err)throw w.msg||h[w.err];return w.result}y.prototype.push=function(v,b){var w,E,_,S,P,B,L=this.strm,U=this.options.chunkSize,F=this.options.dictionary,ee=!1;if(this.ended)return!1;E=b===~~b?b:b===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof v=="string"?L.input=c.binstring2buf(v):g.call(v)==="[object ArrayBuffer]"?L.input=new Uint8Array(v):L.input=v,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new l.Buf8(U),L.next_out=0,L.avail_out=U),(w=a.inflate(L,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&F&&(B=typeof F=="string"?c.string2buf(F):g.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,w=a.inflateSetDictionary(this.strm,B)),w===d.Z_BUF_ERROR&&ee===!0&&(w=d.Z_OK,ee=!1),w!==d.Z_STREAM_END&&w!==d.Z_OK)return this.onEnd(w),!(this.ended=!0);L.next_out&&(L.avail_out!==0&&w!==d.Z_STREAM_END&&(L.avail_in!==0||E!==d.Z_FINISH&&E!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=c.utf8border(L.output,L.next_out),S=L.next_out-_,P=c.buf2string(L.output,_),L.next_out=S,L.avail_out=U-S,S&&l.arraySet(L.output,L.output,_,S,0),this.onData(P)):this.onData(l.shrinkBuf(L.output,L.next_out)))),L.avail_in===0&&L.avail_out===0&&(ee=!0)}while((0<L.avail_in||L.avail_out===0)&&w!==d.Z_STREAM_END);return w===d.Z_STREAM_END&&(E=d.Z_FINISH),E===d.Z_FINISH?(w=a.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===d.Z_OK):E!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(L.avail_out=0))},y.prototype.onData=function(v){this.chunks.push(v)},y.prototype.onEnd=function(v){v===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=y,i.inflate=x,i.inflateRaw=function(v,b){return(b=b||{}).raw=!0,x(v,b)},i.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(d){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var f=h.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var m in f)f.hasOwnProperty(m)&&(d[m]=f[m])}}return d},i.shrinkBuf=function(d,h){return d.length===h?d:d.subarray?d.subarray(0,h):(d.length=h,d)};var l={arraySet:function(d,h,f,m,g){if(h.subarray&&d.subarray)d.set(h.subarray(f,f+m),g);else for(var y=0;y<m;y++)d[g+y]=h[f+y]},flattenChunks:function(d){var h,f,m,g,y,x;for(h=m=0,f=d.length;h<f;h++)m+=d[h].length;for(x=new Uint8Array(m),h=g=0,f=d.length;h<f;h++)y=d[h],x.set(y,g),g+=y.length;return x}},c={arraySet:function(d,h,f,m,g){for(var y=0;y<m;y++)d[g+y]=h[f+y]},flattenChunks:function(d){return[].concat.apply([],d)}};i.setTyped=function(d){d?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,l)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,c))},i.setTyped(a)},{}],42:[function(r,n,i){var a=r("./common"),l=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var d=new a.Buf8(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function f(m,g){if(g<65537&&(m.subarray&&c||!m.subarray&&l))return String.fromCharCode.apply(null,a.shrinkBuf(m,g));for(var y="",x=0;x<g;x++)y+=String.fromCharCode(m[x]);return y}d[254]=d[254]=1,i.string2buf=function(m){var g,y,x,v,b,w=m.length,E=0;for(v=0;v<w;v++)(64512&(y=m.charCodeAt(v)))==55296&&v+1<w&&(64512&(x=m.charCodeAt(v+1)))==56320&&(y=65536+(y-55296<<10)+(x-56320),v++),E+=y<128?1:y<2048?2:y<65536?3:4;for(g=new a.Buf8(E),v=b=0;b<E;v++)(64512&(y=m.charCodeAt(v)))==55296&&v+1<w&&(64512&(x=m.charCodeAt(v+1)))==56320&&(y=65536+(y-55296<<10)+(x-56320),v++),y<128?g[b++]=y:(y<2048?g[b++]=192|y>>>6:(y<65536?g[b++]=224|y>>>12:(g[b++]=240|y>>>18,g[b++]=128|y>>>12&63),g[b++]=128|y>>>6&63),g[b++]=128|63&y);return g},i.buf2binstring=function(m){return f(m,m.length)},i.binstring2buf=function(m){for(var g=new a.Buf8(m.length),y=0,x=g.length;y<x;y++)g[y]=m.charCodeAt(y);return g},i.buf2string=function(m,g){var y,x,v,b,w=g||m.length,E=new Array(2*w);for(y=x=0;y<w;)if((v=m[y++])<128)E[x++]=v;else if(4<(b=d[v]))E[x++]=65533,y+=b-1;else{for(v&=b===2?31:b===3?15:7;1<b&&y<w;)v=v<<6|63&m[y++],b--;1<b?E[x++]=65533:v<65536?E[x++]=v:(v-=65536,E[x++]=55296|v>>10&1023,E[x++]=56320|1023&v)}return f(E,x)},i.utf8border=function(m,g){var y;for((g=g||m.length)>m.length&&(g=m.length),y=g-1;0<=y&&(192&m[y])==128;)y--;return y<0||y===0?g:y+d[m[y]]>g?y:g}},{"./common":41}],43:[function(r,n,i){n.exports=function(a,l,c,d){for(var h=65535&a|0,f=a>>>16&65535|0,m=0;c!==0;){for(c-=m=2e3<c?2e3:c;f=f+(h=h+l[d++]|0)|0,--m;);h%=65521,f%=65521}return h|f<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var a=(function(){for(var l,c=[],d=0;d<256;d++){l=d;for(var h=0;h<8;h++)l=1&l?3988292384^l>>>1:l>>>1;c[d]=l}return c})();n.exports=function(l,c,d,h){var f=a,m=h+d;l^=-1;for(var g=h;g<m;g++)l=l>>>8^f[255&(l^c[g])];return-1^l}},{}],46:[function(r,n,i){var a,l=r("../utils/common"),c=r("./trees"),d=r("./adler32"),h=r("./crc32"),f=r("./messages"),m=0,g=4,y=0,x=-2,v=-1,b=4,w=2,E=8,_=9,S=286,P=30,B=19,L=2*S+1,U=15,F=3,ee=258,me=ee+F+1,z=42,G=113,A=1,te=2,J=3,V=4;function X(I,ge){return I.msg=f[ge],ge}function ne(I){return(I<<1)-(4<I?9:0)}function he(I){for(var ge=I.length;0<=--ge;)I[ge]=0}function W(I){var ge=I.state,$=ge.pending;$>I.avail_out&&($=I.avail_out),$!==0&&(l.arraySet(I.output,ge.pending_buf,ge.pending_out,$,I.next_out),I.next_out+=$,ge.pending_out+=$,I.total_out+=$,I.avail_out-=$,ge.pending-=$,ge.pending===0&&(ge.pending_out=0))}function H(I,ge){c._tr_flush_block(I,0<=I.block_start?I.block_start:-1,I.strstart-I.block_start,ge),I.block_start=I.strstart,W(I.strm)}function ie(I,ge){I.pending_buf[I.pending++]=ge}function le(I,ge){I.pending_buf[I.pending++]=ge>>>8&255,I.pending_buf[I.pending++]=255&ge}function fe(I,ge){var $,C,k=I.max_chain_length,M=I.strstart,Z=I.prev_length,ce=I.nice_match,se=I.strstart>I.w_size-me?I.strstart-(I.w_size-me):0,be=I.window,Ee=I.w_mask,je=I.prev,Ie=I.strstart+ee,$e=be[M+Z-1],Ge=be[M+Z];I.prev_length>=I.good_match&&(k>>=2),ce>I.lookahead&&(ce=I.lookahead);do if(be[($=ge)+Z]===Ge&&be[$+Z-1]===$e&&be[$]===be[M]&&be[++$]===be[M+1]){M+=2,$++;do;while(be[++M]===be[++$]&&be[++M]===be[++$]&&be[++M]===be[++$]&&be[++M]===be[++$]&&be[++M]===be[++$]&&be[++M]===be[++$]&&be[++M]===be[++$]&&be[++M]===be[++$]&&M<Ie);if(C=ee-(Ie-M),M=Ie-ee,Z<C){if(I.match_start=ge,ce<=(Z=C))break;$e=be[M+Z-1],Ge=be[M+Z]}}while((ge=je[ge&Ee])>se&&--k!=0);return Z<=I.lookahead?Z:I.lookahead}function ae(I){var ge,$,C,k,M,Z,ce,se,be,Ee,je=I.w_size;do{if(k=I.window_size-I.lookahead-I.strstart,I.strstart>=je+(je-me)){for(l.arraySet(I.window,I.window,je,je,0),I.match_start-=je,I.strstart-=je,I.block_start-=je,ge=$=I.hash_size;C=I.head[--ge],I.head[ge]=je<=C?C-je:0,--$;);for(ge=$=je;C=I.prev[--ge],I.prev[ge]=je<=C?C-je:0,--$;);k+=je}if(I.strm.avail_in===0)break;if(Z=I.strm,ce=I.window,se=I.strstart+I.lookahead,be=k,Ee=void 0,Ee=Z.avail_in,be<Ee&&(Ee=be),$=Ee===0?0:(Z.avail_in-=Ee,l.arraySet(ce,Z.input,Z.next_in,Ee,se),Z.state.wrap===1?Z.adler=d(Z.adler,ce,Ee,se):Z.state.wrap===2&&(Z.adler=h(Z.adler,ce,Ee,se)),Z.next_in+=Ee,Z.total_in+=Ee,Ee),I.lookahead+=$,I.lookahead+I.insert>=F)for(M=I.strstart-I.insert,I.ins_h=I.window[M],I.ins_h=(I.ins_h<<I.hash_shift^I.window[M+1])&I.hash_mask;I.insert&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[M+F-1])&I.hash_mask,I.prev[M&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=M,M++,I.insert--,!(I.lookahead+I.insert<F)););}while(I.lookahead<me&&I.strm.avail_in!==0)}function D(I,ge){for(var $,C;;){if(I.lookahead<me){if(ae(I),I.lookahead<me&&ge===m)return A;if(I.lookahead===0)break}if($=0,I.lookahead>=F&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+F-1])&I.hash_mask,$=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),$!==0&&I.strstart-$<=I.w_size-me&&(I.match_length=fe(I,$)),I.match_length>=F)if(C=c._tr_tally(I,I.strstart-I.match_start,I.match_length-F),I.lookahead-=I.match_length,I.match_length<=I.max_lazy_match&&I.lookahead>=F){for(I.match_length--;I.strstart++,I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+F-1])&I.hash_mask,$=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart,--I.match_length!=0;);I.strstart++}else I.strstart+=I.match_length,I.match_length=0,I.ins_h=I.window[I.strstart],I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+1])&I.hash_mask;else C=c._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++;if(C&&(H(I,!1),I.strm.avail_out===0))return A}return I.insert=I.strstart<F-1?I.strstart:F-1,ge===g?(H(I,!0),I.strm.avail_out===0?J:V):I.last_lit&&(H(I,!1),I.strm.avail_out===0)?A:te}function O(I,ge){for(var $,C,k;;){if(I.lookahead<me){if(ae(I),I.lookahead<me&&ge===m)return A;if(I.lookahead===0)break}if($=0,I.lookahead>=F&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+F-1])&I.hash_mask,$=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),I.prev_length=I.match_length,I.prev_match=I.match_start,I.match_length=F-1,$!==0&&I.prev_length<I.max_lazy_match&&I.strstart-$<=I.w_size-me&&(I.match_length=fe(I,$),I.match_length<=5&&(I.strategy===1||I.match_length===F&&4096<I.strstart-I.match_start)&&(I.match_length=F-1)),I.prev_length>=F&&I.match_length<=I.prev_length){for(k=I.strstart+I.lookahead-F,C=c._tr_tally(I,I.strstart-1-I.prev_match,I.prev_length-F),I.lookahead-=I.prev_length-1,I.prev_length-=2;++I.strstart<=k&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+F-1])&I.hash_mask,$=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),--I.prev_length!=0;);if(I.match_available=0,I.match_length=F-1,I.strstart++,C&&(H(I,!1),I.strm.avail_out===0))return A}else if(I.match_available){if((C=c._tr_tally(I,0,I.window[I.strstart-1]))&&H(I,!1),I.strstart++,I.lookahead--,I.strm.avail_out===0)return A}else I.match_available=1,I.strstart++,I.lookahead--}return I.match_available&&(C=c._tr_tally(I,0,I.window[I.strstart-1]),I.match_available=0),I.insert=I.strstart<F-1?I.strstart:F-1,ge===g?(H(I,!0),I.strm.avail_out===0?J:V):I.last_lit&&(H(I,!1),I.strm.avail_out===0)?A:te}function re(I,ge,$,C,k){this.good_length=I,this.max_lazy=ge,this.nice_length=$,this.max_chain=C,this.func=k}function Q(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*L),this.dyn_dtree=new l.Buf16(2*(2*P+1)),this.bl_tree=new l.Buf16(2*(2*B+1)),he(this.dyn_ltree),he(this.dyn_dtree),he(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(U+1),this.heap=new l.Buf16(2*S+1),he(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*S+1),he(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function K(I){var ge;return I&&I.state?(I.total_in=I.total_out=0,I.data_type=w,(ge=I.state).pending=0,ge.pending_out=0,ge.wrap<0&&(ge.wrap=-ge.wrap),ge.status=ge.wrap?z:G,I.adler=ge.wrap===2?0:1,ge.last_flush=m,c._tr_init(ge),y):X(I,x)}function Y(I){var ge=K(I);return ge===y&&(function($){$.window_size=2*$.w_size,he($.head),$.max_lazy_match=a[$.level].max_lazy,$.good_match=a[$.level].good_length,$.nice_match=a[$.level].nice_length,$.max_chain_length=a[$.level].max_chain,$.strstart=0,$.block_start=0,$.lookahead=0,$.insert=0,$.match_length=$.prev_length=F-1,$.match_available=0,$.ins_h=0})(I.state),ge}function pe(I,ge,$,C,k,M){if(!I)return x;var Z=1;if(ge===v&&(ge=6),C<0?(Z=0,C=-C):15<C&&(Z=2,C-=16),k<1||_<k||$!==E||C<8||15<C||ge<0||9<ge||M<0||b<M)return X(I,x);C===8&&(C=9);var ce=new Q;return(I.state=ce).strm=I,ce.wrap=Z,ce.gzhead=null,ce.w_bits=C,ce.w_size=1<<ce.w_bits,ce.w_mask=ce.w_size-1,ce.hash_bits=k+7,ce.hash_size=1<<ce.hash_bits,ce.hash_mask=ce.hash_size-1,ce.hash_shift=~~((ce.hash_bits+F-1)/F),ce.window=new l.Buf8(2*ce.w_size),ce.head=new l.Buf16(ce.hash_size),ce.prev=new l.Buf16(ce.w_size),ce.lit_bufsize=1<<k+6,ce.pending_buf_size=4*ce.lit_bufsize,ce.pending_buf=new l.Buf8(ce.pending_buf_size),ce.d_buf=1*ce.lit_bufsize,ce.l_buf=3*ce.lit_bufsize,ce.level=ge,ce.strategy=M,ce.method=$,Y(I)}a=[new re(0,0,0,0,function(I,ge){var $=65535;for($>I.pending_buf_size-5&&($=I.pending_buf_size-5);;){if(I.lookahead<=1){if(ae(I),I.lookahead===0&&ge===m)return A;if(I.lookahead===0)break}I.strstart+=I.lookahead,I.lookahead=0;var C=I.block_start+$;if((I.strstart===0||I.strstart>=C)&&(I.lookahead=I.strstart-C,I.strstart=C,H(I,!1),I.strm.avail_out===0)||I.strstart-I.block_start>=I.w_size-me&&(H(I,!1),I.strm.avail_out===0))return A}return I.insert=0,ge===g?(H(I,!0),I.strm.avail_out===0?J:V):(I.strstart>I.block_start&&(H(I,!1),I.strm.avail_out),A)}),new re(4,4,8,4,D),new re(4,5,16,8,D),new re(4,6,32,32,D),new re(4,4,16,16,O),new re(8,16,32,32,O),new re(8,16,128,128,O),new re(8,32,128,256,O),new re(32,128,258,1024,O),new re(32,258,258,4096,O)],i.deflateInit=function(I,ge){return pe(I,ge,E,15,8,0)},i.deflateInit2=pe,i.deflateReset=Y,i.deflateResetKeep=K,i.deflateSetHeader=function(I,ge){return I&&I.state?I.state.wrap!==2?x:(I.state.gzhead=ge,y):x},i.deflate=function(I,ge){var $,C,k,M;if(!I||!I.state||5<ge||ge<0)return I?X(I,x):x;if(C=I.state,!I.output||!I.input&&I.avail_in!==0||C.status===666&&ge!==g)return X(I,I.avail_out===0?-5:x);if(C.strm=I,$=C.last_flush,C.last_flush=ge,C.status===z)if(C.wrap===2)I.adler=0,ie(C,31),ie(C,139),ie(C,8),C.gzhead?(ie(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),ie(C,255&C.gzhead.time),ie(C,C.gzhead.time>>8&255),ie(C,C.gzhead.time>>16&255),ie(C,C.gzhead.time>>24&255),ie(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),ie(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(ie(C,255&C.gzhead.extra.length),ie(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(I.adler=h(I.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(ie(C,0),ie(C,0),ie(C,0),ie(C,0),ie(C,0),ie(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),ie(C,3),C.status=G);else{var Z=E+(C.w_bits-8<<4)<<8;Z|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(Z|=32),Z+=31-Z%31,C.status=G,le(C,Z),C.strstart!==0&&(le(C,I.adler>>>16),le(C,65535&I.adler)),I.adler=1}if(C.status===69)if(C.gzhead.extra){for(k=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>k&&(I.adler=h(I.adler,C.pending_buf,C.pending-k,k)),W(I),k=C.pending,C.pending!==C.pending_buf_size));)ie(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>k&&(I.adler=h(I.adler,C.pending_buf,C.pending-k,k)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){k=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>k&&(I.adler=h(I.adler,C.pending_buf,C.pending-k,k)),W(I),k=C.pending,C.pending===C.pending_buf_size)){M=1;break}M=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,ie(C,M)}while(M!==0);C.gzhead.hcrc&&C.pending>k&&(I.adler=h(I.adler,C.pending_buf,C.pending-k,k)),M===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){k=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>k&&(I.adler=h(I.adler,C.pending_buf,C.pending-k,k)),W(I),k=C.pending,C.pending===C.pending_buf_size)){M=1;break}M=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,ie(C,M)}while(M!==0);C.gzhead.hcrc&&C.pending>k&&(I.adler=h(I.adler,C.pending_buf,C.pending-k,k)),M===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&W(I),C.pending+2<=C.pending_buf_size&&(ie(C,255&I.adler),ie(C,I.adler>>8&255),I.adler=0,C.status=G)):C.status=G),C.pending!==0){if(W(I),I.avail_out===0)return C.last_flush=-1,y}else if(I.avail_in===0&&ne(ge)<=ne($)&&ge!==g)return X(I,-5);if(C.status===666&&I.avail_in!==0)return X(I,-5);if(I.avail_in!==0||C.lookahead!==0||ge!==m&&C.status!==666){var ce=C.strategy===2?(function(se,be){for(var Ee;;){if(se.lookahead===0&&(ae(se),se.lookahead===0)){if(be===m)return A;break}if(se.match_length=0,Ee=c._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++,Ee&&(H(se,!1),se.strm.avail_out===0))return A}return se.insert=0,be===g?(H(se,!0),se.strm.avail_out===0?J:V):se.last_lit&&(H(se,!1),se.strm.avail_out===0)?A:te})(C,ge):C.strategy===3?(function(se,be){for(var Ee,je,Ie,$e,Ge=se.window;;){if(se.lookahead<=ee){if(ae(se),se.lookahead<=ee&&be===m)return A;if(se.lookahead===0)break}if(se.match_length=0,se.lookahead>=F&&0<se.strstart&&(je=Ge[Ie=se.strstart-1])===Ge[++Ie]&&je===Ge[++Ie]&&je===Ge[++Ie]){$e=se.strstart+ee;do;while(je===Ge[++Ie]&&je===Ge[++Ie]&&je===Ge[++Ie]&&je===Ge[++Ie]&&je===Ge[++Ie]&&je===Ge[++Ie]&&je===Ge[++Ie]&&je===Ge[++Ie]&&Ie<$e);se.match_length=ee-($e-Ie),se.match_length>se.lookahead&&(se.match_length=se.lookahead)}if(se.match_length>=F?(Ee=c._tr_tally(se,1,se.match_length-F),se.lookahead-=se.match_length,se.strstart+=se.match_length,se.match_length=0):(Ee=c._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++),Ee&&(H(se,!1),se.strm.avail_out===0))return A}return se.insert=0,be===g?(H(se,!0),se.strm.avail_out===0?J:V):se.last_lit&&(H(se,!1),se.strm.avail_out===0)?A:te})(C,ge):a[C.level].func(C,ge);if(ce!==J&&ce!==V||(C.status=666),ce===A||ce===J)return I.avail_out===0&&(C.last_flush=-1),y;if(ce===te&&(ge===1?c._tr_align(C):ge!==5&&(c._tr_stored_block(C,0,0,!1),ge===3&&(he(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),W(I),I.avail_out===0))return C.last_flush=-1,y}return ge!==g?y:C.wrap<=0?1:(C.wrap===2?(ie(C,255&I.adler),ie(C,I.adler>>8&255),ie(C,I.adler>>16&255),ie(C,I.adler>>24&255),ie(C,255&I.total_in),ie(C,I.total_in>>8&255),ie(C,I.total_in>>16&255),ie(C,I.total_in>>24&255)):(le(C,I.adler>>>16),le(C,65535&I.adler)),W(I),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?y:1)},i.deflateEnd=function(I){var ge;return I&&I.state?(ge=I.state.status)!==z&&ge!==69&&ge!==73&&ge!==91&&ge!==103&&ge!==G&&ge!==666?X(I,x):(I.state=null,ge===G?X(I,-3):y):x},i.deflateSetDictionary=function(I,ge){var $,C,k,M,Z,ce,se,be,Ee=ge.length;if(!I||!I.state||(M=($=I.state).wrap)===2||M===1&&$.status!==z||$.lookahead)return x;for(M===1&&(I.adler=d(I.adler,ge,Ee,0)),$.wrap=0,Ee>=$.w_size&&(M===0&&(he($.head),$.strstart=0,$.block_start=0,$.insert=0),be=new l.Buf8($.w_size),l.arraySet(be,ge,Ee-$.w_size,$.w_size,0),ge=be,Ee=$.w_size),Z=I.avail_in,ce=I.next_in,se=I.input,I.avail_in=Ee,I.next_in=0,I.input=ge,ae($);$.lookahead>=F;){for(C=$.strstart,k=$.lookahead-(F-1);$.ins_h=($.ins_h<<$.hash_shift^$.window[C+F-1])&$.hash_mask,$.prev[C&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=C,C++,--k;);$.strstart=C,$.lookahead=F-1,ae($)}return $.strstart+=$.lookahead,$.block_start=$.strstart,$.insert=$.lookahead,$.lookahead=0,$.match_length=$.prev_length=F-1,$.match_available=0,I.next_in=ce,I.input=se,I.avail_in=Z,$.wrap=M,y},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(a,l){var c,d,h,f,m,g,y,x,v,b,w,E,_,S,P,B,L,U,F,ee,me,z,G,A,te;c=a.state,d=a.next_in,A=a.input,h=d+(a.avail_in-5),f=a.next_out,te=a.output,m=f-(l-a.avail_out),g=f+(a.avail_out-257),y=c.dmax,x=c.wsize,v=c.whave,b=c.wnext,w=c.window,E=c.hold,_=c.bits,S=c.lencode,P=c.distcode,B=(1<<c.lenbits)-1,L=(1<<c.distbits)-1;e:do{_<15&&(E+=A[d++]<<_,_+=8,E+=A[d++]<<_,_+=8),U=S[E&B];t:for(;;){if(E>>>=F=U>>>24,_-=F,(F=U>>>16&255)===0)te[f++]=65535&U;else{if(!(16&F)){if((64&F)==0){U=S[(65535&U)+(E&(1<<F)-1)];continue t}if(32&F){c.mode=12;break e}a.msg="invalid literal/length code",c.mode=30;break e}ee=65535&U,(F&=15)&&(_<F&&(E+=A[d++]<<_,_+=8),ee+=E&(1<<F)-1,E>>>=F,_-=F),_<15&&(E+=A[d++]<<_,_+=8,E+=A[d++]<<_,_+=8),U=P[E&L];r:for(;;){if(E>>>=F=U>>>24,_-=F,!(16&(F=U>>>16&255))){if((64&F)==0){U=P[(65535&U)+(E&(1<<F)-1)];continue r}a.msg="invalid distance code",c.mode=30;break e}if(me=65535&U,_<(F&=15)&&(E+=A[d++]<<_,(_+=8)<F&&(E+=A[d++]<<_,_+=8)),y<(me+=E&(1<<F)-1)){a.msg="invalid distance too far back",c.mode=30;break e}if(E>>>=F,_-=F,(F=f-m)<me){if(v<(F=me-F)&&c.sane){a.msg="invalid distance too far back",c.mode=30;break e}if(G=w,(z=0)===b){if(z+=x-F,F<ee){for(ee-=F;te[f++]=w[z++],--F;);z=f-me,G=te}}else if(b<F){if(z+=x+b-F,(F-=b)<ee){for(ee-=F;te[f++]=w[z++],--F;);if(z=0,b<ee){for(ee-=F=b;te[f++]=w[z++],--F;);z=f-me,G=te}}}else if(z+=b-F,F<ee){for(ee-=F;te[f++]=w[z++],--F;);z=f-me,G=te}for(;2<ee;)te[f++]=G[z++],te[f++]=G[z++],te[f++]=G[z++],ee-=3;ee&&(te[f++]=G[z++],1<ee&&(te[f++]=G[z++]))}else{for(z=f-me;te[f++]=te[z++],te[f++]=te[z++],te[f++]=te[z++],2<(ee-=3););ee&&(te[f++]=te[z++],1<ee&&(te[f++]=te[z++]))}break}}break}}while(d<h&&f<g);d-=ee=_>>3,E&=(1<<(_-=ee<<3))-1,a.next_in=d,a.next_out=f,a.avail_in=d<h?h-d+5:5-(d-h),a.avail_out=f<g?g-f+257:257-(f-g),c.hold=E,c.bits=_}},{}],49:[function(r,n,i){var a=r("../utils/common"),l=r("./adler32"),c=r("./crc32"),d=r("./inffast"),h=r("./inftrees"),f=1,m=2,g=0,y=-2,x=1,v=852,b=592;function w(z){return(z>>>24&255)+(z>>>8&65280)+((65280&z)<<8)+((255&z)<<24)}function E(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(z){var G;return z&&z.state?(G=z.state,z.total_in=z.total_out=G.total=0,z.msg="",G.wrap&&(z.adler=1&G.wrap),G.mode=x,G.last=0,G.havedict=0,G.dmax=32768,G.head=null,G.hold=0,G.bits=0,G.lencode=G.lendyn=new a.Buf32(v),G.distcode=G.distdyn=new a.Buf32(b),G.sane=1,G.back=-1,g):y}function S(z){var G;return z&&z.state?((G=z.state).wsize=0,G.whave=0,G.wnext=0,_(z)):y}function P(z,G){var A,te;return z&&z.state?(te=z.state,G<0?(A=0,G=-G):(A=1+(G>>4),G<48&&(G&=15)),G&&(G<8||15<G)?y:(te.window!==null&&te.wbits!==G&&(te.window=null),te.wrap=A,te.wbits=G,S(z))):y}function B(z,G){var A,te;return z?(te=new E,(z.state=te).window=null,(A=P(z,G))!==g&&(z.state=null),A):y}var L,U,F=!0;function ee(z){if(F){var G;for(L=new a.Buf32(512),U=new a.Buf32(32),G=0;G<144;)z.lens[G++]=8;for(;G<256;)z.lens[G++]=9;for(;G<280;)z.lens[G++]=7;for(;G<288;)z.lens[G++]=8;for(h(f,z.lens,0,288,L,0,z.work,{bits:9}),G=0;G<32;)z.lens[G++]=5;h(m,z.lens,0,32,U,0,z.work,{bits:5}),F=!1}z.lencode=L,z.lenbits=9,z.distcode=U,z.distbits=5}function me(z,G,A,te){var J,V=z.state;return V.window===null&&(V.wsize=1<<V.wbits,V.wnext=0,V.whave=0,V.window=new a.Buf8(V.wsize)),te>=V.wsize?(a.arraySet(V.window,G,A-V.wsize,V.wsize,0),V.wnext=0,V.whave=V.wsize):(te<(J=V.wsize-V.wnext)&&(J=te),a.arraySet(V.window,G,A-te,J,V.wnext),(te-=J)?(a.arraySet(V.window,G,A-te,te,0),V.wnext=te,V.whave=V.wsize):(V.wnext+=J,V.wnext===V.wsize&&(V.wnext=0),V.whave<V.wsize&&(V.whave+=J))),0}i.inflateReset=S,i.inflateReset2=P,i.inflateResetKeep=_,i.inflateInit=function(z){return B(z,15)},i.inflateInit2=B,i.inflate=function(z,G){var A,te,J,V,X,ne,he,W,H,ie,le,fe,ae,D,O,re,Q,K,Y,pe,I,ge,$,C,k=0,M=new a.Buf8(4),Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!z||!z.state||!z.output||!z.input&&z.avail_in!==0)return y;(A=z.state).mode===12&&(A.mode=13),X=z.next_out,J=z.output,he=z.avail_out,V=z.next_in,te=z.input,ne=z.avail_in,W=A.hold,H=A.bits,ie=ne,le=he,ge=g;e:for(;;)switch(A.mode){case x:if(A.wrap===0){A.mode=13;break}for(;H<16;){if(ne===0)break e;ne--,W+=te[V++]<<H,H+=8}if(2&A.wrap&&W===35615){M[A.check=0]=255&W,M[1]=W>>>8&255,A.check=c(A.check,M,2,0),H=W=0,A.mode=2;break}if(A.flags=0,A.head&&(A.head.done=!1),!(1&A.wrap)||(((255&W)<<8)+(W>>8))%31){z.msg="incorrect header check",A.mode=30;break}if((15&W)!=8){z.msg="unknown compression method",A.mode=30;break}if(H-=4,I=8+(15&(W>>>=4)),A.wbits===0)A.wbits=I;else if(I>A.wbits){z.msg="invalid window size",A.mode=30;break}A.dmax=1<<I,z.adler=A.check=1,A.mode=512&W?10:12,H=W=0;break;case 2:for(;H<16;){if(ne===0)break e;ne--,W+=te[V++]<<H,H+=8}if(A.flags=W,(255&A.flags)!=8){z.msg="unknown compression method",A.mode=30;break}if(57344&A.flags){z.msg="unknown header flags set",A.mode=30;break}A.head&&(A.head.text=W>>8&1),512&A.flags&&(M[0]=255&W,M[1]=W>>>8&255,A.check=c(A.check,M,2,0)),H=W=0,A.mode=3;case 3:for(;H<32;){if(ne===0)break e;ne--,W+=te[V++]<<H,H+=8}A.head&&(A.head.time=W),512&A.flags&&(M[0]=255&W,M[1]=W>>>8&255,M[2]=W>>>16&255,M[3]=W>>>24&255,A.check=c(A.check,M,4,0)),H=W=0,A.mode=4;case 4:for(;H<16;){if(ne===0)break e;ne--,W+=te[V++]<<H,H+=8}A.head&&(A.head.xflags=255&W,A.head.os=W>>8),512&A.flags&&(M[0]=255&W,M[1]=W>>>8&255,A.check=c(A.check,M,2,0)),H=W=0,A.mode=5;case 5:if(1024&A.flags){for(;H<16;){if(ne===0)break e;ne--,W+=te[V++]<<H,H+=8}A.length=W,A.head&&(A.head.extra_len=W),512&A.flags&&(M[0]=255&W,M[1]=W>>>8&255,A.check=c(A.check,M,2,0)),H=W=0}else A.head&&(A.head.extra=null);A.mode=6;case 6:if(1024&A.flags&&(ne<(fe=A.length)&&(fe=ne),fe&&(A.head&&(I=A.head.extra_len-A.length,A.head.extra||(A.head.extra=new Array(A.head.extra_len)),a.arraySet(A.head.extra,te,V,fe,I)),512&A.flags&&(A.check=c(A.check,te,fe,V)),ne-=fe,V+=fe,A.length-=fe),A.length))break e;A.length=0,A.mode=7;case 7:if(2048&A.flags){if(ne===0)break e;for(fe=0;I=te[V+fe++],A.head&&I&&A.length<65536&&(A.head.name+=String.fromCharCode(I)),I&&fe<ne;);if(512&A.flags&&(A.check=c(A.check,te,fe,V)),ne-=fe,V+=fe,I)break e}else A.head&&(A.head.name=null);A.length=0,A.mode=8;case 8:if(4096&A.flags){if(ne===0)break e;for(fe=0;I=te[V+fe++],A.head&&I&&A.length<65536&&(A.head.comment+=String.fromCharCode(I)),I&&fe<ne;);if(512&A.flags&&(A.check=c(A.check,te,fe,V)),ne-=fe,V+=fe,I)break e}else A.head&&(A.head.comment=null);A.mode=9;case 9:if(512&A.flags){for(;H<16;){if(ne===0)break e;ne--,W+=te[V++]<<H,H+=8}if(W!==(65535&A.check)){z.msg="header crc mismatch",A.mode=30;break}H=W=0}A.head&&(A.head.hcrc=A.flags>>9&1,A.head.done=!0),z.adler=A.check=0,A.mode=12;break;case 10:for(;H<32;){if(ne===0)break e;ne--,W+=te[V++]<<H,H+=8}z.adler=A.check=w(W),H=W=0,A.mode=11;case 11:if(A.havedict===0)return z.next_out=X,z.avail_out=he,z.next_in=V,z.avail_in=ne,A.hold=W,A.bits=H,2;z.adler=A.check=1,A.mode=12;case 12:if(G===5||G===6)break e;case 13:if(A.last){W>>>=7&H,H-=7&H,A.mode=27;break}for(;H<3;){if(ne===0)break e;ne--,W+=te[V++]<<H,H+=8}switch(A.last=1&W,H-=1,3&(W>>>=1)){case 0:A.mode=14;break;case 1:if(ee(A),A.mode=20,G!==6)break;W>>>=2,H-=2;break e;case 2:A.mode=17;break;case 3:z.msg="invalid block type",A.mode=30}W>>>=2,H-=2;break;case 14:for(W>>>=7&H,H-=7&H;H<32;){if(ne===0)break e;ne--,W+=te[V++]<<H,H+=8}if((65535&W)!=(W>>>16^65535)){z.msg="invalid stored block lengths",A.mode=30;break}if(A.length=65535&W,H=W=0,A.mode=15,G===6)break e;case 15:A.mode=16;case 16:if(fe=A.length){if(ne<fe&&(fe=ne),he<fe&&(fe=he),fe===0)break e;a.arraySet(J,te,V,fe,X),ne-=fe,V+=fe,he-=fe,X+=fe,A.length-=fe;break}A.mode=12;break;case 17:for(;H<14;){if(ne===0)break e;ne--,W+=te[V++]<<H,H+=8}if(A.nlen=257+(31&W),W>>>=5,H-=5,A.ndist=1+(31&W),W>>>=5,H-=5,A.ncode=4+(15&W),W>>>=4,H-=4,286<A.nlen||30<A.ndist){z.msg="too many length or distance symbols",A.mode=30;break}A.have=0,A.mode=18;case 18:for(;A.have<A.ncode;){for(;H<3;){if(ne===0)break e;ne--,W+=te[V++]<<H,H+=8}A.lens[Z[A.have++]]=7&W,W>>>=3,H-=3}for(;A.have<19;)A.lens[Z[A.have++]]=0;if(A.lencode=A.lendyn,A.lenbits=7,$={bits:A.lenbits},ge=h(0,A.lens,0,19,A.lencode,0,A.work,$),A.lenbits=$.bits,ge){z.msg="invalid code lengths set",A.mode=30;break}A.have=0,A.mode=19;case 19:for(;A.have<A.nlen+A.ndist;){for(;re=(k=A.lencode[W&(1<<A.lenbits)-1])>>>16&255,Q=65535&k,!((O=k>>>24)<=H);){if(ne===0)break e;ne--,W+=te[V++]<<H,H+=8}if(Q<16)W>>>=O,H-=O,A.lens[A.have++]=Q;else{if(Q===16){for(C=O+2;H<C;){if(ne===0)break e;ne--,W+=te[V++]<<H,H+=8}if(W>>>=O,H-=O,A.have===0){z.msg="invalid bit length repeat",A.mode=30;break}I=A.lens[A.have-1],fe=3+(3&W),W>>>=2,H-=2}else if(Q===17){for(C=O+3;H<C;){if(ne===0)break e;ne--,W+=te[V++]<<H,H+=8}H-=O,I=0,fe=3+(7&(W>>>=O)),W>>>=3,H-=3}else{for(C=O+7;H<C;){if(ne===0)break e;ne--,W+=te[V++]<<H,H+=8}H-=O,I=0,fe=11+(127&(W>>>=O)),W>>>=7,H-=7}if(A.have+fe>A.nlen+A.ndist){z.msg="invalid bit length repeat",A.mode=30;break}for(;fe--;)A.lens[A.have++]=I}}if(A.mode===30)break;if(A.lens[256]===0){z.msg="invalid code -- missing end-of-block",A.mode=30;break}if(A.lenbits=9,$={bits:A.lenbits},ge=h(f,A.lens,0,A.nlen,A.lencode,0,A.work,$),A.lenbits=$.bits,ge){z.msg="invalid literal/lengths set",A.mode=30;break}if(A.distbits=6,A.distcode=A.distdyn,$={bits:A.distbits},ge=h(m,A.lens,A.nlen,A.ndist,A.distcode,0,A.work,$),A.distbits=$.bits,ge){z.msg="invalid distances set",A.mode=30;break}if(A.mode=20,G===6)break e;case 20:A.mode=21;case 21:if(6<=ne&&258<=he){z.next_out=X,z.avail_out=he,z.next_in=V,z.avail_in=ne,A.hold=W,A.bits=H,d(z,le),X=z.next_out,J=z.output,he=z.avail_out,V=z.next_in,te=z.input,ne=z.avail_in,W=A.hold,H=A.bits,A.mode===12&&(A.back=-1);break}for(A.back=0;re=(k=A.lencode[W&(1<<A.lenbits)-1])>>>16&255,Q=65535&k,!((O=k>>>24)<=H);){if(ne===0)break e;ne--,W+=te[V++]<<H,H+=8}if(re&&(240&re)==0){for(K=O,Y=re,pe=Q;re=(k=A.lencode[pe+((W&(1<<K+Y)-1)>>K)])>>>16&255,Q=65535&k,!(K+(O=k>>>24)<=H);){if(ne===0)break e;ne--,W+=te[V++]<<H,H+=8}W>>>=K,H-=K,A.back+=K}if(W>>>=O,H-=O,A.back+=O,A.length=Q,re===0){A.mode=26;break}if(32&re){A.back=-1,A.mode=12;break}if(64&re){z.msg="invalid literal/length code",A.mode=30;break}A.extra=15&re,A.mode=22;case 22:if(A.extra){for(C=A.extra;H<C;){if(ne===0)break e;ne--,W+=te[V++]<<H,H+=8}A.length+=W&(1<<A.extra)-1,W>>>=A.extra,H-=A.extra,A.back+=A.extra}A.was=A.length,A.mode=23;case 23:for(;re=(k=A.distcode[W&(1<<A.distbits)-1])>>>16&255,Q=65535&k,!((O=k>>>24)<=H);){if(ne===0)break e;ne--,W+=te[V++]<<H,H+=8}if((240&re)==0){for(K=O,Y=re,pe=Q;re=(k=A.distcode[pe+((W&(1<<K+Y)-1)>>K)])>>>16&255,Q=65535&k,!(K+(O=k>>>24)<=H);){if(ne===0)break e;ne--,W+=te[V++]<<H,H+=8}W>>>=K,H-=K,A.back+=K}if(W>>>=O,H-=O,A.back+=O,64&re){z.msg="invalid distance code",A.mode=30;break}A.offset=Q,A.extra=15&re,A.mode=24;case 24:if(A.extra){for(C=A.extra;H<C;){if(ne===0)break e;ne--,W+=te[V++]<<H,H+=8}A.offset+=W&(1<<A.extra)-1,W>>>=A.extra,H-=A.extra,A.back+=A.extra}if(A.offset>A.dmax){z.msg="invalid distance too far back",A.mode=30;break}A.mode=25;case 25:if(he===0)break e;if(fe=le-he,A.offset>fe){if((fe=A.offset-fe)>A.whave&&A.sane){z.msg="invalid distance too far back",A.mode=30;break}ae=fe>A.wnext?(fe-=A.wnext,A.wsize-fe):A.wnext-fe,fe>A.length&&(fe=A.length),D=A.window}else D=J,ae=X-A.offset,fe=A.length;for(he<fe&&(fe=he),he-=fe,A.length-=fe;J[X++]=D[ae++],--fe;);A.length===0&&(A.mode=21);break;case 26:if(he===0)break e;J[X++]=A.length,he--,A.mode=21;break;case 27:if(A.wrap){for(;H<32;){if(ne===0)break e;ne--,W|=te[V++]<<H,H+=8}if(le-=he,z.total_out+=le,A.total+=le,le&&(z.adler=A.check=A.flags?c(A.check,J,le,X-le):l(A.check,J,le,X-le)),le=he,(A.flags?W:w(W))!==A.check){z.msg="incorrect data check",A.mode=30;break}H=W=0}A.mode=28;case 28:if(A.wrap&&A.flags){for(;H<32;){if(ne===0)break e;ne--,W+=te[V++]<<H,H+=8}if(W!==(4294967295&A.total)){z.msg="incorrect length check",A.mode=30;break}H=W=0}A.mode=29;case 29:ge=1;break e;case 30:ge=-3;break e;case 31:return-4;default:return y}return z.next_out=X,z.avail_out=he,z.next_in=V,z.avail_in=ne,A.hold=W,A.bits=H,(A.wsize||le!==z.avail_out&&A.mode<30&&(A.mode<27||G!==4))&&me(z,z.output,z.next_out,le-z.avail_out)?(A.mode=31,-4):(ie-=z.avail_in,le-=z.avail_out,z.total_in+=ie,z.total_out+=le,A.total+=le,A.wrap&&le&&(z.adler=A.check=A.flags?c(A.check,J,le,z.next_out-le):l(A.check,J,le,z.next_out-le)),z.data_type=A.bits+(A.last?64:0)+(A.mode===12?128:0)+(A.mode===20||A.mode===15?256:0),(ie==0&&le===0||G===4)&&ge===g&&(ge=-5),ge)},i.inflateEnd=function(z){if(!z||!z.state)return y;var G=z.state;return G.window&&(G.window=null),z.state=null,g},i.inflateGetHeader=function(z,G){var A;return z&&z.state?(2&(A=z.state).wrap)==0?y:((A.head=G).done=!1,g):y},i.inflateSetDictionary=function(z,G){var A,te=G.length;return z&&z.state?(A=z.state).wrap!==0&&A.mode!==11?y:A.mode===11&&l(1,G,te,0)!==A.check?-3:me(z,G,te,te)?(A.mode=31,-4):(A.havedict=1,g):y},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var a=r("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(f,m,g,y,x,v,b,w){var E,_,S,P,B,L,U,F,ee,me=w.bits,z=0,G=0,A=0,te=0,J=0,V=0,X=0,ne=0,he=0,W=0,H=null,ie=0,le=new a.Buf16(16),fe=new a.Buf16(16),ae=null,D=0;for(z=0;z<=15;z++)le[z]=0;for(G=0;G<y;G++)le[m[g+G]]++;for(J=me,te=15;1<=te&&le[te]===0;te--);if(te<J&&(J=te),te===0)return x[v++]=20971520,x[v++]=20971520,w.bits=1,0;for(A=1;A<te&&le[A]===0;A++);for(J<A&&(J=A),z=ne=1;z<=15;z++)if(ne<<=1,(ne-=le[z])<0)return-1;if(0<ne&&(f===0||te!==1))return-1;for(fe[1]=0,z=1;z<15;z++)fe[z+1]=fe[z]+le[z];for(G=0;G<y;G++)m[g+G]!==0&&(b[fe[m[g+G]]++]=G);if(L=f===0?(H=ae=b,19):f===1?(H=l,ie-=257,ae=c,D-=257,256):(H=d,ae=h,-1),z=A,B=v,X=G=W=0,S=-1,P=(he=1<<(V=J))-1,f===1&&852<he||f===2&&592<he)return 1;for(;;){for(U=z-X,ee=b[G]<L?(F=0,b[G]):b[G]>L?(F=ae[D+b[G]],H[ie+b[G]]):(F=96,0),E=1<<z-X,A=_=1<<V;x[B+(W>>X)+(_-=E)]=U<<24|F<<16|ee|0,_!==0;);for(E=1<<z-1;W&E;)E>>=1;if(E!==0?(W&=E-1,W+=E):W=0,G++,--le[z]==0){if(z===te)break;z=m[g+b[G]]}if(J<z&&(W&P)!==S){for(X===0&&(X=J),B+=A,ne=1<<(V=z-X);V+X<te&&!((ne-=le[V+X])<=0);)V++,ne<<=1;if(he+=1<<V,f===1&&852<he||f===2&&592<he)return 1;x[S=W&P]=J<<24|V<<16|B-v|0}}return W!==0&&(x[B+W]=z-X<<24|64<<16|0),w.bits=J,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var a=r("../utils/common"),l=0,c=1;function d(k){for(var M=k.length;0<=--M;)k[M]=0}var h=0,f=29,m=256,g=m+1+f,y=30,x=19,v=2*g+1,b=15,w=16,E=7,_=256,S=16,P=17,B=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],me=new Array(2*(g+2));d(me);var z=new Array(2*y);d(z);var G=new Array(512);d(G);var A=new Array(256);d(A);var te=new Array(f);d(te);var J,V,X,ne=new Array(y);function he(k,M,Z,ce,se){this.static_tree=k,this.extra_bits=M,this.extra_base=Z,this.elems=ce,this.max_length=se,this.has_stree=k&&k.length}function W(k,M){this.dyn_tree=k,this.max_code=0,this.stat_desc=M}function H(k){return k<256?G[k]:G[256+(k>>>7)]}function ie(k,M){k.pending_buf[k.pending++]=255&M,k.pending_buf[k.pending++]=M>>>8&255}function le(k,M,Z){k.bi_valid>w-Z?(k.bi_buf|=M<<k.bi_valid&65535,ie(k,k.bi_buf),k.bi_buf=M>>w-k.bi_valid,k.bi_valid+=Z-w):(k.bi_buf|=M<<k.bi_valid&65535,k.bi_valid+=Z)}function fe(k,M,Z){le(k,Z[2*M],Z[2*M+1])}function ae(k,M){for(var Z=0;Z|=1&k,k>>>=1,Z<<=1,0<--M;);return Z>>>1}function D(k,M,Z){var ce,se,be=new Array(b+1),Ee=0;for(ce=1;ce<=b;ce++)be[ce]=Ee=Ee+Z[ce-1]<<1;for(se=0;se<=M;se++){var je=k[2*se+1];je!==0&&(k[2*se]=ae(be[je]++,je))}}function O(k){var M;for(M=0;M<g;M++)k.dyn_ltree[2*M]=0;for(M=0;M<y;M++)k.dyn_dtree[2*M]=0;for(M=0;M<x;M++)k.bl_tree[2*M]=0;k.dyn_ltree[2*_]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function re(k){8<k.bi_valid?ie(k,k.bi_buf):0<k.bi_valid&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function Q(k,M,Z,ce){var se=2*M,be=2*Z;return k[se]<k[be]||k[se]===k[be]&&ce[M]<=ce[Z]}function K(k,M,Z){for(var ce=k.heap[Z],se=Z<<1;se<=k.heap_len&&(se<k.heap_len&&Q(M,k.heap[se+1],k.heap[se],k.depth)&&se++,!Q(M,ce,k.heap[se],k.depth));)k.heap[Z]=k.heap[se],Z=se,se<<=1;k.heap[Z]=ce}function Y(k,M,Z){var ce,se,be,Ee,je=0;if(k.last_lit!==0)for(;ce=k.pending_buf[k.d_buf+2*je]<<8|k.pending_buf[k.d_buf+2*je+1],se=k.pending_buf[k.l_buf+je],je++,ce===0?fe(k,se,M):(fe(k,(be=A[se])+m+1,M),(Ee=L[be])!==0&&le(k,se-=te[be],Ee),fe(k,be=H(--ce),Z),(Ee=U[be])!==0&&le(k,ce-=ne[be],Ee)),je<k.last_lit;);fe(k,_,M)}function pe(k,M){var Z,ce,se,be=M.dyn_tree,Ee=M.stat_desc.static_tree,je=M.stat_desc.has_stree,Ie=M.stat_desc.elems,$e=-1;for(k.heap_len=0,k.heap_max=v,Z=0;Z<Ie;Z++)be[2*Z]!==0?(k.heap[++k.heap_len]=$e=Z,k.depth[Z]=0):be[2*Z+1]=0;for(;k.heap_len<2;)be[2*(se=k.heap[++k.heap_len]=$e<2?++$e:0)]=1,k.depth[se]=0,k.opt_len--,je&&(k.static_len-=Ee[2*se+1]);for(M.max_code=$e,Z=k.heap_len>>1;1<=Z;Z--)K(k,be,Z);for(se=Ie;Z=k.heap[1],k.heap[1]=k.heap[k.heap_len--],K(k,be,1),ce=k.heap[1],k.heap[--k.heap_max]=Z,k.heap[--k.heap_max]=ce,be[2*se]=be[2*Z]+be[2*ce],k.depth[se]=(k.depth[Z]>=k.depth[ce]?k.depth[Z]:k.depth[ce])+1,be[2*Z+1]=be[2*ce+1]=se,k.heap[1]=se++,K(k,be,1),2<=k.heap_len;);k.heap[--k.heap_max]=k.heap[1],(function(Ge,Zt){var kr,gr,pi,Pt,mi,Eo,Ur=Zt.dyn_tree,Ji=Zt.max_code,No=Zt.stat_desc.static_tree,Co=Zt.stat_desc.has_stree,ko=Zt.stat_desc.extra_bits,ts=Zt.stat_desc.extra_base,Yr=Zt.stat_desc.max_length,gi=0;for(Pt=0;Pt<=b;Pt++)Ge.bl_count[Pt]=0;for(Ur[2*Ge.heap[Ge.heap_max]+1]=0,kr=Ge.heap_max+1;kr<v;kr++)Yr<(Pt=Ur[2*Ur[2*(gr=Ge.heap[kr])+1]+1]+1)&&(Pt=Yr,gi++),Ur[2*gr+1]=Pt,Ji<gr||(Ge.bl_count[Pt]++,mi=0,ts<=gr&&(mi=ko[gr-ts]),Eo=Ur[2*gr],Ge.opt_len+=Eo*(Pt+mi),Co&&(Ge.static_len+=Eo*(No[2*gr+1]+mi)));if(gi!==0){do{for(Pt=Yr-1;Ge.bl_count[Pt]===0;)Pt--;Ge.bl_count[Pt]--,Ge.bl_count[Pt+1]+=2,Ge.bl_count[Yr]--,gi-=2}while(0<gi);for(Pt=Yr;Pt!==0;Pt--)for(gr=Ge.bl_count[Pt];gr!==0;)Ji<(pi=Ge.heap[--kr])||(Ur[2*pi+1]!==Pt&&(Ge.opt_len+=(Pt-Ur[2*pi+1])*Ur[2*pi],Ur[2*pi+1]=Pt),gr--)}})(k,M),D(be,$e,k.bl_count)}function I(k,M,Z){var ce,se,be=-1,Ee=M[1],je=0,Ie=7,$e=4;for(Ee===0&&(Ie=138,$e=3),M[2*(Z+1)+1]=65535,ce=0;ce<=Z;ce++)se=Ee,Ee=M[2*(ce+1)+1],++je<Ie&&se===Ee||(je<$e?k.bl_tree[2*se]+=je:se!==0?(se!==be&&k.bl_tree[2*se]++,k.bl_tree[2*S]++):je<=10?k.bl_tree[2*P]++:k.bl_tree[2*B]++,be=se,$e=(je=0)===Ee?(Ie=138,3):se===Ee?(Ie=6,3):(Ie=7,4))}function ge(k,M,Z){var ce,se,be=-1,Ee=M[1],je=0,Ie=7,$e=4;for(Ee===0&&(Ie=138,$e=3),ce=0;ce<=Z;ce++)if(se=Ee,Ee=M[2*(ce+1)+1],!(++je<Ie&&se===Ee)){if(je<$e)for(;fe(k,se,k.bl_tree),--je!=0;);else se!==0?(se!==be&&(fe(k,se,k.bl_tree),je--),fe(k,S,k.bl_tree),le(k,je-3,2)):je<=10?(fe(k,P,k.bl_tree),le(k,je-3,3)):(fe(k,B,k.bl_tree),le(k,je-11,7));be=se,$e=(je=0)===Ee?(Ie=138,3):se===Ee?(Ie=6,3):(Ie=7,4)}}d(ne);var $=!1;function C(k,M,Z,ce){le(k,(h<<1)+(ce?1:0),3),(function(se,be,Ee,je){re(se),ie(se,Ee),ie(se,~Ee),a.arraySet(se.pending_buf,se.window,be,Ee,se.pending),se.pending+=Ee})(k,M,Z)}i._tr_init=function(k){$||((function(){var M,Z,ce,se,be,Ee=new Array(b+1);for(se=ce=0;se<f-1;se++)for(te[se]=ce,M=0;M<1<<L[se];M++)A[ce++]=se;for(A[ce-1]=se,se=be=0;se<16;se++)for(ne[se]=be,M=0;M<1<<U[se];M++)G[be++]=se;for(be>>=7;se<y;se++)for(ne[se]=be<<7,M=0;M<1<<U[se]-7;M++)G[256+be++]=se;for(Z=0;Z<=b;Z++)Ee[Z]=0;for(M=0;M<=143;)me[2*M+1]=8,M++,Ee[8]++;for(;M<=255;)me[2*M+1]=9,M++,Ee[9]++;for(;M<=279;)me[2*M+1]=7,M++,Ee[7]++;for(;M<=287;)me[2*M+1]=8,M++,Ee[8]++;for(D(me,g+1,Ee),M=0;M<y;M++)z[2*M+1]=5,z[2*M]=ae(M,5);J=new he(me,L,m+1,g,b),V=new he(z,U,0,y,b),X=new he(new Array(0),F,0,x,E)})(),$=!0),k.l_desc=new W(k.dyn_ltree,J),k.d_desc=new W(k.dyn_dtree,V),k.bl_desc=new W(k.bl_tree,X),k.bi_buf=0,k.bi_valid=0,O(k)},i._tr_stored_block=C,i._tr_flush_block=function(k,M,Z,ce){var se,be,Ee=0;0<k.level?(k.strm.data_type===2&&(k.strm.data_type=(function(je){var Ie,$e=4093624447;for(Ie=0;Ie<=31;Ie++,$e>>>=1)if(1&$e&&je.dyn_ltree[2*Ie]!==0)return l;if(je.dyn_ltree[18]!==0||je.dyn_ltree[20]!==0||je.dyn_ltree[26]!==0)return c;for(Ie=32;Ie<m;Ie++)if(je.dyn_ltree[2*Ie]!==0)return c;return l})(k)),pe(k,k.l_desc),pe(k,k.d_desc),Ee=(function(je){var Ie;for(I(je,je.dyn_ltree,je.l_desc.max_code),I(je,je.dyn_dtree,je.d_desc.max_code),pe(je,je.bl_desc),Ie=x-1;3<=Ie&&je.bl_tree[2*ee[Ie]+1]===0;Ie--);return je.opt_len+=3*(Ie+1)+5+5+4,Ie})(k),se=k.opt_len+3+7>>>3,(be=k.static_len+3+7>>>3)<=se&&(se=be)):se=be=Z+5,Z+4<=se&&M!==-1?C(k,M,Z,ce):k.strategy===4||be===se?(le(k,2+(ce?1:0),3),Y(k,me,z)):(le(k,4+(ce?1:0),3),(function(je,Ie,$e,Ge){var Zt;for(le(je,Ie-257,5),le(je,$e-1,5),le(je,Ge-4,4),Zt=0;Zt<Ge;Zt++)le(je,je.bl_tree[2*ee[Zt]+1],3);ge(je,je.dyn_ltree,Ie-1),ge(je,je.dyn_dtree,$e-1)})(k,k.l_desc.max_code+1,k.d_desc.max_code+1,Ee+1),Y(k,k.dyn_ltree,k.dyn_dtree)),O(k),ce&&re(k)},i._tr_tally=function(k,M,Z){return k.pending_buf[k.d_buf+2*k.last_lit]=M>>>8&255,k.pending_buf[k.d_buf+2*k.last_lit+1]=255&M,k.pending_buf[k.l_buf+k.last_lit]=255&Z,k.last_lit++,M===0?k.dyn_ltree[2*Z]++:(k.matches++,M--,k.dyn_ltree[2*(A[Z]+m+1)]++,k.dyn_dtree[2*H(M)]++),k.last_lit===k.lit_bufsize-1},i._tr_align=function(k){le(k,2,3),fe(k,_,me),(function(M){M.bi_valid===16?(ie(M,M.bi_buf),M.bi_buf=0,M.bi_valid=0):8<=M.bi_valid&&(M.pending_buf[M.pending++]=255&M.bi_buf,M.bi_buf>>=8,M.bi_valid-=8)})(k)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(a){(function(l,c){if(!l.setImmediate){var d,h,f,m,g=1,y={},x=!1,v=l.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(l);b=b&&b.setTimeout?b:l,d={}.toString.call(l.process)==="[object process]"?function(S){nt.nextTick(function(){E(S)})}:(function(){if(l.postMessage&&!l.importScripts){var S=!0,P=l.onmessage;return l.onmessage=function(){S=!1},l.postMessage("","*"),l.onmessage=P,S}})()?(m="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",_,!1):l.attachEvent("onmessage",_),function(S){l.postMessage(m+S,"*")}):l.MessageChannel?((f=new MessageChannel).port1.onmessage=function(S){E(S.data)},function(S){f.port2.postMessage(S)}):v&&"onreadystatechange"in v.createElement("script")?(h=v.documentElement,function(S){var P=v.createElement("script");P.onreadystatechange=function(){E(S),P.onreadystatechange=null,h.removeChild(P),P=null},h.appendChild(P)}):function(S){setTimeout(E,0,S)},b.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var P=new Array(arguments.length-1),B=0;B<P.length;B++)P[B]=arguments[B+1];var L={callback:S,args:P};return y[g]=L,d(g),g++},b.clearImmediate=w}function w(S){delete y[S]}function E(S){if(x)setTimeout(E,0,S);else{var P=y[S];if(P){x=!0;try{(function(B){var L=B.callback,U=B.args;switch(U.length){case 0:L();break;case 1:L(U[0]);break;case 2:L(U[0],U[1]);break;case 3:L(U[0],U[1],U[2]);break;default:L.apply(c,U)}})(P)}finally{w(S),x=!1}}}}function _(S){S.source===l&&typeof S.data=="string"&&S.data.indexOf(m)===0&&E(+S.data.slice(m.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof $n<"u"?$n:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Cg)),Cg.exports}var jq=_q();const Sq=zT(jq);var bl={exports:{}},kg,Mj;function Eq(){if(Mj)return kg;Mj=1;var e={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function t(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(n,i){return e[i]}):r}return kg=t,kg}var Fj;function Nq(){if(Fj)return bl.exports;Fj=1;var e=Eq(),t=Xy().Stream,r="    ";function n(h,f){typeof f!="object"&&(f={indent:f});var m=f.stream?new t:null,g="",y=!1,x=f.indent?f.indent===!0?r:f.indent:"",v=!0;function b(P){v?nt.nextTick(P):P()}function w(P,B){if(B!==void 0&&(g+=B),P&&!y&&(m=m||new t,y=!0),P&&y){var L=g;b(function(){m.emit("data",L)}),g=""}}function E(P,B){c(w,l(P,x,x?1:0),B)}function _(){if(m){var P=g;b(function(){m.emit("data",P),m.emit("end"),m.readable=!1,m.emit("close")})}}function S(P){var B=P.encoding||"UTF-8",L={version:"1.0",encoding:B};P.standalone&&(L.standalone=P.standalone),E({"?xml":{_attr:L}}),g=g.replace("/>","?>")}return b(function(){v=!1}),f.declaration&&S(f.declaration),h&&h.forEach?h.forEach(function(P,B){var L;B+1===h.length&&(L=_),E(P,L)}):E(h,_),m?(m.readable=!0,m):g}function i(){var h=Array.prototype.slice.call(arguments),f={_elem:l(h)};return f.push=function(m){if(!this.append)throw new Error("not assigned to a parent!");var g=this,y=this._elem.indent;c(this.append,l(m,y,this._elem.icount+(y?1:0)),function(){g.append(!0)})},f.close=function(m){m!==void 0&&this.push(m),this.end&&this.end()},f}function a(h,f){return new Array(f||0).join(h||"")}function l(h,f,m){m=m||0;var g=a(f,m),y,x=h,v=!1;if(typeof h=="object"){var b=Object.keys(h);if(y=b[0],x=h[y],x&&x._elem)return x._elem.name=y,x._elem.icount=m,x._elem.indent=f,x._elem.indents=g,x._elem.interrupt=x,x._elem}var w=[],E=[],_;function S(P){var B=Object.keys(P);B.forEach(function(L){w.push(d(L,P[L]))})}switch(typeof x){case"object":if(x===null)break;x._attr&&S(x._attr),x._cdata&&E.push(("<![CDATA["+x._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),x.forEach&&(_=!1,E.push(""),x.forEach(function(P){if(typeof P=="object"){var B=Object.keys(P)[0];B=="_attr"?S(P._attr):E.push(l(P,f,m+1))}else E.pop(),_=!0,E.push(e(P))}),_||E.push(""));break;default:E.push(e(x))}return{name:y,interrupt:v,attributes:w,content:E,icount:m,indents:g,indent:f}}function c(h,f,m){if(typeof f!="object")return h(!1,f);var g=f.interrupt?1:f.content.length;function y(){for(;f.content.length;){var v=f.content.shift();if(v!==void 0){if(x(v))return;c(h,v)}}h(!1,(g>1?f.indents:"")+(f.name?"</"+f.name+">":"")+(f.indent&&!m?`
`:"")),m&&m()}function x(v){return v.interrupt?(v.interrupt.append=h,v.interrupt.end=y,v.interrupt=!1,h(!0),!0):!1}if(h(!1,f.indents+(f.name?"<"+f.name:"")+(f.attributes.length?" "+f.attributes.join(" "):"")+(g?f.name?">":"":f.name?"/>":"")+(f.indent&&g>1?`
`:"")),!g)return h(!1,f.indent?`
`:"");x(f)||y()}function d(h,f){return h+'="'+e(f)+'"'}return bl.exports=n,bl.exports.element=bl.exports.Element=i,bl.exports}var Cq=Nq();const It=zT(Cq),_l=0,Tg=32,kq=32,Tq=(e,t)=>{const r=t.replace(/-/g,"");if(r.length!==kq)throw new Error(`Error: Cannot extract GUID from font filename: ${t}`);const i=r.replace(/(..)/g,"$1 ").trim().split(" ").map(d=>parseInt(d,16));i.reverse();const l=e.slice(_l,Tg).map((d,h)=>d^i[h%i.length]),c=new Uint8Array(_l+l.length+Math.max(0,e.length-Tg));return c.set(e.slice(0,_l)),c.set(l,_l),c.set(e.slice(Tg),_l+l.length),c};class Pq{format(t,r={stack:[]}){const n=t.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}}class Aq{replace(t,r,n){let i=t;return r.forEach((a,l)=>{i=i.replace(new RegExp(`{${a.fileName}}`,"g"),(n+l).toString())}),i}getMediaData(t,r){return r.Array.filter(n=>t.search(`{${n.fileName}}`)>0)}}class Rq{replace(t,r){let n=t;for(const i of r)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}}class Dq{constructor(){Se(this,"formatter"),Se(this,"imageReplacer"),Se(this,"numberingReplacer"),this.formatter=new Pq,this.imageReplacer=new Aq,this.numberingReplacer=new Rq}compile(t,r,n=[]){const i=new Sq,a=this.xmlifyFile(t,r),l=new Map(Object.entries(a));for(const[,c]of l)if(Array.isArray(c))for(const d of c)i.file(d.path,d.data);else i.file(c.path,c.data);for(const c of n)i.file(c.path,c.data);for(const c of t.Media.Array)c.type!=="svg"?i.file(`word/media/${c.fileName}`,c.data):(i.file(`word/media/${c.fileName}`,c.data),i.file(`word/media/${c.fallback.fileName}`,c.fallback.data));for(const{data:c,name:d,fontKey:h}of t.FontTable.fontOptionsWithKey){const[f]=d.split(".");i.file(`word/fonts/${f}.odttf`,Tq(c,h))}return i}xmlifyFile(t,r){const n=t.Document.Relationships.RelationshipCount+1,i=It(this.formatter.format(t.Document.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),a=t.Comments.Relationships.RelationshipCount+1,l=It(this.formatter.format(t.Comments,{viewWrapper:{View:t.Comments,Relationships:t.Comments.Relationships},file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),c=this.imageReplacer.getMediaData(i,t.Media),d=this.imageReplacer.getMediaData(l,t.Media);return{Relationships:{data:(c.forEach((h,f)=>{t.Document.Relationships.createRelationship(n+f,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),t.Document.Relationships.createRelationship(t.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),It(this.formatter.format(t.Document.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const h=this.imageReplacer.replace(i,c,n);return this.numberingReplacer.replace(h,t.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const h=It(this.formatter.format(t.Styles,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(h,t.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:It(this.formatter.format(t.CoreProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:It(this.formatter.format(t.Numbering,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:It(this.formatter.format(t.FileRelationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:t.Headers.map((h,f)=>{const m=It(this.formatter.format(h.View,{viewWrapper:h,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(m,t.Media).forEach((y,x)=>{h.Relationships.createRelationship(x,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:It(this.formatter.format(h.Relationships,{viewWrapper:h,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${f+1}.xml.rels`}}),FooterRelationships:t.Footers.map((h,f)=>{const m=It(this.formatter.format(h.View,{viewWrapper:h,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(m,t.Media).forEach((y,x)=>{h.Relationships.createRelationship(x,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:It(this.formatter.format(h.Relationships,{viewWrapper:h,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${f+1}.xml.rels`}}),Headers:t.Headers.map((h,f)=>{const m=It(this.formatter.format(h.View,{viewWrapper:h,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),g=this.imageReplacer.getMediaData(m,t.Media),y=this.imageReplacer.replace(m,g,0);return{data:this.numberingReplacer.replace(y,t.Numbering.ConcreteNumbering),path:`word/header${f+1}.xml`}}),Footers:t.Footers.map((h,f)=>{const m=It(this.formatter.format(h.View,{viewWrapper:h,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),g=this.imageReplacer.getMediaData(m,t.Media),y=this.imageReplacer.replace(m,g,0);return{data:this.numberingReplacer.replace(y,t.Numbering.ConcreteNumbering),path:`word/footer${f+1}.xml`}}),ContentTypes:{data:It(this.formatter.format(t.ContentTypes,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:It(this.formatter.format(t.CustomProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:It(this.formatter.format(t.AppProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:It(this.formatter.format(t.FootNotes.View,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:It(this.formatter.format(t.FootNotes.Relationships,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:It(this.formatter.format(t.Settings,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const h=this.imageReplacer.replace(l,d,a);return this.numberingReplacer.replace(h,t.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(d.forEach((h,f)=>{t.Comments.Relationships.createRelationship(a+f,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),It(this.formatter.format(t.Comments.Relationships,{viewWrapper:{View:t.Comments,Relationships:t.Comments.Relationships},file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:It(this.formatter.format(t.FontTable.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:It(this.formatter.format(t.FontTable.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const Oq={WITH_2_BLANKS:"  "},Lj=e=>e===!0?Oq.WITH_2_BLANKS:e===!1?void 0:e,E2=class Fa{static pack(t,r,n){return c$(this,arguments,function*(i,a,l,c=[]){return this.compiler.compile(i,Lj(l),c).generateAsync({type:a,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(t,r,n=[]){return Fa.pack(t,"string",r,n)}static toBuffer(t,r,n=[]){return Fa.pack(t,"nodebuffer",r,n)}static toBase64String(t,r,n=[]){return Fa.pack(t,"base64",r,n)}static toBlob(t,r,n=[]){return Fa.pack(t,"blob",r,n)}static toArrayBuffer(t,r,n=[]){return Fa.pack(t,"arraybuffer",r,n)}static toStream(t,r,n=[]){const i=new bq.Stream;return this.compiler.compile(t,Lj(r),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(l=>{i.emit("data",l),i.emit("end")}),i}};Se(E2,"compiler",new Dq);let Iq=E2;const Mq=()=>({downloadDocument:async t=>{try{const r=t.generated_content.split(`
`).map(c=>new Ad({children:[new vv(c||" ")]})),n=new wq({sections:[{properties:{},children:r}]}),i=await Iq.toBlob(n),a=URL.createObjectURL(i),l=window.document.createElement("a");l.href=a,l.download=`${t.document_name}.docx`,window.document.body.appendChild(l),l.click(),window.document.body.removeChild(l),URL.revokeObjectURL(a)}catch(r){console.error("Error generating Word document:",r)}}}),Fq=({open:e,onOpenChange:t})=>{const{addTemplate:r}=fh(),[n,i]=N.useState(""),[a,l]=N.useState(""),[c,d]=N.useState([]),[h,f]=N.useState(""),[m,g]=N.useState(!1),y=()=>{h.trim()&&!c.includes(h.trim())&&(d([...c,h.trim()]),f(""))},x=w=>{d(c.filter(E=>E!==w))},v=async w=>{if(w.preventDefault(),!(!n.trim()||!a.trim())){g(!0);try{await r({name:n.trim(),template_content:a.trim(),variables:c}),i(""),l(""),d([]),f(""),t(!1)}catch(E){console.error("Error adding template:",E)}finally{g(!1)}}},b=w=>{w.key==="Enter"&&(w.preventDefault(),y())};return s.jsx(mr,{open:e,onOpenChange:t,children:s.jsxs(lr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(cr,{children:s.jsx(ur,{children:"Add Contract Template"})}),s.jsxs("form",{onSubmit:v,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"name",children:"Template Name"}),s.jsx(De,{id:"name",value:n,onChange:w=>i(w.target.value),placeholder:"e.g., Monthly Invoice Template",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"variables",children:"Template Variables"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(De,{value:h,onChange:w=>f(w.target.value),onKeyPress:b,placeholder:"e.g., client_name, project_name"}),s.jsx(_e,{type:"button",onClick:y,variant:"outline",children:s.jsx(Tt,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:c.map(w=>s.jsxs(at,{variant:"secondary",className:"flex items-center gap-1",children:[w,s.jsx(_e,{type:"button",variant:"ghost",size:"sm",className:"h-auto p-0 w-4 h-4",onClick:()=>x(w),children:s.jsx(Fr,{className:"w-3 h-3"})})]},w))}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Use variables in your template like this: ","{{variable_name}}"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"content",children:"Template Content"}),s.jsx(Qt,{id:"content",value:a,onChange:w=>l(w.target.value),placeholder:"Enter your template content here. Use {{variable_name}} for dynamic content.",className:"min-h-[300px] font-mono text-sm",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(_e,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:m,children:"Cancel"}),s.jsx(_e,{type:"submit",disabled:m,children:m?"Adding...":"Add Template"})]})]})]})})},Lq=({open:e,onOpenChange:t,template:r})=>{const{updateTemplate:n}=fh(),[i,a]=N.useState(""),[l,c]=N.useState(""),[d,h]=N.useState([]),[f,m]=N.useState(""),[g,y]=N.useState(!1);N.useEffect(()=>{r&&(a(r.name),c(r.template_content),h(r.variables||[]))},[r]);const x=()=>{f.trim()&&!d.includes(f.trim())&&(h([...d,f.trim()]),m(""))},v=E=>{h(d.filter(_=>_!==E))},b=async E=>{if(E.preventDefault(),!(!i.trim()||!l.trim())){y(!0);try{await n(r.id,{name:i.trim(),template_content:l.trim(),variables:d}),t(!1)}catch(_){console.error("Error updating template:",_)}finally{y(!1)}}},w=E=>{E.key==="Enter"&&(E.preventDefault(),x())};return s.jsx(mr,{open:e,onOpenChange:t,children:s.jsxs(lr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(cr,{children:[s.jsx(ur,{children:"Edit Contract Template"}),s.jsx(di,{children:"Modify your contract template content and variables."})]}),s.jsxs("form",{onSubmit:b,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"name",children:"Template Name"}),s.jsx(De,{id:"name",value:i,onChange:E=>a(E.target.value),placeholder:"e.g., Monthly Invoice Template",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"variables",children:"Template Variables"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(De,{value:f,onChange:E=>m(E.target.value),onKeyPress:w,placeholder:"e.g., client_name, project_name"}),s.jsx(_e,{type:"button",onClick:x,variant:"outline",children:s.jsx(Tt,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:d.map(E=>s.jsxs(at,{variant:"secondary",className:"flex items-center gap-1",children:[E,s.jsx(_e,{type:"button",variant:"ghost",size:"sm",className:"h-auto p-0 w-4 h-4",onClick:()=>v(E),children:s.jsx(Fr,{className:"w-3 h-3"})})]},E))}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Use variables in your template like this: ","{{variable_name}}"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"content",children:"Template Content"}),s.jsx(Qt,{id:"content",value:l,onChange:E=>c(E.target.value),placeholder:"Enter your template content here. Use {{variable_name}} for dynamic content.",className:"min-h-[300px] font-mono text-sm",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(_e,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:g,children:"Cancel"}),s.jsx(_e,{type:"submit",disabled:g,children:g?"Updating...":"Update Template"})]})]})]})})},Uq=e=>{const{generateDocument:t}=fh(),{projects:r}=vc(),{clients:n}=Yi(),{tasks:i}=uh(),{toast:a}=Jt(),[l,c]=N.useState(""),[d,h]=N.useState(""),[f,m]=N.useState(""),[g,y]=N.useState({}),[x,v]=N.useState({}),[b,w]=N.useState(""),[E,_]=N.useState(!1),[S,P]=N.useState(!1),[B,L]=N.useState(!1),U=(G,A)=>{let te=G;return Object.entries(A).forEach(([J,V])=>{const X=new RegExp(`{{${J}}}`,"g");te=te.replace(X,V)}),te};return N.useEffect(()=>{if(e){const G={};e.variables.forEach(te=>{G[te]=""}),y(G),v(G),c(`${e.name} - ${new Date().toLocaleDateString()}`),L(!1);const A=U(e.template_content,G);w(A)}},[e]),N.useEffect(()=>{const G=Object.keys(g).some(A=>g[A]!==x[A]);L(G)},[g,x]),{documentName:l,setDocumentName:c,selectedProjectId:d,setSelectedProjectId:h,selectedClientId:f,setSelectedClientId:m,variables:g,savedVariables:x,generatedContent:b,isSubmitting:E,isPopulating:S,hasUnsavedChanges:B,projects:r,clients:n,populateVariablesFromData:async()=>{if(!f){a({title:"Selection Required",description:"Please select a client first",variant:"destructive"});return}P(!0);try{const G=n.find(A=>A.id.toString()===f);if(G){const A={...x};if(x.hasOwnProperty("client_name")&&(A.client_name=G.name),(x.hasOwnProperty("client_currency")||x.hasOwnProperty("currency"))&&(x.hasOwnProperty("client_currency")&&(A.client_currency=G.currency||"USD"),x.hasOwnProperty("currency")&&(A.currency=G.currency||"USD")),x.hasOwnProperty("hourly_rate")&&G.priceType==="hour"&&(A.hourly_rate=G.price?.toString()||"0"),x.hasOwnProperty("daily_rate")&&G.priceType==="day"&&(A.daily_rate=G.price?.toString()||"0"),x.hasOwnProperty("current_date")&&(A.current_date=new Date().toLocaleDateString("ro-RO")),x.hasOwnProperty("current_month")&&(A.current_month=new Date().toLocaleDateString("ro-RO",{month:"long",year:"numeric"})),d){const te=r.find(J=>J.id===d);if(te){const V=i.filter(H=>H.projectId===d).filter(H=>H.status==="completed"),X=V.reduce((H,ie)=>H+(ie.workedHours||0),0),ne=te.hourlyRate||G.price,he=X*ne,W=V.map(H=>`${H.title} - ${H.workedHours||0} hours`).join(`
`);x.hasOwnProperty("project_name")&&(A.project_name=te.name),x.hasOwnProperty("project_start_date")&&(A.project_start_date=te.startDate),x.hasOwnProperty("project_end_date")&&(A.project_end_date=te.endDate||"Ongoing"),x.hasOwnProperty("total_hours")&&(A.total_hours=X.toString()),x.hasOwnProperty("total_amount")&&(A.total_amount=he.toString()),x.hasOwnProperty("task_list")&&(A.task_list=W),x.hasOwnProperty("hourly_rate")&&te.hourlyRate&&(A.hourly_rate=te.hourlyRate.toString())}}y(A),a({title:"Data Populated",description:"Template variables have been filled with client data. Click 'Save & Update Preview' to apply changes."})}}catch(G){console.error("Error populating variables:",G),a({title:"Error",description:"Failed to populate variables from client data",variant:"destructive"})}finally{P(!1)}},saveAndUpdatePreview:()=>{const G={...g};v(G);const A=U(e.template_content,G);w(A),L(!1),a({title:"Preview Updated",description:"Template variables saved and preview updated successfully"})},handleVariableChange:(G,A)=>{y(te=>({...te,[G]:A}))},handleSubmit:async(G,A)=>{if(G.trim()){if(B){a({title:"Unsaved Changes",description:"Please save your variables before generating the document",variant:"destructive"});return}_(!0);try{await t(e.id,x,G.trim(),d||void 0,f?parseInt(f):void 0),c(""),h(""),m(""),y({}),v({}),L(!1),A()}catch(te){console.error("Error generating document:",te)}finally{_(!1)}}}}},Bq=({documentName:e,setDocumentName:t,selectedProjectId:r,setSelectedProjectId:n,selectedClientId:i,setSelectedClientId:a,projects:l,clients:c,onPopulateData:d,isPopulating:h})=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"documentName",children:"Document Name"}),s.jsx(De,{id:"documentName",value:e,onChange:f=>t(f.target.value),placeholder:"Enter document name",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"project",children:"Project (Optional)"}),s.jsxs(mt,{value:r,onValueChange:n,children:[s.jsx(ft,{children:s.jsx(gt,{placeholder:"Select a project"})}),s.jsx(pt,{children:l.map(f=>s.jsx(Me,{value:f.id,children:f.name},f.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"client",children:"Client (Optional)"}),s.jsxs(mt,{value:i,onValueChange:a,children:[s.jsx(ft,{children:s.jsx(gt,{placeholder:"Select a client"})}),s.jsx(pt,{children:c.map(f=>s.jsx(Me,{value:f.id.toString(),children:f.name},f.id))})]})]}),s.jsx("div",{className:"flex items-end space-x-2",children:i&&s.jsx(_e,{type:"button",variant:"outline",onClick:d,disabled:h,className:"flex-1",children:h?s.jsxs(s.Fragment,{children:[s.jsx(ND,{className:"w-4 h-4 mr-2 animate-spin"}),"Populating..."]}):"Auto-populate Data"})})]}),$q=({variables:e,variableValues:t,onVariableChange:r,onSaveAndUpdatePreview:n,hasUnsavedChanges:i})=>e.length===0?null:s.jsxs(Qe,{children:[s.jsxs(dt,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ht,{className:"text-lg",children:"Template Variables"}),s.jsxs(_e,{type:"button",onClick:n,variant:i?"default":"outline",size:"sm",className:i?"bg-green-600 hover:bg-green-700":"",children:[s.jsx(Ud,{className:"w-4 h-4 mr-2"}),"Save & Update Preview"]})]}),i&&s.jsx("p",{className:"text-sm text-amber-600",children:'You have unsaved changes. Click "Save & Update Preview" to apply them.'})]}),s.jsx(Je,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(a=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:a,children:s.jsx(at,{variant:"outline",className:"mr-2",children:a})}),s.jsx(De,{id:a,value:t[a]||"",onChange:l=>r(a,l.target.value),placeholder:`Enter ${a.replace("_"," ")}`})]},a))})})]}),zq=({generatedContent:e,hasUnsavedChanges:t})=>s.jsxs(Qe,{children:[s.jsxs(dt,{children:[s.jsx(ht,{children:"Document Preview"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["This preview shows the document with your saved variables.",t&&" Save your changes in the Setup tab to update this preview."]})]}),s.jsx(Je,{children:s.jsx(Qt,{value:e,readOnly:!0,className:"min-h-[500px] font-mono text-sm",placeholder:"Save your template variables to see the preview here..."})})]}),Hq=({open:e,onOpenChange:t,template:r})=>{const{documentName:n,setDocumentName:i,selectedProjectId:a,setSelectedProjectId:l,selectedClientId:c,setSelectedClientId:d,variables:h,generatedContent:f,isSubmitting:m,isPopulating:g,hasUnsavedChanges:y,projects:x,clients:v,populateVariablesFromData:b,saveAndUpdatePreview:w,handleVariableChange:E,handleSubmit:_}=Uq(r),S=async P=>{P.preventDefault(),await _(n,()=>t(!1))};return s.jsx(mr,{open:e,onOpenChange:t,children:s.jsxs(lr,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(cr,{children:[s.jsxs(ur,{children:["Generate Document from ",r.name]}),s.jsx(di,{children:"Fill in the template variables and generate a document based on your template."})]}),s.jsxs(oi,{defaultValue:"setup",className:"space-y-4",children:[s.jsxs(ws,{children:[s.jsxs(Ht,{value:"setup",children:["Setup",y&&s.jsx(at,{variant:"destructive",className:"ml-2 text-xs",children:"Unsaved"})]}),s.jsx(Ht,{value:"preview",children:"Preview"})]}),s.jsx(or,{value:"setup",className:"space-y-6",children:s.jsxs("form",{onSubmit:S,className:"space-y-6",children:[s.jsx(Bq,{documentName:n,setDocumentName:i,selectedProjectId:a,setSelectedProjectId:l,selectedClientId:c,setSelectedClientId:d,projects:x,clients:v,onPopulateData:b,isPopulating:g}),s.jsx($q,{variables:r.variables,variableValues:h,onVariableChange:E,onSaveAndUpdatePreview:w,hasUnsavedChanges:y}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(_e,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:m,children:"Cancel"}),s.jsx(_e,{type:"submit",disabled:m||y,children:m?"Generating...":"Generate Document"})]})]})}),s.jsx(or,{value:"preview",className:"space-y-4",children:s.jsx(zq,{generatedContent:f,hasUnsavedChanges:y})})]})]})})},Wq=({onAddTemplate:e})=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Contract Templates"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your document templates and generate contracts"})]}),s.jsxs(_e,{onClick:e,className:"bg-yellow-500 hover:bg-neutral-950 text-neutral-950 hover:text-yellow-500 transition-colors",children:[s.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Template"]})]}),qq=({searchTerm:e,onSearchChange:t})=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(CD,{className:"w-4 h-4 text-muted-foreground"}),s.jsx(De,{placeholder:"Search templates and documents...",value:e,onChange:r=>t(r.target.value),className:"max-w-md"})]}),Vq=({template:e,onEdit:t,onGenerate:r,onDelete:n})=>s.jsxs(Qe,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(dt,{children:s.jsxs(ht,{className:"flex items-center justify-between",children:[s.jsx("span",{className:"truncate",children:e.name}),s.jsxs(at,{variant:"secondary",children:[e.variables.length," vars"]})]})}),s.jsxs(Je,{children:[s.jsxs("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-3",children:[e.template_content.substring(0,150),"..."]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.variables.slice(0,3).map(i=>s.jsx(at,{variant:"outline",className:"text-xs",children:i},i)),e.variables.length>3&&s.jsxs(at,{variant:"outline",className:"text-xs",children:["+",e.variables.length-3," more"]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsxs(_e,{variant:"outline",size:"sm",onClick:()=>r(e),children:[s.jsx(Hn,{className:"w-4 h-4 mr-1"}),"Generate"]}),s.jsx(_e,{variant:"outline",size:"sm",onClick:()=>t(e),children:s.jsx(vs,{className:"w-4 h-4"})}),s.jsxs(Vl,{children:[s.jsx(Cd,{asChild:!0,children:s.jsx(_e,{variant:"outline",size:"sm",children:s.jsx(Wn,{className:"w-4 h-4"})})}),s.jsxs(Ja,{children:[s.jsxs(Za,{children:[s.jsx(to,{children:"Delete Template"}),s.jsxs(ro,{children:['Are you sure you want to delete "',e.name,'"? This action cannot be undone.']})]}),s.jsxs(eo,{children:[s.jsx(so,{children:"Cancel"}),s.jsx(no,{onClick:()=>n(e.id),children:"Delete"})]})]})]})]})]})]}),N2=({type:e,onAddTemplate:t})=>e==="templates"?s.jsx(Qe,{children:s.jsxs(Je,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Hn,{className:"w-12 h-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No templates yet"}),s.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Create your first contract template to get started with document generation."}),s.jsxs(_e,{onClick:t,children:[s.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Template"]})]})}):s.jsx(Qe,{children:s.jsxs(Je,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Hn,{className:"w-12 h-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No generated documents"}),s.jsx("p",{className:"text-muted-foreground text-center",children:"Generate your first document from a template to see it here."})]})}),Kq=({templates:e,onEdit:t,onGenerate:r,onDelete:n,onAddTemplate:i})=>e.length===0?s.jsx(N2,{type:"templates",onAddTemplate:i}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(a=>s.jsx(Vq,{template:a,onEdit:t,onGenerate:r,onDelete:n},a.id))}),Gq=({document:e,onDownload:t,onDelete:r})=>s.jsxs(Qe,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(dt,{children:s.jsx(ht,{className:"truncate",children:e.document_name})}),s.jsxs(Je,{children:[s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Generated on ",new Date(e.created_at).toLocaleDateString()]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsxs(_e,{variant:"outline",size:"sm",onClick:()=>t(e),children:[s.jsx(FS,{className:"w-4 h-4 mr-1"}),"Download Word"]}),s.jsxs(Vl,{children:[s.jsx(Cd,{asChild:!0,children:s.jsx(_e,{variant:"outline",size:"sm",children:s.jsx(Wn,{className:"w-4 h-4"})})}),s.jsxs(Ja,{children:[s.jsxs(Za,{children:[s.jsx(to,{children:"Delete Document"}),s.jsxs(ro,{children:['Are you sure you want to delete "',e.document_name,'"? This action cannot be undone.']})]}),s.jsxs(eo,{children:[s.jsx(so,{children:"Cancel"}),s.jsx(no,{onClick:()=>r(e.id),children:"Delete"})]})]})]})]})]})]}),Yq=({documents:e,onDownload:t,onDelete:r})=>e.length===0?s.jsx(N2,{type:"documents"}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(n=>s.jsx(Gq,{document:n,onDownload:t,onDelete:r},n.id))}),Xq=()=>{const{templates:e,generatedDocuments:t,loading:r,deleteTemplate:n,deleteGeneratedDocument:i}=fh(),{downloadDocument:a}=Mq(),[l,c]=N.useState(!1),[d,h]=N.useState(!1),[f,m]=N.useState(!1),[g,y]=N.useState(null),[x,v]=N.useState(""),b=e.filter(B=>B.name.toLowerCase().includes(x.toLowerCase())||B.template_content.toLowerCase().includes(x.toLowerCase())),w=t.filter(B=>B.document_name.toLowerCase().includes(x.toLowerCase())),E=B=>{y(B),h(!0)},_=B=>{y(B),m(!0)},S=async B=>{await n(B)},P=async B=>{await i(B)};return r?s.jsx(O1,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-lg",children:"Loading contract templates..."})})}):s.jsx(O1,{children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx(Wq,{onAddTemplate:()=>c(!0)}),s.jsx(qq,{searchTerm:x,onSearchChange:v}),s.jsxs(oi,{defaultValue:"templates",className:"space-y-4",children:[s.jsxs(ws,{children:[s.jsxs(Ht,{value:"templates",children:["Templates (",e.length,")"]}),s.jsxs(Ht,{value:"documents",children:["Generated Documents (",t.length,")"]})]}),s.jsx(or,{value:"templates",className:"space-y-4",children:s.jsx(Kq,{templates:b,onEdit:E,onGenerate:_,onDelete:S,onAddTemplate:()=>c(!0)})}),s.jsx(or,{value:"documents",className:"space-y-4",children:s.jsx(Yq,{documents:w,onDownload:a,onDelete:P})})]}),s.jsx(Fq,{open:l,onOpenChange:c}),g&&s.jsxs(s.Fragment,{children:[s.jsx(Lq,{open:d,onOpenChange:h,template:g}),s.jsx(Hq,{open:f,onOpenChange:m,template:g})]})]})})};function Qq(){const e=new i4;return s.jsx(o4,{client:e,children:s.jsx(_5,{children:s.jsx(S5,{children:s.jsxs(c4,{attribute:"class",defaultTheme:"light",enableSystem:!0,children:[s.jsx("div",{className:"min-h-screen bg-background",children:s.jsx(RR,{children:s.jsxs(SR,{children:[s.jsx(gn,{path:"/auth",element:s.jsx(G5,{})}),s.jsx(gn,{path:"/",element:s.jsx(qs,{children:s.jsx(OB,{})})}),s.jsx(gn,{path:"/projects",element:s.jsx(qs,{children:s.jsx(t9,{})})}),s.jsx(gn,{path:"/projects/:id",element:s.jsx(qs,{children:s.jsx(Q9,{})})}),s.jsx(gn,{path:"/clients",element:s.jsx(qs,{children:s.jsx(v7,{})})}),s.jsx(gn,{path:"/clients/:id",element:s.jsx(qs,{children:s.jsx(y7,{})})}),s.jsx(gn,{path:"/subscriptions",element:s.jsx(qs,{children:s.jsx(j7,{})})}),s.jsx(gn,{path:"/users",element:s.jsx(qs,{children:s.jsx(Y7,{})})}),s.jsx(gn,{path:"/contracts",element:s.jsx(qs,{children:s.jsx(Xq,{})})}),s.jsx(gn,{path:"*",element:s.jsx(X7,{})})]})})}),s.jsx(mO,{})]})})})})}const C2=document.getElementById("root");if(!C2)throw new Error("Failed to find the root element");const Jq=AA.createRoot(C2);Jq.render(s.jsx(_t.StrictMode,{children:s.jsx(Qq,{})}));
