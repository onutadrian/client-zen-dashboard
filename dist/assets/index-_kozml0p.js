function AR(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function kv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function DR(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var dp={exports:{}},pl={},hp={exports:{}},it={};var Jw;function IR(){if(Jw)return it;Jw=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function g(W){return W===null||typeof W!="object"?null:(W=m&&W[m]||W["@@iterator"],typeof W=="function"?W:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function b(W,H,se){this.props=W,this.context=H,this.refs=y,this.updater=se||v}b.prototype.isReactComponent={},b.prototype.setState=function(W,H){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,H,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function w(){}w.prototype=b.prototype;function N(W,H,se){this.props=W,this.context=H,this.refs=y,this.updater=se||v}var _=N.prototype=new w;_.constructor=N,x(_,b.prototype),_.isPureReactComponent=!0;var S=Array.isArray,T=Object.prototype.hasOwnProperty,F={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function $(W,H,se){var ce,he={},oe=null,I=null;if(H!=null)for(ce in H.ref!==void 0&&(I=H.ref),H.key!==void 0&&(oe=""+H.key),H)T.call(H,ce)&&!U.hasOwnProperty(ce)&&(he[ce]=H[ce]);var O=arguments.length-2;if(O===1)he.children=se;else if(1<O){for(var re=Array(O),Q=0;Q<O;Q++)re[Q]=arguments[Q+2];he.children=re}if(W&&W.defaultProps)for(ce in O=W.defaultProps,O)he[ce]===void 0&&(he[ce]=O[ce]);return{$$typeof:e,type:W,key:oe,ref:I,props:he,_owner:F.current}}function A(W,H){return{$$typeof:e,type:W.type,key:H,ref:W.ref,props:W.props,_owner:W._owner}}function J(W){return typeof W=="object"&&W!==null&&W.$$typeof===e}function pe(W){var H={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(se){return H[se]})}var z=/\/+/g;function G(W,H){return typeof W=="object"&&W!==null&&W.key!=null?pe(""+W.key):H.toString(36)}function R(W,H,se,ce,he){var oe=typeof W;(oe==="undefined"||oe==="boolean")&&(W=null);var I=!1;if(W===null)I=!0;else switch(oe){case"string":case"number":I=!0;break;case"object":switch(W.$$typeof){case e:case t:I=!0}}if(I)return I=W,he=he(I),W=ce===""?"."+G(I,0):ce,S(he)?(se="",W!=null&&(se=W.replace(z,"$&/")+"/"),R(he,H,se,"",function(Q){return Q})):he!=null&&(J(he)&&(he=A(he,se+(!he.key||I&&I.key===he.key?"":(""+he.key).replace(z,"$&/")+"/")+W)),H.push(he)),1;if(I=0,ce=ce===""?".":ce+":",S(W))for(var O=0;O<W.length;O++){oe=W[O];var re=ce+G(oe,O);I+=R(oe,H,se,re,he)}else if(re=g(W),typeof re=="function")for(W=re.call(W),O=0;!(oe=W.next()).done;)oe=oe.value,re=ce+G(oe,O++),I+=R(oe,H,se,re,he);else if(oe==="object")throw H=String(W),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return I}function Z(W,H,se){if(W==null)return W;var ce=[],he=0;return R(W,ce,"","",function(oe){return H.call(se,oe,he++)}),ce}function ae(W){if(W._status===-1){var H=W._result;H=H(),H.then(function(se){(W._status===0||W._status===-1)&&(W._status=1,W._result=se)},function(se){(W._status===0||W._status===-1)&&(W._status=2,W._result=se)}),W._status===-1&&(W._status=0,W._result=H)}if(W._status===1)return W._result.default;throw W._result}var q={current:null},Y={transition:null},ne={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:Y,ReactCurrentOwner:F};function te(){throw Error("act(...) is not supported in production builds of React.")}return it.Children={map:Z,forEach:function(W,H,se){Z(W,function(){H.apply(this,arguments)},se)},count:function(W){var H=0;return Z(W,function(){H++}),H},toArray:function(W){return Z(W,function(H){return H})||[]},only:function(W){if(!J(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},it.Component=b,it.Fragment=r,it.Profiler=i,it.PureComponent=N,it.StrictMode=n,it.Suspense=d,it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,it.act=te,it.cloneElement=function(W,H,se){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var ce=x({},W.props),he=W.key,oe=W.ref,I=W._owner;if(H!=null){if(H.ref!==void 0&&(oe=H.ref,I=F.current),H.key!==void 0&&(he=""+H.key),W.type&&W.type.defaultProps)var O=W.type.defaultProps;for(re in H)T.call(H,re)&&!U.hasOwnProperty(re)&&(ce[re]=H[re]===void 0&&O!==void 0?O[re]:H[re])}var re=arguments.length-2;if(re===1)ce.children=se;else if(1<re){O=Array(re);for(var Q=0;Q<re;Q++)O[Q]=arguments[Q+2];ce.children=O}return{$$typeof:e,type:W.type,key:he,ref:oe,props:ce,_owner:I}},it.createContext=function(W){return W={$$typeof:c,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:a,_context:W},W.Consumer=W},it.createElement=$,it.createFactory=function(W){var H=$.bind(null,W);return H.type=W,H},it.createRef=function(){return{current:null}},it.forwardRef=function(W){return{$$typeof:l,render:W}},it.isValidElement=J,it.lazy=function(W){return{$$typeof:f,_payload:{_status:-1,_result:W},_init:ae}},it.memo=function(W,H){return{$$typeof:h,type:W,compare:H===void 0?null:H}},it.startTransition=function(W){var H=Y.transition;Y.transition={};try{W()}finally{Y.transition=H}},it.unstable_act=te,it.useCallback=function(W,H){return q.current.useCallback(W,H)},it.useContext=function(W){return q.current.useContext(W)},it.useDebugValue=function(){},it.useDeferredValue=function(W){return q.current.useDeferredValue(W)},it.useEffect=function(W,H){return q.current.useEffect(W,H)},it.useId=function(){return q.current.useId()},it.useImperativeHandle=function(W,H,se){return q.current.useImperativeHandle(W,H,se)},it.useInsertionEffect=function(W,H){return q.current.useInsertionEffect(W,H)},it.useLayoutEffect=function(W,H){return q.current.useLayoutEffect(W,H)},it.useMemo=function(W,H){return q.current.useMemo(W,H)},it.useReducer=function(W,H,se){return q.current.useReducer(W,H,se)},it.useRef=function(W){return q.current.useRef(W)},it.useState=function(W){return q.current.useState(W)},it.useSyncExternalStore=function(W,H,se){return q.current.useSyncExternalStore(W,H,se)},it.useTransition=function(){return q.current.useTransition()},it.version="18.3.1",it}var Zw;function Tv(){return Zw||(Zw=1,hp.exports=IR()),hp.exports}var eb;function OR(){if(eb)return pl;eb=1;var e=Tv(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(l,d,h){var f,m={},g=null,v=null;h!==void 0&&(g=""+h),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(v=d.ref);for(f in d)n.call(d,f)&&!a.hasOwnProperty(f)&&(m[f]=d[f]);if(l&&l.defaultProps)for(f in d=l.defaultProps,d)m[f]===void 0&&(m[f]=d[f]);return{$$typeof:t,type:l,key:g,ref:v,props:m,_owner:i.current}}return pl.Fragment=r,pl.jsx=c,pl.jsxs=c,pl}var tb;function MR(){return tb||(tb=1,dp.exports=OR()),dp.exports}var s=MR(),E=Tv();const gt=kv(E),X_=AR({__proto__:null,default:gt},[E]);var Ru={},fp={exports:{}},Or={},pp={exports:{}},mp={};var rb;function FR(){return rb||(rb=1,(function(e){function t(Y,ne){var te=Y.length;Y.push(ne);e:for(;0<te;){var W=te-1>>>1,H=Y[W];if(0<i(H,ne))Y[W]=ne,Y[te]=H,te=W;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var ne=Y[0],te=Y.pop();if(te!==ne){Y[0]=te;e:for(var W=0,H=Y.length,se=H>>>1;W<se;){var ce=2*(W+1)-1,he=Y[ce],oe=ce+1,I=Y[oe];if(0>i(he,te))oe<H&&0>i(I,he)?(Y[W]=I,Y[oe]=te,W=oe):(Y[W]=he,Y[ce]=te,W=ce);else if(oe<H&&0>i(I,te))Y[W]=I,Y[oe]=te,W=oe;else break e}}return ne}function i(Y,ne){var te=Y.sortIndex-ne.sortIndex;return te!==0?te:Y.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,l=c.now();e.unstable_now=function(){return c.now()-l}}var d=[],h=[],f=1,m=null,g=3,v=!1,x=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(Y){for(var ne=r(h);ne!==null;){if(ne.callback===null)n(h);else if(ne.startTime<=Y)n(h),ne.sortIndex=ne.expirationTime,t(d,ne);else break;ne=r(h)}}function S(Y){if(y=!1,_(Y),!x)if(r(d)!==null)x=!0,ae(T);else{var ne=r(h);ne!==null&&q(S,ne.startTime-Y)}}function T(Y,ne){x=!1,y&&(y=!1,w($),$=-1),v=!0;var te=g;try{for(_(ne),m=r(d);m!==null&&(!(m.expirationTime>ne)||Y&&!pe());){var W=m.callback;if(typeof W=="function"){m.callback=null,g=m.priorityLevel;var H=W(m.expirationTime<=ne);ne=e.unstable_now(),typeof H=="function"?m.callback=H:m===r(d)&&n(d),_(ne)}else n(d);m=r(d)}if(m!==null)var se=!0;else{var ce=r(h);ce!==null&&q(S,ce.startTime-ne),se=!1}return se}finally{m=null,g=te,v=!1}}var F=!1,U=null,$=-1,A=5,J=-1;function pe(){return!(e.unstable_now()-J<A)}function z(){if(U!==null){var Y=e.unstable_now();J=Y;var ne=!0;try{ne=U(!0,Y)}finally{ne?G():(F=!1,U=null)}}else F=!1}var G;if(typeof N=="function")G=function(){N(z)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Z=R.port2;R.port1.onmessage=z,G=function(){Z.postMessage(null)}}else G=function(){b(z,0)};function ae(Y){U=Y,F||(F=!0,G())}function q(Y,ne){$=b(function(){Y(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,ae(T))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(Y){switch(g){case 1:case 2:case 3:var ne=3;break;default:ne=g}var te=g;g=ne;try{return Y()}finally{g=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,ne){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var te=g;g=Y;try{return ne()}finally{g=te}},e.unstable_scheduleCallback=function(Y,ne,te){var W=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?W+te:W):te=W,Y){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=te+H,Y={id:f++,callback:ne,priorityLevel:Y,startTime:te,expirationTime:H,sortIndex:-1},te>W?(Y.sortIndex=te,t(h,Y),r(d)===null&&Y===r(h)&&(y?(w($),$=-1):y=!0,q(S,te-W))):(Y.sortIndex=H,t(d,Y),x||v||(x=!0,ae(T))),Y},e.unstable_shouldYield=pe,e.unstable_wrapCallback=function(Y){var ne=g;return function(){var te=g;g=ne;try{return Y.apply(this,arguments)}finally{g=te}}}})(mp)),mp}var nb;function LR(){return nb||(nb=1,pp.exports=FR()),pp.exports}var sb;function UR(){if(sb)return Or;sb=1;var e=Tv(),t=LR();function r(o){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+o,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(o,u){c(o,u),c(o+"Capture",u)}function c(o,u){for(i[o]=u,o=0;o<u.length;o++)n.add(u[o])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function g(o){return d.call(m,o)?!0:d.call(f,o)?!1:h.test(o)?m[o]=!0:(f[o]=!0,!1)}function v(o,u,p,j){if(p!==null&&p.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return j?!1:p!==null?!p.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function x(o,u,p,j){if(u===null||typeof u>"u"||v(o,u,p,j))return!0;if(j)return!1;if(p!==null)switch(p.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function y(o,u,p,j,P,D,V){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=j,this.attributeNamespace=P,this.mustUseProperty=p,this.propertyName=o,this.type=u,this.sanitizeURL=D,this.removeEmptyString=V}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){b[o]=new y(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var u=o[0];b[u]=new y(u,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){b[o]=new y(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){b[o]=new y(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){b[o]=new y(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){b[o]=new y(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){b[o]=new y(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){b[o]=new y(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){b[o]=new y(o,5,!1,o.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function N(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var u=o.replace(w,N);b[u]=new y(u,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var u=o.replace(w,N);b[u]=new y(u,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var u=o.replace(w,N);b[u]=new y(u,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){b[o]=new y(o,1,!1,o.toLowerCase(),null,!1,!1)}),b.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){b[o]=new y(o,1,!1,o.toLowerCase(),null,!0,!0)});function _(o,u,p,j){var P=b.hasOwnProperty(u)?b[u]:null;(P!==null?P.type!==0:j||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(x(u,p,P,j)&&(p=null),j||P===null?g(u)&&(p===null?o.removeAttribute(u):o.setAttribute(u,""+p)):P.mustUseProperty?o[P.propertyName]=p===null?P.type===3?!1:"":p:(u=P.attributeName,j=P.attributeNamespace,p===null?o.removeAttribute(u):(P=P.type,p=P===3||P===4&&p===!0?"":""+p,j?o.setAttributeNS(j,u,p):o.setAttribute(u,p))))}var S=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),F=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),pe=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),Y=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=Y&&o[Y]||o["@@iterator"],typeof o=="function"?o:null)}var te=Object.assign,W;function H(o){if(W===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+o}var se=!1;function ce(o,u){if(!o||se)return"";se=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(xe){var j=xe}Reflect.construct(o,[],u)}else{try{u.call()}catch(xe){j=xe}o.call(u.prototype)}else{try{throw Error()}catch(xe){j=xe}o()}}catch(xe){if(xe&&j&&typeof xe.stack=="string"){for(var P=xe.stack.split(`
`),D=j.stack.split(`
`),V=P.length-1,le=D.length-1;1<=V&&0<=le&&P[V]!==D[le];)le--;for(;1<=V&&0<=le;V--,le--)if(P[V]!==D[le]){if(V!==1||le!==1)do if(V--,le--,0>le||P[V]!==D[le]){var de=`
`+P[V].replace(" at new "," at ");return o.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",o.displayName)),de}while(1<=V&&0<=le);break}}}finally{se=!1,Error.prepareStackTrace=p}return(o=o?o.displayName||o.name:"")?H(o):""}function he(o){switch(o.tag){case 5:return H(o.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return o=ce(o.type,!1),o;case 11:return o=ce(o.type.render,!1),o;case 1:return o=ce(o.type,!0),o;default:return""}}function oe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case U:return"Fragment";case F:return"Portal";case A:return"Profiler";case $:return"StrictMode";case G:return"Suspense";case R:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case pe:return(o.displayName||"Context")+".Consumer";case J:return(o._context.displayName||"Context")+".Provider";case z:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Z:return u=o.displayName||null,u!==null?u:oe(o.type)||"Memo";case ae:u=o._payload,o=o._init;try{return oe(o(u))}catch{}}return null}function I(o){var u=o.type;switch(o.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=u.render,o=o.displayName||o.name||"",u.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(u);case 8:return u===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function O(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function re(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Q(o){var u=re(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),j=""+o[u];if(!o.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var P=p.get,D=p.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return P.call(this)},set:function(V){j=""+V,D.call(this,V)}}),Object.defineProperty(o,u,{enumerable:p.enumerable}),{getValue:function(){return j},setValue:function(V){j=""+V},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function K(o){o._valueTracker||(o._valueTracker=Q(o))}function X(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var p=u.getValue(),j="";return o&&(j=re(o)?o.checked?"true":"false":o.value),o=j,o!==p?(u.setValue(o),!0):!1}function me(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function M(o,u){var p=u.checked;return te({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??o._wrapperState.initialChecked})}function ge(o,u){var p=u.defaultValue==null?"":u.defaultValue,j=u.checked!=null?u.checked:u.defaultChecked;p=O(u.value!=null?u.value:p),o._wrapperState={initialChecked:j,initialValue:p,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function B(o,u){u=u.checked,u!=null&&_(o,"checked",u,!1)}function C(o,u){B(o,u);var p=O(u.value),j=u.type;if(p!=null)j==="number"?(p===0&&o.value===""||o.value!=p)&&(o.value=""+p):o.value!==""+p&&(o.value=""+p);else if(j==="submit"||j==="reset"){o.removeAttribute("value");return}u.hasOwnProperty("value")?L(o,u.type,p):u.hasOwnProperty("defaultValue")&&L(o,u.type,O(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(o.defaultChecked=!!u.defaultChecked)}function k(o,u,p){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var j=u.type;if(!(j!=="submit"&&j!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+o._wrapperState.initialValue,p||u===o.value||(o.value=u),o.defaultValue=u}p=o.name,p!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,p!==""&&(o.name=p)}function L(o,u,p){(u!=="number"||me(o.ownerDocument)!==o)&&(p==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+p&&(o.defaultValue=""+p))}var ee=Array.isArray;function ue(o,u,p,j){if(o=o.options,u){u={};for(var P=0;P<p.length;P++)u["$"+p[P]]=!0;for(p=0;p<o.length;p++)P=u.hasOwnProperty("$"+o[p].value),o[p].selected!==P&&(o[p].selected=P),P&&j&&(o[p].defaultSelected=!0)}else{for(p=""+O(p),u=null,P=0;P<o.length;P++){if(o[P].value===p){o[P].selected=!0,j&&(o[P].defaultSelected=!0);return}u!==null||o[P].disabled||(u=o[P])}u!==null&&(u.selected=!0)}}function ie(o,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return te({},u,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function be(o,u){var p=u.value;if(p==null){if(p=u.children,u=u.defaultValue,p!=null){if(u!=null)throw Error(r(92));if(ee(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),p=u}o._wrapperState={initialValue:O(p)}}function Ne(o,u){var p=O(u.value),j=O(u.defaultValue);p!=null&&(p=""+p,p!==o.value&&(o.value=p),u.defaultValue==null&&o.defaultValue!==p&&(o.defaultValue=p)),j!=null&&(o.defaultValue=""+j)}function _e(o){var u=o.textContent;u===o._wrapperState.initialValue&&u!==""&&u!==null&&(o.value=u)}function Me(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function He(o,u){return o==null||o==="http://www.w3.org/1999/xhtml"?Me(u):o==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Qe,rr=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,p,j,P){MSApp.execUnsafeLocalFunction(function(){return o(u,p,j,P)})}:o})(function(o,u){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=u;else{for(Qe=Qe||document.createElement("div"),Qe.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Qe.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}});function Tr(o,u){if(u){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=u;return}}o.textContent=u}var vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mi=["Webkit","ms","Moz","O"];Object.keys(vr).forEach(function(o){mi.forEach(function(u){u=u+o.charAt(0).toUpperCase()+o.substring(1),vr[u]=vr[o]})});function Rt(o,u,p){return u==null||typeof u=="boolean"||u===""?"":p||typeof u!="number"||u===0||vr.hasOwnProperty(o)&&vr[o]?(""+u).trim():u+"px"}function gi(o,u){o=o.style;for(var p in u)if(u.hasOwnProperty(p)){var j=p.indexOf("--")===0,P=Rt(p,u[p],j);p==="float"&&(p="cssFloat"),j?o.setProperty(p,P):o[p]=P}}var ko=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zr(o,u){if(u){if(ko[o]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function Zi(o,u){if(o.indexOf("-")===-1)return typeof u.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var To=null;function Po(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ro=null,is=null,Jr=null;function vi(o){if(o=Zo(o)){if(typeof Ro!="function")throw Error(r(280));var u=o.stateNode;u&&(u=Vc(u),Ro(o.stateNode,o.type,u))}}function gx(o){is?Jr?Jr.push(o):Jr=[o]:is=o}function vx(){if(is){var o=is,u=Jr;if(Jr=is=null,vi(o),u)for(o=0;o<u.length;o++)vi(u[o])}}function yx(o,u){return o(u)}function xx(){}var Ch=!1;function wx(o,u,p){if(Ch)return o(u,p);Ch=!0;try{return yx(o,u,p)}finally{Ch=!1,(is!==null||Jr!==null)&&(xx(),vx())}}function Ao(o,u){var p=o.stateNode;if(p===null)return null;var j=Vc(p);if(j===null)return null;p=j[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(o=o.type,j=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!j;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,u,typeof p));return p}var kh=!1;if(l)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){kh=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{kh=!1}function L2(o,u,p,j,P,D,V,le,de){var xe=Array.prototype.slice.call(arguments,3);try{u.apply(p,xe)}catch(ke){this.onError(ke)}}var Io=!1,Sc=null,Nc=!1,Th=null,U2={onError:function(o){Io=!0,Sc=o}};function B2(o,u,p,j,P,D,V,le,de){Io=!1,Sc=null,L2.apply(U2,arguments)}function H2(o,u,p,j,P,D,V,le,de){if(B2.apply(this,arguments),Io){if(Io){var xe=Sc;Io=!1,Sc=null}else throw Error(r(198));Nc||(Nc=!0,Th=xe)}}function yi(o){var u=o,p=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(p=u.return),o=u.return;while(o)}return u.tag===3?p:null}function bx(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function jx(o){if(yi(o)!==o)throw Error(r(188))}function z2(o){var u=o.alternate;if(!u){if(u=yi(o),u===null)throw Error(r(188));return u!==o?null:o}for(var p=o,j=u;;){var P=p.return;if(P===null)break;var D=P.alternate;if(D===null){if(j=P.return,j!==null){p=j;continue}break}if(P.child===D.child){for(D=P.child;D;){if(D===p)return jx(P),o;if(D===j)return jx(P),u;D=D.sibling}throw Error(r(188))}if(p.return!==j.return)p=P,j=D;else{for(var V=!1,le=P.child;le;){if(le===p){V=!0,p=P,j=D;break}if(le===j){V=!0,j=P,p=D;break}le=le.sibling}if(!V){for(le=D.child;le;){if(le===p){V=!0,p=D,j=P;break}if(le===j){V=!0,j=D,p=P;break}le=le.sibling}if(!V)throw Error(r(189))}}if(p.alternate!==j)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:u}function _x(o){return o=z2(o),o!==null?Sx(o):null}function Sx(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var u=Sx(o);if(u!==null)return u;o=o.sibling}return null}var Nx=t.unstable_scheduleCallback,Ex=t.unstable_cancelCallback,$2=t.unstable_shouldYield,W2=t.unstable_requestPaint,Ht=t.unstable_now,q2=t.unstable_getCurrentPriorityLevel,Ph=t.unstable_ImmediatePriority,Cx=t.unstable_UserBlockingPriority,Ec=t.unstable_NormalPriority,V2=t.unstable_LowPriority,kx=t.unstable_IdlePriority,Cc=null,On=null;function K2(o){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(Cc,o,void 0,(o.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:X2,G2=Math.log,Y2=Math.LN2;function X2(o){return o>>>=0,o===0?32:31-(G2(o)/Y2|0)|0}var kc=64,Tc=4194304;function Oo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Pc(o,u){var p=o.pendingLanes;if(p===0)return 0;var j=0,P=o.suspendedLanes,D=o.pingedLanes,V=p&268435455;if(V!==0){var le=V&~P;le!==0?j=Oo(le):(D&=V,D!==0&&(j=Oo(D)))}else V=p&~P,V!==0?j=Oo(V):D!==0&&(j=Oo(D));if(j===0)return 0;if(u!==0&&u!==j&&(u&P)===0&&(P=j&-j,D=u&-u,P>=D||P===16&&(D&4194240)!==0))return u;if((j&4)!==0&&(j|=p&16),u=o.entangledLanes,u!==0)for(o=o.entanglements,u&=j;0<u;)p=31-pn(u),P=1<<p,j|=o[p],u&=~P;return j}function Q2(o,u){switch(o){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J2(o,u){for(var p=o.suspendedLanes,j=o.pingedLanes,P=o.expirationTimes,D=o.pendingLanes;0<D;){var V=31-pn(D),le=1<<V,de=P[V];de===-1?((le&p)===0||(le&j)!==0)&&(P[V]=Q2(le,u)):de<=u&&(o.expiredLanes|=le),D&=~le}}function Rh(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Tx(){var o=kc;return kc<<=1,(kc&4194240)===0&&(kc=64),o}function Ah(o){for(var u=[],p=0;31>p;p++)u.push(o);return u}function Mo(o,u,p){o.pendingLanes|=u,u!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,u=31-pn(u),o[u]=p}function Z2(o,u){var p=o.pendingLanes&~u;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=u,o.mutableReadLanes&=u,o.entangledLanes&=u,u=o.entanglements;var j=o.eventTimes;for(o=o.expirationTimes;0<p;){var P=31-pn(p),D=1<<P;u[P]=0,j[P]=-1,o[P]=-1,p&=~D}}function Dh(o,u){var p=o.entangledLanes|=u;for(o=o.entanglements;p;){var j=31-pn(p),P=1<<j;P&u|o[j]&u&&(o[j]|=u),p&=~P}}var wt=0;function Px(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Rx,Ih,Ax,Dx,Ix,Oh=!1,Rc=[],Cs=null,ks=null,Ts=null,Fo=new Map,Lo=new Map,Ps=[],eP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ox(o,u){switch(o){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":Fo.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(u.pointerId)}}function Uo(o,u,p,j,P,D){return o===null||o.nativeEvent!==D?(o={blockedOn:u,domEventName:p,eventSystemFlags:j,nativeEvent:D,targetContainers:[P]},u!==null&&(u=Zo(u),u!==null&&Ih(u)),o):(o.eventSystemFlags|=j,u=o.targetContainers,P!==null&&u.indexOf(P)===-1&&u.push(P),o)}function tP(o,u,p,j,P){switch(u){case"focusin":return Cs=Uo(Cs,o,u,p,j,P),!0;case"dragenter":return ks=Uo(ks,o,u,p,j,P),!0;case"mouseover":return Ts=Uo(Ts,o,u,p,j,P),!0;case"pointerover":var D=P.pointerId;return Fo.set(D,Uo(Fo.get(D)||null,o,u,p,j,P)),!0;case"gotpointercapture":return D=P.pointerId,Lo.set(D,Uo(Lo.get(D)||null,o,u,p,j,P)),!0}return!1}function Mx(o){var u=xi(o.target);if(u!==null){var p=yi(u);if(p!==null){if(u=p.tag,u===13){if(u=bx(p),u!==null){o.blockedOn=u,Ix(o.priority,function(){Ax(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ac(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var p=Fh(o.domEventName,o.eventSystemFlags,u[0],o.nativeEvent);if(p===null){p=o.nativeEvent;var j=new p.constructor(p.type,p);To=j,p.target.dispatchEvent(j),To=null}else return u=Zo(p),u!==null&&Ih(u),o.blockedOn=p,!1;u.shift()}return!0}function Fx(o,u,p){Ac(o)&&p.delete(u)}function rP(){Oh=!1,Cs!==null&&Ac(Cs)&&(Cs=null),ks!==null&&Ac(ks)&&(ks=null),Ts!==null&&Ac(Ts)&&(Ts=null),Fo.forEach(Fx),Lo.forEach(Fx)}function Bo(o,u){o.blockedOn===u&&(o.blockedOn=null,Oh||(Oh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,rP)))}function Ho(o){function u(P){return Bo(P,o)}if(0<Rc.length){Bo(Rc[0],o);for(var p=1;p<Rc.length;p++){var j=Rc[p];j.blockedOn===o&&(j.blockedOn=null)}}for(Cs!==null&&Bo(Cs,o),ks!==null&&Bo(ks,o),Ts!==null&&Bo(Ts,o),Fo.forEach(u),Lo.forEach(u),p=0;p<Ps.length;p++)j=Ps[p],j.blockedOn===o&&(j.blockedOn=null);for(;0<Ps.length&&(p=Ps[0],p.blockedOn===null);)Mx(p),p.blockedOn===null&&Ps.shift()}var ea=S.ReactCurrentBatchConfig,Dc=!0;function nP(o,u,p,j){var P=wt,D=ea.transition;ea.transition=null;try{wt=1,Mh(o,u,p,j)}finally{wt=P,ea.transition=D}}function sP(o,u,p,j){var P=wt,D=ea.transition;ea.transition=null;try{wt=4,Mh(o,u,p,j)}finally{wt=P,ea.transition=D}}function Mh(o,u,p,j){if(Dc){var P=Fh(o,u,p,j);if(P===null)ef(o,u,j,Ic,p),Ox(o,j);else if(tP(P,o,u,p,j))j.stopPropagation();else if(Ox(o,j),u&4&&-1<eP.indexOf(o)){for(;P!==null;){var D=Zo(P);if(D!==null&&Rx(D),D=Fh(o,u,p,j),D===null&&ef(o,u,j,Ic,p),D===P)break;P=D}P!==null&&j.stopPropagation()}else ef(o,u,j,null,p)}}var Ic=null;function Fh(o,u,p,j){if(Ic=null,o=Po(j),o=xi(o),o!==null)if(u=yi(o),u===null)o=null;else if(p=u.tag,p===13){if(o=bx(u),o!==null)return o;o=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null);return Ic=o,null}function Lx(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q2()){case Ph:return 1;case Cx:return 4;case Ec:case V2:return 16;case kx:return 536870912;default:return 16}default:return 16}}var Rs=null,Lh=null,Oc=null;function Ux(){if(Oc)return Oc;var o,u=Lh,p=u.length,j,P="value"in Rs?Rs.value:Rs.textContent,D=P.length;for(o=0;o<p&&u[o]===P[o];o++);var V=p-o;for(j=1;j<=V&&u[p-j]===P[D-j];j++);return Oc=P.slice(o,1<j?1-j:void 0)}function Mc(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Fc(){return!0}function Bx(){return!1}function $r(o){function u(p,j,P,D,V){this._reactName=p,this._targetInst=P,this.type=j,this.nativeEvent=D,this.target=V,this.currentTarget=null;for(var le in o)o.hasOwnProperty(le)&&(p=o[le],this[le]=p?p(D):D[le]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Fc:Bx,this.isPropagationStopped=Bx,this}return te(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Fc)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Fc)},persist:function(){},isPersistent:Fc}),u}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uh=$r(ta),zo=te({},ta,{view:0,detail:0}),iP=$r(zo),Bh,Hh,$o,Lc=te({},zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$h,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==$o&&($o&&o.type==="mousemove"?(Bh=o.screenX-$o.screenX,Hh=o.screenY-$o.screenY):Hh=Bh=0,$o=o),Bh)},movementY:function(o){return"movementY"in o?o.movementY:Hh}}),Hx=$r(Lc),aP=te({},Lc,{dataTransfer:0}),oP=$r(aP),lP=te({},zo,{relatedTarget:0}),zh=$r(lP),cP=te({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),uP=$r(cP),dP=te({},ta,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),hP=$r(dP),fP=te({},ta,{data:0}),zx=$r(fP),pP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vP(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=gP[o])?!!u[o]:!1}function $h(){return vP}var yP=te({},zo,{key:function(o){if(o.key){var u=pP[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Mc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?mP[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$h,charCode:function(o){return o.type==="keypress"?Mc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Mc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),xP=$r(yP),wP=te({},Lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$x=$r(wP),bP=te({},zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$h}),jP=$r(bP),_P=te({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),SP=$r(_P),NP=te({},Lc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),EP=$r(NP),CP=[9,13,27,32],Wh=l&&"CompositionEvent"in window,Wo=null;l&&"documentMode"in document&&(Wo=document.documentMode);var kP=l&&"TextEvent"in window&&!Wo,Wx=l&&(!Wh||Wo&&8<Wo&&11>=Wo),qx=" ",Vx=!1;function Kx(o,u){switch(o){case"keyup":return CP.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gx(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ra=!1;function TP(o,u){switch(o){case"compositionend":return Gx(u);case"keypress":return u.which!==32?null:(Vx=!0,qx);case"textInput":return o=u.data,o===qx&&Vx?null:o;default:return null}}function PP(o,u){if(ra)return o==="compositionend"||!Wh&&Kx(o,u)?(o=Ux(),Oc=Lh=Rs=null,ra=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Wx&&u.locale!=="ko"?null:u.data;default:return null}}var RP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yx(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!RP[o.type]:u==="textarea"}function Xx(o,u,p,j){gx(j),u=$c(u,"onChange"),0<u.length&&(p=new Uh("onChange","change",null,p,j),o.push({event:p,listeners:u}))}var qo=null,Vo=null;function AP(o){p0(o,0)}function Uc(o){var u=oa(o);if(X(u))return o}function DP(o,u){if(o==="change")return u}var Qx=!1;if(l){var qh;if(l){var Vh="oninput"in document;if(!Vh){var Jx=document.createElement("div");Jx.setAttribute("oninput","return;"),Vh=typeof Jx.oninput=="function"}qh=Vh}else qh=!1;Qx=qh&&(!document.documentMode||9<document.documentMode)}function Zx(){qo&&(qo.detachEvent("onpropertychange",e0),Vo=qo=null)}function e0(o){if(o.propertyName==="value"&&Uc(Vo)){var u=[];Xx(u,Vo,o,Po(o)),wx(AP,u)}}function IP(o,u,p){o==="focusin"?(Zx(),qo=u,Vo=p,qo.attachEvent("onpropertychange",e0)):o==="focusout"&&Zx()}function OP(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Uc(Vo)}function MP(o,u){if(o==="click")return Uc(u)}function FP(o,u){if(o==="input"||o==="change")return Uc(u)}function LP(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var mn=typeof Object.is=="function"?Object.is:LP;function Ko(o,u){if(mn(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var p=Object.keys(o),j=Object.keys(u);if(p.length!==j.length)return!1;for(j=0;j<p.length;j++){var P=p[j];if(!d.call(u,P)||!mn(o[P],u[P]))return!1}return!0}function t0(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function r0(o,u){var p=t0(o);o=0;for(var j;p;){if(p.nodeType===3){if(j=o+p.textContent.length,o<=u&&j>=u)return{node:p,offset:u-o};o=j}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=t0(p)}}function n0(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?n0(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function s0(){for(var o=window,u=me();u instanceof o.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)o=u.contentWindow;else break;u=me(o.document)}return u}function Kh(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}function UP(o){var u=s0(),p=o.focusedElem,j=o.selectionRange;if(u!==p&&p&&p.ownerDocument&&n0(p.ownerDocument.documentElement,p)){if(j!==null&&Kh(p)){if(u=j.start,o=j.end,o===void 0&&(o=u),"selectionStart"in p)p.selectionStart=u,p.selectionEnd=Math.min(o,p.value.length);else if(o=(u=p.ownerDocument||document)&&u.defaultView||window,o.getSelection){o=o.getSelection();var P=p.textContent.length,D=Math.min(j.start,P);j=j.end===void 0?D:Math.min(j.end,P),!o.extend&&D>j&&(P=j,j=D,D=P),P=r0(p,D);var V=r0(p,j);P&&V&&(o.rangeCount!==1||o.anchorNode!==P.node||o.anchorOffset!==P.offset||o.focusNode!==V.node||o.focusOffset!==V.offset)&&(u=u.createRange(),u.setStart(P.node,P.offset),o.removeAllRanges(),D>j?(o.addRange(u),o.extend(V.node,V.offset)):(u.setEnd(V.node,V.offset),o.addRange(u)))}}for(u=[],o=p;o=o.parentNode;)o.nodeType===1&&u.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<u.length;p++)o=u[p],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var BP=l&&"documentMode"in document&&11>=document.documentMode,na=null,Gh=null,Go=null,Yh=!1;function i0(o,u,p){var j=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Yh||na==null||na!==me(j)||(j=na,"selectionStart"in j&&Kh(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Go&&Ko(Go,j)||(Go=j,j=$c(Gh,"onSelect"),0<j.length&&(u=new Uh("onSelect","select",null,u,p),o.push({event:u,listeners:j}),u.target=na)))}function Bc(o,u){var p={};return p[o.toLowerCase()]=u.toLowerCase(),p["Webkit"+o]="webkit"+u,p["Moz"+o]="moz"+u,p}var sa={animationend:Bc("Animation","AnimationEnd"),animationiteration:Bc("Animation","AnimationIteration"),animationstart:Bc("Animation","AnimationStart"),transitionend:Bc("Transition","TransitionEnd")},Xh={},a0={};l&&(a0=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function Hc(o){if(Xh[o])return Xh[o];if(!sa[o])return o;var u=sa[o],p;for(p in u)if(u.hasOwnProperty(p)&&p in a0)return Xh[o]=u[p];return o}var o0=Hc("animationend"),l0=Hc("animationiteration"),c0=Hc("animationstart"),u0=Hc("transitionend"),d0=new Map,h0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function As(o,u){d0.set(o,u),a(u,[o])}for(var Qh=0;Qh<h0.length;Qh++){var Jh=h0[Qh],HP=Jh.toLowerCase(),zP=Jh[0].toUpperCase()+Jh.slice(1);As(HP,"on"+zP)}As(o0,"onAnimationEnd"),As(l0,"onAnimationIteration"),As(c0,"onAnimationStart"),As("dblclick","onDoubleClick"),As("focusin","onFocus"),As("focusout","onBlur"),As(u0,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$P=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yo));function f0(o,u,p){var j=o.type||"unknown-event";o.currentTarget=p,H2(j,u,void 0,o),o.currentTarget=null}function p0(o,u){u=(u&4)!==0;for(var p=0;p<o.length;p++){var j=o[p],P=j.event;j=j.listeners;e:{var D=void 0;if(u)for(var V=j.length-1;0<=V;V--){var le=j[V],de=le.instance,xe=le.currentTarget;if(le=le.listener,de!==D&&P.isPropagationStopped())break e;f0(P,le,xe),D=de}else for(V=0;V<j.length;V++){if(le=j[V],de=le.instance,xe=le.currentTarget,le=le.listener,de!==D&&P.isPropagationStopped())break e;f0(P,le,xe),D=de}}}if(Nc)throw o=Th,Nc=!1,Th=null,o}function kt(o,u){var p=u[of];p===void 0&&(p=u[of]=new Set);var j=o+"__bubble";p.has(j)||(m0(u,o,2,!1),p.add(j))}function Zh(o,u,p){var j=0;u&&(j|=4),m0(p,o,j,u)}var zc="_reactListening"+Math.random().toString(36).slice(2);function Xo(o){if(!o[zc]){o[zc]=!0,n.forEach(function(p){p!=="selectionchange"&&($P.has(p)||Zh(p,!1,o),Zh(p,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[zc]||(u[zc]=!0,Zh("selectionchange",!1,u))}}function m0(o,u,p,j){switch(Lx(u)){case 1:var P=nP;break;case 4:P=sP;break;default:P=Mh}p=P.bind(null,u,p,o),P=void 0,!kh||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(P=!0),j?P!==void 0?o.addEventListener(u,p,{capture:!0,passive:P}):o.addEventListener(u,p,!0):P!==void 0?o.addEventListener(u,p,{passive:P}):o.addEventListener(u,p,!1)}function ef(o,u,p,j,P){var D=j;if((u&1)===0&&(u&2)===0&&j!==null)e:for(;;){if(j===null)return;var V=j.tag;if(V===3||V===4){var le=j.stateNode.containerInfo;if(le===P||le.nodeType===8&&le.parentNode===P)break;if(V===4)for(V=j.return;V!==null;){var de=V.tag;if((de===3||de===4)&&(de=V.stateNode.containerInfo,de===P||de.nodeType===8&&de.parentNode===P))return;V=V.return}for(;le!==null;){if(V=xi(le),V===null)return;if(de=V.tag,de===5||de===6){j=D=V;continue e}le=le.parentNode}}j=j.return}wx(function(){var xe=D,ke=Po(p),Ae=[];e:{var Ee=d0.get(o);if(Ee!==void 0){var Fe=Uh,Be=o;switch(o){case"keypress":if(Mc(p)===0)break e;case"keydown":case"keyup":Fe=xP;break;case"focusin":Be="focus",Fe=zh;break;case"focusout":Be="blur",Fe=zh;break;case"beforeblur":case"afterblur":Fe=zh;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=Hx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=oP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=jP;break;case o0:case l0:case c0:Fe=uP;break;case u0:Fe=SP;break;case"scroll":Fe=iP;break;case"wheel":Fe=EP;break;case"copy":case"cut":case"paste":Fe=hP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=$x}var ze=(u&4)!==0,zt=!ze&&o==="scroll",ve=ze?Ee!==null?Ee+"Capture":null:Ee;ze=[];for(var fe=xe,ye;fe!==null;){ye=fe;var Ie=ye.stateNode;if(ye.tag===5&&Ie!==null&&(ye=Ie,ve!==null&&(Ie=Ao(fe,ve),Ie!=null&&ze.push(Qo(fe,Ie,ye)))),zt)break;fe=fe.return}0<ze.length&&(Ee=new Fe(Ee,Be,null,p,ke),Ae.push({event:Ee,listeners:ze}))}}if((u&7)===0){e:{if(Ee=o==="mouseover"||o==="pointerover",Fe=o==="mouseout"||o==="pointerout",Ee&&p!==To&&(Be=p.relatedTarget||p.fromElement)&&(xi(Be)||Be[as]))break e;if((Fe||Ee)&&(Ee=ke.window===ke?ke:(Ee=ke.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,Fe?(Be=p.relatedTarget||p.toElement,Fe=xe,Be=Be?xi(Be):null,Be!==null&&(zt=yi(Be),Be!==zt||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(Fe=null,Be=xe),Fe!==Be)){if(ze=Hx,Ie="onMouseLeave",ve="onMouseEnter",fe="mouse",(o==="pointerout"||o==="pointerover")&&(ze=$x,Ie="onPointerLeave",ve="onPointerEnter",fe="pointer"),zt=Fe==null?Ee:oa(Fe),ye=Be==null?Ee:oa(Be),Ee=new ze(Ie,fe+"leave",Fe,p,ke),Ee.target=zt,Ee.relatedTarget=ye,Ie=null,xi(ke)===xe&&(ze=new ze(ve,fe+"enter",Be,p,ke),ze.target=ye,ze.relatedTarget=zt,Ie=ze),zt=Ie,Fe&&Be)t:{for(ze=Fe,ve=Be,fe=0,ye=ze;ye;ye=ia(ye))fe++;for(ye=0,Ie=ve;Ie;Ie=ia(Ie))ye++;for(;0<fe-ye;)ze=ia(ze),fe--;for(;0<ye-fe;)ve=ia(ve),ye--;for(;fe--;){if(ze===ve||ve!==null&&ze===ve.alternate)break t;ze=ia(ze),ve=ia(ve)}ze=null}else ze=null;Fe!==null&&g0(Ae,Ee,Fe,ze,!1),Be!==null&&zt!==null&&g0(Ae,zt,Be,ze,!0)}}e:{if(Ee=xe?oa(xe):window,Fe=Ee.nodeName&&Ee.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Ee.type==="file")var $e=DP;else if(Yx(Ee))if(Qx)$e=FP;else{$e=OP;var Ge=IP}else(Fe=Ee.nodeName)&&Fe.toLowerCase()==="input"&&(Ee.type==="checkbox"||Ee.type==="radio")&&($e=MP);if($e&&($e=$e(o,xe))){Xx(Ae,$e,p,ke);break e}Ge&&Ge(o,Ee,xe),o==="focusout"&&(Ge=Ee._wrapperState)&&Ge.controlled&&Ee.type==="number"&&L(Ee,"number",Ee.value)}switch(Ge=xe?oa(xe):window,o){case"focusin":(Yx(Ge)||Ge.contentEditable==="true")&&(na=Ge,Gh=xe,Go=null);break;case"focusout":Go=Gh=na=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,i0(Ae,p,ke);break;case"selectionchange":if(BP)break;case"keydown":case"keyup":i0(Ae,p,ke)}var Ye;if(Wh)e:{switch(o){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else ra?Kx(o,p)&&(Ze="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(Ze="onCompositionStart");Ze&&(Wx&&p.locale!=="ko"&&(ra||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&ra&&(Ye=Ux()):(Rs=ke,Lh="value"in Rs?Rs.value:Rs.textContent,ra=!0)),Ge=$c(xe,Ze),0<Ge.length&&(Ze=new zx(Ze,o,null,p,ke),Ae.push({event:Ze,listeners:Ge}),Ye?Ze.data=Ye:(Ye=Gx(p),Ye!==null&&(Ze.data=Ye)))),(Ye=kP?TP(o,p):PP(o,p))&&(xe=$c(xe,"onBeforeInput"),0<xe.length&&(ke=new zx("onBeforeInput","beforeinput",null,p,ke),Ae.push({event:ke,listeners:xe}),ke.data=Ye))}p0(Ae,u)})}function Qo(o,u,p){return{instance:o,listener:u,currentTarget:p}}function $c(o,u){for(var p=u+"Capture",j=[];o!==null;){var P=o,D=P.stateNode;P.tag===5&&D!==null&&(P=D,D=Ao(o,p),D!=null&&j.unshift(Qo(o,D,P)),D=Ao(o,u),D!=null&&j.push(Qo(o,D,P))),o=o.return}return j}function ia(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function g0(o,u,p,j,P){for(var D=u._reactName,V=[];p!==null&&p!==j;){var le=p,de=le.alternate,xe=le.stateNode;if(de!==null&&de===j)break;le.tag===5&&xe!==null&&(le=xe,P?(de=Ao(p,D),de!=null&&V.unshift(Qo(p,de,le))):P||(de=Ao(p,D),de!=null&&V.push(Qo(p,de,le)))),p=p.return}V.length!==0&&o.push({event:u,listeners:V})}var WP=/\r\n?/g,qP=/\u0000|\uFFFD/g;function v0(o){return(typeof o=="string"?o:""+o).replace(WP,`
`).replace(qP,"")}function Wc(o,u,p){if(u=v0(u),v0(o)!==u&&p)throw Error(r(425))}function qc(){}var tf=null,rf=null;function nf(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var sf=typeof setTimeout=="function"?setTimeout:void 0,VP=typeof clearTimeout=="function"?clearTimeout:void 0,y0=typeof Promise=="function"?Promise:void 0,KP=typeof queueMicrotask=="function"?queueMicrotask:typeof y0<"u"?function(o){return y0.resolve(null).then(o).catch(GP)}:sf;function GP(o){setTimeout(function(){throw o})}function af(o,u){var p=u,j=0;do{var P=p.nextSibling;if(o.removeChild(p),P&&P.nodeType===8)if(p=P.data,p==="/$"){if(j===0){o.removeChild(P),Ho(u);return}j--}else p!=="$"&&p!=="$?"&&p!=="$!"||j++;p=P}while(p);Ho(u)}function Ds(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return o}function x0(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return o;u--}else p==="/$"&&u++}o=o.previousSibling}return null}var aa=Math.random().toString(36).slice(2),Mn="__reactFiber$"+aa,Jo="__reactProps$"+aa,as="__reactContainer$"+aa,of="__reactEvents$"+aa,YP="__reactListeners$"+aa,XP="__reactHandles$"+aa;function xi(o){var u=o[Mn];if(u)return u;for(var p=o.parentNode;p;){if(u=p[as]||p[Mn]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(o=x0(o);o!==null;){if(p=o[Mn])return p;o=x0(o)}return u}o=p,p=o.parentNode}return null}function Zo(o){return o=o[Mn]||o[as],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function oa(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function Vc(o){return o[Jo]||null}var lf=[],la=-1;function Is(o){return{current:o}}function Tt(o){0>la||(o.current=lf[la],lf[la]=null,la--)}function St(o,u){la++,lf[la]=o.current,o.current=u}var Os={},yr=Is(Os),Pr=Is(!1),wi=Os;function ca(o,u){var p=o.type.contextTypes;if(!p)return Os;var j=o.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===u)return j.__reactInternalMemoizedMaskedChildContext;var P={},D;for(D in p)P[D]=u[D];return j&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=u,o.__reactInternalMemoizedMaskedChildContext=P),P}function Rr(o){return o=o.childContextTypes,o!=null}function Kc(){Tt(Pr),Tt(yr)}function w0(o,u,p){if(yr.current!==Os)throw Error(r(168));St(yr,u),St(Pr,p)}function b0(o,u,p){var j=o.stateNode;if(u=u.childContextTypes,typeof j.getChildContext!="function")return p;j=j.getChildContext();for(var P in j)if(!(P in u))throw Error(r(108,I(o)||"Unknown",P));return te({},p,j)}function Gc(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Os,wi=yr.current,St(yr,o),St(Pr,Pr.current),!0}function j0(o,u,p){var j=o.stateNode;if(!j)throw Error(r(169));p?(o=b0(o,u,wi),j.__reactInternalMemoizedMergedChildContext=o,Tt(Pr),Tt(yr),St(yr,o)):Tt(Pr),St(Pr,p)}var os=null,Yc=!1,cf=!1;function _0(o){os===null?os=[o]:os.push(o)}function QP(o){Yc=!0,_0(o)}function Ms(){if(!cf&&os!==null){cf=!0;var o=0,u=wt;try{var p=os;for(wt=1;o<p.length;o++){var j=p[o];do j=j(!0);while(j!==null)}os=null,Yc=!1}catch(P){throw os!==null&&(os=os.slice(o+1)),Nx(Ph,Ms),P}finally{wt=u,cf=!1}}return null}var ua=[],da=0,Xc=null,Qc=0,Zr=[],en=0,bi=null,ls=1,cs="";function ji(o,u){ua[da++]=Qc,ua[da++]=Xc,Xc=o,Qc=u}function S0(o,u,p){Zr[en++]=ls,Zr[en++]=cs,Zr[en++]=bi,bi=o;var j=ls;o=cs;var P=32-pn(j)-1;j&=~(1<<P),p+=1;var D=32-pn(u)+P;if(30<D){var V=P-P%5;D=(j&(1<<V)-1).toString(32),j>>=V,P-=V,ls=1<<32-pn(u)+P|p<<P|j,cs=D+o}else ls=1<<D|p<<P|j,cs=o}function uf(o){o.return!==null&&(ji(o,1),S0(o,1,0))}function df(o){for(;o===Xc;)Xc=ua[--da],ua[da]=null,Qc=ua[--da],ua[da]=null;for(;o===bi;)bi=Zr[--en],Zr[en]=null,cs=Zr[--en],Zr[en]=null,ls=Zr[--en],Zr[en]=null}var Wr=null,qr=null,At=!1,gn=null;function N0(o,u){var p=sn(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=o,u=o.deletions,u===null?(o.deletions=[p],o.flags|=16):u.push(p)}function E0(o,u){switch(o.tag){case 5:var p=o.type;return u=u.nodeType!==1||p.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(o.stateNode=u,Wr=o,qr=Ds(u.firstChild),!0):!1;case 6:return u=o.pendingProps===""||u.nodeType!==3?null:u,u!==null?(o.stateNode=u,Wr=o,qr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(p=bi!==null?{id:ls,overflow:cs}:null,o.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},p=sn(18,null,null,0),p.stateNode=u,p.return=o,o.child=p,Wr=o,qr=null,!0):!1;default:return!1}}function hf(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ff(o){if(At){var u=qr;if(u){var p=u;if(!E0(o,u)){if(hf(o))throw Error(r(418));u=Ds(p.nextSibling);var j=Wr;u&&E0(o,u)?N0(j,p):(o.flags=o.flags&-4097|2,At=!1,Wr=o)}}else{if(hf(o))throw Error(r(418));o.flags=o.flags&-4097|2,At=!1,Wr=o}}}function C0(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Wr=o}function Jc(o){if(o!==Wr)return!1;if(!At)return C0(o),At=!0,!1;var u;if((u=o.tag!==3)&&!(u=o.tag!==5)&&(u=o.type,u=u!=="head"&&u!=="body"&&!nf(o.type,o.memoizedProps)),u&&(u=qr)){if(hf(o))throw k0(),Error(r(418));for(;u;)N0(o,u),u=Ds(u.nextSibling)}if(C0(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"){if(u===0){qr=Ds(o.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++}o=o.nextSibling}qr=null}}else qr=Wr?Ds(o.stateNode.nextSibling):null;return!0}function k0(){for(var o=qr;o;)o=Ds(o.nextSibling)}function ha(){qr=Wr=null,At=!1}function pf(o){gn===null?gn=[o]:gn.push(o)}var JP=S.ReactCurrentBatchConfig;function el(o,u,p){if(o=p.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(r(309));var j=p.stateNode}if(!j)throw Error(r(147,o));var P=j,D=""+o;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===D?u.ref:(u=function(V){var le=P.refs;V===null?delete le[D]:le[D]=V},u._stringRef=D,u)}if(typeof o!="string")throw Error(r(284));if(!p._owner)throw Error(r(290,o))}return o}function Zc(o,u){throw o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o))}function T0(o){var u=o._init;return u(o._payload)}function P0(o){function u(ve,fe){if(o){var ye=ve.deletions;ye===null?(ve.deletions=[fe],ve.flags|=16):ye.push(fe)}}function p(ve,fe){if(!o)return null;for(;fe!==null;)u(ve,fe),fe=fe.sibling;return null}function j(ve,fe){for(ve=new Map;fe!==null;)fe.key!==null?ve.set(fe.key,fe):ve.set(fe.index,fe),fe=fe.sibling;return ve}function P(ve,fe){return ve=Ws(ve,fe),ve.index=0,ve.sibling=null,ve}function D(ve,fe,ye){return ve.index=ye,o?(ye=ve.alternate,ye!==null?(ye=ye.index,ye<fe?(ve.flags|=2,fe):ye):(ve.flags|=2,fe)):(ve.flags|=1048576,fe)}function V(ve){return o&&ve.alternate===null&&(ve.flags|=2),ve}function le(ve,fe,ye,Ie){return fe===null||fe.tag!==6?(fe=ip(ye,ve.mode,Ie),fe.return=ve,fe):(fe=P(fe,ye),fe.return=ve,fe)}function de(ve,fe,ye,Ie){var $e=ye.type;return $e===U?ke(ve,fe,ye.props.children,Ie,ye.key):fe!==null&&(fe.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===ae&&T0($e)===fe.type)?(Ie=P(fe,ye.props),Ie.ref=el(ve,fe,ye),Ie.return=ve,Ie):(Ie=_u(ye.type,ye.key,ye.props,null,ve.mode,Ie),Ie.ref=el(ve,fe,ye),Ie.return=ve,Ie)}function xe(ve,fe,ye,Ie){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==ye.containerInfo||fe.stateNode.implementation!==ye.implementation?(fe=ap(ye,ve.mode,Ie),fe.return=ve,fe):(fe=P(fe,ye.children||[]),fe.return=ve,fe)}function ke(ve,fe,ye,Ie,$e){return fe===null||fe.tag!==7?(fe=Pi(ye,ve.mode,Ie,$e),fe.return=ve,fe):(fe=P(fe,ye),fe.return=ve,fe)}function Ae(ve,fe,ye){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return fe=ip(""+fe,ve.mode,ye),fe.return=ve,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case T:return ye=_u(fe.type,fe.key,fe.props,null,ve.mode,ye),ye.ref=el(ve,null,fe),ye.return=ve,ye;case F:return fe=ap(fe,ve.mode,ye),fe.return=ve,fe;case ae:var Ie=fe._init;return Ae(ve,Ie(fe._payload),ye)}if(ee(fe)||ne(fe))return fe=Pi(fe,ve.mode,ye,null),fe.return=ve,fe;Zc(ve,fe)}return null}function Ee(ve,fe,ye,Ie){var $e=fe!==null?fe.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number")return $e!==null?null:le(ve,fe,""+ye,Ie);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case T:return ye.key===$e?de(ve,fe,ye,Ie):null;case F:return ye.key===$e?xe(ve,fe,ye,Ie):null;case ae:return $e=ye._init,Ee(ve,fe,$e(ye._payload),Ie)}if(ee(ye)||ne(ye))return $e!==null?null:ke(ve,fe,ye,Ie,null);Zc(ve,ye)}return null}function Fe(ve,fe,ye,Ie,$e){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return ve=ve.get(ye)||null,le(fe,ve,""+Ie,$e);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case T:return ve=ve.get(Ie.key===null?ye:Ie.key)||null,de(fe,ve,Ie,$e);case F:return ve=ve.get(Ie.key===null?ye:Ie.key)||null,xe(fe,ve,Ie,$e);case ae:var Ge=Ie._init;return Fe(ve,fe,ye,Ge(Ie._payload),$e)}if(ee(Ie)||ne(Ie))return ve=ve.get(ye)||null,ke(fe,ve,Ie,$e,null);Zc(fe,Ie)}return null}function Be(ve,fe,ye,Ie){for(var $e=null,Ge=null,Ye=fe,Ze=fe=0,ir=null;Ye!==null&&Ze<ye.length;Ze++){Ye.index>Ze?(ir=Ye,Ye=null):ir=Ye.sibling;var xt=Ee(ve,Ye,ye[Ze],Ie);if(xt===null){Ye===null&&(Ye=ir);break}o&&Ye&&xt.alternate===null&&u(ve,Ye),fe=D(xt,fe,Ze),Ge===null?$e=xt:Ge.sibling=xt,Ge=xt,Ye=ir}if(Ze===ye.length)return p(ve,Ye),At&&ji(ve,Ze),$e;if(Ye===null){for(;Ze<ye.length;Ze++)Ye=Ae(ve,ye[Ze],Ie),Ye!==null&&(fe=D(Ye,fe,Ze),Ge===null?$e=Ye:Ge.sibling=Ye,Ge=Ye);return At&&ji(ve,Ze),$e}for(Ye=j(ve,Ye);Ze<ye.length;Ze++)ir=Fe(Ye,ve,Ze,ye[Ze],Ie),ir!==null&&(o&&ir.alternate!==null&&Ye.delete(ir.key===null?Ze:ir.key),fe=D(ir,fe,Ze),Ge===null?$e=ir:Ge.sibling=ir,Ge=ir);return o&&Ye.forEach(function(qs){return u(ve,qs)}),At&&ji(ve,Ze),$e}function ze(ve,fe,ye,Ie){var $e=ne(ye);if(typeof $e!="function")throw Error(r(150));if(ye=$e.call(ye),ye==null)throw Error(r(151));for(var Ge=$e=null,Ye=fe,Ze=fe=0,ir=null,xt=ye.next();Ye!==null&&!xt.done;Ze++,xt=ye.next()){Ye.index>Ze?(ir=Ye,Ye=null):ir=Ye.sibling;var qs=Ee(ve,Ye,xt.value,Ie);if(qs===null){Ye===null&&(Ye=ir);break}o&&Ye&&qs.alternate===null&&u(ve,Ye),fe=D(qs,fe,Ze),Ge===null?$e=qs:Ge.sibling=qs,Ge=qs,Ye=ir}if(xt.done)return p(ve,Ye),At&&ji(ve,Ze),$e;if(Ye===null){for(;!xt.done;Ze++,xt=ye.next())xt=Ae(ve,xt.value,Ie),xt!==null&&(fe=D(xt,fe,Ze),Ge===null?$e=xt:Ge.sibling=xt,Ge=xt);return At&&ji(ve,Ze),$e}for(Ye=j(ve,Ye);!xt.done;Ze++,xt=ye.next())xt=Fe(Ye,ve,Ze,xt.value,Ie),xt!==null&&(o&&xt.alternate!==null&&Ye.delete(xt.key===null?Ze:xt.key),fe=D(xt,fe,Ze),Ge===null?$e=xt:Ge.sibling=xt,Ge=xt);return o&&Ye.forEach(function(RR){return u(ve,RR)}),At&&ji(ve,Ze),$e}function zt(ve,fe,ye,Ie){if(typeof ye=="object"&&ye!==null&&ye.type===U&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case T:e:{for(var $e=ye.key,Ge=fe;Ge!==null;){if(Ge.key===$e){if($e=ye.type,$e===U){if(Ge.tag===7){p(ve,Ge.sibling),fe=P(Ge,ye.props.children),fe.return=ve,ve=fe;break e}}else if(Ge.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===ae&&T0($e)===Ge.type){p(ve,Ge.sibling),fe=P(Ge,ye.props),fe.ref=el(ve,Ge,ye),fe.return=ve,ve=fe;break e}p(ve,Ge);break}else u(ve,Ge);Ge=Ge.sibling}ye.type===U?(fe=Pi(ye.props.children,ve.mode,Ie,ye.key),fe.return=ve,ve=fe):(Ie=_u(ye.type,ye.key,ye.props,null,ve.mode,Ie),Ie.ref=el(ve,fe,ye),Ie.return=ve,ve=Ie)}return V(ve);case F:e:{for(Ge=ye.key;fe!==null;){if(fe.key===Ge)if(fe.tag===4&&fe.stateNode.containerInfo===ye.containerInfo&&fe.stateNode.implementation===ye.implementation){p(ve,fe.sibling),fe=P(fe,ye.children||[]),fe.return=ve,ve=fe;break e}else{p(ve,fe);break}else u(ve,fe);fe=fe.sibling}fe=ap(ye,ve.mode,Ie),fe.return=ve,ve=fe}return V(ve);case ae:return Ge=ye._init,zt(ve,fe,Ge(ye._payload),Ie)}if(ee(ye))return Be(ve,fe,ye,Ie);if(ne(ye))return ze(ve,fe,ye,Ie);Zc(ve,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"?(ye=""+ye,fe!==null&&fe.tag===6?(p(ve,fe.sibling),fe=P(fe,ye),fe.return=ve,ve=fe):(p(ve,fe),fe=ip(ye,ve.mode,Ie),fe.return=ve,ve=fe),V(ve)):p(ve,fe)}return zt}var fa=P0(!0),R0=P0(!1),eu=Is(null),tu=null,pa=null,mf=null;function gf(){mf=pa=tu=null}function vf(o){var u=eu.current;Tt(eu),o._currentValue=u}function yf(o,u,p){for(;o!==null;){var j=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,j!==null&&(j.childLanes|=u)):j!==null&&(j.childLanes&u)!==u&&(j.childLanes|=u),o===p)break;o=o.return}}function ma(o,u){tu=o,mf=pa=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&u)!==0&&(Ar=!0),o.firstContext=null)}function tn(o){var u=o._currentValue;if(mf!==o)if(o={context:o,memoizedValue:u,next:null},pa===null){if(tu===null)throw Error(r(308));pa=o,tu.dependencies={lanes:0,firstContext:o}}else pa=pa.next=o;return u}var _i=null;function xf(o){_i===null?_i=[o]:_i.push(o)}function A0(o,u,p,j){var P=u.interleaved;return P===null?(p.next=p,xf(u)):(p.next=P.next,P.next=p),u.interleaved=p,us(o,j)}function us(o,u){o.lanes|=u;var p=o.alternate;for(p!==null&&(p.lanes|=u),p=o,o=o.return;o!==null;)o.childLanes|=u,p=o.alternate,p!==null&&(p.childLanes|=u),p=o,o=o.return;return p.tag===3?p.stateNode:null}var Fs=!1;function wf(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function D0(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ds(o,u){return{eventTime:o,lane:u,tag:0,payload:null,callback:null,next:null}}function Ls(o,u,p){var j=o.updateQueue;if(j===null)return null;if(j=j.shared,(mt&2)!==0){var P=j.pending;return P===null?u.next=u:(u.next=P.next,P.next=u),j.pending=u,us(o,p)}return P=j.interleaved,P===null?(u.next=u,xf(j)):(u.next=P.next,P.next=u),j.interleaved=u,us(o,p)}function ru(o,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194240)!==0)){var j=u.lanes;j&=o.pendingLanes,p|=j,u.lanes=p,Dh(o,p)}}function I0(o,u){var p=o.updateQueue,j=o.alternate;if(j!==null&&(j=j.updateQueue,p===j)){var P=null,D=null;if(p=p.firstBaseUpdate,p!==null){do{var V={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};D===null?P=D=V:D=D.next=V,p=p.next}while(p!==null);D===null?P=D=u:D=D.next=u}else P=D=u;p={baseState:j.baseState,firstBaseUpdate:P,lastBaseUpdate:D,shared:j.shared,effects:j.effects},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=u:o.next=u,p.lastBaseUpdate=u}function nu(o,u,p,j){var P=o.updateQueue;Fs=!1;var D=P.firstBaseUpdate,V=P.lastBaseUpdate,le=P.shared.pending;if(le!==null){P.shared.pending=null;var de=le,xe=de.next;de.next=null,V===null?D=xe:V.next=xe,V=de;var ke=o.alternate;ke!==null&&(ke=ke.updateQueue,le=ke.lastBaseUpdate,le!==V&&(le===null?ke.firstBaseUpdate=xe:le.next=xe,ke.lastBaseUpdate=de))}if(D!==null){var Ae=P.baseState;V=0,ke=xe=de=null,le=D;do{var Ee=le.lane,Fe=le.eventTime;if((j&Ee)===Ee){ke!==null&&(ke=ke.next={eventTime:Fe,lane:0,tag:le.tag,payload:le.payload,callback:le.callback,next:null});e:{var Be=o,ze=le;switch(Ee=u,Fe=p,ze.tag){case 1:if(Be=ze.payload,typeof Be=="function"){Ae=Be.call(Fe,Ae,Ee);break e}Ae=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=ze.payload,Ee=typeof Be=="function"?Be.call(Fe,Ae,Ee):Be,Ee==null)break e;Ae=te({},Ae,Ee);break e;case 2:Fs=!0}}le.callback!==null&&le.lane!==0&&(o.flags|=64,Ee=P.effects,Ee===null?P.effects=[le]:Ee.push(le))}else Fe={eventTime:Fe,lane:Ee,tag:le.tag,payload:le.payload,callback:le.callback,next:null},ke===null?(xe=ke=Fe,de=Ae):ke=ke.next=Fe,V|=Ee;if(le=le.next,le===null){if(le=P.shared.pending,le===null)break;Ee=le,le=Ee.next,Ee.next=null,P.lastBaseUpdate=Ee,P.shared.pending=null}}while(!0);if(ke===null&&(de=Ae),P.baseState=de,P.firstBaseUpdate=xe,P.lastBaseUpdate=ke,u=P.shared.interleaved,u!==null){P=u;do V|=P.lane,P=P.next;while(P!==u)}else D===null&&(P.shared.lanes=0);Ei|=V,o.lanes=V,o.memoizedState=Ae}}function O0(o,u,p){if(o=u.effects,u.effects=null,o!==null)for(u=0;u<o.length;u++){var j=o[u],P=j.callback;if(P!==null){if(j.callback=null,j=p,typeof P!="function")throw Error(r(191,P));P.call(j)}}}var tl={},Fn=Is(tl),rl=Is(tl),nl=Is(tl);function Si(o){if(o===tl)throw Error(r(174));return o}function bf(o,u){switch(St(nl,u),St(rl,o),St(Fn,tl),o=u.nodeType,o){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:He(null,"");break;default:o=o===8?u.parentNode:u,u=o.namespaceURI||null,o=o.tagName,u=He(u,o)}Tt(Fn),St(Fn,u)}function ga(){Tt(Fn),Tt(rl),Tt(nl)}function M0(o){Si(nl.current);var u=Si(Fn.current),p=He(u,o.type);u!==p&&(St(rl,o),St(Fn,p))}function jf(o){rl.current===o&&(Tt(Fn),Tt(rl))}var It=Is(0);function su(o){for(var u=o;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var _f=[];function Sf(){for(var o=0;o<_f.length;o++)_f[o]._workInProgressVersionPrimary=null;_f.length=0}var iu=S.ReactCurrentDispatcher,Nf=S.ReactCurrentBatchConfig,Ni=0,Ot=null,Jt=null,nr=null,au=!1,sl=!1,il=0,ZP=0;function xr(){throw Error(r(321))}function Ef(o,u){if(u===null)return!1;for(var p=0;p<u.length&&p<o.length;p++)if(!mn(o[p],u[p]))return!1;return!0}function Cf(o,u,p,j,P,D){if(Ni=D,Ot=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,iu.current=o===null||o.memoizedState===null?nR:sR,o=p(j,P),sl){D=0;do{if(sl=!1,il=0,25<=D)throw Error(r(301));D+=1,nr=Jt=null,u.updateQueue=null,iu.current=iR,o=p(j,P)}while(sl)}if(iu.current=cu,u=Jt!==null&&Jt.next!==null,Ni=0,nr=Jt=Ot=null,au=!1,u)throw Error(r(300));return o}function kf(){var o=il!==0;return il=0,o}function Ln(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?Ot.memoizedState=nr=o:nr=nr.next=o,nr}function rn(){if(Jt===null){var o=Ot.alternate;o=o!==null?o.memoizedState:null}else o=Jt.next;var u=nr===null?Ot.memoizedState:nr.next;if(u!==null)nr=u,Jt=o;else{if(o===null)throw Error(r(310));Jt=o,o={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},nr===null?Ot.memoizedState=nr=o:nr=nr.next=o}return nr}function al(o,u){return typeof u=="function"?u(o):u}function Tf(o){var u=rn(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var j=Jt,P=j.baseQueue,D=p.pending;if(D!==null){if(P!==null){var V=P.next;P.next=D.next,D.next=V}j.baseQueue=P=D,p.pending=null}if(P!==null){D=P.next,j=j.baseState;var le=V=null,de=null,xe=D;do{var ke=xe.lane;if((Ni&ke)===ke)de!==null&&(de=de.next={lane:0,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),j=xe.hasEagerState?xe.eagerState:o(j,xe.action);else{var Ae={lane:ke,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null};de===null?(le=de=Ae,V=j):de=de.next=Ae,Ot.lanes|=ke,Ei|=ke}xe=xe.next}while(xe!==null&&xe!==D);de===null?V=j:de.next=le,mn(j,u.memoizedState)||(Ar=!0),u.memoizedState=j,u.baseState=V,u.baseQueue=de,p.lastRenderedState=j}if(o=p.interleaved,o!==null){P=o;do D=P.lane,Ot.lanes|=D,Ei|=D,P=P.next;while(P!==o)}else P===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function Pf(o){var u=rn(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var j=p.dispatch,P=p.pending,D=u.memoizedState;if(P!==null){p.pending=null;var V=P=P.next;do D=o(D,V.action),V=V.next;while(V!==P);mn(D,u.memoizedState)||(Ar=!0),u.memoizedState=D,u.baseQueue===null&&(u.baseState=D),p.lastRenderedState=D}return[D,j]}function F0(){}function L0(o,u){var p=Ot,j=rn(),P=u(),D=!mn(j.memoizedState,P);if(D&&(j.memoizedState=P,Ar=!0),j=j.queue,Rf(H0.bind(null,p,j,o),[o]),j.getSnapshot!==u||D||nr!==null&&nr.memoizedState.tag&1){if(p.flags|=2048,ol(9,B0.bind(null,p,j,P,u),void 0,null),sr===null)throw Error(r(349));(Ni&30)!==0||U0(p,u,P)}return P}function U0(o,u,p){o.flags|=16384,o={getSnapshot:u,value:p},u=Ot.updateQueue,u===null?(u={lastEffect:null,stores:null},Ot.updateQueue=u,u.stores=[o]):(p=u.stores,p===null?u.stores=[o]:p.push(o))}function B0(o,u,p,j){u.value=p,u.getSnapshot=j,z0(u)&&$0(o)}function H0(o,u,p){return p(function(){z0(u)&&$0(o)})}function z0(o){var u=o.getSnapshot;o=o.value;try{var p=u();return!mn(o,p)}catch{return!0}}function $0(o){var u=us(o,1);u!==null&&wn(u,o,1,-1)}function W0(o){var u=Ln();return typeof o=="function"&&(o=o()),u.memoizedState=u.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:o},u.queue=o,o=o.dispatch=rR.bind(null,Ot,o),[u.memoizedState,o]}function ol(o,u,p,j){return o={tag:o,create:u,destroy:p,deps:j,next:null},u=Ot.updateQueue,u===null?(u={lastEffect:null,stores:null},Ot.updateQueue=u,u.lastEffect=o.next=o):(p=u.lastEffect,p===null?u.lastEffect=o.next=o:(j=p.next,p.next=o,o.next=j,u.lastEffect=o)),o}function q0(){return rn().memoizedState}function ou(o,u,p,j){var P=Ln();Ot.flags|=o,P.memoizedState=ol(1|u,p,void 0,j===void 0?null:j)}function lu(o,u,p,j){var P=rn();j=j===void 0?null:j;var D=void 0;if(Jt!==null){var V=Jt.memoizedState;if(D=V.destroy,j!==null&&Ef(j,V.deps)){P.memoizedState=ol(u,p,D,j);return}}Ot.flags|=o,P.memoizedState=ol(1|u,p,D,j)}function V0(o,u){return ou(8390656,8,o,u)}function Rf(o,u){return lu(2048,8,o,u)}function K0(o,u){return lu(4,2,o,u)}function G0(o,u){return lu(4,4,o,u)}function Y0(o,u){if(typeof u=="function")return o=o(),u(o),function(){u(null)};if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function X0(o,u,p){return p=p!=null?p.concat([o]):null,lu(4,4,Y0.bind(null,u,o),p)}function Af(){}function Q0(o,u){var p=rn();u=u===void 0?null:u;var j=p.memoizedState;return j!==null&&u!==null&&Ef(u,j[1])?j[0]:(p.memoizedState=[o,u],o)}function J0(o,u){var p=rn();u=u===void 0?null:u;var j=p.memoizedState;return j!==null&&u!==null&&Ef(u,j[1])?j[0]:(o=o(),p.memoizedState=[o,u],o)}function Z0(o,u,p){return(Ni&21)===0?(o.baseState&&(o.baseState=!1,Ar=!0),o.memoizedState=p):(mn(p,u)||(p=Tx(),Ot.lanes|=p,Ei|=p,o.baseState=!0),u)}function eR(o,u){var p=wt;wt=p!==0&&4>p?p:4,o(!0);var j=Nf.transition;Nf.transition={};try{o(!1),u()}finally{wt=p,Nf.transition=j}}function ew(){return rn().memoizedState}function tR(o,u,p){var j=zs(o);if(p={lane:j,action:p,hasEagerState:!1,eagerState:null,next:null},tw(o))rw(u,p);else if(p=A0(o,u,p,j),p!==null){var P=Nr();wn(p,o,j,P),nw(p,u,j)}}function rR(o,u,p){var j=zs(o),P={lane:j,action:p,hasEagerState:!1,eagerState:null,next:null};if(tw(o))rw(u,P);else{var D=o.alternate;if(o.lanes===0&&(D===null||D.lanes===0)&&(D=u.lastRenderedReducer,D!==null))try{var V=u.lastRenderedState,le=D(V,p);if(P.hasEagerState=!0,P.eagerState=le,mn(le,V)){var de=u.interleaved;de===null?(P.next=P,xf(u)):(P.next=de.next,de.next=P),u.interleaved=P;return}}catch{}p=A0(o,u,P,j),p!==null&&(P=Nr(),wn(p,o,j,P),nw(p,u,j))}}function tw(o){var u=o.alternate;return o===Ot||u!==null&&u===Ot}function rw(o,u){sl=au=!0;var p=o.pending;p===null?u.next=u:(u.next=p.next,p.next=u),o.pending=u}function nw(o,u,p){if((p&4194240)!==0){var j=u.lanes;j&=o.pendingLanes,p|=j,u.lanes=p,Dh(o,p)}}var cu={readContext:tn,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useInsertionEffect:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useSyncExternalStore:xr,useId:xr,unstable_isNewReconciler:!1},nR={readContext:tn,useCallback:function(o,u){return Ln().memoizedState=[o,u===void 0?null:u],o},useContext:tn,useEffect:V0,useImperativeHandle:function(o,u,p){return p=p!=null?p.concat([o]):null,ou(4194308,4,Y0.bind(null,u,o),p)},useLayoutEffect:function(o,u){return ou(4194308,4,o,u)},useInsertionEffect:function(o,u){return ou(4,2,o,u)},useMemo:function(o,u){var p=Ln();return u=u===void 0?null:u,o=o(),p.memoizedState=[o,u],o},useReducer:function(o,u,p){var j=Ln();return u=p!==void 0?p(u):u,j.memoizedState=j.baseState=u,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:u},j.queue=o,o=o.dispatch=tR.bind(null,Ot,o),[j.memoizedState,o]},useRef:function(o){var u=Ln();return o={current:o},u.memoizedState=o},useState:W0,useDebugValue:Af,useDeferredValue:function(o){return Ln().memoizedState=o},useTransition:function(){var o=W0(!1),u=o[0];return o=eR.bind(null,o[1]),Ln().memoizedState=o,[u,o]},useMutableSource:function(){},useSyncExternalStore:function(o,u,p){var j=Ot,P=Ln();if(At){if(p===void 0)throw Error(r(407));p=p()}else{if(p=u(),sr===null)throw Error(r(349));(Ni&30)!==0||U0(j,u,p)}P.memoizedState=p;var D={value:p,getSnapshot:u};return P.queue=D,V0(H0.bind(null,j,D,o),[o]),j.flags|=2048,ol(9,B0.bind(null,j,D,p,u),void 0,null),p},useId:function(){var o=Ln(),u=sr.identifierPrefix;if(At){var p=cs,j=ls;p=(j&~(1<<32-pn(j)-1)).toString(32)+p,u=":"+u+"R"+p,p=il++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=ZP++,u=":"+u+"r"+p.toString(32)+":";return o.memoizedState=u},unstable_isNewReconciler:!1},sR={readContext:tn,useCallback:Q0,useContext:tn,useEffect:Rf,useImperativeHandle:X0,useInsertionEffect:K0,useLayoutEffect:G0,useMemo:J0,useReducer:Tf,useRef:q0,useState:function(){return Tf(al)},useDebugValue:Af,useDeferredValue:function(o){var u=rn();return Z0(u,Jt.memoizedState,o)},useTransition:function(){var o=Tf(al)[0],u=rn().memoizedState;return[o,u]},useMutableSource:F0,useSyncExternalStore:L0,useId:ew,unstable_isNewReconciler:!1},iR={readContext:tn,useCallback:Q0,useContext:tn,useEffect:Rf,useImperativeHandle:X0,useInsertionEffect:K0,useLayoutEffect:G0,useMemo:J0,useReducer:Pf,useRef:q0,useState:function(){return Pf(al)},useDebugValue:Af,useDeferredValue:function(o){var u=rn();return Jt===null?u.memoizedState=o:Z0(u,Jt.memoizedState,o)},useTransition:function(){var o=Pf(al)[0],u=rn().memoizedState;return[o,u]},useMutableSource:F0,useSyncExternalStore:L0,useId:ew,unstable_isNewReconciler:!1};function vn(o,u){if(o&&o.defaultProps){u=te({},u),o=o.defaultProps;for(var p in o)u[p]===void 0&&(u[p]=o[p]);return u}return u}function Df(o,u,p,j){u=o.memoizedState,p=p(j,u),p=p==null?u:te({},u,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var uu={isMounted:function(o){return(o=o._reactInternals)?yi(o)===o:!1},enqueueSetState:function(o,u,p){o=o._reactInternals;var j=Nr(),P=zs(o),D=ds(j,P);D.payload=u,p!=null&&(D.callback=p),u=Ls(o,D,P),u!==null&&(wn(u,o,P,j),ru(u,o,P))},enqueueReplaceState:function(o,u,p){o=o._reactInternals;var j=Nr(),P=zs(o),D=ds(j,P);D.tag=1,D.payload=u,p!=null&&(D.callback=p),u=Ls(o,D,P),u!==null&&(wn(u,o,P,j),ru(u,o,P))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var p=Nr(),j=zs(o),P=ds(p,j);P.tag=2,u!=null&&(P.callback=u),u=Ls(o,P,j),u!==null&&(wn(u,o,j,p),ru(u,o,j))}};function sw(o,u,p,j,P,D,V){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(j,D,V):u.prototype&&u.prototype.isPureReactComponent?!Ko(p,j)||!Ko(P,D):!0}function iw(o,u,p){var j=!1,P=Os,D=u.contextType;return typeof D=="object"&&D!==null?D=tn(D):(P=Rr(u)?wi:yr.current,j=u.contextTypes,D=(j=j!=null)?ca(o,P):Os),u=new u(p,D),o.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=uu,o.stateNode=u,u._reactInternals=o,j&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=P,o.__reactInternalMemoizedMaskedChildContext=D),u}function aw(o,u,p,j){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,j),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,j),u.state!==o&&uu.enqueueReplaceState(u,u.state,null)}function If(o,u,p,j){var P=o.stateNode;P.props=p,P.state=o.memoizedState,P.refs={},wf(o);var D=u.contextType;typeof D=="object"&&D!==null?P.context=tn(D):(D=Rr(u)?wi:yr.current,P.context=ca(o,D)),P.state=o.memoizedState,D=u.getDerivedStateFromProps,typeof D=="function"&&(Df(o,u,D,p),P.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(u=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),u!==P.state&&uu.enqueueReplaceState(P,P.state,null),nu(o,p,P,j),P.state=o.memoizedState),typeof P.componentDidMount=="function"&&(o.flags|=4194308)}function va(o,u){try{var p="",j=u;do p+=he(j),j=j.return;while(j);var P=p}catch(D){P=`
Error generating stack: `+D.message+`
`+D.stack}return{value:o,source:u,stack:P,digest:null}}function Of(o,u,p){return{value:o,source:null,stack:p??null,digest:u??null}}function Mf(o,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var aR=typeof WeakMap=="function"?WeakMap:Map;function ow(o,u,p){p=ds(-1,p),p.tag=3,p.payload={element:null};var j=u.value;return p.callback=function(){vu||(vu=!0,Qf=j),Mf(o,u)},p}function lw(o,u,p){p=ds(-1,p),p.tag=3;var j=o.type.getDerivedStateFromError;if(typeof j=="function"){var P=u.value;p.payload=function(){return j(P)},p.callback=function(){Mf(o,u)}}var D=o.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(p.callback=function(){Mf(o,u),typeof j!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var V=u.stack;this.componentDidCatch(u.value,{componentStack:V!==null?V:""})}),p}function cw(o,u,p){var j=o.pingCache;if(j===null){j=o.pingCache=new aR;var P=new Set;j.set(u,P)}else P=j.get(u),P===void 0&&(P=new Set,j.set(u,P));P.has(p)||(P.add(p),o=wR.bind(null,o,u,p),u.then(o,o))}function uw(o){do{var u;if((u=o.tag===13)&&(u=o.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return o;o=o.return}while(o!==null);return null}function dw(o,u,p,j,P){return(o.mode&1)===0?(o===u?o.flags|=65536:(o.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(u=ds(-1,1),u.tag=2,Ls(p,u,1))),p.lanes|=1),o):(o.flags|=65536,o.lanes=P,o)}var oR=S.ReactCurrentOwner,Ar=!1;function Sr(o,u,p,j){u.child=o===null?R0(u,null,p,j):fa(u,o.child,p,j)}function hw(o,u,p,j,P){p=p.render;var D=u.ref;return ma(u,P),j=Cf(o,u,p,j,D,P),p=kf(),o!==null&&!Ar?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~P,hs(o,u,P)):(At&&p&&uf(u),u.flags|=1,Sr(o,u,j,P),u.child)}function fw(o,u,p,j,P){if(o===null){var D=p.type;return typeof D=="function"&&!sp(D)&&D.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(u.tag=15,u.type=D,pw(o,u,D,j,P)):(o=_u(p.type,null,j,u,u.mode,P),o.ref=u.ref,o.return=u,u.child=o)}if(D=o.child,(o.lanes&P)===0){var V=D.memoizedProps;if(p=p.compare,p=p!==null?p:Ko,p(V,j)&&o.ref===u.ref)return hs(o,u,P)}return u.flags|=1,o=Ws(D,j),o.ref=u.ref,o.return=u,u.child=o}function pw(o,u,p,j,P){if(o!==null){var D=o.memoizedProps;if(Ko(D,j)&&o.ref===u.ref)if(Ar=!1,u.pendingProps=j=D,(o.lanes&P)!==0)(o.flags&131072)!==0&&(Ar=!0);else return u.lanes=o.lanes,hs(o,u,P)}return Ff(o,u,p,j,P)}function mw(o,u,p){var j=u.pendingProps,P=j.children,D=o!==null?o.memoizedState:null;if(j.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(xa,Vr),Vr|=p;else{if((p&1073741824)===0)return o=D!==null?D.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:o,cachePool:null,transitions:null},u.updateQueue=null,St(xa,Vr),Vr|=o,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=D!==null?D.baseLanes:p,St(xa,Vr),Vr|=j}else D!==null?(j=D.baseLanes|p,u.memoizedState=null):j=p,St(xa,Vr),Vr|=j;return Sr(o,u,P,p),u.child}function gw(o,u){var p=u.ref;(o===null&&p!==null||o!==null&&o.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function Ff(o,u,p,j,P){var D=Rr(p)?wi:yr.current;return D=ca(u,D),ma(u,P),p=Cf(o,u,p,j,D,P),j=kf(),o!==null&&!Ar?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~P,hs(o,u,P)):(At&&j&&uf(u),u.flags|=1,Sr(o,u,p,P),u.child)}function vw(o,u,p,j,P){if(Rr(p)){var D=!0;Gc(u)}else D=!1;if(ma(u,P),u.stateNode===null)hu(o,u),iw(u,p,j),If(u,p,j,P),j=!0;else if(o===null){var V=u.stateNode,le=u.memoizedProps;V.props=le;var de=V.context,xe=p.contextType;typeof xe=="object"&&xe!==null?xe=tn(xe):(xe=Rr(p)?wi:yr.current,xe=ca(u,xe));var ke=p.getDerivedStateFromProps,Ae=typeof ke=="function"||typeof V.getSnapshotBeforeUpdate=="function";Ae||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(le!==j||de!==xe)&&aw(u,V,j,xe),Fs=!1;var Ee=u.memoizedState;V.state=Ee,nu(u,j,V,P),de=u.memoizedState,le!==j||Ee!==de||Pr.current||Fs?(typeof ke=="function"&&(Df(u,p,ke,j),de=u.memoizedState),(le=Fs||sw(u,p,le,j,Ee,de,xe))?(Ae||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(u.flags|=4194308)):(typeof V.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=j,u.memoizedState=de),V.props=j,V.state=de,V.context=xe,j=le):(typeof V.componentDidMount=="function"&&(u.flags|=4194308),j=!1)}else{V=u.stateNode,D0(o,u),le=u.memoizedProps,xe=u.type===u.elementType?le:vn(u.type,le),V.props=xe,Ae=u.pendingProps,Ee=V.context,de=p.contextType,typeof de=="object"&&de!==null?de=tn(de):(de=Rr(p)?wi:yr.current,de=ca(u,de));var Fe=p.getDerivedStateFromProps;(ke=typeof Fe=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(le!==Ae||Ee!==de)&&aw(u,V,j,de),Fs=!1,Ee=u.memoizedState,V.state=Ee,nu(u,j,V,P);var Be=u.memoizedState;le!==Ae||Ee!==Be||Pr.current||Fs?(typeof Fe=="function"&&(Df(u,p,Fe,j),Be=u.memoizedState),(xe=Fs||sw(u,p,xe,j,Ee,Be,de)||!1)?(ke||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(j,Be,de),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(j,Be,de)),typeof V.componentDidUpdate=="function"&&(u.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof V.componentDidUpdate!="function"||le===o.memoizedProps&&Ee===o.memoizedState||(u.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||le===o.memoizedProps&&Ee===o.memoizedState||(u.flags|=1024),u.memoizedProps=j,u.memoizedState=Be),V.props=j,V.state=Be,V.context=de,j=xe):(typeof V.componentDidUpdate!="function"||le===o.memoizedProps&&Ee===o.memoizedState||(u.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||le===o.memoizedProps&&Ee===o.memoizedState||(u.flags|=1024),j=!1)}return Lf(o,u,p,j,D,P)}function Lf(o,u,p,j,P,D){gw(o,u);var V=(u.flags&128)!==0;if(!j&&!V)return P&&j0(u,p,!1),hs(o,u,D);j=u.stateNode,oR.current=u;var le=V&&typeof p.getDerivedStateFromError!="function"?null:j.render();return u.flags|=1,o!==null&&V?(u.child=fa(u,o.child,null,D),u.child=fa(u,null,le,D)):Sr(o,u,le,D),u.memoizedState=j.state,P&&j0(u,p,!0),u.child}function yw(o){var u=o.stateNode;u.pendingContext?w0(o,u.pendingContext,u.pendingContext!==u.context):u.context&&w0(o,u.context,!1),bf(o,u.containerInfo)}function xw(o,u,p,j,P){return ha(),pf(P),u.flags|=256,Sr(o,u,p,j),u.child}var Uf={dehydrated:null,treeContext:null,retryLane:0};function Bf(o){return{baseLanes:o,cachePool:null,transitions:null}}function ww(o,u,p){var j=u.pendingProps,P=It.current,D=!1,V=(u.flags&128)!==0,le;if((le=V)||(le=o!==null&&o.memoizedState===null?!1:(P&2)!==0),le?(D=!0,u.flags&=-129):(o===null||o.memoizedState!==null)&&(P|=1),St(It,P&1),o===null)return ff(u),o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((u.mode&1)===0?u.lanes=1:o.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(V=j.children,o=j.fallback,D?(j=u.mode,D=u.child,V={mode:"hidden",children:V},(j&1)===0&&D!==null?(D.childLanes=0,D.pendingProps=V):D=Su(V,j,0,null),o=Pi(o,j,p,null),D.return=u,o.return=u,D.sibling=o,u.child=D,u.child.memoizedState=Bf(p),u.memoizedState=Uf,o):Hf(u,V));if(P=o.memoizedState,P!==null&&(le=P.dehydrated,le!==null))return lR(o,u,V,j,le,P,p);if(D){D=j.fallback,V=u.mode,P=o.child,le=P.sibling;var de={mode:"hidden",children:j.children};return(V&1)===0&&u.child!==P?(j=u.child,j.childLanes=0,j.pendingProps=de,u.deletions=null):(j=Ws(P,de),j.subtreeFlags=P.subtreeFlags&14680064),le!==null?D=Ws(le,D):(D=Pi(D,V,p,null),D.flags|=2),D.return=u,j.return=u,j.sibling=D,u.child=j,j=D,D=u.child,V=o.child.memoizedState,V=V===null?Bf(p):{baseLanes:V.baseLanes|p,cachePool:null,transitions:V.transitions},D.memoizedState=V,D.childLanes=o.childLanes&~p,u.memoizedState=Uf,j}return D=o.child,o=D.sibling,j=Ws(D,{mode:"visible",children:j.children}),(u.mode&1)===0&&(j.lanes=p),j.return=u,j.sibling=null,o!==null&&(p=u.deletions,p===null?(u.deletions=[o],u.flags|=16):p.push(o)),u.child=j,u.memoizedState=null,j}function Hf(o,u){return u=Su({mode:"visible",children:u},o.mode,0,null),u.return=o,o.child=u}function du(o,u,p,j){return j!==null&&pf(j),fa(u,o.child,null,p),o=Hf(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function lR(o,u,p,j,P,D,V){if(p)return u.flags&256?(u.flags&=-257,j=Of(Error(r(422))),du(o,u,V,j)):u.memoizedState!==null?(u.child=o.child,u.flags|=128,null):(D=j.fallback,P=u.mode,j=Su({mode:"visible",children:j.children},P,0,null),D=Pi(D,P,V,null),D.flags|=2,j.return=u,D.return=u,j.sibling=D,u.child=j,(u.mode&1)!==0&&fa(u,o.child,null,V),u.child.memoizedState=Bf(V),u.memoizedState=Uf,D);if((u.mode&1)===0)return du(o,u,V,null);if(P.data==="$!"){if(j=P.nextSibling&&P.nextSibling.dataset,j)var le=j.dgst;return j=le,D=Error(r(419)),j=Of(D,j,void 0),du(o,u,V,j)}if(le=(V&o.childLanes)!==0,Ar||le){if(j=sr,j!==null){switch(V&-V){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(j.suspendedLanes|V))!==0?0:P,P!==0&&P!==D.retryLane&&(D.retryLane=P,us(o,P),wn(j,o,P,-1))}return np(),j=Of(Error(r(421))),du(o,u,V,j)}return P.data==="$?"?(u.flags|=128,u.child=o.child,u=bR.bind(null,o),P._reactRetry=u,null):(o=D.treeContext,qr=Ds(P.nextSibling),Wr=u,At=!0,gn=null,o!==null&&(Zr[en++]=ls,Zr[en++]=cs,Zr[en++]=bi,ls=o.id,cs=o.overflow,bi=u),u=Hf(u,j.children),u.flags|=4096,u)}function bw(o,u,p){o.lanes|=u;var j=o.alternate;j!==null&&(j.lanes|=u),yf(o.return,u,p)}function zf(o,u,p,j,P){var D=o.memoizedState;D===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:j,tail:p,tailMode:P}:(D.isBackwards=u,D.rendering=null,D.renderingStartTime=0,D.last=j,D.tail=p,D.tailMode=P)}function jw(o,u,p){var j=u.pendingProps,P=j.revealOrder,D=j.tail;if(Sr(o,u,j.children,p),j=It.current,(j&2)!==0)j=j&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&bw(o,p,u);else if(o.tag===19)bw(o,p,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}j&=1}if(St(It,j),(u.mode&1)===0)u.memoizedState=null;else switch(P){case"forwards":for(p=u.child,P=null;p!==null;)o=p.alternate,o!==null&&su(o)===null&&(P=p),p=p.sibling;p=P,p===null?(P=u.child,u.child=null):(P=p.sibling,p.sibling=null),zf(u,!1,P,p,D);break;case"backwards":for(p=null,P=u.child,u.child=null;P!==null;){if(o=P.alternate,o!==null&&su(o)===null){u.child=P;break}o=P.sibling,P.sibling=p,p=P,P=o}zf(u,!0,p,null,D);break;case"together":zf(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function hu(o,u){(u.mode&1)===0&&o!==null&&(o.alternate=null,u.alternate=null,u.flags|=2)}function hs(o,u,p){if(o!==null&&(u.dependencies=o.dependencies),Ei|=u.lanes,(p&u.childLanes)===0)return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,p=Ws(o,o.pendingProps),u.child=p,p.return=u;o.sibling!==null;)o=o.sibling,p=p.sibling=Ws(o,o.pendingProps),p.return=u;p.sibling=null}return u.child}function cR(o,u,p){switch(u.tag){case 3:yw(u),ha();break;case 5:M0(u);break;case 1:Rr(u.type)&&Gc(u);break;case 4:bf(u,u.stateNode.containerInfo);break;case 10:var j=u.type._context,P=u.memoizedProps.value;St(eu,j._currentValue),j._currentValue=P;break;case 13:if(j=u.memoizedState,j!==null)return j.dehydrated!==null?(St(It,It.current&1),u.flags|=128,null):(p&u.child.childLanes)!==0?ww(o,u,p):(St(It,It.current&1),o=hs(o,u,p),o!==null?o.sibling:null);St(It,It.current&1);break;case 19:if(j=(p&u.childLanes)!==0,(o.flags&128)!==0){if(j)return jw(o,u,p);u.flags|=128}if(P=u.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),St(It,It.current),j)break;return null;case 22:case 23:return u.lanes=0,mw(o,u,p)}return hs(o,u,p)}var _w,$f,Sw,Nw;_w=function(o,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)o.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},$f=function(){},Sw=function(o,u,p,j){var P=o.memoizedProps;if(P!==j){o=u.stateNode,Si(Fn.current);var D=null;switch(p){case"input":P=M(o,P),j=M(o,j),D=[];break;case"select":P=te({},P,{value:void 0}),j=te({},j,{value:void 0}),D=[];break;case"textarea":P=ie(o,P),j=ie(o,j),D=[];break;default:typeof P.onClick!="function"&&typeof j.onClick=="function"&&(o.onclick=qc)}zr(p,j);var V;p=null;for(xe in P)if(!j.hasOwnProperty(xe)&&P.hasOwnProperty(xe)&&P[xe]!=null)if(xe==="style"){var le=P[xe];for(V in le)le.hasOwnProperty(V)&&(p||(p={}),p[V]="")}else xe!=="dangerouslySetInnerHTML"&&xe!=="children"&&xe!=="suppressContentEditableWarning"&&xe!=="suppressHydrationWarning"&&xe!=="autoFocus"&&(i.hasOwnProperty(xe)?D||(D=[]):(D=D||[]).push(xe,null));for(xe in j){var de=j[xe];if(le=P?.[xe],j.hasOwnProperty(xe)&&de!==le&&(de!=null||le!=null))if(xe==="style")if(le){for(V in le)!le.hasOwnProperty(V)||de&&de.hasOwnProperty(V)||(p||(p={}),p[V]="");for(V in de)de.hasOwnProperty(V)&&le[V]!==de[V]&&(p||(p={}),p[V]=de[V])}else p||(D||(D=[]),D.push(xe,p)),p=de;else xe==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,le=le?le.__html:void 0,de!=null&&le!==de&&(D=D||[]).push(xe,de)):xe==="children"?typeof de!="string"&&typeof de!="number"||(D=D||[]).push(xe,""+de):xe!=="suppressContentEditableWarning"&&xe!=="suppressHydrationWarning"&&(i.hasOwnProperty(xe)?(de!=null&&xe==="onScroll"&&kt("scroll",o),D||le===de||(D=[])):(D=D||[]).push(xe,de))}p&&(D=D||[]).push("style",p);var xe=D;(u.updateQueue=xe)&&(u.flags|=4)}},Nw=function(o,u,p,j){p!==j&&(u.flags|=4)};function ll(o,u){if(!At)switch(o.tailMode){case"hidden":u=o.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var j=null;p!==null;)p.alternate!==null&&(j=p),p=p.sibling;j===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:j.sibling=null}}function wr(o){var u=o.alternate!==null&&o.alternate.child===o.child,p=0,j=0;if(u)for(var P=o.child;P!==null;)p|=P.lanes|P.childLanes,j|=P.subtreeFlags&14680064,j|=P.flags&14680064,P.return=o,P=P.sibling;else for(P=o.child;P!==null;)p|=P.lanes|P.childLanes,j|=P.subtreeFlags,j|=P.flags,P.return=o,P=P.sibling;return o.subtreeFlags|=j,o.childLanes=p,u}function uR(o,u,p){var j=u.pendingProps;switch(df(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(u),null;case 1:return Rr(u.type)&&Kc(),wr(u),null;case 3:return j=u.stateNode,ga(),Tt(Pr),Tt(yr),Sf(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(o===null||o.child===null)&&(Jc(u)?u.flags|=4:o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,gn!==null&&(ep(gn),gn=null))),$f(o,u),wr(u),null;case 5:jf(u);var P=Si(nl.current);if(p=u.type,o!==null&&u.stateNode!=null)Sw(o,u,p,j,P),o.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!j){if(u.stateNode===null)throw Error(r(166));return wr(u),null}if(o=Si(Fn.current),Jc(u)){j=u.stateNode,p=u.type;var D=u.memoizedProps;switch(j[Mn]=u,j[Jo]=D,o=(u.mode&1)!==0,p){case"dialog":kt("cancel",j),kt("close",j);break;case"iframe":case"object":case"embed":kt("load",j);break;case"video":case"audio":for(P=0;P<Yo.length;P++)kt(Yo[P],j);break;case"source":kt("error",j);break;case"img":case"image":case"link":kt("error",j),kt("load",j);break;case"details":kt("toggle",j);break;case"input":ge(j,D),kt("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!D.multiple},kt("invalid",j);break;case"textarea":be(j,D),kt("invalid",j)}zr(p,D),P=null;for(var V in D)if(D.hasOwnProperty(V)){var le=D[V];V==="children"?typeof le=="string"?j.textContent!==le&&(D.suppressHydrationWarning!==!0&&Wc(j.textContent,le,o),P=["children",le]):typeof le=="number"&&j.textContent!==""+le&&(D.suppressHydrationWarning!==!0&&Wc(j.textContent,le,o),P=["children",""+le]):i.hasOwnProperty(V)&&le!=null&&V==="onScroll"&&kt("scroll",j)}switch(p){case"input":K(j),k(j,D,!0);break;case"textarea":K(j),_e(j);break;case"select":case"option":break;default:typeof D.onClick=="function"&&(j.onclick=qc)}j=P,u.updateQueue=j,j!==null&&(u.flags|=4)}else{V=P.nodeType===9?P:P.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Me(p)),o==="http://www.w3.org/1999/xhtml"?p==="script"?(o=V.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof j.is=="string"?o=V.createElement(p,{is:j.is}):(o=V.createElement(p),p==="select"&&(V=o,j.multiple?V.multiple=!0:j.size&&(V.size=j.size))):o=V.createElementNS(o,p),o[Mn]=u,o[Jo]=j,_w(o,u,!1,!1),u.stateNode=o;e:{switch(V=Zi(p,j),p){case"dialog":kt("cancel",o),kt("close",o),P=j;break;case"iframe":case"object":case"embed":kt("load",o),P=j;break;case"video":case"audio":for(P=0;P<Yo.length;P++)kt(Yo[P],o);P=j;break;case"source":kt("error",o),P=j;break;case"img":case"image":case"link":kt("error",o),kt("load",o),P=j;break;case"details":kt("toggle",o),P=j;break;case"input":ge(o,j),P=M(o,j),kt("invalid",o);break;case"option":P=j;break;case"select":o._wrapperState={wasMultiple:!!j.multiple},P=te({},j,{value:void 0}),kt("invalid",o);break;case"textarea":be(o,j),P=ie(o,j),kt("invalid",o);break;default:P=j}zr(p,P),le=P;for(D in le)if(le.hasOwnProperty(D)){var de=le[D];D==="style"?gi(o,de):D==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,de!=null&&rr(o,de)):D==="children"?typeof de=="string"?(p!=="textarea"||de!=="")&&Tr(o,de):typeof de=="number"&&Tr(o,""+de):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(i.hasOwnProperty(D)?de!=null&&D==="onScroll"&&kt("scroll",o):de!=null&&_(o,D,de,V))}switch(p){case"input":K(o),k(o,j,!1);break;case"textarea":K(o),_e(o);break;case"option":j.value!=null&&o.setAttribute("value",""+O(j.value));break;case"select":o.multiple=!!j.multiple,D=j.value,D!=null?ue(o,!!j.multiple,D,!1):j.defaultValue!=null&&ue(o,!!j.multiple,j.defaultValue,!0);break;default:typeof P.onClick=="function"&&(o.onclick=qc)}switch(p){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return wr(u),null;case 6:if(o&&u.stateNode!=null)Nw(o,u,o.memoizedProps,j);else{if(typeof j!="string"&&u.stateNode===null)throw Error(r(166));if(p=Si(nl.current),Si(Fn.current),Jc(u)){if(j=u.stateNode,p=u.memoizedProps,j[Mn]=u,(D=j.nodeValue!==p)&&(o=Wr,o!==null))switch(o.tag){case 3:Wc(j.nodeValue,p,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Wc(j.nodeValue,p,(o.mode&1)!==0)}D&&(u.flags|=4)}else j=(p.nodeType===9?p:p.ownerDocument).createTextNode(j),j[Mn]=u,u.stateNode=j}return wr(u),null;case 13:if(Tt(It),j=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(At&&qr!==null&&(u.mode&1)!==0&&(u.flags&128)===0)k0(),ha(),u.flags|=98560,D=!1;else if(D=Jc(u),j!==null&&j.dehydrated!==null){if(o===null){if(!D)throw Error(r(318));if(D=u.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(r(317));D[Mn]=u}else ha(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;wr(u),D=!1}else gn!==null&&(ep(gn),gn=null),D=!0;if(!D)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=p,u):(j=j!==null,j!==(o!==null&&o.memoizedState!==null)&&j&&(u.child.flags|=8192,(u.mode&1)!==0&&(o===null||(It.current&1)!==0?Zt===0&&(Zt=3):np())),u.updateQueue!==null&&(u.flags|=4),wr(u),null);case 4:return ga(),$f(o,u),o===null&&Xo(u.stateNode.containerInfo),wr(u),null;case 10:return vf(u.type._context),wr(u),null;case 17:return Rr(u.type)&&Kc(),wr(u),null;case 19:if(Tt(It),D=u.memoizedState,D===null)return wr(u),null;if(j=(u.flags&128)!==0,V=D.rendering,V===null)if(j)ll(D,!1);else{if(Zt!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(V=su(o),V!==null){for(u.flags|=128,ll(D,!1),j=V.updateQueue,j!==null&&(u.updateQueue=j,u.flags|=4),u.subtreeFlags=0,j=p,p=u.child;p!==null;)D=p,o=j,D.flags&=14680066,V=D.alternate,V===null?(D.childLanes=0,D.lanes=o,D.child=null,D.subtreeFlags=0,D.memoizedProps=null,D.memoizedState=null,D.updateQueue=null,D.dependencies=null,D.stateNode=null):(D.childLanes=V.childLanes,D.lanes=V.lanes,D.child=V.child,D.subtreeFlags=0,D.deletions=null,D.memoizedProps=V.memoizedProps,D.memoizedState=V.memoizedState,D.updateQueue=V.updateQueue,D.type=V.type,o=V.dependencies,D.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),p=p.sibling;return St(It,It.current&1|2),u.child}o=o.sibling}D.tail!==null&&Ht()>wa&&(u.flags|=128,j=!0,ll(D,!1),u.lanes=4194304)}else{if(!j)if(o=su(V),o!==null){if(u.flags|=128,j=!0,p=o.updateQueue,p!==null&&(u.updateQueue=p,u.flags|=4),ll(D,!0),D.tail===null&&D.tailMode==="hidden"&&!V.alternate&&!At)return wr(u),null}else 2*Ht()-D.renderingStartTime>wa&&p!==1073741824&&(u.flags|=128,j=!0,ll(D,!1),u.lanes=4194304);D.isBackwards?(V.sibling=u.child,u.child=V):(p=D.last,p!==null?p.sibling=V:u.child=V,D.last=V)}return D.tail!==null?(u=D.tail,D.rendering=u,D.tail=u.sibling,D.renderingStartTime=Ht(),u.sibling=null,p=It.current,St(It,j?p&1|2:p&1),u):(wr(u),null);case 22:case 23:return rp(),j=u.memoizedState!==null,o!==null&&o.memoizedState!==null!==j&&(u.flags|=8192),j&&(u.mode&1)!==0?(Vr&1073741824)!==0&&(wr(u),u.subtreeFlags&6&&(u.flags|=8192)):wr(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function dR(o,u){switch(df(u),u.tag){case 1:return Rr(u.type)&&Kc(),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return ga(),Tt(Pr),Tt(yr),Sf(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 5:return jf(u),null;case 13:if(Tt(It),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));ha()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return Tt(It),null;case 4:return ga(),null;case 10:return vf(u.type._context),null;case 22:case 23:return rp(),null;case 24:return null;default:return null}}var fu=!1,br=!1,hR=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function ya(o,u){var p=o.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(j){Ft(o,u,j)}else p.current=null}function Wf(o,u,p){try{p()}catch(j){Ft(o,u,j)}}var Ew=!1;function fR(o,u){if(tf=Dc,o=s0(),Kh(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var j=p.getSelection&&p.getSelection();if(j&&j.rangeCount!==0){p=j.anchorNode;var P=j.anchorOffset,D=j.focusNode;j=j.focusOffset;try{p.nodeType,D.nodeType}catch{p=null;break e}var V=0,le=-1,de=-1,xe=0,ke=0,Ae=o,Ee=null;t:for(;;){for(var Fe;Ae!==p||P!==0&&Ae.nodeType!==3||(le=V+P),Ae!==D||j!==0&&Ae.nodeType!==3||(de=V+j),Ae.nodeType===3&&(V+=Ae.nodeValue.length),(Fe=Ae.firstChild)!==null;)Ee=Ae,Ae=Fe;for(;;){if(Ae===o)break t;if(Ee===p&&++xe===P&&(le=V),Ee===D&&++ke===j&&(de=V),(Fe=Ae.nextSibling)!==null)break;Ae=Ee,Ee=Ae.parentNode}Ae=Fe}p=le===-1||de===-1?null:{start:le,end:de}}else p=null}p=p||{start:0,end:0}}else p=null;for(rf={focusedElem:o,selectionRange:p},Dc=!1,Ue=u;Ue!==null;)if(u=Ue,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,Ue=o;else for(;Ue!==null;){u=Ue;try{var Be=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var ze=Be.memoizedProps,zt=Be.memoizedState,ve=u.stateNode,fe=ve.getSnapshotBeforeUpdate(u.elementType===u.type?ze:vn(u.type,ze),zt);ve.__reactInternalSnapshotBeforeUpdate=fe}break;case 3:var ye=u.stateNode.containerInfo;ye.nodeType===1?ye.textContent="":ye.nodeType===9&&ye.documentElement&&ye.removeChild(ye.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ie){Ft(u,u.return,Ie)}if(o=u.sibling,o!==null){o.return=u.return,Ue=o;break}Ue=u.return}return Be=Ew,Ew=!1,Be}function cl(o,u,p){var j=u.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var P=j=j.next;do{if((P.tag&o)===o){var D=P.destroy;P.destroy=void 0,D!==void 0&&Wf(u,p,D)}P=P.next}while(P!==j)}}function pu(o,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&o)===o){var j=p.create;p.destroy=j()}p=p.next}while(p!==u)}}function qf(o){var u=o.ref;if(u!==null){var p=o.stateNode;o.tag,o=p,typeof u=="function"?u(o):u.current=o}}function Cw(o){var u=o.alternate;u!==null&&(o.alternate=null,Cw(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&(delete u[Mn],delete u[Jo],delete u[of],delete u[YP],delete u[XP])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function kw(o){return o.tag===5||o.tag===3||o.tag===4}function Tw(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||kw(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Vf(o,u,p){var j=o.tag;if(j===5||j===6)o=o.stateNode,u?p.nodeType===8?p.parentNode.insertBefore(o,u):p.insertBefore(o,u):(p.nodeType===8?(u=p.parentNode,u.insertBefore(o,p)):(u=p,u.appendChild(o)),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=qc));else if(j!==4&&(o=o.child,o!==null))for(Vf(o,u,p),o=o.sibling;o!==null;)Vf(o,u,p),o=o.sibling}function Kf(o,u,p){var j=o.tag;if(j===5||j===6)o=o.stateNode,u?p.insertBefore(o,u):p.appendChild(o);else if(j!==4&&(o=o.child,o!==null))for(Kf(o,u,p),o=o.sibling;o!==null;)Kf(o,u,p),o=o.sibling}var fr=null,yn=!1;function Us(o,u,p){for(p=p.child;p!==null;)Pw(o,u,p),p=p.sibling}function Pw(o,u,p){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(Cc,p)}catch{}switch(p.tag){case 5:br||ya(p,u);case 6:var j=fr,P=yn;fr=null,Us(o,u,p),fr=j,yn=P,fr!==null&&(yn?(o=fr,p=p.stateNode,o.nodeType===8?o.parentNode.removeChild(p):o.removeChild(p)):fr.removeChild(p.stateNode));break;case 18:fr!==null&&(yn?(o=fr,p=p.stateNode,o.nodeType===8?af(o.parentNode,p):o.nodeType===1&&af(o,p),Ho(o)):af(fr,p.stateNode));break;case 4:j=fr,P=yn,fr=p.stateNode.containerInfo,yn=!0,Us(o,u,p),fr=j,yn=P;break;case 0:case 11:case 14:case 15:if(!br&&(j=p.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){P=j=j.next;do{var D=P,V=D.destroy;D=D.tag,V!==void 0&&((D&2)!==0||(D&4)!==0)&&Wf(p,u,V),P=P.next}while(P!==j)}Us(o,u,p);break;case 1:if(!br&&(ya(p,u),j=p.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=p.memoizedProps,j.state=p.memoizedState,j.componentWillUnmount()}catch(le){Ft(p,u,le)}Us(o,u,p);break;case 21:Us(o,u,p);break;case 22:p.mode&1?(br=(j=br)||p.memoizedState!==null,Us(o,u,p),br=j):Us(o,u,p);break;default:Us(o,u,p)}}function Rw(o){var u=o.updateQueue;if(u!==null){o.updateQueue=null;var p=o.stateNode;p===null&&(p=o.stateNode=new hR),u.forEach(function(j){var P=jR.bind(null,o,j);p.has(j)||(p.add(j),j.then(P,P))})}}function xn(o,u){var p=u.deletions;if(p!==null)for(var j=0;j<p.length;j++){var P=p[j];try{var D=o,V=u,le=V;e:for(;le!==null;){switch(le.tag){case 5:fr=le.stateNode,yn=!1;break e;case 3:fr=le.stateNode.containerInfo,yn=!0;break e;case 4:fr=le.stateNode.containerInfo,yn=!0;break e}le=le.return}if(fr===null)throw Error(r(160));Pw(D,V,P),fr=null,yn=!1;var de=P.alternate;de!==null&&(de.return=null),P.return=null}catch(xe){Ft(P,u,xe)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)Aw(u,o),u=u.sibling}function Aw(o,u){var p=o.alternate,j=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(xn(u,o),Un(o),j&4){try{cl(3,o,o.return),pu(3,o)}catch(ze){Ft(o,o.return,ze)}try{cl(5,o,o.return)}catch(ze){Ft(o,o.return,ze)}}break;case 1:xn(u,o),Un(o),j&512&&p!==null&&ya(p,p.return);break;case 5:if(xn(u,o),Un(o),j&512&&p!==null&&ya(p,p.return),o.flags&32){var P=o.stateNode;try{Tr(P,"")}catch(ze){Ft(o,o.return,ze)}}if(j&4&&(P=o.stateNode,P!=null)){var D=o.memoizedProps,V=p!==null?p.memoizedProps:D,le=o.type,de=o.updateQueue;if(o.updateQueue=null,de!==null)try{le==="input"&&D.type==="radio"&&D.name!=null&&B(P,D),Zi(le,V);var xe=Zi(le,D);for(V=0;V<de.length;V+=2){var ke=de[V],Ae=de[V+1];ke==="style"?gi(P,Ae):ke==="dangerouslySetInnerHTML"?rr(P,Ae):ke==="children"?Tr(P,Ae):_(P,ke,Ae,xe)}switch(le){case"input":C(P,D);break;case"textarea":Ne(P,D);break;case"select":var Ee=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!D.multiple;var Fe=D.value;Fe!=null?ue(P,!!D.multiple,Fe,!1):Ee!==!!D.multiple&&(D.defaultValue!=null?ue(P,!!D.multiple,D.defaultValue,!0):ue(P,!!D.multiple,D.multiple?[]:"",!1))}P[Jo]=D}catch(ze){Ft(o,o.return,ze)}}break;case 6:if(xn(u,o),Un(o),j&4){if(o.stateNode===null)throw Error(r(162));P=o.stateNode,D=o.memoizedProps;try{P.nodeValue=D}catch(ze){Ft(o,o.return,ze)}}break;case 3:if(xn(u,o),Un(o),j&4&&p!==null&&p.memoizedState.isDehydrated)try{Ho(u.containerInfo)}catch(ze){Ft(o,o.return,ze)}break;case 4:xn(u,o),Un(o);break;case 13:xn(u,o),Un(o),P=o.child,P.flags&8192&&(D=P.memoizedState!==null,P.stateNode.isHidden=D,!D||P.alternate!==null&&P.alternate.memoizedState!==null||(Xf=Ht())),j&4&&Rw(o);break;case 22:if(ke=p!==null&&p.memoizedState!==null,o.mode&1?(br=(xe=br)||ke,xn(u,o),br=xe):xn(u,o),Un(o),j&8192){if(xe=o.memoizedState!==null,(o.stateNode.isHidden=xe)&&!ke&&(o.mode&1)!==0)for(Ue=o,ke=o.child;ke!==null;){for(Ae=Ue=ke;Ue!==null;){switch(Ee=Ue,Fe=Ee.child,Ee.tag){case 0:case 11:case 14:case 15:cl(4,Ee,Ee.return);break;case 1:ya(Ee,Ee.return);var Be=Ee.stateNode;if(typeof Be.componentWillUnmount=="function"){j=Ee,p=Ee.return;try{u=j,Be.props=u.memoizedProps,Be.state=u.memoizedState,Be.componentWillUnmount()}catch(ze){Ft(j,p,ze)}}break;case 5:ya(Ee,Ee.return);break;case 22:if(Ee.memoizedState!==null){Ow(Ae);continue}}Fe!==null?(Fe.return=Ee,Ue=Fe):Ow(Ae)}ke=ke.sibling}e:for(ke=null,Ae=o;;){if(Ae.tag===5){if(ke===null){ke=Ae;try{P=Ae.stateNode,xe?(D=P.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none"):(le=Ae.stateNode,de=Ae.memoizedProps.style,V=de!=null&&de.hasOwnProperty("display")?de.display:null,le.style.display=Rt("display",V))}catch(ze){Ft(o,o.return,ze)}}}else if(Ae.tag===6){if(ke===null)try{Ae.stateNode.nodeValue=xe?"":Ae.memoizedProps}catch(ze){Ft(o,o.return,ze)}}else if((Ae.tag!==22&&Ae.tag!==23||Ae.memoizedState===null||Ae===o)&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===o)break e;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===o)break e;ke===Ae&&(ke=null),Ae=Ae.return}ke===Ae&&(ke=null),Ae.sibling.return=Ae.return,Ae=Ae.sibling}}break;case 19:xn(u,o),Un(o),j&4&&Rw(o);break;case 21:break;default:xn(u,o),Un(o)}}function Un(o){var u=o.flags;if(u&2){try{e:{for(var p=o.return;p!==null;){if(kw(p)){var j=p;break e}p=p.return}throw Error(r(160))}switch(j.tag){case 5:var P=j.stateNode;j.flags&32&&(Tr(P,""),j.flags&=-33);var D=Tw(o);Kf(o,D,P);break;case 3:case 4:var V=j.stateNode.containerInfo,le=Tw(o);Vf(o,le,V);break;default:throw Error(r(161))}}catch(de){Ft(o,o.return,de)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function pR(o,u,p){Ue=o,Dw(o)}function Dw(o,u,p){for(var j=(o.mode&1)!==0;Ue!==null;){var P=Ue,D=P.child;if(P.tag===22&&j){var V=P.memoizedState!==null||fu;if(!V){var le=P.alternate,de=le!==null&&le.memoizedState!==null||br;le=fu;var xe=br;if(fu=V,(br=de)&&!xe)for(Ue=P;Ue!==null;)V=Ue,de=V.child,V.tag===22&&V.memoizedState!==null?Mw(P):de!==null?(de.return=V,Ue=de):Mw(P);for(;D!==null;)Ue=D,Dw(D),D=D.sibling;Ue=P,fu=le,br=xe}Iw(o)}else(P.subtreeFlags&8772)!==0&&D!==null?(D.return=P,Ue=D):Iw(o)}}function Iw(o){for(;Ue!==null;){var u=Ue;if((u.flags&8772)!==0){var p=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:br||pu(5,u);break;case 1:var j=u.stateNode;if(u.flags&4&&!br)if(p===null)j.componentDidMount();else{var P=u.elementType===u.type?p.memoizedProps:vn(u.type,p.memoizedProps);j.componentDidUpdate(P,p.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var D=u.updateQueue;D!==null&&O0(u,D,j);break;case 3:var V=u.updateQueue;if(V!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=u.child.stateNode;break;case 1:p=u.child.stateNode}O0(u,V,p)}break;case 5:var le=u.stateNode;if(p===null&&u.flags&4){p=le;var de=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":de.autoFocus&&p.focus();break;case"img":de.src&&(p.src=de.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var xe=u.alternate;if(xe!==null){var ke=xe.memoizedState;if(ke!==null){var Ae=ke.dehydrated;Ae!==null&&Ho(Ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}br||u.flags&512&&qf(u)}catch(Ee){Ft(u,u.return,Ee)}}if(u===o){Ue=null;break}if(p=u.sibling,p!==null){p.return=u.return,Ue=p;break}Ue=u.return}}function Ow(o){for(;Ue!==null;){var u=Ue;if(u===o){Ue=null;break}var p=u.sibling;if(p!==null){p.return=u.return,Ue=p;break}Ue=u.return}}function Mw(o){for(;Ue!==null;){var u=Ue;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{pu(4,u)}catch(de){Ft(u,p,de)}break;case 1:var j=u.stateNode;if(typeof j.componentDidMount=="function"){var P=u.return;try{j.componentDidMount()}catch(de){Ft(u,P,de)}}var D=u.return;try{qf(u)}catch(de){Ft(u,D,de)}break;case 5:var V=u.return;try{qf(u)}catch(de){Ft(u,V,de)}}}catch(de){Ft(u,u.return,de)}if(u===o){Ue=null;break}var le=u.sibling;if(le!==null){le.return=u.return,Ue=le;break}Ue=u.return}}var mR=Math.ceil,mu=S.ReactCurrentDispatcher,Gf=S.ReactCurrentOwner,nn=S.ReactCurrentBatchConfig,mt=0,sr=null,Yt=null,pr=0,Vr=0,xa=Is(0),Zt=0,ul=null,Ei=0,gu=0,Yf=0,dl=null,Dr=null,Xf=0,wa=1/0,fs=null,vu=!1,Qf=null,Bs=null,yu=!1,Hs=null,xu=0,hl=0,Jf=null,wu=-1,bu=0;function Nr(){return(mt&6)!==0?Ht():wu!==-1?wu:wu=Ht()}function zs(o){return(o.mode&1)===0?1:(mt&2)!==0&&pr!==0?pr&-pr:JP.transition!==null?(bu===0&&(bu=Tx()),bu):(o=wt,o!==0||(o=window.event,o=o===void 0?16:Lx(o.type)),o)}function wn(o,u,p,j){if(50<hl)throw hl=0,Jf=null,Error(r(185));Mo(o,p,j),((mt&2)===0||o!==sr)&&(o===sr&&((mt&2)===0&&(gu|=p),Zt===4&&$s(o,pr)),Ir(o,j),p===1&&mt===0&&(u.mode&1)===0&&(wa=Ht()+500,Yc&&Ms()))}function Ir(o,u){var p=o.callbackNode;J2(o,u);var j=Pc(o,o===sr?pr:0);if(j===0)p!==null&&Ex(p),o.callbackNode=null,o.callbackPriority=0;else if(u=j&-j,o.callbackPriority!==u){if(p!=null&&Ex(p),u===1)o.tag===0?QP(Lw.bind(null,o)):_0(Lw.bind(null,o)),KP(function(){(mt&6)===0&&Ms()}),p=null;else{switch(Px(j)){case 1:p=Ph;break;case 4:p=Cx;break;case 16:p=Ec;break;case 536870912:p=kx;break;default:p=Ec}p=Vw(p,Fw.bind(null,o))}o.callbackPriority=u,o.callbackNode=p}}function Fw(o,u){if(wu=-1,bu=0,(mt&6)!==0)throw Error(r(327));var p=o.callbackNode;if(ba()&&o.callbackNode!==p)return null;var j=Pc(o,o===sr?pr:0);if(j===0)return null;if((j&30)!==0||(j&o.expiredLanes)!==0||u)u=ju(o,j);else{u=j;var P=mt;mt|=2;var D=Bw();(sr!==o||pr!==u)&&(fs=null,wa=Ht()+500,ki(o,u));do try{yR();break}catch(le){Uw(o,le)}while(!0);gf(),mu.current=D,mt=P,Yt!==null?u=0:(sr=null,pr=0,u=Zt)}if(u!==0){if(u===2&&(P=Rh(o),P!==0&&(j=P,u=Zf(o,P))),u===1)throw p=ul,ki(o,0),$s(o,j),Ir(o,Ht()),p;if(u===6)$s(o,j);else{if(P=o.current.alternate,(j&30)===0&&!gR(P)&&(u=ju(o,j),u===2&&(D=Rh(o),D!==0&&(j=D,u=Zf(o,D))),u===1))throw p=ul,ki(o,0),$s(o,j),Ir(o,Ht()),p;switch(o.finishedWork=P,o.finishedLanes=j,u){case 0:case 1:throw Error(r(345));case 2:Ti(o,Dr,fs);break;case 3:if($s(o,j),(j&130023424)===j&&(u=Xf+500-Ht(),10<u)){if(Pc(o,0)!==0)break;if(P=o.suspendedLanes,(P&j)!==j){Nr(),o.pingedLanes|=o.suspendedLanes&P;break}o.timeoutHandle=sf(Ti.bind(null,o,Dr,fs),u);break}Ti(o,Dr,fs);break;case 4:if($s(o,j),(j&4194240)===j)break;for(u=o.eventTimes,P=-1;0<j;){var V=31-pn(j);D=1<<V,V=u[V],V>P&&(P=V),j&=~D}if(j=P,j=Ht()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*mR(j/1960))-j,10<j){o.timeoutHandle=sf(Ti.bind(null,o,Dr,fs),j);break}Ti(o,Dr,fs);break;case 5:Ti(o,Dr,fs);break;default:throw Error(r(329))}}}return Ir(o,Ht()),o.callbackNode===p?Fw.bind(null,o):null}function Zf(o,u){var p=dl;return o.current.memoizedState.isDehydrated&&(ki(o,u).flags|=256),o=ju(o,u),o!==2&&(u=Dr,Dr=p,u!==null&&ep(u)),o}function ep(o){Dr===null?Dr=o:Dr.push.apply(Dr,o)}function gR(o){for(var u=o;;){if(u.flags&16384){var p=u.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var j=0;j<p.length;j++){var P=p[j],D=P.getSnapshot;P=P.value;try{if(!mn(D(),P))return!1}catch{return!1}}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function $s(o,u){for(u&=~Yf,u&=~gu,o.suspendedLanes|=u,o.pingedLanes&=~u,o=o.expirationTimes;0<u;){var p=31-pn(u),j=1<<p;o[p]=-1,u&=~j}}function Lw(o){if((mt&6)!==0)throw Error(r(327));ba();var u=Pc(o,0);if((u&1)===0)return Ir(o,Ht()),null;var p=ju(o,u);if(o.tag!==0&&p===2){var j=Rh(o);j!==0&&(u=j,p=Zf(o,j))}if(p===1)throw p=ul,ki(o,0),$s(o,u),Ir(o,Ht()),p;if(p===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=u,Ti(o,Dr,fs),Ir(o,Ht()),null}function tp(o,u){var p=mt;mt|=1;try{return o(u)}finally{mt=p,mt===0&&(wa=Ht()+500,Yc&&Ms())}}function Ci(o){Hs!==null&&Hs.tag===0&&(mt&6)===0&&ba();var u=mt;mt|=1;var p=nn.transition,j=wt;try{if(nn.transition=null,wt=1,o)return o()}finally{wt=j,nn.transition=p,mt=u,(mt&6)===0&&Ms()}}function rp(){Vr=xa.current,Tt(xa)}function ki(o,u){o.finishedWork=null,o.finishedLanes=0;var p=o.timeoutHandle;if(p!==-1&&(o.timeoutHandle=-1,VP(p)),Yt!==null)for(p=Yt.return;p!==null;){var j=p;switch(df(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&Kc();break;case 3:ga(),Tt(Pr),Tt(yr),Sf();break;case 5:jf(j);break;case 4:ga();break;case 13:Tt(It);break;case 19:Tt(It);break;case 10:vf(j.type._context);break;case 22:case 23:rp()}p=p.return}if(sr=o,Yt=o=Ws(o.current,null),pr=Vr=u,Zt=0,ul=null,Yf=gu=Ei=0,Dr=dl=null,_i!==null){for(u=0;u<_i.length;u++)if(p=_i[u],j=p.interleaved,j!==null){p.interleaved=null;var P=j.next,D=p.pending;if(D!==null){var V=D.next;D.next=P,j.next=V}p.pending=j}_i=null}return o}function Uw(o,u){do{var p=Yt;try{if(gf(),iu.current=cu,au){for(var j=Ot.memoizedState;j!==null;){var P=j.queue;P!==null&&(P.pending=null),j=j.next}au=!1}if(Ni=0,nr=Jt=Ot=null,sl=!1,il=0,Gf.current=null,p===null||p.return===null){Zt=1,ul=u,Yt=null;break}e:{var D=o,V=p.return,le=p,de=u;if(u=pr,le.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var xe=de,ke=le,Ae=ke.tag;if((ke.mode&1)===0&&(Ae===0||Ae===11||Ae===15)){var Ee=ke.alternate;Ee?(ke.updateQueue=Ee.updateQueue,ke.memoizedState=Ee.memoizedState,ke.lanes=Ee.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var Fe=uw(V);if(Fe!==null){Fe.flags&=-257,dw(Fe,V,le,D,u),Fe.mode&1&&cw(D,xe,u),u=Fe,de=xe;var Be=u.updateQueue;if(Be===null){var ze=new Set;ze.add(de),u.updateQueue=ze}else Be.add(de);break e}else{if((u&1)===0){cw(D,xe,u),np();break e}de=Error(r(426))}}else if(At&&le.mode&1){var zt=uw(V);if(zt!==null){(zt.flags&65536)===0&&(zt.flags|=256),dw(zt,V,le,D,u),pf(va(de,le));break e}}D=de=va(de,le),Zt!==4&&(Zt=2),dl===null?dl=[D]:dl.push(D),D=V;do{switch(D.tag){case 3:D.flags|=65536,u&=-u,D.lanes|=u;var ve=ow(D,de,u);I0(D,ve);break e;case 1:le=de;var fe=D.type,ye=D.stateNode;if((D.flags&128)===0&&(typeof fe.getDerivedStateFromError=="function"||ye!==null&&typeof ye.componentDidCatch=="function"&&(Bs===null||!Bs.has(ye)))){D.flags|=65536,u&=-u,D.lanes|=u;var Ie=lw(D,le,u);I0(D,Ie);break e}}D=D.return}while(D!==null)}zw(p)}catch($e){u=$e,Yt===p&&p!==null&&(Yt=p=p.return);continue}break}while(!0)}function Bw(){var o=mu.current;return mu.current=cu,o===null?cu:o}function np(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),sr===null||(Ei&268435455)===0&&(gu&268435455)===0||$s(sr,pr)}function ju(o,u){var p=mt;mt|=2;var j=Bw();(sr!==o||pr!==u)&&(fs=null,ki(o,u));do try{vR();break}catch(P){Uw(o,P)}while(!0);if(gf(),mt=p,mu.current=j,Yt!==null)throw Error(r(261));return sr=null,pr=0,Zt}function vR(){for(;Yt!==null;)Hw(Yt)}function yR(){for(;Yt!==null&&!$2();)Hw(Yt)}function Hw(o){var u=qw(o.alternate,o,Vr);o.memoizedProps=o.pendingProps,u===null?zw(o):Yt=u,Gf.current=null}function zw(o){var u=o;do{var p=u.alternate;if(o=u.return,(u.flags&32768)===0){if(p=uR(p,u,Vr),p!==null){Yt=p;return}}else{if(p=dR(p,u),p!==null){p.flags&=32767,Yt=p;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Zt=6,Yt=null;return}}if(u=u.sibling,u!==null){Yt=u;return}Yt=u=o}while(u!==null);Zt===0&&(Zt=5)}function Ti(o,u,p){var j=wt,P=nn.transition;try{nn.transition=null,wt=1,xR(o,u,p,j)}finally{nn.transition=P,wt=j}return null}function xR(o,u,p,j){do ba();while(Hs!==null);if((mt&6)!==0)throw Error(r(327));p=o.finishedWork;var P=o.finishedLanes;if(p===null)return null;if(o.finishedWork=null,o.finishedLanes=0,p===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var D=p.lanes|p.childLanes;if(Z2(o,D),o===sr&&(Yt=sr=null,pr=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||yu||(yu=!0,Vw(Ec,function(){return ba(),null})),D=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||D){D=nn.transition,nn.transition=null;var V=wt;wt=1;var le=mt;mt|=4,Gf.current=null,fR(o,p),Aw(p,o),UP(rf),Dc=!!tf,rf=tf=null,o.current=p,pR(p),W2(),mt=le,wt=V,nn.transition=D}else o.current=p;if(yu&&(yu=!1,Hs=o,xu=P),D=o.pendingLanes,D===0&&(Bs=null),K2(p.stateNode),Ir(o,Ht()),u!==null)for(j=o.onRecoverableError,p=0;p<u.length;p++)P=u[p],j(P.value,{componentStack:P.stack,digest:P.digest});if(vu)throw vu=!1,o=Qf,Qf=null,o;return(xu&1)!==0&&o.tag!==0&&ba(),D=o.pendingLanes,(D&1)!==0?o===Jf?hl++:(hl=0,Jf=o):hl=0,Ms(),null}function ba(){if(Hs!==null){var o=Px(xu),u=nn.transition,p=wt;try{if(nn.transition=null,wt=16>o?16:o,Hs===null)var j=!1;else{if(o=Hs,Hs=null,xu=0,(mt&6)!==0)throw Error(r(331));var P=mt;for(mt|=4,Ue=o.current;Ue!==null;){var D=Ue,V=D.child;if((Ue.flags&16)!==0){var le=D.deletions;if(le!==null){for(var de=0;de<le.length;de++){var xe=le[de];for(Ue=xe;Ue!==null;){var ke=Ue;switch(ke.tag){case 0:case 11:case 15:cl(8,ke,D)}var Ae=ke.child;if(Ae!==null)Ae.return=ke,Ue=Ae;else for(;Ue!==null;){ke=Ue;var Ee=ke.sibling,Fe=ke.return;if(Cw(ke),ke===xe){Ue=null;break}if(Ee!==null){Ee.return=Fe,Ue=Ee;break}Ue=Fe}}}var Be=D.alternate;if(Be!==null){var ze=Be.child;if(ze!==null){Be.child=null;do{var zt=ze.sibling;ze.sibling=null,ze=zt}while(ze!==null)}}Ue=D}}if((D.subtreeFlags&2064)!==0&&V!==null)V.return=D,Ue=V;else e:for(;Ue!==null;){if(D=Ue,(D.flags&2048)!==0)switch(D.tag){case 0:case 11:case 15:cl(9,D,D.return)}var ve=D.sibling;if(ve!==null){ve.return=D.return,Ue=ve;break e}Ue=D.return}}var fe=o.current;for(Ue=fe;Ue!==null;){V=Ue;var ye=V.child;if((V.subtreeFlags&2064)!==0&&ye!==null)ye.return=V,Ue=ye;else e:for(V=fe;Ue!==null;){if(le=Ue,(le.flags&2048)!==0)try{switch(le.tag){case 0:case 11:case 15:pu(9,le)}}catch($e){Ft(le,le.return,$e)}if(le===V){Ue=null;break e}var Ie=le.sibling;if(Ie!==null){Ie.return=le.return,Ue=Ie;break e}Ue=le.return}}if(mt=P,Ms(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(Cc,o)}catch{}j=!0}return j}finally{wt=p,nn.transition=u}}return!1}function $w(o,u,p){u=va(p,u),u=ow(o,u,1),o=Ls(o,u,1),u=Nr(),o!==null&&(Mo(o,1,u),Ir(o,u))}function Ft(o,u,p){if(o.tag===3)$w(o,o,p);else for(;u!==null;){if(u.tag===3){$w(u,o,p);break}else if(u.tag===1){var j=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Bs===null||!Bs.has(j))){o=va(p,o),o=lw(u,o,1),u=Ls(u,o,1),o=Nr(),u!==null&&(Mo(u,1,o),Ir(u,o));break}}u=u.return}}function wR(o,u,p){var j=o.pingCache;j!==null&&j.delete(u),u=Nr(),o.pingedLanes|=o.suspendedLanes&p,sr===o&&(pr&p)===p&&(Zt===4||Zt===3&&(pr&130023424)===pr&&500>Ht()-Xf?ki(o,0):Yf|=p),Ir(o,u)}function Ww(o,u){u===0&&((o.mode&1)===0?u=1:(u=Tc,Tc<<=1,(Tc&130023424)===0&&(Tc=4194304)));var p=Nr();o=us(o,u),o!==null&&(Mo(o,u,p),Ir(o,p))}function bR(o){var u=o.memoizedState,p=0;u!==null&&(p=u.retryLane),Ww(o,p)}function jR(o,u){var p=0;switch(o.tag){case 13:var j=o.stateNode,P=o.memoizedState;P!==null&&(p=P.retryLane);break;case 19:j=o.stateNode;break;default:throw Error(r(314))}j!==null&&j.delete(u),Ww(o,p)}var qw;qw=function(o,u,p){if(o!==null)if(o.memoizedProps!==u.pendingProps||Pr.current)Ar=!0;else{if((o.lanes&p)===0&&(u.flags&128)===0)return Ar=!1,cR(o,u,p);Ar=(o.flags&131072)!==0}else Ar=!1,At&&(u.flags&1048576)!==0&&S0(u,Qc,u.index);switch(u.lanes=0,u.tag){case 2:var j=u.type;hu(o,u),o=u.pendingProps;var P=ca(u,yr.current);ma(u,p),P=Cf(null,u,j,o,P,p);var D=kf();return u.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Rr(j)?(D=!0,Gc(u)):D=!1,u.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,wf(u),P.updater=uu,u.stateNode=P,P._reactInternals=u,If(u,j,o,p),u=Lf(null,u,j,!0,D,p)):(u.tag=0,At&&D&&uf(u),Sr(null,u,P,p),u=u.child),u;case 16:j=u.elementType;e:{switch(hu(o,u),o=u.pendingProps,P=j._init,j=P(j._payload),u.type=j,P=u.tag=SR(j),o=vn(j,o),P){case 0:u=Ff(null,u,j,o,p);break e;case 1:u=vw(null,u,j,o,p);break e;case 11:u=hw(null,u,j,o,p);break e;case 14:u=fw(null,u,j,vn(j.type,o),p);break e}throw Error(r(306,j,""))}return u;case 0:return j=u.type,P=u.pendingProps,P=u.elementType===j?P:vn(j,P),Ff(o,u,j,P,p);case 1:return j=u.type,P=u.pendingProps,P=u.elementType===j?P:vn(j,P),vw(o,u,j,P,p);case 3:e:{if(yw(u),o===null)throw Error(r(387));j=u.pendingProps,D=u.memoizedState,P=D.element,D0(o,u),nu(u,j,null,p);var V=u.memoizedState;if(j=V.element,D.isDehydrated)if(D={element:j,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},u.updateQueue.baseState=D,u.memoizedState=D,u.flags&256){P=va(Error(r(423)),u),u=xw(o,u,j,p,P);break e}else if(j!==P){P=va(Error(r(424)),u),u=xw(o,u,j,p,P);break e}else for(qr=Ds(u.stateNode.containerInfo.firstChild),Wr=u,At=!0,gn=null,p=R0(u,null,j,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(ha(),j===P){u=hs(o,u,p);break e}Sr(o,u,j,p)}u=u.child}return u;case 5:return M0(u),o===null&&ff(u),j=u.type,P=u.pendingProps,D=o!==null?o.memoizedProps:null,V=P.children,nf(j,P)?V=null:D!==null&&nf(j,D)&&(u.flags|=32),gw(o,u),Sr(o,u,V,p),u.child;case 6:return o===null&&ff(u),null;case 13:return ww(o,u,p);case 4:return bf(u,u.stateNode.containerInfo),j=u.pendingProps,o===null?u.child=fa(u,null,j,p):Sr(o,u,j,p),u.child;case 11:return j=u.type,P=u.pendingProps,P=u.elementType===j?P:vn(j,P),hw(o,u,j,P,p);case 7:return Sr(o,u,u.pendingProps,p),u.child;case 8:return Sr(o,u,u.pendingProps.children,p),u.child;case 12:return Sr(o,u,u.pendingProps.children,p),u.child;case 10:e:{if(j=u.type._context,P=u.pendingProps,D=u.memoizedProps,V=P.value,St(eu,j._currentValue),j._currentValue=V,D!==null)if(mn(D.value,V)){if(D.children===P.children&&!Pr.current){u=hs(o,u,p);break e}}else for(D=u.child,D!==null&&(D.return=u);D!==null;){var le=D.dependencies;if(le!==null){V=D.child;for(var de=le.firstContext;de!==null;){if(de.context===j){if(D.tag===1){de=ds(-1,p&-p),de.tag=2;var xe=D.updateQueue;if(xe!==null){xe=xe.shared;var ke=xe.pending;ke===null?de.next=de:(de.next=ke.next,ke.next=de),xe.pending=de}}D.lanes|=p,de=D.alternate,de!==null&&(de.lanes|=p),yf(D.return,p,u),le.lanes|=p;break}de=de.next}}else if(D.tag===10)V=D.type===u.type?null:D.child;else if(D.tag===18){if(V=D.return,V===null)throw Error(r(341));V.lanes|=p,le=V.alternate,le!==null&&(le.lanes|=p),yf(V,p,u),V=D.sibling}else V=D.child;if(V!==null)V.return=D;else for(V=D;V!==null;){if(V===u){V=null;break}if(D=V.sibling,D!==null){D.return=V.return,V=D;break}V=V.return}D=V}Sr(o,u,P.children,p),u=u.child}return u;case 9:return P=u.type,j=u.pendingProps.children,ma(u,p),P=tn(P),j=j(P),u.flags|=1,Sr(o,u,j,p),u.child;case 14:return j=u.type,P=vn(j,u.pendingProps),P=vn(j.type,P),fw(o,u,j,P,p);case 15:return pw(o,u,u.type,u.pendingProps,p);case 17:return j=u.type,P=u.pendingProps,P=u.elementType===j?P:vn(j,P),hu(o,u),u.tag=1,Rr(j)?(o=!0,Gc(u)):o=!1,ma(u,p),iw(u,j,P),If(u,j,P,p),Lf(null,u,j,!0,o,p);case 19:return jw(o,u,p);case 22:return mw(o,u,p)}throw Error(r(156,u.tag))};function Vw(o,u){return Nx(o,u)}function _R(o,u,p,j){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(o,u,p,j){return new _R(o,u,p,j)}function sp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function SR(o){if(typeof o=="function")return sp(o)?1:0;if(o!=null){if(o=o.$$typeof,o===z)return 11;if(o===Z)return 14}return 2}function Ws(o,u){var p=o.alternate;return p===null?(p=sn(o.tag,u,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=u,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&14680064,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,u=o.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p}function _u(o,u,p,j,P,D){var V=2;if(j=o,typeof o=="function")sp(o)&&(V=1);else if(typeof o=="string")V=5;else e:switch(o){case U:return Pi(p.children,P,D,u);case $:V=8,P|=8;break;case A:return o=sn(12,p,u,P|2),o.elementType=A,o.lanes=D,o;case G:return o=sn(13,p,u,P),o.elementType=G,o.lanes=D,o;case R:return o=sn(19,p,u,P),o.elementType=R,o.lanes=D,o;case q:return Su(p,P,D,u);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case J:V=10;break e;case pe:V=9;break e;case z:V=11;break e;case Z:V=14;break e;case ae:V=16,j=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return u=sn(V,p,u,P),u.elementType=o,u.type=j,u.lanes=D,u}function Pi(o,u,p,j){return o=sn(7,o,j,u),o.lanes=p,o}function Su(o,u,p,j){return o=sn(22,o,j,u),o.elementType=q,o.lanes=p,o.stateNode={isHidden:!1},o}function ip(o,u,p){return o=sn(6,o,null,u),o.lanes=p,o}function ap(o,u,p){return u=sn(4,o.children!==null?o.children:[],o.key,u),u.lanes=p,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}function NR(o,u,p,j,P){this.tag=u,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ah(0),this.expirationTimes=Ah(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ah(0),this.identifierPrefix=j,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function op(o,u,p,j,P,D,V,le,de){return o=new NR(o,u,p,le,de),u===1?(u=1,D===!0&&(u|=8)):u=0,D=sn(3,null,null,u),o.current=D,D.stateNode=o,D.memoizedState={element:j,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},wf(D),o}function ER(o,u,p){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:j==null?null:""+j,children:o,containerInfo:u,implementation:p}}function Kw(o){if(!o)return Os;o=o._reactInternals;e:{if(yi(o)!==o||o.tag!==1)throw Error(r(170));var u=o;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Rr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(o.tag===1){var p=o.type;if(Rr(p))return b0(o,p,u)}return u}function Gw(o,u,p,j,P,D,V,le,de){return o=op(p,j,!0,o,P,D,V,le,de),o.context=Kw(null),p=o.current,j=Nr(),P=zs(p),D=ds(j,P),D.callback=u??null,Ls(p,D,P),o.current.lanes=P,Mo(o,P,j),Ir(o,j),o}function Nu(o,u,p,j){var P=u.current,D=Nr(),V=zs(P);return p=Kw(p),u.context===null?u.context=p:u.pendingContext=p,u=ds(D,V),u.payload={element:o},j=j===void 0?null:j,j!==null&&(u.callback=j),o=Ls(P,u,V),o!==null&&(wn(o,P,V,D),ru(o,P,V)),V}function Eu(o){return o=o.current,o.child?(o.child.tag===5,o.child.stateNode):null}function Yw(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<u?p:u}}function lp(o,u){Yw(o,u),(o=o.alternate)&&Yw(o,u)}function CR(){return null}var Xw=typeof reportError=="function"?reportError:function(o){console.error(o)};function cp(o){this._internalRoot=o}Cu.prototype.render=cp.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));Nu(o,u,null,null)},Cu.prototype.unmount=cp.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;Ci(function(){Nu(null,o,null,null)}),u[as]=null}};function Cu(o){this._internalRoot=o}Cu.prototype.unstable_scheduleHydration=function(o){if(o){var u=Dx();o={blockedOn:null,target:o,priority:u};for(var p=0;p<Ps.length&&u!==0&&u<Ps[p].priority;p++);Ps.splice(p,0,o),p===0&&Mx(o)}};function up(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function ku(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Qw(){}function kR(o,u,p,j,P){if(P){if(typeof j=="function"){var D=j;j=function(){var xe=Eu(V);D.call(xe)}}var V=Gw(u,j,o,0,null,!1,!1,"",Qw);return o._reactRootContainer=V,o[as]=V.current,Xo(o.nodeType===8?o.parentNode:o),Ci(),V}for(;P=o.lastChild;)o.removeChild(P);if(typeof j=="function"){var le=j;j=function(){var xe=Eu(de);le.call(xe)}}var de=op(o,0,!1,null,null,!1,!1,"",Qw);return o._reactRootContainer=de,o[as]=de.current,Xo(o.nodeType===8?o.parentNode:o),Ci(function(){Nu(u,de,p,j)}),de}function Tu(o,u,p,j,P){var D=p._reactRootContainer;if(D){var V=D;if(typeof P=="function"){var le=P;P=function(){var de=Eu(V);le.call(de)}}Nu(u,V,o,P)}else V=kR(p,u,o,P,j);return Eu(V)}Rx=function(o){switch(o.tag){case 3:var u=o.stateNode;if(u.current.memoizedState.isDehydrated){var p=Oo(u.pendingLanes);p!==0&&(Dh(u,p|1),Ir(u,Ht()),(mt&6)===0&&(wa=Ht()+500,Ms()))}break;case 13:Ci(function(){var j=us(o,1);if(j!==null){var P=Nr();wn(j,o,1,P)}}),lp(o,1)}},Ih=function(o){if(o.tag===13){var u=us(o,134217728);if(u!==null){var p=Nr();wn(u,o,134217728,p)}lp(o,134217728)}},Ax=function(o){if(o.tag===13){var u=zs(o),p=us(o,u);if(p!==null){var j=Nr();wn(p,o,u,j)}lp(o,u)}},Dx=function(){return wt},Ix=function(o,u){var p=wt;try{return wt=o,u()}finally{wt=p}},Ro=function(o,u,p){switch(u){case"input":if(C(o,p),u=p.name,p.type==="radio"&&u!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<p.length;u++){var j=p[u];if(j!==o&&j.form===o.form){var P=Vc(j);if(!P)throw Error(r(90));X(j),C(j,P)}}}break;case"textarea":Ne(o,p);break;case"select":u=p.value,u!=null&&ue(o,!!p.multiple,u,!1)}},yx=tp,xx=Ci;var TR={usingClientEntryPoint:!1,Events:[Zo,oa,Vc,gx,vx,tp]},fl={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PR={bundleType:fl.bundleType,version:fl.version,rendererPackageName:fl.rendererPackageName,rendererConfig:fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=_x(o),o===null?null:o.stateNode},findFiberByHostInstance:fl.findFiberByHostInstance||CR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{Cc=Pu.inject(PR),On=Pu}catch{}}return Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TR,Or.createPortal=function(o,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!up(u))throw Error(r(200));return ER(o,u,null,p)},Or.createRoot=function(o,u){if(!up(o))throw Error(r(299));var p=!1,j="",P=Xw;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(j=u.identifierPrefix),u.onRecoverableError!==void 0&&(P=u.onRecoverableError)),u=op(o,1,!1,null,null,p,!1,j,P),o[as]=u.current,Xo(o.nodeType===8?o.parentNode:o),new cp(u)},Or.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=_x(u),o=o===null?null:o.stateNode,o},Or.flushSync=function(o){return Ci(o)},Or.hydrate=function(o,u,p){if(!ku(u))throw Error(r(200));return Tu(null,o,u,!0,p)},Or.hydrateRoot=function(o,u,p){if(!up(o))throw Error(r(405));var j=p!=null&&p.hydratedSources||null,P=!1,D="",V=Xw;if(p!=null&&(p.unstable_strictMode===!0&&(P=!0),p.identifierPrefix!==void 0&&(D=p.identifierPrefix),p.onRecoverableError!==void 0&&(V=p.onRecoverableError)),u=Gw(u,null,o,1,p??null,P,!1,D,V),o[as]=u.current,Xo(o),j)for(o=0;o<j.length;o++)p=j[o],P=p._getVersion,P=P(p._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[p,P]:u.mutableSourceEagerHydrationData.push(p,P);return new Cu(u)},Or.render=function(o,u,p){if(!ku(u))throw Error(r(200));return Tu(null,o,u,!1,p)},Or.unmountComponentAtNode=function(o){if(!ku(o))throw Error(r(40));return o._reactRootContainer?(Ci(function(){Tu(null,null,o,!1,function(){o._reactRootContainer=null,o[as]=null})}),!0):!1},Or.unstable_batchedUpdates=tp,Or.unstable_renderSubtreeIntoContainer=function(o,u,p,j){if(!ku(p))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Tu(o,u,p,!1,j)},Or.version="18.3.1-next-f1338f8080-20240426",Or}var ib;function Q_(){if(ib)return fp.exports;ib=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fp.exports=UR(),fp.exports}var ab;function BR(){if(ab)return Ru;ab=1;var e=Q_();return Ru.createRoot=e.createRoot,Ru.hydrateRoot=e.hydrateRoot,Ru}var HR=BR(),go=Q_();const zR=kv(go);function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fl.apply(this,arguments)}var Zs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Zs||(Zs={}));const ob="popstate";function $R(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:c,hash:l}=n.location;return Mg("",{pathname:a,search:c,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:fd(i)}return qR(t,r,null,e)}function Qt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Pv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WR(){return Math.random().toString(36).substr(2,8)}function lb(e,t){return{usr:e.state,key:e.key,idx:t}}function Mg(e,t,r,n){return r===void 0&&(r=null),Fl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?vo(t):t,{state:r,key:t&&t.key||n||WR()})}function fd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function vo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function qR(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,c=i.history,l=Zs.Pop,d=null,h=f();h==null&&(h=0,c.replaceState(Fl({},c.state,{idx:h}),""));function f(){return(c.state||{idx:null}).idx}function m(){l=Zs.Pop;let b=f(),w=b==null?null:b-h;h=b,d&&d({action:l,location:y.location,delta:w})}function g(b,w){l=Zs.Push;let N=Mg(y.location,b,w);h=f()+1;let _=lb(N,h),S=y.createHref(N);try{c.pushState(_,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(S)}a&&d&&d({action:l,location:y.location,delta:1})}function v(b,w){l=Zs.Replace;let N=Mg(y.location,b,w);h=f();let _=lb(N,h),S=y.createHref(N);c.replaceState(_,"",S),a&&d&&d({action:l,location:y.location,delta:0})}function x(b){let w=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof b=="string"?b:fd(b);return N=N.replace(/ $/,"%20"),Qt(w,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,w)}let y={get action(){return l},get location(){return e(i,c)},listen(b){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(ob,m),d=b,()=>{i.removeEventListener(ob,m),d=null}},createHref(b){return t(i,b)},createURL:x,encodeLocation(b){let w=x(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:v,go(b){return c.go(b)}};return y}var cb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cb||(cb={}));function VR(e,t,r){return r===void 0&&(r="/"),KR(e,t,r)}function KR(e,t,r,n){let i=typeof t=="string"?vo(t):t,a=Rv(i.pathname||"/",r);if(a==null)return null;let c=J_(e);GR(c);let l=null;for(let d=0;l==null&&d<c.length;++d){let h=aA(a);l=nA(c[d],h)}return l}function J_(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,c,l)=>{let d={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};d.relativePath.startsWith("/")&&(Qt(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let h=ei([n,d.relativePath]),f=r.concat(d);a.children&&a.children.length>0&&(Qt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),J_(a.children,t,f,h)),!(a.path==null&&!a.index)&&t.push({path:h,score:tA(h,a.index),routesMeta:f})};return e.forEach((a,c)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,c);else for(let d of Z_(a.path))i(a,c,d)}),t}function Z_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let c=Z_(n.join("/")),l=[];return l.push(...c.map(d=>d===""?a:[a,d].join("/"))),i&&l.push(...c),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function GR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:rA(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const YR=/^:[\w-]+$/,XR=3,QR=2,JR=1,ZR=10,eA=-2,ub=e=>e==="*";function tA(e,t){let r=e.split("/"),n=r.length;return r.some(ub)&&(n+=eA),t&&(n+=QR),r.filter(i=>!ub(i)).reduce((i,a)=>i+(YR.test(a)?XR:a===""?JR:ZR),n)}function rA(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function nA(e,t,r){let{routesMeta:n}=e,i={},a="/",c=[];for(let l=0;l<n.length;++l){let d=n[l],h=l===n.length-1,f=a==="/"?t:t.slice(a.length)||"/",m=sA({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},f),g=d.route;if(!m)return null;Object.assign(i,m.params),c.push({params:i,pathname:ei([a,m.pathname]),pathnameBase:dA(ei([a,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(a=ei([a,m.pathnameBase]))}return c}function sA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=iA(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((h,f,m)=>{let{paramName:g,isOptional:v}=f;if(g==="*"){let y=l[m]||"";c=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const x=l[m];return v&&!x?h[g]=void 0:h[g]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:c,pattern:e}}function iA(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Pv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,l,d)=>(n.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function aA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Rv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const oA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lA=e=>oA.test(e);function cA(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?vo(e):e,a;if(r)if(lA(r))a=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),Pv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+r))}r.startsWith("/")?a=db(r.substring(1),"/"):a=db(r,t)}else a=t;return{pathname:a,search:hA(n),hash:fA(i)}}function db(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function gp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uA(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function eS(e,t){let r=uA(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function tS(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=vo(e):(i=Fl({},e),Qt(!i.pathname||!i.pathname.includes("?"),gp("?","pathname","search",i)),Qt(!i.pathname||!i.pathname.includes("#"),gp("#","pathname","hash",i)),Qt(!i.search||!i.search.includes("#"),gp("#","search","hash",i)));let a=e===""||i.pathname==="",c=a?"/":i.pathname,l;if(c==null)l=r;else{let m=t.length-1;if(!n&&c.startsWith("..")){let g=c.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}l=m>=0?t[m]:"/"}let d=cA(i,l),h=c&&c!=="/"&&c.endsWith("/"),f=(a||c===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||f)&&(d.pathname+="/"),d}const ei=e=>e.join("/").replace(/\/\/+/g,"/"),dA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const rS=["post","put","patch","delete"];new Set(rS);const mA=["get",...rS];new Set(mA);function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ll.apply(this,arguments)}const Av=E.createContext(null),gA=E.createContext(null),Vi=E.createContext(null),Od=E.createContext(null),oi=E.createContext({outlet:null,matches:[],isDataRoute:!1}),nS=E.createContext(null);function vA(e,t){let{relative:r}=t===void 0?{}:t;Gl()||Qt(!1);let{basename:n,navigator:i}=E.useContext(Vi),{hash:a,pathname:c,search:l}=iS(e,{relative:r}),d=c;return n!=="/"&&(d=c==="/"?n:ei([n,c])),i.createHref({pathname:d,search:l,hash:a})}function Gl(){return E.useContext(Od)!=null}function Ki(){return Gl()||Qt(!1),E.useContext(Od).location}function sS(e){E.useContext(Vi).static||E.useLayoutEffect(e)}function Dn(){let{isDataRoute:e}=E.useContext(oi);return e?PA():yA()}function yA(){Gl()||Qt(!1);let e=E.useContext(Av),{basename:t,future:r,navigator:n}=E.useContext(Vi),{matches:i}=E.useContext(oi),{pathname:a}=Ki(),c=JSON.stringify(eS(i,r.v7_relativeSplatPath)),l=E.useRef(!1);return sS(()=>{l.current=!0}),E.useCallback(function(h,f){if(f===void 0&&(f={}),!l.current)return;if(typeof h=="number"){n.go(h);return}let m=tS(h,JSON.parse(c),a,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ei([t,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[t,n,c,a,e])}function Dv(){let{matches:e}=E.useContext(oi),t=e[e.length-1];return t?t.params:{}}function iS(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=E.useContext(Vi),{matches:i}=E.useContext(oi),{pathname:a}=Ki(),c=JSON.stringify(eS(i,n.v7_relativeSplatPath));return E.useMemo(()=>tS(e,JSON.parse(c),a,r==="path"),[e,c,a,r])}function xA(e,t){return wA(e,t)}function wA(e,t,r,n){Gl()||Qt(!1);let{navigator:i}=E.useContext(Vi),{matches:a}=E.useContext(oi),c=a[a.length-1],l=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let h=Ki(),f;if(t){var m;let b=typeof t=="string"?vo(t):t;d==="/"||(m=b.pathname)!=null&&m.startsWith(d)||Qt(!1),f=b}else f=h;let g=f.pathname||"/",v=g;if(d!=="/"){let b=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=VR(e,{pathname:v}),y=NA(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:ei([d,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:ei([d,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,r,n);return t&&y?E.createElement(Od.Provider,{value:{location:Ll({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Zs.Pop}},y):y}function bA(){let e=TA(),t=pA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),r?E.createElement("pre",{style:i},r):null,null)}const jA=E.createElement(bA,null);class _A extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?E.createElement(oi.Provider,{value:this.props.routeContext},E.createElement(nS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SA(e){let{routeContext:t,match:r,children:n}=e,i=E.useContext(Av);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),E.createElement(oi.Provider,{value:t},n)}function NA(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let f=c.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);f>=0||Qt(!1),c=c.slice(0,Math.min(c.length,f+1))}let d=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<c.length;f++){let m=c[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:g,errors:v}=r,x=m.route.loader&&g[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||x){d=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((f,m,g)=>{let v,x=!1,y=null,b=null;r&&(v=l&&m.route.id?l[m.route.id]:void 0,y=m.route.errorElement||jA,d&&(h<0&&g===0?(RA("route-fallback"),x=!0,b=null):h===g&&(x=!0,b=m.route.hydrateFallbackElement||null)));let w=t.concat(c.slice(0,g+1)),N=()=>{let _;return v?_=y:x?_=b:m.route.Component?_=E.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=f,E.createElement(SA,{match:m,routeContext:{outlet:f,matches:w,isDataRoute:r!=null},children:_})};return r&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?E.createElement(_A,{location:r.location,revalidation:r.revalidation,component:y,error:v,children:N(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):N()},null)}var aS=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(aS||{}),oS=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(oS||{});function EA(e){let t=E.useContext(Av);return t||Qt(!1),t}function CA(e){let t=E.useContext(gA);return t||Qt(!1),t}function kA(e){let t=E.useContext(oi);return t||Qt(!1),t}function lS(e){let t=kA(),r=t.matches[t.matches.length-1];return r.route.id||Qt(!1),r.route.id}function TA(){var e;let t=E.useContext(nS),r=CA(),n=lS();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function PA(){let{router:e}=EA(aS.UseNavigateStable),t=lS(oS.UseNavigateStable),r=E.useRef(!1);return sS(()=>{r.current=!0}),E.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ll({fromRouteId:t},a)))},[e,t])}const hb={};function RA(e,t,r){hb[e]||(hb[e]=!0)}function AA(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Fr(e){Qt(!1)}function DA(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Zs.Pop,navigator:a,static:c=!1,future:l}=e;Gl()&&Qt(!1);let d=t.replace(/^\/*/,"/"),h=E.useMemo(()=>({basename:d,navigator:a,static:c,future:Ll({v7_relativeSplatPath:!1},l)}),[d,l,a,c]);typeof n=="string"&&(n=vo(n));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:x="default"}=n,y=E.useMemo(()=>{let b=Rv(f,d);return b==null?null:{location:{pathname:b,search:m,hash:g,state:v,key:x},navigationType:i}},[d,f,m,g,v,x,i]);return y==null?null:E.createElement(Vi.Provider,{value:h},E.createElement(Od.Provider,{children:r,value:y}))}function IA(e){let{children:t,location:r}=e;return xA(Fg(t),r)}new Promise(()=>{});function Fg(e,t){t===void 0&&(t=[]);let r=[];return E.Children.forEach(e,(n,i)=>{if(!E.isValidElement(n))return;let a=[...t,i];if(n.type===E.Fragment){r.push.apply(r,Fg(n.props.children,a));return}n.type!==Fr&&Qt(!1),!n.props.index||!n.props.children||Qt(!1);let c={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Fg(n.props.children,a)),r.push(c)}),r}function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lg.apply(this,arguments)}function OA(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function MA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function FA(e,t){return e.button===0&&(!t||t==="_self")&&!MA(e)}function Ug(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function LA(e,t){let r=Ug(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const UA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],BA="6";try{window.__reactRouterVersion=BA}catch{}const HA="startTransition",fb=X_[HA];function zA(e){let{basename:t,children:r,future:n,window:i}=e,a=E.useRef();a.current==null&&(a.current=$R({window:i,v5Compat:!0}));let c=a.current,[l,d]=E.useState({action:c.action,location:c.location}),{v7_startTransition:h}=n||{},f=E.useCallback(m=>{h&&fb?fb(()=>d(m)):d(m)},[d,h]);return E.useLayoutEffect(()=>c.listen(f),[c,f]),E.useEffect(()=>AA(n),[n]),E.createElement(DA,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:c,future:n})}const $A=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qA=E.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:c,state:l,target:d,to:h,preventScrollReset:f,viewTransition:m}=t,g=OA(t,UA),{basename:v}=E.useContext(Vi),x,y=!1;if(typeof h=="string"&&WA.test(h)&&(x=h,$A))try{let _=new URL(window.location.href),S=h.startsWith("//")?new URL(_.protocol+h):new URL(h),T=Rv(S.pathname,v);S.origin===_.origin&&T!=null?h=T+S.search+S.hash:y=!0}catch{}let b=vA(h,{relative:i}),w=VA(h,{replace:c,state:l,target:d,preventScrollReset:f,relative:i,viewTransition:m});function N(_){n&&n(_),_.defaultPrevented||w(_)}return E.createElement("a",Lg({},g,{href:x||b,onClick:y||a?n:N,ref:r,target:d}))});var pb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(pb||(pb={}));var mb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(mb||(mb={}));function VA(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:c,viewTransition:l}=t===void 0?{}:t,d=Dn(),h=Ki(),f=iS(e,{relative:c});return E.useCallback(m=>{if(FA(m,r)){m.preventDefault();let g=n!==void 0?n:fd(h)===fd(f);d(e,{replace:g,state:i,preventScrollReset:a,relative:c,viewTransition:l})}},[h,d,f,n,i,r,e,a,c,l])}function KA(e){let t=E.useRef(Ug(e)),r=E.useRef(!1),n=Ki(),i=E.useMemo(()=>LA(n.search,r.current?null:t.current),[n.search]),a=Dn(),c=E.useCallback((l,d)=>{const h=Ug(typeof l=="function"?l(i):l);r.current=!0,a("?"+h,d)},[a,i]);return[i,c]}var Md=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Fd=typeof window>"u"||"Deno"in globalThis;function En(){}function GA(e,t){return typeof e=="function"?e(t):e}function YA(e){return typeof e=="number"&&e>=0&&e!==1/0}function XA(e,t){return Math.max(e+(t||0)-Date.now(),0)}function gb(e,t){return typeof e=="function"?e(t):e}function QA(e,t){return typeof e=="function"?e(t):e}function vb(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:c,stale:l}=e;if(c){if(n){if(t.queryHash!==Iv(c,t.options))return!1}else if(!Bl(t.queryKey,c))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function yb(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Ul(t.options.mutationKey)!==Ul(a))return!1}else if(!Bl(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function Iv(e,t){return(t?.queryKeyHashFn||Ul)(e)}function Ul(e){return JSON.stringify(e,(t,r)=>Bg(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Bl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Bl(e[r],t[r])):!1}function cS(e,t){if(e===t)return e;const r=xb(e)&&xb(t);if(r||Bg(e)&&Bg(t)){const n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),c=a.length,l=r?[]:{};let d=0;for(let h=0;h<c;h++){const f=r?h:a[h];(!r&&n.includes(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,d++):(l[f]=cS(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&d++)}return i===c&&d===i?e:l}return t}function xb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Bg(e){if(!wb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!wb(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function wb(e){return Object.prototype.toString.call(e)==="[object Object]"}function JA(e){return new Promise(t=>{setTimeout(t,e)})}function ZA(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?cS(e,t):t}function e4(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function t4(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Ov=Symbol();function uS(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Ov?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var r4=class extends Md{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Fd&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},dS=new r4,n4=class extends Md{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Fd&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},pd=new n4;function s4(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function i4(e){return Math.min(1e3*2**e,3e4)}function hS(e){return(e??"online")==="online"?pd.isOnline():!0}var fS=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function vp(e){return e instanceof fS}function pS(e){let t=!1,r=0,n=!1,i;const a=s4(),c=y=>{n||(g(new fS(y)),e.abort?.())},l=()=>{t=!0},d=()=>{t=!1},h=()=>dS.isFocused()&&(e.networkMode==="always"||pd.isOnline())&&e.canRun(),f=()=>hS(e.networkMode)&&e.canRun(),m=y=>{n||(n=!0,e.onSuccess?.(y),i?.(),a.resolve(y))},g=y=>{n||(n=!0,e.onError?.(y),i?.(),a.reject(y))},v=()=>new Promise(y=>{i=b=>{(n||h())&&y(b)},e.onPause?.()}).then(()=>{i=void 0,n||e.onContinue?.()}),x=()=>{if(n)return;let y;const b=r===0?e.initialPromise:void 0;try{y=b??e.fn()}catch(w){y=Promise.reject(w)}Promise.resolve(y).then(m).catch(w=>{if(n)return;const N=e.retry??(Fd?0:3),_=e.retryDelay??i4,S=typeof _=="function"?_(r,w):_,T=N===!0||typeof N=="number"&&r<N||typeof N=="function"&&N(r,w);if(t||!T){g(w);return}r++,e.onFail?.(r,w),JA(S).then(()=>h()?void 0:v()).then(()=>{t?g(w):x()})})};return{promise:a,cancel:c,continue:()=>(i?.(),a),cancelRetry:l,continueRetry:d,canStart:f,start:()=>(f()?x():v().then(x),a)}}function a4(){let e=[],t=0,r=l=>{l()},n=l=>{l()},i=l=>setTimeout(l,0);const a=l=>{t?e.push(l):i(()=>{r(l)})},c=()=>{const l=e;e=[],l.length&&i(()=>{n(()=>{l.forEach(d=>{r(d)})})})};return{batch:l=>{let d;t++;try{d=l()}finally{t--,t||c()}return d},batchCalls:l=>(...d)=>{a(()=>{l(...d)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var Cr=a4(),mS=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),YA(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Fd?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},o4=class extends mS{#e;#t;#r;#n;#a;#i;constructor(e){super(),this.#i=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=c4(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=ZA(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(En).catch(En):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>QA(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ov||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!XA(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#i?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(d=>d.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},i=()=>{const l=uS(this.options,t),d={queryKey:this.queryKey,meta:this.meta};return n(d),this.#i=!1,this.options.persister?this.options.persister(l,d,this):l(d)},a={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};n(a),this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta});const c=l=>{vp(l)&&l.silent||this.#s({type:"error",error:l}),vp(l)||(this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#n=pS({initialPromise:t?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:l=>{if(l===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(d){c(d);return}this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:c,onFail:(l,d)=>{this.#s({type:"failed",failureCount:l,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...l4(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return vp(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Cr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function l4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function c4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var u4=class extends Md{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,i=t.queryHash??Iv(n,t);let a=this.get(i);return a||(a=new o4({cache:this,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(a)),a}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Cr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>vb(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>vb(e,r)):t}notify(e){Cr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Cr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Cr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},d4=class extends mS{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||h4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=pS({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(n,i)=>{this.#n({type:"failed",failureCount:n,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",r=!this.#r.canStart();try{if(!t){this.#n({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&this.#n({type:"pending",context:i,variables:e,isPaused:r})}const n=await this.#r.start();return await this.#t.config.onSuccess?.(n,e,this.state.context,this),await this.options.onSuccess?.(n,e,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,e,this.state.context),this.#n({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,e,this.state.context,this),await this.options.onError?.(n,e,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,e,this.state.context),n}finally{this.#n({type:"error",error:n})}}finally{this.#t.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Cr.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function h4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var f4=class extends Md{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,r){const n=new d4({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){const t=Au(e),r=this.#e.get(t)??[];r.push(e),this.#e.set(t,r),this.notify({type:"added",mutation:e})}remove(e){const t=Au(e);if(this.#e.has(t)){const r=this.#e.get(t)?.filter(n=>n!==e);r&&(r.length===0?this.#e.delete(t):this.#e.set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(Au(e))?.find(r=>r.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(Au(e))?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){Cr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(r=>yb(t,r))}findAll(e={}){return this.getAll().filter(t=>yb(e,t))}notify(e){Cr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Cr.batch(()=>Promise.all(e.map(t=>t.continue().catch(En))))}};function Au(e){return e.options.scope?.id??String(e.mutationId)}function bb(e){return{onFetch:(t,r)=>{const n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],c=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},d=0;const h=async()=>{let f=!1;const m=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},g=uS(t.options,t.fetchOptions),v=async(x,y,b)=>{if(f)return Promise.reject();if(y==null&&x.pages.length)return Promise.resolve(x);const w={queryKey:t.queryKey,pageParam:y,direction:b?"backward":"forward",meta:t.options.meta};m(w);const N=await g(w),{maxPages:_}=t.options,S=b?t4:e4;return{pages:S(x.pages,N,_),pageParams:S(x.pageParams,y,_)}};if(i&&a.length){const x=i==="backward",y=x?p4:jb,b={pages:a,pageParams:c},w=y(n,b);l=await v(b,w,x)}else{const x=e??a.length;do{const y=d===0?c[0]??n.initialPageParam:jb(n,l);if(d>0&&y==null)break;l=await v(l,y),d++}while(d<x)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=h}}}function jb(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function p4(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var m4=class{#e;#t;#r;#n;#a;#i;#s;#o;constructor(e={}){this.#e=e.queryCache||new u4,this.#t=e.mutationCache||new f4,this.#r=e.defaultOptions||{},this.#n=new Map,this.#a=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#s=dS.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=pd.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#s?.(),this.#s=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=this.#e.build(this,r);return e.revalidateIfStale&&n.isStaleByTime(gb(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=this.#e.get(n.queryHash)?.state.data,c=GA(t,a);if(c!==void 0)return this.#e.build(this,n).setData(c,{...r,manual:!0})}setQueriesData(e,t,r){return Cr.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Cr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e,n={type:"active",...e};return Cr.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Cr.batch(()=>this.#e.findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(En).catch(En)}invalidateQueries(e={},t={}){return Cr.batch(()=>{if(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:t?.cancelRefetch??!0},n=Cr.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(En)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(En)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(gb(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(En).catch(En)}fetchInfiniteQuery(e){return e.behavior=bb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(En).catch(En)}ensureInfiniteQueryData(e){return e.behavior=bb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return pd.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Ul(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()];let r={};return t.forEach(n=>{Bl(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){this.#a.set(Ul(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#a.values()];let r={};return t.forEach(n=>{Bl(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Iv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Ov&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},g4=E.createContext(void 0),v4=({client:e,children:t})=>(E.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(g4.Provider,{value:e,children:t})),md=["light","dark"],Mv="(prefers-color-scheme: dark)",y4=typeof window>"u",gS=E.createContext(void 0),x4=e=>E.useContext(gS)?e.children:E.createElement(b4,{...e}),w4=["light","dark"],b4=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:i="theme",themes:a=w4,defaultTheme:c=r?"system":"light",attribute:l="data-theme",value:d,children:h,nonce:f})=>{let[m,g]=E.useState(()=>_b(i,c)),[v,x]=E.useState(()=>_b(i)),y=d?Object.values(d):a,b=E.useCallback(S=>{let T=S;if(!T)return;S==="system"&&r&&(T=Sb());let F=d?d[T]:T,U=t?_4():null,$=document.documentElement;if(l==="class"?($.classList.remove(...y),F&&$.classList.add(F)):F?$.setAttribute(l,F):$.removeAttribute(l),n){let A=md.includes(c)?c:null,J=md.includes(T)?T:A;$.style.colorScheme=J}U?.()},[]),w=E.useCallback(S=>{let T=typeof S=="function"?S(S):S;g(T);try{localStorage.setItem(i,T)}catch{}},[e]),N=E.useCallback(S=>{let T=Sb(S);x(T),m==="system"&&r&&!e&&b("system")},[m,e]);E.useEffect(()=>{let S=window.matchMedia(Mv);return S.addListener(N),N(S),()=>S.removeListener(N)},[N]),E.useEffect(()=>{let S=T=>{if(T.key!==i)return;let F=T.newValue||c;w(F)};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[w]),E.useEffect(()=>{b(e??m)},[e,m]);let _=E.useMemo(()=>({theme:m,setTheme:w,forcedTheme:e,resolvedTheme:m==="system"?v:m,themes:r?[...a,"system"]:a,systemTheme:r?v:void 0}),[m,w,e,v,r,a]);return E.createElement(gS.Provider,{value:_},E.createElement(j4,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:i,themes:a,defaultTheme:c,attribute:l,value:d,children:h,attrs:y,nonce:f}),h)},j4=E.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:c,attrs:l,nonce:d})=>{let h=a==="system",f=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,m=i?md.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(x,y=!1,b=!0)=>{let w=c?c[x]:x,N=y?x+"|| ''":`'${w}'`,_="";return i&&b&&!y&&md.includes(x)&&(_+=`d.style.colorScheme = '${x}';`),r==="class"?y||w?_+=`c.add(${N})`:_+="null":w&&(_+=`d[s](n,${N})`),_},v=e?`!function(){${f}${g(e)}}()`:n?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${h})){var t='${Mv}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${c?`var x=${JSON.stringify(c)};`:""}${g(c?"x[e]":"e",!0)}}${h?"":"else{"+g(a,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${c?`var x=${JSON.stringify(c)};`:""}${g(c?"x[e]":"e",!0)}}else{${g(a,!1,!1)};}${m}}catch(t){}}();`;return E.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:v}})}),_b=(e,t)=>{if(y4)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},_4=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},Sb=e=>(e||(e=window.matchMedia(Mv)),e.matches?"dark":"light");const S4=1,N4=1e6;let yp=0;function E4(){return yp=(yp+1)%Number.MAX_SAFE_INTEGER,yp.toString()}const xp=new Map,Nb=e=>{if(xp.has(e))return;const t=setTimeout(()=>{xp.delete(e),Tl({type:"REMOVE_TOAST",toastId:e})},N4);xp.set(e,t)},C4=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,S4)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Nb(r):e.toasts.forEach(n=>{Nb(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},id=[];let ad={toasts:[]};function Tl(e){ad=C4(ad,e),id.forEach(t=>{t(ad)})}function k4({...e}){const t=E4(),r=i=>Tl({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>Tl({type:"DISMISS_TOAST",toastId:t});return Tl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function Dt(){const[e,t]=E.useState(ad);return E.useEffect(()=>(id.push(t),()=>{const r=id.indexOf(t);r>-1&&id.splice(r,1)}),[e]),{...e,toast:k4,dismiss:r=>Tl({type:"DISMISS_TOAST",toastId:r})}}function Le(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}function T4(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function vS(...e){return t=>e.forEach(r=>T4(r,t))}function nt(...e){return E.useCallback(vS(...e),e)}function P4(e,t=[]){let r=[];function n(a,c){const l=E.createContext(c),d=r.length;r=[...r,c];function h(m){const{scope:g,children:v,...x}=m,y=g?.[e][d]||l,b=E.useMemo(()=>x,Object.values(x));return s.jsx(y.Provider,{value:b,children:v})}function f(m,g){const v=g?.[e][d]||l,x=E.useContext(v);if(x)return x;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${a}\``)}return h.displayName=a+"Provider",[h,f]}const i=()=>{const a=r.map(c=>E.createContext(c));return function(l){const d=l?.[e]||a;return E.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return i.scopeName=e,[n,R4(i,...t)]}function R4(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const c=n.reduce((l,{useScope:d,scopeName:h})=>{const m=d(a)[`__scope${h}`];return{...l,...m}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var Yr=E.forwardRef((e,t)=>{const{children:r,...n}=e,i=E.Children.toArray(r),a=i.find(A4);if(a){const c=a.props.children,l=i.map(d=>d===a?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:d);return s.jsx(Hg,{...n,ref:t,children:E.isValidElement(c)?E.cloneElement(c,void 0,l):null})}return s.jsx(Hg,{...n,ref:t,children:r})});Yr.displayName="Slot";var Hg=E.forwardRef((e,t)=>{const{children:r,...n}=e;if(E.isValidElement(r)){const i=I4(r);return E.cloneElement(r,{...D4(n,r.props),ref:t?vS(t,i):i})}return E.Children.count(r)>1?E.Children.only(null):null});Hg.displayName="SlotClone";var Fv=({children:e})=>s.jsx(s.Fragment,{children:e});function A4(e){return E.isValidElement(e)&&e.type===Fv}function D4(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{a(...l),i(...l)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function I4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Lv(e){const t=e+"CollectionProvider",[r,n]=P4(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=v=>{const{scope:x,children:y}=v,b=gt.useRef(null),w=gt.useRef(new Map).current;return s.jsx(i,{scope:x,itemMap:w,collectionRef:b,children:y})};c.displayName=t;const l=e+"CollectionSlot",d=gt.forwardRef((v,x)=>{const{scope:y,children:b}=v,w=a(l,y),N=nt(x,w.collectionRef);return s.jsx(Yr,{ref:N,children:b})});d.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",m=gt.forwardRef((v,x)=>{const{scope:y,children:b,...w}=v,N=gt.useRef(null),_=nt(x,N),S=a(h,y);return gt.useEffect(()=>(S.itemMap.set(N,{ref:N,...w}),()=>{S.itemMap.delete(N)})),s.jsx(Yr,{[f]:"",ref:_,children:b})});m.displayName=h;function g(v){const x=a(e+"CollectionConsumer",v);return gt.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((S,T)=>w.indexOf(S.ref.current)-w.indexOf(T.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:c,Slot:d,ItemSlot:m},g,n]}function O4(e,t){const r=E.createContext(t),n=a=>{const{children:c,...l}=a,d=E.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:d,children:c})};n.displayName=e+"Provider";function i(a){const c=E.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function cn(e,t=[]){let r=[];function n(a,c){const l=E.createContext(c),d=r.length;r=[...r,c];const h=m=>{const{scope:g,children:v,...x}=m,y=g?.[e]?.[d]||l,b=E.useMemo(()=>x,Object.values(x));return s.jsx(y.Provider,{value:b,children:v})};h.displayName=a+"Provider";function f(m,g){const v=g?.[e]?.[d]||l,x=E.useContext(v);if(x)return x;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[h,f]}const i=()=>{const a=r.map(c=>E.createContext(c));return function(l){const d=l?.[e]||a;return E.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return i.scopeName=e,[n,M4(i,...t)]}function M4(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const c=n.reduce((l,{useScope:d,scopeName:h})=>{const m=d(a)[`__scope${h}`];return{...l,...m}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var F4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ve=F4.reduce((e,t)=>{const r=E.forwardRef((n,i)=>{const{asChild:a,...c}=n,l=a?Yr:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...c,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function yS(e,t){e&&go.flushSync(()=>e.dispatchEvent(t))}function Vt(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...r)=>t.current?.(...r),[])}function L4(e,t=globalThis?.document){const r=Vt(e);E.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var U4="DismissableLayer",zg="dismissableLayer.update",B4="dismissableLayer.pointerDownOutside",H4="dismissableLayer.focusOutside",Eb,xS=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yo=E.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:c,onDismiss:l,...d}=e,h=E.useContext(xS),[f,m]=E.useState(null),g=f?.ownerDocument??globalThis?.document,[,v]=E.useState({}),x=nt(t,U=>m(U)),y=Array.from(h.layers),[b]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(b),N=f?y.indexOf(f):-1,_=h.layersWithOutsidePointerEventsDisabled.size>0,S=N>=w,T=$4(U=>{const $=U.target,A=[...h.branches].some(J=>J.contains($));!S||A||(i?.(U),c?.(U),U.defaultPrevented||l?.())},g),F=W4(U=>{const $=U.target;[...h.branches].some(J=>J.contains($))||(a?.(U),c?.(U),U.defaultPrevented||l?.())},g);return L4(U=>{N===h.layers.size-1&&(n?.(U),!U.defaultPrevented&&l&&(U.preventDefault(),l()))},g),E.useEffect(()=>{if(f)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Eb=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),Cb(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Eb)}},[f,g,r,h]),E.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),Cb())},[f,h]),E.useEffect(()=>{const U=()=>v({});return document.addEventListener(zg,U),()=>document.removeEventListener(zg,U)},[]),s.jsx(Ve.div,{...d,ref:x,style:{pointerEvents:_?S?"auto":"none":void 0,...e.style},onFocusCapture:Le(e.onFocusCapture,F.onFocusCapture),onBlurCapture:Le(e.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Le(e.onPointerDownCapture,T.onPointerDownCapture)})});yo.displayName=U4;var z4="DismissableLayerBranch",wS=E.forwardRef((e,t)=>{const r=E.useContext(xS),n=E.useRef(null),i=nt(t,n);return E.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(Ve.div,{...e,ref:i})});wS.displayName=z4;function $4(e,t=globalThis?.document){const r=Vt(e),n=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let d=function(){bS(B4,r,h,{discrete:!0})};const h={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function W4(e,t=globalThis?.document){const r=Vt(e),n=E.useRef(!1);return E.useEffect(()=>{const i=a=>{a.target&&!n.current&&bS(H4,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Cb(){const e=new CustomEvent(zg);document.dispatchEvent(e)}function bS(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?yS(i,a):i.dispatchEvent(a)}var q4=yo,V4=wS,mr=globalThis?.document?E.useLayoutEffect:()=>{},K4="Portal",Yl=E.forwardRef((e,t)=>{const{container:r,...n}=e,[i,a]=E.useState(!1);mr(()=>a(!0),[]);const c=r||i&&globalThis?.document?.body;return c?zR.createPortal(s.jsx(Ve.div,{...n,ref:t}),c):null});Yl.displayName=K4;function G4(e,t){return E.useReducer((r,n)=>t[r][n]??r,e)}var kr=e=>{const{present:t,children:r}=e,n=Y4(t),i=typeof r=="function"?r({present:n.isPresent}):E.Children.only(r),a=nt(n.ref,X4(i));return typeof r=="function"||n.isPresent?E.cloneElement(i,{ref:a}):null};kr.displayName="Presence";function Y4(e){const[t,r]=E.useState(),n=E.useRef({}),i=E.useRef(e),a=E.useRef("none"),c=e?"mounted":"unmounted",[l,d]=G4(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const h=Du(n.current);a.current=l==="mounted"?h:"none"},[l]),mr(()=>{const h=n.current,f=i.current;if(f!==e){const g=a.current,v=Du(h);e?d("MOUNT"):v==="none"||h?.display==="none"?d("UNMOUNT"):d(f&&g!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),mr(()=>{if(t){let h;const f=t.ownerDocument.defaultView??window,m=v=>{const y=Du(n.current).includes(v.animationName);if(v.target===t&&y&&(d("ANIMATION_END"),!i.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",h=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},g=v=>{v.target===t&&(a.current=Du(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(h),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:E.useCallback(h=>{h&&(n.current=getComputedStyle(h)),r(h)},[])}}function Du(e){return e?.animationName||"none"}function X4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Tn({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=Q4({defaultProp:t,onChange:r}),a=e!==void 0,c=a?e:n,l=Vt(r),d=E.useCallback(h=>{if(a){const m=typeof h=="function"?h(e):h;m!==e&&l(m)}else i(h)},[a,e,i,l]);return[c,d]}function Q4({defaultProp:e,onChange:t}){const r=E.useState(e),[n]=r,i=E.useRef(n),a=Vt(t);return E.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}var J4="VisuallyHidden",Xl=E.forwardRef((e,t)=>s.jsx(Ve.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Xl.displayName=J4;var Z4=Xl,Uv="ToastProvider",[Bv,eD,tD]=Lv("Toast"),[jS]=cn("Toast",[tD]),[rD,Ld]=jS(Uv),_S=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:c}=e,[l,d]=E.useState(null),[h,f]=E.useState(0),m=E.useRef(!1),g=E.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Uv}\`. Expected non-empty \`string\`.`),s.jsx(Bv.Provider,{scope:t,children:s.jsx(rD,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:h,viewport:l,onViewportChange:d,onToastAdd:E.useCallback(()=>f(v=>v+1),[]),onToastRemove:E.useCallback(()=>f(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:g,children:c})})};_S.displayName=Uv;var SS="ToastViewport",nD=["F8"],$g="toast.viewportPause",Wg="toast.viewportResume",NS=E.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=nD,label:i="Notifications ({hotkey})",...a}=e,c=Ld(SS,r),l=eD(r),d=E.useRef(null),h=E.useRef(null),f=E.useRef(null),m=E.useRef(null),g=nt(t,m,c.onViewportChange),v=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=c.toastCount>0;E.useEffect(()=>{const b=w=>{n.length!==0&&n.every(_=>w[_]||w.code===_)&&m.current?.focus()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),E.useEffect(()=>{const b=d.current,w=m.current;if(x&&b&&w){const N=()=>{if(!c.isClosePausedRef.current){const F=new CustomEvent($g);w.dispatchEvent(F),c.isClosePausedRef.current=!0}},_=()=>{if(c.isClosePausedRef.current){const F=new CustomEvent(Wg);w.dispatchEvent(F),c.isClosePausedRef.current=!1}},S=F=>{!b.contains(F.relatedTarget)&&_()},T=()=>{b.contains(document.activeElement)||_()};return b.addEventListener("focusin",N),b.addEventListener("focusout",S),b.addEventListener("pointermove",N),b.addEventListener("pointerleave",T),window.addEventListener("blur",N),window.addEventListener("focus",_),()=>{b.removeEventListener("focusin",N),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",N),b.removeEventListener("pointerleave",T),window.removeEventListener("blur",N),window.removeEventListener("focus",_)}}},[x,c.isClosePausedRef]);const y=E.useCallback(({tabbingDirection:b})=>{const N=l().map(_=>{const S=_.ref.current,T=[S,...gD(S)];return b==="forwards"?T:T.reverse()});return(b==="forwards"?N.reverse():N).flat()},[l]);return E.useEffect(()=>{const b=m.current;if(b){const w=N=>{const _=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!_){const T=document.activeElement,F=N.shiftKey;if(N.target===b&&F){h.current?.focus();return}const A=y({tabbingDirection:F?"backwards":"forwards"}),J=A.findIndex(pe=>pe===T);wp(A.slice(J+1))?N.preventDefault():F?h.current?.focus():f.current?.focus()}};return b.addEventListener("keydown",w),()=>b.removeEventListener("keydown",w)}},[l,y]),s.jsxs(V4,{ref:d,role:"region","aria-label":i.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(qg,{ref:h,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});wp(b)}}),s.jsx(Bv.Slot,{scope:r,children:s.jsx(Ve.ol,{tabIndex:-1,...a,ref:g})}),x&&s.jsx(qg,{ref:f,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});wp(b)}})]})});NS.displayName=SS;var ES="ToastFocusProxy",qg=E.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=Ld(ES,r);return s.jsx(Xl,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:c=>{const l=c.relatedTarget;!a.viewport?.contains(l)&&n()}})});qg.displayName=ES;var Ud="Toast",sD="toast.swipeStart",iD="toast.swipeMove",aD="toast.swipeCancel",oD="toast.swipeEnd",CS=E.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...c}=e,[l=!0,d]=Tn({prop:n,defaultProp:i,onChange:a});return s.jsx(kr,{present:r||l,children:s.jsx(uD,{open:l,...c,ref:t,onClose:()=>d(!1),onPause:Vt(e.onPause),onResume:Vt(e.onResume),onSwipeStart:Le(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Le(e.onSwipeMove,h=>{const{x:f,y:m}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Le(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Le(e.onSwipeEnd,h=>{const{x:f,y:m}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),d(!1)})})})});CS.displayName=Ud;var[lD,cD]=jS(Ud,{onClose(){}}),uD=E.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:c,onEscapeKeyDown:l,onPause:d,onResume:h,onSwipeStart:f,onSwipeMove:m,onSwipeCancel:g,onSwipeEnd:v,...x}=e,y=Ld(Ud,r),[b,w]=E.useState(null),N=nt(t,R=>w(R)),_=E.useRef(null),S=E.useRef(null),T=i||y.duration,F=E.useRef(0),U=E.useRef(T),$=E.useRef(0),{onToastAdd:A,onToastRemove:J}=y,pe=Vt(()=>{b?.contains(document.activeElement)&&y.viewport?.focus(),c()}),z=E.useCallback(R=>{!R||R===1/0||(window.clearTimeout($.current),F.current=new Date().getTime(),$.current=window.setTimeout(pe,R))},[pe]);E.useEffect(()=>{const R=y.viewport;if(R){const Z=()=>{z(U.current),h?.()},ae=()=>{const q=new Date().getTime()-F.current;U.current=U.current-q,window.clearTimeout($.current),d?.()};return R.addEventListener($g,ae),R.addEventListener(Wg,Z),()=>{R.removeEventListener($g,ae),R.removeEventListener(Wg,Z)}}},[y.viewport,T,d,h,z]),E.useEffect(()=>{a&&!y.isClosePausedRef.current&&z(T)},[a,T,y.isClosePausedRef,z]),E.useEffect(()=>(A(),()=>J()),[A,J]);const G=E.useMemo(()=>b?IS(b):null,[b]);return y.viewport?s.jsxs(s.Fragment,{children:[G&&s.jsx(dD,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:G}),s.jsx(lD,{scope:r,onClose:pe,children:go.createPortal(s.jsx(Bv.ItemSlot,{scope:r,children:s.jsx(q4,{asChild:!0,onEscapeKeyDown:Le(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||pe(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":y.swipeDirection,...x,ref:N,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Le(e.onKeyDown,R=>{R.key==="Escape"&&(l?.(R.nativeEvent),R.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,pe()))}),onPointerDown:Le(e.onPointerDown,R=>{R.button===0&&(_.current={x:R.clientX,y:R.clientY})}),onPointerMove:Le(e.onPointerMove,R=>{if(!_.current)return;const Z=R.clientX-_.current.x,ae=R.clientY-_.current.y,q=!!S.current,Y=["left","right"].includes(y.swipeDirection),ne=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,te=Y?ne(0,Z):0,W=Y?0:ne(0,ae),H=R.pointerType==="touch"?10:2,se={x:te,y:W},ce={originalEvent:R,delta:se};q?(S.current=se,Iu(iD,m,ce,{discrete:!1})):kb(se,y.swipeDirection,H)?(S.current=se,Iu(sD,f,ce,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(Z)>H||Math.abs(ae)>H)&&(_.current=null)}),onPointerUp:Le(e.onPointerUp,R=>{const Z=S.current,ae=R.target;if(ae.hasPointerCapture(R.pointerId)&&ae.releasePointerCapture(R.pointerId),S.current=null,_.current=null,Z){const q=R.currentTarget,Y={originalEvent:R,delta:Z};kb(Z,y.swipeDirection,y.swipeThreshold)?Iu(oD,v,Y,{discrete:!0}):Iu(aD,g,Y,{discrete:!0}),q.addEventListener("click",ne=>ne.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),dD=e=>{const{__scopeToast:t,children:r,...n}=e,i=Ld(Ud,t),[a,c]=E.useState(!1),[l,d]=E.useState(!1);return pD(()=>c(!0)),E.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),l?null:s.jsx(Yl,{asChild:!0,children:s.jsx(Xl,{...n,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",r]})})})},hD="ToastTitle",kS=E.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ve.div,{...n,ref:t})});kS.displayName=hD;var fD="ToastDescription",TS=E.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ve.div,{...n,ref:t})});TS.displayName=fD;var PS="ToastAction",RS=E.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(DS,{altText:r,asChild:!0,children:s.jsx(Hv,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${PS}\`. Expected non-empty \`string\`.`),null)});RS.displayName=PS;var AS="ToastClose",Hv=E.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=cD(AS,r);return s.jsx(DS,{asChild:!0,children:s.jsx(Ve.button,{type:"button",...n,ref:t,onClick:Le(e.onClick,i.onClose)})})});Hv.displayName=AS;var DS=E.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return s.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function IS(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),mD(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const c=n.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...IS(n))}}),t}function Iu(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?yS(i,a):i.dispatchEvent(a)}var kb=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function pD(e=()=>{}){const t=Vt(e);mr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function mD(e){return e.nodeType===e.ELEMENT_NODE}function gD(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function wp(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var vD=_S,OS=NS,MS=CS,FS=kS,LS=TS,US=RS,BS=Hv;function HS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=HS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function zS(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=HS(e))&&(n&&(n+=" "),n+=t);return n}const Tb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Pb=zS,Gi=(e,t)=>r=>{var n;if(t?.variants==null)return Pb(e,r?.class,r?.className);const{variants:i,defaultVariants:a}=t,c=Object.keys(i).map(h=>{const f=r?.[h],m=a?.[h];if(f===null)return null;const g=Tb(f)||Tb(m);return i[h][g]}),l=r&&Object.entries(r).reduce((h,f)=>{let[m,g]=f;return g===void 0||(h[m]=g),h},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((h,f)=>{let{class:m,className:g,...v}=f;return Object.entries(v).every(x=>{let[y,b]=x;return Array.isArray(b)?b.includes({...a,...l}[y]):{...a,...l}[y]===b})?[...h,m,g]:h},[]);return Pb(e,c,d,r?.class,r?.className)};const yD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$S=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();var xD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const wD=E.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:c,...l},d)=>E.createElement("svg",{ref:d,...xD,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:$S("lucide",i),...l},[...c.map(([h,f])=>E.createElement(h,f)),...Array.isArray(a)?a:[a]]));const Ke=(e,t)=>{const r=E.forwardRef(({className:n,...i},a)=>E.createElement(wD,{ref:a,iconNode:t,className:$S(`lucide-${yD(e)}`,n),...i}));return r.displayName=`${e}`,r};const WS=Ke("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const gd=Ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const bD=Ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Vg=Ke("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);const un=Ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const jD=Ke("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const zv=Ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const $v=Ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const _D=Ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const SD=Ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const ND=Ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const qS=Ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Ka=Ke("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const ED=Ke("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const CD=Ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const Br=Ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Wv=Ke("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const kD=Ke("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Wn=Ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const VS=Ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Bd=Ke("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const qv=Ke("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const Hd=Ke("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const KS=Ke("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);const TD=Ke("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);const PD=Ke("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);const Yn=Ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const RD=Ke("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);const AD=Ke("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const Rb=Ke("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const Vv=Ke("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const DD=Ke("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);const Ga=Ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const ID=Ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Ql=Ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const OD=Ke("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);const MD=Ke("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const Et=Ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const FD=Ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const zd=Ke("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const LD=Ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Ab=Ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const bs=Ke("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);const $d=Ke("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const Xn=Ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const UD=Ke("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const BD=Ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const HD=Ke("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const zD=Ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const Kv=Ke("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const GS=Ke("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const Gv=Ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Xr=Ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Ur=Ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Yv="-",$D=e=>{const t=qD(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{const l=c.split(Yv);return l[0]===""&&l.length!==1&&l.shift(),YS(l,t)||WD(c)},getConflictingClassGroupIds:(c,l)=>{const d=r[c]||[];return l&&n[c]?[...d,...n[c]]:d}}},YS=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?YS(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(Yv);return t.validators.find(({validator:c})=>c(a))?.classGroupId},Db=/^\[(.+)\]$/,WD=e=>{if(Db.test(e)){const t=Db.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},qD=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return KD(Object.entries(e.classGroups),r).forEach(([a,c])=>{Kg(c,n,a,t)}),n},Kg=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:Ib(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(VD(i)){Kg(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,c])=>{Kg(c,Ib(t,a),r,n)})})},Ib=(e,t)=>{let r=e;return t.split(Yv).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},VD=e=>e.isThemeGetter,KD=(e,t)=>t?e.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([c,l])=>[t+c,l])):a);return[r,i]}):e,GD=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,c)=>{r.set(a,c),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let c=r.get(a);if(c!==void 0)return c;if((c=n.get(a))!==void 0)return i(a,c),c},set(a,c){r.has(a)?r.set(a,c):i(a,c)}}},XS="!",YD=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],a=t.length,c=l=>{const d=[];let h=0,f=0,m;for(let b=0;b<l.length;b++){let w=l[b];if(h===0){if(w===i&&(n||l.slice(b,b+a)===t)){d.push(l.slice(f,b)),f=b+a;continue}if(w==="/"){m=b;continue}}w==="["?h++:w==="]"&&h--}const g=d.length===0?l:l.substring(f),v=g.startsWith(XS),x=v?g.substring(1):g,y=m&&m>f?m-f:void 0;return{modifiers:d,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:c}):c},XD=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},QD=e=>({cache:GD(e.cacheSize),parseClassName:YD(e),...$D(e)}),JD=/\s+/,ZD=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],c=e.trim().split(JD);let l="";for(let d=c.length-1;d>=0;d-=1){const h=c[d],{modifiers:f,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:v}=r(h);let x=!!v,y=n(x?g.substring(0,v):g);if(!y){if(!x){l=h+(l.length>0?" "+l:l);continue}if(y=n(g),!y){l=h+(l.length>0?" "+l:l);continue}x=!1}const b=XD(f).join(":"),w=m?b+XS:b,N=w+y;if(a.includes(N))continue;a.push(N);const _=i(y,x);for(let S=0;S<_.length;++S){const T=_[S];a.push(w+T)}l=h+(l.length>0?" "+l:l)}return l};function eI(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=QS(t))&&(n&&(n+=" "),n+=r);return n}const QS=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=QS(e[n]))&&(r&&(r+=" "),r+=t);return r};function tI(e,...t){let r,n,i,a=c;function c(d){const h=t.reduce((f,m)=>m(f),e());return r=QD(h),n=r.cache.get,i=r.cache.set,a=l,l(d)}function l(d){const h=n(d);if(h)return h;const f=ZD(d,r);return i(d,f),f}return function(){return a(eI.apply(null,arguments))}}const Pt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},JS=/^\[(?:([a-z-]+):)?(.+)\]$/i,rI=/^\d+\/\d+$/,nI=new Set(["px","full","screen"]),sI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,oI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ps=e=>Ua(e)||nI.has(e)||rI.test(e),Vs=e=>xo(e,"length",gI),Ua=e=>!!e&&!Number.isNaN(Number(e)),bp=e=>xo(e,"number",Ua),ml=e=>!!e&&Number.isInteger(Number(e)),cI=e=>e.endsWith("%")&&Ua(e.slice(0,-1)),rt=e=>JS.test(e),Ks=e=>sI.test(e),uI=new Set(["length","size","percentage"]),dI=e=>xo(e,uI,ZS),hI=e=>xo(e,"position",ZS),fI=new Set(["image","url"]),pI=e=>xo(e,fI,yI),mI=e=>xo(e,"",vI),gl=()=>!0,xo=(e,t,r)=>{const n=JS.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},gI=e=>iI.test(e)&&!aI.test(e),ZS=()=>!1,vI=e=>oI.test(e),yI=e=>lI.test(e),xI=()=>{const e=Pt("colors"),t=Pt("spacing"),r=Pt("blur"),n=Pt("brightness"),i=Pt("borderColor"),a=Pt("borderRadius"),c=Pt("borderSpacing"),l=Pt("borderWidth"),d=Pt("contrast"),h=Pt("grayscale"),f=Pt("hueRotate"),m=Pt("invert"),g=Pt("gap"),v=Pt("gradientColorStops"),x=Pt("gradientColorStopPositions"),y=Pt("inset"),b=Pt("margin"),w=Pt("opacity"),N=Pt("padding"),_=Pt("saturate"),S=Pt("scale"),T=Pt("sepia"),F=Pt("skew"),U=Pt("space"),$=Pt("translate"),A=()=>["auto","contain","none"],J=()=>["auto","hidden","clip","visible","scroll"],pe=()=>["auto",rt,t],z=()=>[rt,t],G=()=>["",ps,Vs],R=()=>["auto",Ua,rt],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],ne=()=>["","0",rt],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Ua,rt];return{cacheSize:500,separator:":",theme:{colors:[gl],spacing:[ps,Vs],blur:["none","",Ks,rt],brightness:W(),borderColor:[e],borderRadius:["none","","full",Ks,rt],borderSpacing:z(),borderWidth:G(),contrast:W(),grayscale:ne(),hueRotate:W(),invert:ne(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[cI,Vs],inset:pe(),margin:pe(),opacity:W(),padding:z(),saturate:W(),scale:W(),sepia:ne(),skew:W(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[Ks]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),rt]}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ml,rt]}],basis:[{basis:pe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:ne()}],shrink:[{shrink:ne()}],order:[{order:["first","last","none",ml,rt]}],"grid-cols":[{"grid-cols":[gl]}],"col-start-end":[{col:["auto",{span:["full",ml,rt]},rt]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[gl]}],"row-start-end":[{row:["auto",{span:[ml,rt]},rt]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[U]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[U]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rt,t]}],"min-w":[{"min-w":[rt,t,"min","max","fit"]}],"max-w":[{"max-w":[rt,t,"none","full","min","max","fit","prose",{screen:[Ks]},Ks]}],h:[{h:[rt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ks,Vs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bp]}],"font-family":[{font:[gl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",Ua,bp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ps,rt]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ps,Vs]}],"underline-offset":[{"underline-offset":["auto",ps,rt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),hI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",dI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},pI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:ae()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[ps,rt]}],"outline-w":[{outline:[ps,Vs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[ps,Vs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ks,mI]}],"shadow-color":[{shadow:[gl]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Ks,rt]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[_]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[ml,rt]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ps,Vs,bp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},wI=tI(xI);function Re(...e){return wI(zS(e))}function vd(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}const bI=vD,eN=E.forwardRef(({className:e,...t},r)=>s.jsx(OS,{ref:r,className:Re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));eN.displayName=OS.displayName;const jI=Gi("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),tN=E.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(MS,{ref:n,className:Re(jI({variant:t}),e),...r}));tN.displayName=MS.displayName;const _I=E.forwardRef(({className:e,...t},r)=>s.jsx(US,{ref:r,className:Re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));_I.displayName=US.displayName;const rN=E.forwardRef(({className:e,...t},r)=>s.jsx(BS,{ref:r,className:Re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Ur,{className:"h-4 w-4"})}));rN.displayName=BS.displayName;const nN=E.forwardRef(({className:e,...t},r)=>s.jsx(FS,{ref:r,className:Re("text-sm font-semibold",e),...t}));nN.displayName=FS.displayName;const sN=E.forwardRef(({className:e,...t},r)=>s.jsx(LS,{ref:r,className:Re("text-sm opacity-90",e),...t}));sN.displayName=LS.displayName;function SI(){const{toasts:e}=Dt();return s.jsxs(bI,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return s.jsxs(tN,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(nN,{children:r}),n&&s.jsx(sN,{children:n})]}),i,s.jsx(rN,{})]},t)}),s.jsx(eN,{})]})}const NI="modulepreload",EI=function(e){return"/"+e},Ob={},Jl=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let h=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var c=h;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=l?.nonce||l?.getAttribute("nonce");i=h(r.map(f=>{if(f=EI(f),f in Ob)return;Ob[f]=!0;const m=f.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":NI,m||(v.as="script"),v.crossOrigin="",v.href=f,d&&v.setAttribute("nonce",d),document.head.appendChild(v),m)return new Promise((x,y)=>{v.addEventListener("load",x),v.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return i.then(l=>{for(const d of l||[])d.status==="rejected"&&a(d.reason);return t().catch(a)})},CI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Jl(async()=>{const{default:n}=await Promise.resolve().then(()=>wo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Xv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class kI extends Xv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class TI extends Xv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class PI extends Xv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Gg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Gg||(Gg={}));var RI=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function l(f){try{h(n.next(f))}catch(m){c(m)}}function d(f){try{h(n.throw(f))}catch(m){c(m)}}function h(f){f.done?a(f.value):i(f.value).then(l,d)}h((n=n.apply(e,t||[])).next())})};class AI{constructor(t,{headers:r={},customFetch:n,region:i=Gg.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=CI(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return RI(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:c}=r;let l={},{region:d}=r;d||(d=this.region),d&&d!=="any"&&(l["x-region"]=d);let h;c&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=c):typeof c=="string"?(l["Content-Type"]="text/plain",h=c):typeof FormData<"u"&&c instanceof FormData?h=c:(l["Content-Type"]="application/json",h=JSON.stringify(c)));const f=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:h}).catch(x=>{throw new kI(x)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new TI(f);if(!f.ok)throw new PI(f);let g=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield f.json():g==="application/octet-stream"?v=yield f.blob():g==="text/event-stream"?v=f:g==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null}}catch(i){return{data:null,error:i}}})}}var ar={},ja={},_a={},Sa={},Na={},Ea={},DI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ya=DI();const II=Ya.fetch,iN=Ya.fetch.bind(Ya),aN=Ya.Headers,OI=Ya.Request,MI=Ya.Response,wo=Object.freeze(Object.defineProperty({__proto__:null,Headers:aN,Request:OI,Response:MI,default:iN,fetch:II},Symbol.toStringTag,{value:"Module"})),FI=DR(wo);var Ou={},Mb;function oN(){if(Mb)return Ou;Mb=1,Object.defineProperty(Ou,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ou.default=e,Ou}var Fb;function lN(){if(Fb)return Ea;Fb=1;var e=Ea&&Ea.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ea,"__esModule",{value:!0});const t=e(FI),r=e(oN());class n{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,c){return this.headers=Object.assign({},this.headers),this.headers[a]=c,this}then(a,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let d=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var f,m,g;let v=null,x=null,y=null,b=h.status,w=h.statusText;if(h.ok){if(this.method!=="HEAD"){const T=await h.text();T===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?x=T:x=JSON.parse(T))}const _=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(m=h.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");_&&S&&S.length>1&&(y=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(v={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,y=null,b=406,w="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const _=await h.text();try{v=JSON.parse(_),Array.isArray(v)&&h.status===404&&(x=[],v=null,b=200,w="OK")}catch{h.status===404&&_===""?(b=204,w="No Content"):v={message:_}}if(v&&this.isMaybeSingle&&(!((g=v?.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,b=200,w="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:x,count:y,status:b,statusText:w}});return this.shouldThrowOnError||(d=d.catch(h=>{var f,m,g;return{error:{message:`${(f=h?.name)!==null&&f!==void 0?f:"FetchError"}: ${h?.message}`,details:`${(m=h?.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(g=h?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),d.then(a,c)}returns(){return this}overrideTypes(){return this}}return Ea.default=n,Ea}var Lb;function cN(){if(Lb)return Na;Lb=1;var e=Na&&Na.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Na,"__esModule",{value:!0});const t=e(lN());class r extends t.default{select(i){let a=!1;const c=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:a=!0,nullsFirst:c,foreignTable:l,referencedTable:d=l}={}){const h=d?`${d}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${i}.${a?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:c=a}={}){const l=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:c,referencedTable:l=c}={}){const d=typeof l>"u"?"offset":`${l}.offset`,h=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(h,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:a=!1,settings:c=!1,buffers:l=!1,wal:d=!1,format:h="text"}={}){var f;const m=[i?"analyze":null,a?"verbose":null,c?"settings":null,l?"buffers":null,d?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${g}"; options=${m};`,h==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Na.default=r,Na}var Ub;function Qv(){if(Ub)return Sa;Ub=1;var e=Sa&&Sa.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Sa,"__esModule",{value:!0});const t=e(cN());class r extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const c=Array.from(new Set(a)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${c})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:c,type:l}={}){let d="";l==="plain"?d="pl":l==="phrase"?d="ph":l==="websearch"&&(d="w");const h=c===void 0?"":`(${c})`;return this.url.searchParams.append(i,`${d}fts${h}.${a}`),this}match(i){return Object.entries(i).forEach(([a,c])=>{this.url.searchParams.append(a,`eq.${c}`)}),this}not(i,a,c){return this.url.searchParams.append(i,`not.${a}.${c}`),this}or(i,{foreignTable:a,referencedTable:c=a}={}){const l=c?`${c}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,a,c){return this.url.searchParams.append(i,`${a}.${c}`),this}}return Sa.default=r,Sa}var Bb;function uN(){if(Bb)return _a;Bb=1;var e=_a&&_a.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(_a,"__esModule",{value:!0});const t=e(Qv());class r{constructor(i,{headers:a={},schema:c,fetch:l}){this.url=i,this.headers=a,this.schema=c,this.fetch=l}select(i,{head:a=!1,count:c}={}){const l=a?"HEAD":"GET";let d=!1;const h=(i??"*").split("").map(f=>/\s/.test(f)&&!d?"":(f==='"'&&(d=!d),f)).join("");return this.url.searchParams.set("select",h),c&&(this.headers.Prefer=`count=${c}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:a,defaultToNull:c=!0}={}){const l="POST",d=[];if(this.headers.Prefer&&d.push(this.headers.Prefer),a&&d.push(`count=${a}`),c||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(i)){const h=i.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:a,ignoreDuplicates:c=!1,count:l,defaultToNull:d=!0}={}){const h="POST",f=[`resolution=${c?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&f.push(this.headers.Prefer),l&&f.push(`count=${l}`),d||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const m=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(m.length>0){const g=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:a}={}){const c="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),this.headers.Prefer=l.join(","),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const a="DELETE",c=[];return i&&c.push(`count=${i}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return _a.default=r,_a}var vl={},yl={},Hb;function LI(){return Hb||(Hb=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.version=void 0,yl.version="0.0.0-automated"),yl}var zb;function UI(){if(zb)return vl;zb=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.DEFAULT_HEADERS=void 0;const e=LI();return vl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},vl}var $b;function BI(){if($b)return ja;$b=1;var e=ja&&ja.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ja,"__esModule",{value:!0});const t=e(uN()),r=e(Qv()),n=UI();class i{constructor(c,{headers:l={},schema:d,fetch:h}={}){this.url=c,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),l),this.schemaName=d,this.fetch=h}from(c){const l=new URL(`${this.url}/${c}`);return new t.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new i(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,l={},{head:d=!1,get:h=!1,count:f}={}){let m;const g=new URL(`${this.url}/rpc/${c}`);let v;d||h?(m=d?"HEAD":"GET",Object.entries(l).filter(([y,b])=>b!==void 0).map(([y,b])=>[y,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([y,b])=>{g.searchParams.append(y,b)})):(m="POST",v=l);const x=Object.assign({},this.headers);return f&&(x.Prefer=`count=${f}`),new r.default({method:m,url:g,headers:x,schema:this.schemaName,body:v,fetch:this.fetch,allowEmpty:!1})}}return ja.default=i,ja}var Wb;function HI(){if(Wb)return ar;Wb=1;var e=ar&&ar.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ar,"__esModule",{value:!0}),ar.PostgrestError=ar.PostgrestBuilder=ar.PostgrestTransformBuilder=ar.PostgrestFilterBuilder=ar.PostgrestQueryBuilder=ar.PostgrestClient=void 0;const t=e(BI());ar.PostgrestClient=t.default;const r=e(uN());ar.PostgrestQueryBuilder=r.default;const n=e(Qv());ar.PostgrestFilterBuilder=n.default;const i=e(cN());ar.PostgrestTransformBuilder=i.default;const a=e(lN());ar.PostgrestBuilder=a.default;const c=e(oN());return ar.PostgrestError=c.default,ar.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:c.default},ar}var zI=HI();const $I=kv(zI),{PostgrestClient:WI,PostgrestQueryBuilder:_V,PostgrestFilterBuilder:SV,PostgrestTransformBuilder:NV,PostgrestBuilder:EV,PostgrestError:CV}=$I;function qI(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const VI=qI(),KI="2.11.13",GI={"X-Client-Info":`realtime-js/${KI}`},YI="1.0.0",dN=1e4,XI=1e3;var Pl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Pl||(Pl={}));var jr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(jr||(jr={}));var Cn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Cn||(Cn={}));var Yg;(function(e){e.websocket="websocket"})(Yg||(Yg={}));var Li;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Li||(Li={}));class QI{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let c=this.HEADER_LENGTH+2;const l=n.decode(t.slice(c,c+i));c=c+i;const d=n.decode(t.slice(c,c+a));c=c+a;const h=JSON.parse(n.decode(t.slice(c,t.byteLength)));return{ref:null,topic:l,event:d,payload:h}}}class hN{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Nt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Nt||(Nt={}));const qb=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,c)=>(a[c]=JI(c,e,t,i),a),{})},JI=(e,t,r,n)=>{const i=t.find(l=>l.name===e),a=i?.type,c=r[e];return a&&!n.includes(a)?fN(a,c):Xg(c)},fN=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return rO(t,r)}switch(e){case Nt.bool:return ZI(t);case Nt.float4:case Nt.float8:case Nt.int2:case Nt.int4:case Nt.int8:case Nt.numeric:case Nt.oid:return eO(t);case Nt.json:case Nt.jsonb:return tO(t);case Nt.timestamp:return nO(t);case Nt.abstime:case Nt.date:case Nt.daterange:case Nt.int4range:case Nt.int8range:case Nt.money:case Nt.reltime:case Nt.text:case Nt.time:case Nt.timestamptz:case Nt.timetz:case Nt.tsrange:case Nt.tstzrange:return Xg(t);default:return Xg(t)}},Xg=e=>e,ZI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},eO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},tO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},rO=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const c=e.slice(1,r);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(l=>fN(t,l))}return e},nO=e=>typeof e=="string"?e.replace(" ","T"):e,pN=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class jp{constructor(t,r,n={},i=dN){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Vb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Vb||(Vb={}));class Rl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:c,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rl.syncState(this.state,i,a,c),this.pendingDiffs.forEach(d=>{this.state=Rl.syncDiff(this.state,d,a,c)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:c,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Rl.syncDiff(this.state,i,a,c),l())}),this.onJoin((i,a,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:c})}),this.onLeave((i,a,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),c=this.transformState(r),l={},d={};return this.map(a,(h,f)=>{c[h]||(d[h]=f)}),this.map(c,(h,f)=>{const m=a[h];if(m){const g=f.map(b=>b.presence_ref),v=m.map(b=>b.presence_ref),x=f.filter(b=>v.indexOf(b.presence_ref)<0),y=m.filter(b=>g.indexOf(b.presence_ref)<0);x.length>0&&(l[h]=x),y.length>0&&(d[h]=y)}else l[h]=f}),this.syncDiff(a,{joins:l,leaves:d},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,d)=>{var h;const f=(h=t[l])!==null&&h!==void 0?h:[];if(t[l]=this.cloneDeep(d),f.length>0){const m=t[l].map(v=>v.presence_ref),g=f.filter(v=>m.indexOf(v.presence_ref)<0);t[l].unshift(...g)}n(l,f,d)}),this.map(c,(l,d)=>{let h=t[l];if(!h)return;const f=d.map(m=>m.presence_ref);h=h.filter(m=>f.indexOf(m.presence_ref)<0),t[l]=h,i(l,h,d),h.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Kb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Kb||(Kb={}));var Gb;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Gb||(Gb={}));var xs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(xs||(xs={}));class Jv{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=jr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new jp(this,Cn.join,this.params,this.timeout),this.rejoinTimer=new hN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=jr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cn.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Rl(this),this.broadcastEndpointURL=pN(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==jr.closed){const{config:{broadcast:a,presence:c,private:l}}=this.params;this._onError(f=>t?.(xs.CHANNEL_ERROR,f)),this._onClose(()=>t?.(xs.CLOSED));const d={},h={broadcast:a,presence:c,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var m;if(this.socket.setAuth(),f===void 0){t?.(xs.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(m=g?.length)!==null&&m!==void 0?m:0,x=[];for(let y=0;y<v;y++){const b=g[y],{filter:{event:w,schema:N,table:_,filter:S}}=b,T=f&&f[y];if(T&&T.event===w&&T.schema===N&&T.table===_&&T.filter===S)x.push(Object.assign(Object.assign({},b),{id:T.id}));else{this.unsubscribe(),this.state=jr.errored,t?.(xs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(xs.SUBSCRIBED);return}}).receive("error",f=>{this.state=jr.errored,t?.(xs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(xs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:c}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,l,d;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(l=(c=this.params)===null||c===void 0?void 0:c.config)===null||l===void 0?void 0:l.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=jr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new jp(this,Cn.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new jp(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const c=t.toLocaleLowerCase(),{close:l,error:d,leave:h,join:f}=Cn;if(n&&[l,d,h,f].indexOf(c)>=0&&n!==this._joinRef())return;let g=this._onMessage(c,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var x,y,b;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(y=v.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===c}).map(v=>v.callback(g,n)):(a=this.bindings[c])===null||a===void 0||a.filter(v=>{var x,y,b,w,N,_;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in v){const S=v.id,T=(x=v.filter)===null||x===void 0?void 0:x.event;return S&&((y=r.ids)===null||y===void 0?void 0:y.includes(S))&&(T==="*"||T?.toLocaleLowerCase()===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(N=(w=v?.filter)===null||w===void 0?void 0:w.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return S==="*"||S===((_=r?.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===c}).map(v=>{if(typeof g=="object"&&"ids"in g){const x=g.data,{schema:y,table:b,commit_timestamp:w,type:N,errors:_}=x;g=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:w,eventType:N,new:{},old:{},errors:_}),this._getPayloadRecords(x))}v.callback(g,n)})}_isClosed(){return this.state===jr.closed}_isJoined(){return this.state===jr.joined}_isJoining(){return this.state===jr.joining}_isLeaving(){return this.state===jr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Jv.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Cn.close,{},t)}_onError(t){this._on(Cn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=qb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=qb(t.columns,t.old_record)),r}}const Yb=()=>{},sO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iO{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=GI,this.params={},this.timeout=dN,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yb,this.ref=0,this.logger=Yb,this.conn=null,this.sendBuffer=[],this.serializer=new QI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let c;return a?c=a:typeof fetch>"u"?c=(...l)=>Jl(async()=>{const{default:d}=await Promise.resolve().then(()=>wo);return{default:d}},void 0).then(({default:d})=>d(...l)):c=fetch,(...l)=>c(...l)},this.endPoint=`${t}/${Yg.websocket}`,this.httpEndpoint=pN(t),r?.transport?this.transport=r.transport:this.transport=null,r?.params&&(this.params=r.params),r?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r?.timeout&&(this.timeout=r.timeout),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r?.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r?.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r?.encode?r.encode:(a,c)=>c(JSON.stringify(a)),this.decode=r?.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new hN(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r?.fetch),r?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=r?.worker||!1,this.workerUrl=r?.workerUrl}this.accessToken=r?.accessToken||null}connect(){this.conn||(this.transport||(this.transport=VI),this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection())}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:YI}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Pl.connecting:return Li.Connecting;case Pl.open:return Li.Open;case Pl.closing:return Li.Closing;default:return Li.Closed}}isConnected(){return this.connectionState()===Li.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Jv(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,c=()=>{this.encode(t,l=>{var d;(d=this.conn)===null||d===void 0||d.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Cn.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(XI,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:a,ref:c}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${c&&"("+c+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,a,c)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Cn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([sO],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Zv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function or(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class aO extends Zv{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Qg extends Zv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var oO=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function l(f){try{h(n.next(f))}catch(m){c(m)}}function d(f){try{h(n.throw(f))}catch(m){c(m)}}function h(f){f.done?a(f.value):i(f.value).then(l,d)}h((n=n.apply(e,t||[])).next())})};const mN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Jl(async()=>{const{default:n}=await Promise.resolve().then(()=>wo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},lO=()=>oO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Jl(()=>Promise.resolve().then(()=>wo),void 0)).Response:Response}),Jg=e=>{if(Array.isArray(e))return e.map(r=>Jg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Jg(n)}),t};var Yi=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function l(f){try{h(n.next(f))}catch(m){c(m)}}function d(f){try{h(n.throw(f))}catch(m){c(m)}}function h(f){f.done?a(f.value):i(f.value).then(l,d)}h((n=n.apply(e,t||[])).next())})};const _p=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cO=(e,t,r)=>Yi(void 0,void 0,void 0,function*(){const n=yield lO();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{t(new aO(_p(i),e.status||500))}).catch(i=>{t(new Qg(_p(i),i))}):t(new Qg(_p(e),e))}),uO=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function Zl(e,t,r,n,i,a){return Yi(this,void 0,void 0,function*(){return new Promise((c,l)=>{e(r,uO(t,n,i,a)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>c(d)).catch(d=>cO(d,l,n))})})}function yd(e,t,r,n){return Yi(this,void 0,void 0,function*(){return Zl(e,"GET",t,r,n)})}function Qs(e,t,r,n,i){return Yi(this,void 0,void 0,function*(){return Zl(e,"POST",t,n,i,r)})}function dO(e,t,r,n,i){return Yi(this,void 0,void 0,function*(){return Zl(e,"PUT",t,n,i,r)})}function hO(e,t,r,n){return Yi(this,void 0,void 0,function*(){return Zl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function gN(e,t,r,n,i){return Yi(this,void 0,void 0,function*(){return Zl(e,"DELETE",t,n,i,r)})}var Mr=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function l(f){try{h(n.next(f))}catch(m){c(m)}}function d(f){try{h(n.throw(f))}catch(m){c(m)}}function h(f){f.done?a(f.value):i(f.value).then(l,d)}h((n=n.apply(e,t||[])).next())})};const fO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pO{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=mN(i)}uploadOrUpdate(t,r,n,i){return Mr(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},Xb),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",c.cacheControl),d&&a.append("metadata",this.encodeMetadata(d))):(a=n,l["cache-control"]=`max-age=${c.cacheControl}`,l["content-type"]=c.contentType,d&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const h=this._removeEmptyFolders(r),f=this._getFinalPath(h),m=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:t,body:a,headers:l},c?.duplex?{duplex:c.duplex}:{})),g=yield m.json();return m.ok?{data:{path:h,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(a){if(or(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Mr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Mr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),c=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${c}`);l.searchParams.set("token",r);try{let d;const h=Object.assign({upsert:Xb.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType);const m=yield this.fetch(l.toString(),{method:"PUT",body:d,headers:f}),g=yield m.json();return m.ok?{data:{path:a,fullPath:g.Key},error:null}:{data:null,error:g}}catch(d){if(or(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return Mr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const a=yield Qs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),c=new URL(this.url+a.url),l=c.searchParams.get("token");if(!l)throw new Zv("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:l},error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}})}update(t,r,n){return Mr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Mr(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(or(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Mr(this,void 0,void 0,function*(){try{return{data:{path:(yield Qs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(or(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Mr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Qs(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(i){if(or(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Mr(this,void 0,void 0,function*(){try{const i=yield Qs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(i){if(or(i))return{data:null,error:i};throw i}})}download(t,r){return Mr(this,void 0,void 0,function*(){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(r?.transform||{}),c=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield yd(this.fetch,`${this.url}/${i}/${l}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(or(l))return{data:null,error:l};throw l}})}info(t){return Mr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield yd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Jg(n),error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}})}exists(t){return Mr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield hO(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(or(n)&&n instanceof Qg){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r?.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const l=typeof r?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(r?.transform||{});d!==""&&i.push(d);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${h}`)}}}remove(t){return Mr(this,void 0,void 0,function*(){try{return{data:yield gN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}})}list(t,r,n){return Mr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},fO),r),{prefix:t||""});return{data:yield Qs(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(or(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const mO="2.7.1",gO={"X-Client-Info":`storage-js/${mO}`};var Ca=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function l(f){try{h(n.next(f))}catch(m){c(m)}}function d(f){try{h(n.throw(f))}catch(m){c(m)}}function h(f){f.done?a(f.value):i(f.value).then(l,d)}h((n=n.apply(e,t||[])).next())})};class vO{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},gO),r),this.fetch=mN(n)}listBuckets(){return Ca(this,void 0,void 0,function*(){try{return{data:yield yd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(or(t))return{data:null,error:t};throw t}})}getBucket(t){return Ca(this,void 0,void 0,function*(){try{return{data:yield yd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ca(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ca(this,void 0,void 0,function*(){try{return{data:yield dO(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ca(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ca(this,void 0,void 0,function*(){try{return{data:yield gN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}})}}class yO extends vO{constructor(t,r={},n){super(t,r,n)}from(t){return new pO(this.url,this.headers,t,this.fetch)}}const xO="2.50.1";let El="";typeof Deno<"u"?El="deno":typeof document<"u"?El="web":typeof navigator<"u"&&navigator.product==="ReactNative"?El="react-native":El="node";const wO={"X-Client-Info":`supabase-js-${El}/${xO}`},bO={headers:wO},jO={schema:"public"},_O={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},SO={};var NO=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function l(f){try{h(n.next(f))}catch(m){c(m)}}function d(f){try{h(n.throw(f))}catch(m){c(m)}}function h(f){f.done?a(f.value):i(f.value).then(l,d)}h((n=n.apply(e,t||[])).next())})};const EO=e=>{let t;return e?t=e:typeof fetch>"u"?t=iN:t=fetch,(...r)=>t(...r)},CO=()=>typeof Headers>"u"?aN:Headers,kO=(e,t,r)=>{const n=EO(r),i=CO();return(a,c)=>NO(void 0,void 0,void 0,function*(){var l;const d=(l=yield t())!==null&&l!==void 0?l:e;let h=new i(c?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),n(a,Object.assign(Object.assign({},c),{headers:h}))})};var TO=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function l(f){try{h(n.next(f))}catch(m){c(m)}}function d(f){try{h(n.throw(f))}catch(m){c(m)}}function h(f){f.done?a(f.value):i(f.value).then(l,d)}h((n=n.apply(e,t||[])).next())})};function PO(e){return e.endsWith("/")?e:e+"/"}function RO(e,t){var r,n;const{db:i,auth:a,realtime:c,global:l}=e,{db:d,auth:h,realtime:f,global:m}=t,g={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},h),a),realtime:Object.assign(Object.assign({},f),c),global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(r=m?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>TO(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const vN="2.70.0",Fa=30*1e3,Zg=3,Sp=Zg*Fa,AO="http://localhost:9999",DO="supabase.auth.token",IO={"X-Client-Info":`gotrue-js/${vN}`},ev="X-Supabase-Api-Version",yN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},OO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,MO=6e5;class ey extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function tt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class FO extends ey{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function LO(e){return tt(e)&&e.name==="AuthApiError"}class xN extends ey{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class li extends ey{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Ys extends li{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function UO(e){return tt(e)&&e.name==="AuthSessionMissingError"}class Mu extends li{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fu extends li{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Lu extends li{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function BO(e){return tt(e)&&e.name==="AuthImplicitGrantRedirectError"}class Qb extends li{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tv extends li{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Np(e){return tt(e)&&e.name==="AuthRetryableFetchError"}class Jb extends li{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Al extends li{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const xd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zb=` 	
\r=`.split(""),HO=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Zb.length;t+=1)e[Zb[t].charCodeAt(0)]=-2;for(let t=0;t<xd.length;t+=1)e[xd[t].charCodeAt(0)]=t;return e})();function e1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(xd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(xd[n]),t.queuedBits-=6}}function wN(e,t,r){const n=HO[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function t1(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=c=>{WO(c,n,r)};for(let c=0;c<e.length;c+=1)wN(e.charCodeAt(c),i,a);return t.join("")}function zO(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function $O(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}zO(n,t)}}function WO(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function qO(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)wN(e.charCodeAt(i),r,n);return new Uint8Array(t)}function VO(e){const t=[];return $O(e,r=>t.push(r)),new Uint8Array(t)}function KO(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>e1(i,r,n)),e1(null,r,n),t.join("")}function GO(e){return Math.round(Date.now()/1e3)+e}function YO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const _n=()=>typeof window<"u"&&typeof document<"u",Ri={tested:!1,writable:!1},Dl=()=>{if(!_n())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ri.tested)return Ri.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ri.tested=!0,Ri.writable=!0}catch{Ri.tested=!0,Ri.writable=!1}return Ri.writable};function XO(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const bN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Jl(async()=>{const{default:n}=await Promise.resolve().then(()=>wo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},QO=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",jN=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Uu=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Bu=async(e,t)=>{await e.removeItem(t)};class Wd{constructor(){this.promise=new Wd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Wd.promiseConstructor=Promise;function Ep(e){const t=e.split(".");if(t.length!==3)throw new Al("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!OO.test(t[n]))throw new Al("JWT not in base64url format");return{header:JSON.parse(t1(t[0])),payload:JSON.parse(t1(t[1])),signature:qO(t[2]),raw:{header:t[0],payload:t[1]}}}async function JO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ZO(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await e(a);if(!t(a,null,c)){n(c);return}}catch(c){if(!t(a,c)){i(c);return}}})()})}function e5(e){return("0"+e.toString(16)).substr(-2)}function t5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,e5).join("")}async function r5(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function n5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await r5(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ka(e,t,r=!1){const n=t5();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await jN(e,`${t}-code-verifier`,i);const a=await n5(n);return[a,n===a?"plain":"s256"]}const s5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function i5(e){const t=e.headers.get(ev);if(!t||!t.match(s5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function a5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function o5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const l5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ta(e){if(!l5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var c5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Oi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),u5=[502,503,504];async function r1(e){var t;if(!QO(e))throw new tv(Oi(e),0);if(u5.includes(e.status))throw new tv(Oi(e),e.status);let r;try{r=await e.json()}catch(a){throw new xN(Oi(a),a)}let n;const i=i5(e);if(i&&i.getTime()>=yN["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Jb(Oi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ys}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new Jb(Oi(r),e.status,r.weak_password.reasons);throw new FO(Oi(r),e.status||500,n)}const d5=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function at(e,t,r,n){var i;const a=Object.assign({},n?.headers);a[ev]||(a[ev]=yN["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const c=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const l=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await h5(e,t,r+l,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function h5(e,t,r,n,i,a){const c=d5(t,n,i,a);let l;try{l=await e(r,Object.assign({},c))}catch(d){throw console.error(d),new tv(Oi(d),0)}if(l.ok||await r1(l),n?.noResolveJson)return l;try{return await l.json()}catch(d){await r1(d)}}function ys(e){var t;let r=null;g5(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=GO(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function n1(e){const t=ys(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Js(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function f5(e){return{data:e,error:null}}function p5(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,c=c5(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},d=Object.assign({},c);return{data:{properties:l,user:d},error:null}}function m5(e){return e}function g5(e){return e.access_token&&e.refresh_token&&e.expires_in}const Cp=["global","local","others"];var v5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class y5{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=bN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Cp[0]){if(Cp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cp.join(", ")}`);try{return await at(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await at(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Js})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=v5(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await at(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:p5,redirectTo:r?.redirectTo})}catch(r){if(tt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await at(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Js})}catch(r){if(tt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,c,l,d;try{const h={nextPage:null,lastPage:0,total:0},f=await at(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:m5});if(f.error)throw f.error;const m=await f.json(),g=(c=f.headers.get("x-total-count"))!==null&&c!==void 0?c:0,v=(d=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);h[`${b}Page`]=y}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(tt(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Ta(t);try{return await at(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Js})}catch(r){if(tt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ta(t);try{return await at(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Js})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ta(t);try{return await at(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Js})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ta(t.userId);try{const{data:r,error:n}=await at(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ta(t.userId),Ta(t.id);try{return{data:await at(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}}}const x5={getItem:e=>Dl()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Dl()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Dl()&&globalThis.localStorage.removeItem(e)}};function s1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function w5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Pa={debug:!!(globalThis&&Dl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _N extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class b5 extends _N{}async function j5(e,t,r){Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new b5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Pa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}w5();const _5={url:AO,storageKey:DO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:IO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function i1(e,t,r){return await r()}class Hl{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hl.nextInstanceID,Hl.nextInstanceID+=1,this.instanceID>0&&_n()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},_5),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new y5({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=bN(i.fetch),this.lock=i.lock||i1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:_n()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=j5:this.lock=i1,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Dl()?this.storage=x5:(this.memoryStorage={},this.storage=s1(this.memoryStorage)):(this.memoryStorage={},this.storage=s1(this.memoryStorage)),_n()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=XO(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),_n()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),BO(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",l),await this._saveSession(c),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return tt(r)?{error:r}:{error:new xN("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ys}),{data:c,error:l}=a;if(l||!c)return{data:{user:null,session:null},error:l};const d=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(a){if(tt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:f,password:m,options:g}=t;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await ka(this.storage,this.storageKey)),a=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:f,password:m,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:x},xform:ys})}else if("phone"in t){const{phone:f,password:m,options:g}=t;a=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(n=g?.data)!==null&&n!==void 0?n:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:ys})}else throw new Fu("You must provide either an email or phone number and a password");const{data:c,error:l}=a;if(l||!c)return{data:{user:null,session:null},error:l};const d=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(a){if(tt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:c,options:l}=t;r=await at(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:n1})}else if("phone"in t){const{phone:a,password:c,options:l}=t;r=await at(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:n1})}else throw new Fu("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Mu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(tt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,a,c,l,d,h,f,m,g,v;let x,y;if("message"in t)x=t.message,y=t.signature;else{const{chain:b,wallet:w,statement:N,options:_}=t;let S;if(_n())if(typeof w=="object")S=w;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))S=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const T=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const F=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),N?{statement:N}:null));let U;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")U=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)U=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)x=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),y=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${T.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(n=_?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((c=_?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((l=_?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((d=_?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((h=_?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((m=(f=_?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",..._.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const F=await S.signMessage(new TextEncoder().encode(x),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=F}}try{const{data:b,error:w}=await at(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:KO(y)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ys});if(w)throw w;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Mu}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:w})}catch(b){if(tt(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await Uu(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:c}=await at(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ys});if(await Bu(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Mu}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:c})}catch(a){if(tt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:c}=t,l=await at(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ys}),{data:d,error:h}=l;return h?{data:{user:null,session:null},error:h}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Mu}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:h})}catch(r){if(tt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,c;try{if("email"in t){const{email:l,options:d}=t;let h=null,f=null;this.flowType==="pkce"&&([h,f]=await ka(this.storage,this.storageKey));const{error:m}=await at(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:f},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:l,options:d}=t,{data:h,error:f}=await at(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(c=d?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:f}}throw new Fu("You must provide either an email or phone number.")}catch(l){if(tt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:l}=await at(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:ys});if(l)throw l;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,h=c.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(i){if(tt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,c=null;return this.flowType==="pkce"&&([a,c]=await ka(this.storage,this.storageKey)),await at(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:f5})}catch(a){if(tt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ys;const{error:i}=await at(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(tt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:c}=await at(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:c,error:l}=await at(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:l}}throw new Fu("You must provide either an email or phone number and a type")}catch(r){if(tt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Uu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Sp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,h,f)=>(!c&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,h,f))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await at(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Js}):await this._useSession(async r=>{var n,i,a;const{data:c,error:l}=r;if(l)throw l;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ys}:await at(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Js})})}catch(r){if(tt(r))return UO(r)&&(await this._removeSession(),await Bu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Ys;const c=i.session;let l=null,d=null;this.flowType==="pkce"&&t.email!=null&&([l,d]=await ka(this.storage,this.storageKey));const{data:h,error:f}=await at(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:d}),jwt:c.access_token,xform:Js});if(f)throw f;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ys;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:c}=Ep(t.access_token);if(c.exp&&(n=c.exp,i=n<=r),i){const{session:l,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:d}=await this._getUser(t.access_token);if(d)throw d;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(tt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:l}=r;if(l)throw l;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Ys;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(tt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!_n())throw new Lu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Lu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Qb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Lu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Qb("No code detected.");const{data:N,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:c,expires_in:l,expires_at:d,token_type:h}=t;if(!a||!l||!c||!h)throw new Lu("No session defined in URL");const f=Math.round(Date.now()/1e3),m=parseInt(l);let g=f+m;d&&(g=parseInt(d));const v=g-f;v*1e3<=Fa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`);const x=g-m;f-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,g,f):f-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,g,f);const{data:y,error:b}=await this._getUser(a);if(b)throw b;const w={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:g,refresh_token:c,token_type:h,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(n){if(tt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Uu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const c=(n=i.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:l}=await this.admin.signOut(c,t);if(l&&!(LO(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Bu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=YO(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ka(this.storage,this.storageKey,!0));try{return await at(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(tt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var c,l,d,h,f;const{data:m,error:g}=a;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await at(this.fetch,"GET",v,{headers:this.headers,jwt:(f=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return _n()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(tt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:c}=r;if(c)throw c;return await at(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ZO(async i=>(i>0&&await JO(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await at(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ys})),(i,a)=>{const c=200*Math.pow(2,i);return a&&Np(a)&&Date.now()+c-n<Fa})}catch(n){if(this._debug(r,"error",n),tt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),_n()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Uu(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Sp;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Sp}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),Np(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ys;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Wd;const{data:a,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!a.session)throw new Ys;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),tt(a)){const c={session:null,error:a};return Np(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(d){a.push(d)}});if(await Promise.all(c),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await jN(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Bu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&_n()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Fa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Fa}ms, refresh threshold is ${Zg} ticks`),i<=Zg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _N)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_n()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,c]=await ka(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(l.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await at(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:c}=r;if(c)return{data:null,error:c};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:h}=await at(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:c,error:l}=await at(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:l})})}catch(r){if(tt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await at(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(tt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=t?.factors||[],i=n.filter(c=>c.factor_type==="totp"&&c.status==="verified"),a=n.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Ep(i.access_token);let l=null;c.aal&&(l=c.aal);let d=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const f=c.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(c=>c.kid===t);if(n||(n=this.jwks.keys.find(c=>c.kid===t),n&&this.jwks_cached_at+MO>Date.now()))return n;const{data:i,error:a}=await at(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new Al("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(c=>c.kid===t),!n)throw new Al("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:v,error:x}=await this.getSession();if(x||!v.session)return{data:null,error:x};n=v.session.access_token}const{header:i,payload:a,signature:c,raw:{header:l,payload:d}}=Ep(n);if(a5(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:a,header:i,signature:c},error:null}}const h=o5(i.alg),f=await this.fetchJwk(i.kid,r),m=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,c,VO(`${l}.${d}`)))throw new Al("Invalid JWT signature");return{data:{claims:a,header:i,signature:c},error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}}}Hl.nextInstanceID=0;const S5=Hl;class N5 extends S5{constructor(t){super(t)}}var E5=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function l(f){try{h(n.next(f))}catch(m){c(m)}}function d(f){try{h(n.throw(f))}catch(m){c(m)}}function h(f){f.done?a(f.value):i(f.value).then(l,d)}h((n=n.apply(e,t||[])).next())})};class C5{constructor(t,r,n){var i,a,c;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=PO(t),d=new URL(l);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,f={db:jO,realtime:SO,auth:Object.assign(Object.assign({},_O),{storageKey:h}),global:bO},m=RO(n??{},f);this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,m.global.fetch),this.fetch=kO(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new WI(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new AI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new yO(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return E5(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:c,lock:l,debug:d},h,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new N5({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:c,lock:l,debug:d,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new iO(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const k5=(e,t,r)=>new C5(e,t,r),T5="https://whqrymbhwmzkeobxesbt.supabase.co",P5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndocXJ5bWJod216a2VvYnhlc2J0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk5ODgyMzAsImV4cCI6MjA2NTU2NDIzMH0.C4p3FfurmFLku60lbzkxtNJZinVuCsYMqpaUXlHeV3w",R5=typeof window<"u"&&"WebSocket"in window?{transport:WebSocket}:void 0,Pe=k5(T5,P5,{realtime:R5}),Mi=()=>{try{localStorage.removeItem("supabase.auth.token"),Object.keys(localStorage).forEach(e=>{(e.startsWith("supabase.auth.")||e.includes("sb-"))&&localStorage.removeItem(e)}),typeof sessionStorage<"u"&&Object.keys(sessionStorage).forEach(e=>{(e.startsWith("supabase.auth.")||e.includes("sb-"))&&sessionStorage.removeItem(e)}),console.log("Auth state cleaned up")}catch(e){console.error("Error cleaning up auth state:",e)}},a1=async()=>{try{Mi();try{await Pe.auth.signOut({scope:"global"})}catch(e){console.warn("Global sign out failed:",e)}window.location.href="/"}catch(e){console.error("Sign out error:",e),window.location.href="/"}},o1=async e=>{try{const{data:t,error:r}=await Pe.from("profiles").select("*").eq("id",e).maybeSingle();return r?(console.error("Error fetching profile:",r),null):t}catch(t){return console.error("Profile fetch error:",t),null}},SN=E.createContext(void 0),_t=()=>{const e=E.useContext(SN);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},A5=({children:e})=>{const[t,r]=E.useState(null),[n,i]=E.useState(null),[a,c]=E.useState(null),[l,d]=E.useState(!0),{toast:h}=Dt(),f=E.useRef(null);E.useEffect(()=>{let x=null;const y=async(w,N)=>{if(!(f.current===w&&x)&&(x&&(Pe.removeChannel(x),x=null),!!N)){f.current=w;try{await Pe.realtime.setAuth(N)}catch(_){console.warn("Realtime setAuth error:",_)}x=Pe.channel("profile_changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`id=eq.${w}`},_=>{_.new&&c(_.new)}).subscribe(_=>{_!=="SUBSCRIBED"&&console.warn("Realtime channel status:",_)})}},{data:{subscription:b}}=Pe.auth.onAuthStateChange(async(w,N)=>{if(console.log("Auth state changed:",w,N?.user?.id),w==="TOKEN_REFRESHED"&&!N){console.log("Token refresh failed - cleaning up auth state"),Mi(),i(null),r(null),c(null),d(!1);return}i(N),r(N?.user??null),N?.user?(y(N.user.id,N.access_token),setTimeout(async()=>{try{const _=await o1(N.user.id);c(_)}catch(_){if(console.error("Error fetching user profile:",_),_?.message?.includes("auth")||_?.message?.includes("JWT")){console.log("Auth error detected - performing cleanup sign out"),await a1();return}}d(!1)},0)):(c(null),d(!1),f.current=null),w==="SIGNED_IN"?console.log("User signed in successfully"):w==="SIGNED_OUT"?(console.log("User signed out"),c(null),f.current=null,Mi()):w==="TOKEN_REFRESHED"?console.log("Token refreshed successfully"):w==="PASSWORD_RECOVERY"&&h({title:"Password Recovery",description:"Please check your email for password recovery instructions."})});return Pe.auth.getSession().then(async({data:{session:w},error:N})=>{if(console.log("Initial session check:",w?.user?.id),N){console.error("Session check error:",N),Mi(),i(null),r(null),c(null),d(!1);return}if(i(w),r(w?.user??null),w?.user){y(w.user.id,w.access_token);try{const _=await o1(w.user.id);c(_)}catch(_){console.error("Error fetching initial profile:",_),(_?.message?.includes("auth")||_?.message?.includes("JWT"))&&(Mi(),i(null),r(null),c(null))}}d(!1)}).catch(w=>{console.error("Session initialization error:",w),Mi(),d(!1)}),()=>{b.unsubscribe(),x&&Pe.removeChannel(x),f.current=null}},[]);const m=async()=>{try{d(!0),await a1()}catch(x){console.error("Unexpected sign out error:",x),h({title:"Error",description:"An unexpected error occurred during sign out.",variant:"destructive"}),Mi(),window.location.href="/"}finally{d(!1)}},g=a?.role==="admin"||n?.user?.user_metadata?.role==="admin",v={user:t,session:n,profile:a,loading:l,signOut:m,isAdmin:g};return s.jsx(SN.Provider,{value:v,children:e})},od={USD:{USD:1,EUR:.85,RON:4.5},EUR:{USD:1.18,EUR:1,RON:5.3},RON:{USD:.22,EUR:.19,RON:1}},D5=(e,t,r,n)=>{if(isNaN(e)||e===null||e===void 0)return 0;if(t===r)return e;const a=(n||od)[t];if(!a)return e;const c=a[r];if(!c)return e;const l=e*c;return isNaN(l)?0:l},ct=(e,t)=>{(isNaN(e)||e===null||e===void 0)&&(e=0);const n={USD:"$",EUR:"",RON:"RON "}[t]||"$";return t==="RON"?`${n}${e.toFixed(2)}`:`${n}${e.toFixed(2)}`},NN=E.createContext(void 0),I5=({children:e})=>{const[t,r]=E.useState("USD"),[n,i]=E.useState(()=>localStorage.getItem("displayCurrency")||"USD"),[a,c]=E.useState(()=>localStorage.getItem("demoMode")==="true"),[l,d]=E.useState(null),[h,f]=E.useState(!0),[m,g]=E.useState(null),v=E.useCallback(async()=>{try{f(!0);const N=localStorage.getItem("exchangeRates"),_=localStorage.getItem("exchangeRatesTimestamp");if(N&&_){const S=new Date(_);if((new Date().getTime()-S.getTime())/(1e3*60*60)<24){console.log("Using cached exchange rates from",S),d(JSON.parse(N)),g(S),f(!1);return}}console.log("Attempting to fetch fresh exchange rates from edge function...");try{const{data:S,error:T}=await Pe.functions.invoke("fetch-exchange-rates");if(T)throw console.warn("Edge function error:",T),new Error(`Edge function error: ${T.message}`);if(!S||!S.success)throw console.warn("Edge function returned error or no data:",S),new Error(`API error: ${S?.error||"No data received"}`);console.log("Successfully fetched live exchange rates:",S.rates),localStorage.setItem("exchangeRates",JSON.stringify(S.rates)),localStorage.setItem("exchangeRatesTimestamp",new Date().toISOString()),d(S.rates),g(new Date)}catch(S){console.warn("Edge function failed, falling back to static rates:",S),d(od)}}catch(N){console.error("Error in fetchExchangeRates:",N),console.log("Using fallback exchange rates due to error"),d(od)}finally{f(!1)}},[]);E.useEffect(()=>{v();const N=setInterval(v,1440*60*1e3);return()=>clearInterval(N)},[v]),E.useEffect(()=>{const N=_=>{i(_.detail.currency),r(_.detail.currency)};return window.addEventListener("currencyChanged",N),()=>{window.removeEventListener("currencyChanged",N)}},[]);const x=E.useCallback(N=>{console.log("Currency updated to:",N),i(N),r(N),localStorage.setItem("displayCurrency",N),window.dispatchEvent(new CustomEvent("currencyChanged",{detail:{currency:N}}))},[]),y=E.useCallback(()=>{c(N=>{const _=!N;return localStorage.setItem("demoMode",_.toString()),console.log("Demo mode toggled to:",_),window.dispatchEvent(new CustomEvent("demoModeChanged",{detail:{demoMode:_}})),_})},[]),b=E.useCallback((N,_,S)=>D5(N,_,S,l||od),[l]),w=(N,_)=>{const S=_||n;return new Intl.NumberFormat("en-US",{style:"currency",currency:S}).format(N)};return s.jsx(NN.Provider,{value:{currency:t,setCurrency:r,displayCurrency:n,formatCurrency:w,convert:b,updateCurrency:x,loadingRates:h,lastFetched:m,refreshRates:v,demoMode:a,toggleDemoMode:y},children:e})},pt=()=>{const e=E.useContext(NN);if(e===void 0)throw new Error("useCurrency must be used within a CurrencyProvider");return e},We=E.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Re("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));We.displayName="Card";const ot=E.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Re("flex flex-col space-y-1.5 p-6",e),...t}));ot.displayName="CardHeader";const lt=E.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:Re("text-lg font-semibold leading-none tracking-tight text-slate-800",e),...t}));lt.displayName="CardTitle";const ty=E.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:Re("text-sm text-muted-foreground",e),...t}));ty.displayName="CardDescription";const qe=E.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Re("p-6 pt-0",e),...t}));qe.displayName="CardContent";const O5=E.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Re("flex items-center p-6 pt-0",e),...t}));O5.displayName="CardFooter";const zl=Gi("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{primary:"bg-yellow-500 text-neutral-950 hover:bg-neutral-950 hover:text-yellow-500",default:"bg-primary text-primary-foreground hover:bg-primary/90",success:"bg-green-100 text-green-800 hover:bg-green-200",danger:"bg-red-100 text-red-800 hover:bg-red-200",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),je=E.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const c=n?Yr:"button";return s.jsx(c,{className:Re(zl({variant:t,size:r,className:e})),ref:a,...i})});je.displayName="Button";const De=E.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));De.displayName="Input";var M5="Label",EN=E.forwardRef((e,t)=>s.jsx(Ve.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));EN.displayName=M5;var CN=EN;const F5=Gi("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),we=E.forwardRef(({className:e,...t},r)=>s.jsx(CN,{ref:r,className:Re(F5(),e),...t}));we.displayName=CN.displayName;function L5(e,t=[]){let r=[];function n(a,c){const l=E.createContext(c),d=r.length;r=[...r,c];function h(m){const{scope:g,children:v,...x}=m,y=g?.[e][d]||l,b=E.useMemo(()=>x,Object.values(x));return s.jsx(y.Provider,{value:b,children:v})}function f(m,g){const v=g?.[e][d]||l,x=E.useContext(v);if(x)return x;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${a}\``)}return h.displayName=a+"Provider",[h,f]}const i=()=>{const a=r.map(c=>E.createContext(c));return function(l){const d=l?.[e]||a;return E.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return i.scopeName=e,[n,U5(i,...t)]}function U5(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const c=n.reduce((l,{useScope:d,scopeName:h})=>{const m=d(a)[`__scope${h}`];return{...l,...m}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var B5=X_.useId||(()=>{}),H5=0;function Gn(e){const[t,r]=E.useState(B5());return mr(()=>{r(n=>n??String(H5++))},[e]),t?`radix-${t}`:""}var z5=E.createContext(void 0);function ec(e){const t=E.useContext(z5);return e||t||"ltr"}var kp="rovingFocusGroup.onEntryFocus",$5={bubbles:!1,cancelable:!0},qd="RovingFocusGroup",[rv,kN,W5]=Lv(qd),[q5,Vd]=L5(qd,[W5]),[V5,K5]=q5(qd),TN=E.forwardRef((e,t)=>s.jsx(rv.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(rv.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(G5,{...e,ref:t})})}));TN.displayName=qd;var G5=E.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:f=!1,...m}=e,g=E.useRef(null),v=nt(t,g),x=ec(a),[y=null,b]=Tn({prop:c,defaultProp:l,onChange:d}),[w,N]=E.useState(!1),_=Vt(h),S=kN(r),T=E.useRef(!1),[F,U]=E.useState(0);return E.useEffect(()=>{const $=g.current;if($)return $.addEventListener(kp,_),()=>$.removeEventListener(kp,_)},[_]),s.jsx(V5,{scope:r,orientation:n,dir:x,loop:i,currentTabStopId:y,onItemFocus:E.useCallback($=>b($),[b]),onItemShiftTab:E.useCallback(()=>N(!0),[]),onFocusableItemAdd:E.useCallback(()=>U($=>$+1),[]),onFocusableItemRemove:E.useCallback(()=>U($=>$-1),[]),children:s.jsx(Ve.div,{tabIndex:w||F===0?-1:0,"data-orientation":n,...m,ref:v,style:{outline:"none",...e.style},onMouseDown:Le(e.onMouseDown,()=>{T.current=!0}),onFocus:Le(e.onFocus,$=>{const A=!T.current;if($.target===$.currentTarget&&A&&!w){const J=new CustomEvent(kp,$5);if($.currentTarget.dispatchEvent(J),!J.defaultPrevented){const pe=S().filter(ae=>ae.focusable),z=pe.find(ae=>ae.active),G=pe.find(ae=>ae.id===y),Z=[z,G,...pe].filter(Boolean).map(ae=>ae.ref.current);AN(Z,f)}}T.current=!1}),onBlur:Le(e.onBlur,()=>N(!1))})})}),PN="RovingFocusGroupItem",RN=E.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,...c}=e,l=Gn(),d=a||l,h=K5(PN,r),f=h.currentTabStopId===d,m=kN(r),{onFocusableItemAdd:g,onFocusableItemRemove:v}=h;return E.useEffect(()=>{if(n)return g(),()=>v()},[n,g,v]),s.jsx(rv.ItemSlot,{scope:r,id:d,focusable:n,active:i,children:s.jsx(Ve.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...c,ref:t,onMouseDown:Le(e.onMouseDown,x=>{n?h.onItemFocus(d):x.preventDefault()}),onFocus:Le(e.onFocus,()=>h.onItemFocus(d)),onKeyDown:Le(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){h.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=Q5(x,h.orientation,h.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=m().filter(N=>N.focusable).map(N=>N.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const N=w.indexOf(x.currentTarget);w=h.loop?J5(w,N+1):w.slice(N+1)}setTimeout(()=>AN(w))}})})})});RN.displayName=PN;var Y5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function X5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Q5(e,t,r){const n=X5(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Y5[n]}function AN(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function J5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var DN=TN,IN=RN,ry="Tabs",[Z5]=cn(ry,[Vd]),ON=Vd(),[e6,ny]=Z5(ry),MN=E.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:c="horizontal",dir:l,activationMode:d="automatic",...h}=e,f=ec(l),[m,g]=Tn({prop:n,onChange:i,defaultProp:a});return s.jsx(e6,{scope:r,baseId:Gn(),value:m,onValueChange:g,orientation:c,dir:f,activationMode:d,children:s.jsx(Ve.div,{dir:f,"data-orientation":c,...h,ref:t})})});MN.displayName=ry;var FN="TabsList",LN=E.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,a=ny(FN,r),c=ON(r);return s.jsx(DN,{asChild:!0,...c,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(Ve.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});LN.displayName=FN;var UN="TabsTrigger",BN=E.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=e,c=ny(UN,r),l=ON(r),d=$N(c.baseId,n),h=WN(c.baseId,n),f=n===c.value;return s.jsx(IN,{asChild:!0,...l,focusable:!i,active:f,children:s.jsx(Ve.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...a,ref:t,onMouseDown:Le(e.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?c.onValueChange(n):m.preventDefault()}),onKeyDown:Le(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&c.onValueChange(n)}),onFocus:Le(e.onFocus,()=>{const m=c.activationMode!=="manual";!f&&!i&&m&&c.onValueChange(n)})})})});BN.displayName=UN;var HN="TabsContent",zN=E.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...c}=e,l=ny(HN,r),d=$N(l.baseId,n),h=WN(l.baseId,n),f=n===l.value,m=E.useRef(f);return E.useEffect(()=>{const g=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(g)},[]),s.jsx(kr,{present:i||f,children:({present:g})=>s.jsx(Ve.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:h,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:g&&a})})});zN.displayName=HN;function $N(e,t){return`${e}-trigger-${t}`}function WN(e,t){return`${e}-content-${t}`}var t6=MN,qN=LN,VN=BN,KN=zN;const Ss=t6,ts=E.forwardRef(({className:e,...t},r)=>s.jsx(qN,{ref:r,className:Re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ts.displayName=qN.displayName;const Mt=E.forwardRef(({className:e,...t},r)=>s.jsx(VN,{ref:r,className:Re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Mt.displayName=VN.displayName;const Xt=E.forwardRef(({className:e,...t},r)=>s.jsx(KN,{ref:r,className:Re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Xt.displayName=KN.displayName;const r6=Gi("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),GN=E.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:Re(r6({variant:t}),e),...r}));GN.displayName="Alert";const n6=E.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:Re("mb-1 font-medium leading-none tracking-tight",e),...t}));n6.displayName="AlertTitle";const YN=E.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Re("text-sm [&_p]:leading-relaxed",e),...t}));YN.displayName="AlertDescription";const Il=gt.forwardRef(({className:e,...t},r)=>{const[n,i]=E.useState(!1),a=()=>{i(!n)};return s.jsxs("div",{className:"relative",children:[s.jsx(De,{type:n?"text":"password",className:Re("pr-10",e),ref:r,...t}),s.jsx(je,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:a,"aria-label":n?"Hide password":"Show password",children:n?s.jsx(qv,{className:"h-4 w-4"}):s.jsx(Hd,{className:"h-4 w-4"})})]})});Il.displayName="PasswordInput";const XN=()=>{const[e,t]=E.useState([]),[r,n]=E.useState(!1),{toast:i}=Dt(),a=async()=>{n(!0);try{const{data:m,error:g}=await Pe.from("user_invites").select("*").order("created_at",{ascending:!1});if(g)throw g;const v=(m||[]).map(x=>({...x,role:x.role}));t(v)}catch(m){console.error("Error fetching invites:",m),i({title:"Error",description:"Failed to load invites",variant:"destructive"})}finally{n(!1)}},c=async(m,g,v)=>{try{const{data:{user:x}}=await Pe.auth.getUser(),{data:y}=await Pe.from("profiles").select("email").eq("id",x?.id).single(),{data:b,error:w}=await Pe.functions.invoke("send-invite-email",{body:{email:m,role:g,token:v,invitedBy:y?.email||x?.email||"Admin"}});if(w)throw w;return await Pe.from("user_invites").update({email_sent:!0,email_sent_at:new Date().toISOString()}).eq("token",v),b}catch(x){throw console.error("Error sending invite email:",x),x}},l=async(m,g)=>{try{const v=crypto.randomUUID(),{data:x,error:y}=await Pe.from("user_invites").insert({email:m,role:g,token:v,invited_by:(await Pe.auth.getUser()).data.user?.id,expires_at:new Date(Date.now()+1440*60*1e3).toISOString()}).select().single();if(y)throw y;try{await c(m,g,v),i({title:"Success",description:`Invite sent to ${m}`})}catch(b){console.error("Email sending failed:",b),i({title:"Invite Created",description:`Invite created for ${m}, but email sending failed. Please check your email configuration.`,variant:"destructive"})}return await a(),x}catch(v){return console.error("Error creating invite:",v),i({title:"Error",description:"Failed to create invite",variant:"destructive"}),null}},d=async m=>{try{const{error:g}=await Pe.from("user_invites").delete().eq("id",m);if(g)throw g;i({title:"Success",description:"Invite deleted successfully"}),await a()}catch(g){console.error("Error deleting invite:",g),i({title:"Error",description:"Failed to delete invite",variant:"destructive"})}},h=async m=>{try{const{data:g,error:v}=await Pe.functions.invoke("validate-invite-token",{body:{token:m}});return v?(console.error("Error validating invite token:",v),null):g?.valid?{token:m,role:g.role,expires_at:g.expires_at,id:"",email:"",used:!1,created_at:"",invited_by:"",used_at:null,used_by:null,email_sent:!1,email_sent_at:null}:null}catch(g){return console.error("Error validating invite token:",g),null}},f=async(m,g)=>{try{const{error:v}=await Pe.from("user_invites").update({used:!0,used_at:new Date().toISOString(),used_by:g}).eq("token",m);if(v)throw v}catch(v){console.error("Error marking invite as used:",v)}};return E.useEffect(()=>{a()},[]),{invites:e,loading:r,createInvite:l,deleteInvite:d,validateInviteToken:h,markInviteAsUsed:f,refreshInvites:a}},s6=()=>{const[e]=KA(),t=Dn(),{validateInviteToken:r}=XN(),{toast:n}=Dt(),[i,a]=E.useState(""),[c,l]=E.useState(""),[d,h]=E.useState(""),[f,m]=E.useState(!1),[g,v]=E.useState(null),[x,y]=E.useState(null),[b,w]=E.useState(()=>e.get("mode")==="signup"?"signup":"signin");E.useEffect(()=>{const T=e.get("invite");T&&(y(T),N(T))},[e]),E.useEffect(()=>{const T=e.get("mode");if(g){w("signup");return}w(T==="signup"?"signup":"signin")},[e,g]);const N=async T=>{try{const F=await r(T);F?(v(F),a(F.email),n({title:"Valid Invite",description:`You've been invited as a ${F.role} user`})):n({title:"Invalid Invite",description:"This invite is invalid or has expired",variant:"destructive"})}catch(F){console.error("Error validating invite:",F),n({title:"Error",description:"Failed to validate invite",variant:"destructive"})}},_=async T=>{T.preventDefault(),m(!0);try{const{data:F,error:U}=await Pe.auth.signInWithPassword({email:i,password:c});if(U)throw U;F.user&&t("/")}catch(F){n({title:"Error",description:F.message,variant:"destructive"})}finally{m(!1)}},S=async T=>{if(T.preventDefault(),c!==d){n({title:"Error",description:"Passwords don't match",variant:"destructive"});return}m(!0);try{const F={email:i,password:c};x&&(F.options={data:{invite_token:x,role:g?.role||"standard"}}),F.options={...F.options,emailRedirectTo:`${window.location.origin}/auth?mode=signup`};const{data:U,error:$}=await Pe.auth.signUp(F);if($)throw $;U.user&&n({title:"Success",description:"Please check your email to confirm your account"})}catch(F){n({title:"Error",description:F.message,variant:"destructive"})}finally{m(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Project Manager"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:g?"Complete your invitation":"Sign in to your account or create a new one"})]}),g&&s.jsxs(GN,{children:[s.jsx(GS,{className:"h-4 w-4"}),s.jsxs(YN,{children:["You've been invited to join as a ",s.jsx("strong",{children:g.role})," user. Please create your account to continue."]})]}),s.jsxs(We,{children:[s.jsxs(ot,{children:[s.jsx(lt,{children:"Authentication"}),s.jsx(ty,{children:g?"Create your account":"Sign in or create an account"})]}),s.jsx(qe,{children:s.jsxs(Ss,{value:g?"signup":b,onValueChange:T=>w(T),className:"w-full",children:[s.jsxs(ts,{className:"grid w-full grid-cols-2",children:[s.jsx(Mt,{value:"signin",disabled:!!g,children:"Sign In"}),s.jsx(Mt,{value:"signup",children:"Sign Up"})]}),s.jsx(Xt,{value:"signin",className:"space-y-4",children:s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"signin-email",children:"Email"}),s.jsx(De,{id:"signin-email",type:"email",value:i,onChange:T=>a(T.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"signin-password",children:"Password"}),s.jsx(Il,{id:"signin-password",value:c,onChange:T=>l(T.target.value),required:!0})]}),s.jsx(je,{type:"submit",className:"w-full",disabled:f,children:f?s.jsxs(s.Fragment,{children:[s.jsx(Ga,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})}),s.jsx(Xt,{value:"signup",className:"space-y-4",children:s.jsxs("form",{onSubmit:S,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"signup-email",children:"Email"}),s.jsx(De,{id:"signup-email",type:"email",value:i,onChange:T=>a(T.target.value),required:!0,disabled:!!g})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"signup-password",children:"Password"}),s.jsx(Il,{id:"signup-password",value:c,onChange:T=>l(T.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"confirm-password",children:"Confirm Password"}),s.jsx(Il,{id:"confirm-password",value:d,onChange:T=>h(T.target.value),required:!0})]}),s.jsx(je,{type:"submit",className:"w-full",disabled:f,children:f?s.jsxs(s.Fragment,{children:[s.jsx(Ga,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"})]})})]})})]})]})})},Tp=1024;function i6(){const[e,t]=E.useState(void 0);return E.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Tp-1}px)`),n=()=>{t(window.innerWidth<Tp)};return r.addEventListener("change",n),t(window.innerWidth<Tp),()=>r.removeEventListener("change",n)},[]),!!e}var a6="Separator",l1="horizontal",o6=["horizontal","vertical"],QN=E.forwardRef((e,t)=>{const{decorative:r,orientation:n=l1,...i}=e,a=l6(n)?n:l1,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(Ve.div,{"data-orientation":a,...l,...i,ref:t})});QN.displayName=a6;function l6(e){return o6.includes(e)}var JN=QN;const ZN=E.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>s.jsx(JN,{ref:i,decorative:r,orientation:t,className:Re("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));ZN.displayName=JN.displayName;var Pp="focusScope.autoFocusOnMount",Rp="focusScope.autoFocusOnUnmount",c1={bubbles:!1,cancelable:!0},c6="FocusScope",Kd=E.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...c}=e,[l,d]=E.useState(null),h=Vt(i),f=Vt(a),m=E.useRef(null),g=nt(t,y=>d(y)),v=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(n){let y=function(_){if(v.paused||!l)return;const S=_.target;l.contains(S)?m.current=S:Xs(m.current,{select:!0})},b=function(_){if(v.paused||!l)return;const S=_.relatedTarget;S!==null&&(l.contains(S)||Xs(m.current,{select:!0}))},w=function(_){if(document.activeElement===document.body)for(const T of _)T.removedNodes.length>0&&Xs(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const N=new MutationObserver(w);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),N.disconnect()}}},[n,l,v.paused]),E.useEffect(()=>{if(l){d1.add(v);const y=document.activeElement;if(!l.contains(y)){const w=new CustomEvent(Pp,c1);l.addEventListener(Pp,h),l.dispatchEvent(w),w.defaultPrevented||(u6(m6(eE(l)),{select:!0}),document.activeElement===y&&Xs(l))}return()=>{l.removeEventListener(Pp,h),setTimeout(()=>{const w=new CustomEvent(Rp,c1);l.addEventListener(Rp,f),l.dispatchEvent(w),w.defaultPrevented||Xs(y??document.body,{select:!0}),l.removeEventListener(Rp,f),d1.remove(v)},0)}}},[l,h,f,v]);const x=E.useCallback(y=>{if(!r&&!n||v.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(b&&w){const N=y.currentTarget,[_,S]=d6(N);_&&S?!y.shiftKey&&w===S?(y.preventDefault(),r&&Xs(_,{select:!0})):y.shiftKey&&w===_&&(y.preventDefault(),r&&Xs(S,{select:!0})):w===N&&y.preventDefault()}},[r,n,v.paused]);return s.jsx(Ve.div,{tabIndex:-1,...c,ref:g,onKeyDown:x})});Kd.displayName=c6;function u6(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Xs(n,{select:t}),document.activeElement!==r)return}function d6(e){const t=eE(e),r=u1(t,e),n=u1(t.reverse(),e);return[r,n]}function eE(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function u1(e,t){for(const r of e)if(!h6(r,{upTo:t}))return r}function h6(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function f6(e){return e instanceof HTMLInputElement&&"select"in e}function Xs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&f6(e)&&t&&e.select()}}var d1=p6();function p6(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=h1(e,t),e.unshift(t)},remove(t){e=h1(e,t),e[0]?.resume()}}}function h1(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function m6(e){return e.filter(t=>t.tagName!=="A")}var Ap=0;function sy(){E.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??f1()),document.body.insertAdjacentElement("beforeend",e[1]??f1()),Ap++,()=>{Ap===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ap--}},[])}function f1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var qn=function(){return qn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},qn.apply(this,arguments)};function tE(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function g6(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var ld="right-scroll-bar-position",cd="width-before-scroll-bar",v6="with-scroll-bars-hidden",y6="--removed-body-scroll-bar-size";function Dp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function x6(e,t){var r=E.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var w6=typeof window<"u"?E.useLayoutEffect:E.useEffect,p1=new WeakMap;function b6(e,t){var r=x6(null,function(n){return e.forEach(function(i){return Dp(i,n)})});return w6(function(){var n=p1.get(r);if(n){var i=new Set(n),a=new Set(e),c=r.current;i.forEach(function(l){a.has(l)||Dp(l,null)}),a.forEach(function(l){i.has(l)||Dp(l,c)})}p1.set(r,e)},[e]),r}function j6(e){return e}function _6(e,t){t===void 0&&(t=j6);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var c=t(a,n);return r.push(c),function(){r=r.filter(function(l){return l!==c})}},assignSyncMedium:function(a){for(n=!0;r.length;){var c=r;r=[],c.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var c=[];if(r.length){var l=r;r=[],l.forEach(a),c=r}var d=function(){var f=c;c=[],f.forEach(a)},h=function(){return Promise.resolve().then(d)};h(),r={push:function(f){c.push(f),h()},filter:function(f){return c=c.filter(f),r}}}};return i}function S6(e){e===void 0&&(e={});var t=_6(null);return t.options=qn({async:!0,ssr:!1},e),t}var rE=function(e){var t=e.sideCar,r=tE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return E.createElement(n,qn({},r))};rE.isSideCarExport=!0;function N6(e,t){return e.useMedium(t),rE}var nE=S6(),Ip=function(){},Gd=E.forwardRef(function(e,t){var r=E.useRef(null),n=E.useState({onScrollCapture:Ip,onWheelCapture:Ip,onTouchMoveCapture:Ip}),i=n[0],a=n[1],c=e.forwardProps,l=e.children,d=e.className,h=e.removeScrollBar,f=e.enabled,m=e.shards,g=e.sideCar,v=e.noIsolation,x=e.inert,y=e.allowPinchZoom,b=e.as,w=b===void 0?"div":b,N=e.gapMode,_=tE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=g,T=b6([r,t]),F=qn(qn({},_),i);return E.createElement(E.Fragment,null,f&&E.createElement(S,{sideCar:nE,removeScrollBar:h,shards:m,noIsolation:v,inert:x,setCallbacks:a,allowPinchZoom:!!y,lockRef:r,gapMode:N}),c?E.cloneElement(E.Children.only(l),qn(qn({},F),{ref:T})):E.createElement(w,qn({},F,{className:d,ref:T}),l))});Gd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gd.classNames={fullWidth:cd,zeroRight:ld};var E6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function C6(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=E6();return t&&e.setAttribute("nonce",t),e}function k6(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function T6(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var P6=function(){var e=0,t=null;return{add:function(r){e==0&&(t=C6())&&(k6(t,r),T6(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},R6=function(){var e=P6();return function(t,r){E.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},sE=function(){var e=R6(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},A6={left:0,top:0,right:0,gap:0},Op=function(e){return parseInt(e||"",10)||0},D6=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Op(r),Op(n),Op(i)]},I6=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return A6;var t=D6(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},O6=sE(),Ba="data-scroll-locked",M6=function(e,t,r,n){var i=e.left,a=e.top,c=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(v6,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ba,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ld,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(cd,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ld," .").concat(ld,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(cd," .").concat(cd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ba,`] {
    `).concat(y6,": ").concat(l,`px;
  }
`)},m1=function(){var e=parseInt(document.body.getAttribute(Ba)||"0",10);return isFinite(e)?e:0},F6=function(){E.useEffect(function(){return document.body.setAttribute(Ba,(m1()+1).toString()),function(){var e=m1()-1;e<=0?document.body.removeAttribute(Ba):document.body.setAttribute(Ba,e.toString())}},[])},L6=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;F6();var a=E.useMemo(function(){return I6(i)},[i]);return E.createElement(O6,{styles:M6(a,!t,i,r?"":"!important")})},nv=!1;if(typeof window<"u")try{var Hu=Object.defineProperty({},"passive",{get:function(){return nv=!0,!0}});window.addEventListener("test",Hu,Hu),window.removeEventListener("test",Hu,Hu)}catch{nv=!1}var Ra=nv?{passive:!1}:!1,U6=function(e){return e.tagName==="TEXTAREA"},iE=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!U6(e)&&r[t]==="visible")},B6=function(e){return iE(e,"overflowY")},H6=function(e){return iE(e,"overflowX")},g1=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=aE(e,n);if(i){var a=oE(e,n),c=a[1],l=a[2];if(c>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},z6=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},$6=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},aE=function(e,t){return e==="v"?B6(t):H6(t)},oE=function(e,t){return e==="v"?z6(t):$6(t)},W6=function(e,t){return e==="h"&&t==="rtl"?-1:1},q6=function(e,t,r,n,i){var a=W6(e,window.getComputedStyle(t).direction),c=a*n,l=r.target,d=t.contains(l),h=!1,f=c>0,m=0,g=0;do{var v=oE(e,l),x=v[0],y=v[1],b=v[2],w=y-b-a*x;(x||w)&&aE(e,l)&&(m+=w,g+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(f&&Math.abs(m)<1||!f&&Math.abs(g)<1)&&(h=!0),h},zu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},v1=function(e){return[e.deltaX,e.deltaY]},y1=function(e){return e&&"current"in e?e.current:e},V6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},K6=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},G6=0,Aa=[];function Y6(e){var t=E.useRef([]),r=E.useRef([0,0]),n=E.useRef(),i=E.useState(G6++)[0],a=E.useState(sE)[0],c=E.useRef(e);E.useEffect(function(){c.current=e},[e]),E.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=g6([e.lockRef.current],(e.shards||[]).map(y1),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=E.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!c.current.allowPinchZoom;var w=zu(y),N=r.current,_="deltaX"in y?y.deltaX:N[0]-w[0],S="deltaY"in y?y.deltaY:N[1]-w[1],T,F=y.target,U=Math.abs(_)>Math.abs(S)?"h":"v";if("touches"in y&&U==="h"&&F.type==="range")return!1;var $=g1(U,F);if(!$)return!0;if($?T=U:(T=U==="v"?"h":"v",$=g1(U,F)),!$)return!1;if(!n.current&&"changedTouches"in y&&(_||S)&&(n.current=T),!T)return!0;var A=n.current||T;return q6(A,b,y,A==="h"?_:S)},[]),d=E.useCallback(function(y){var b=y;if(!(!Aa.length||Aa[Aa.length-1]!==a)){var w="deltaY"in b?v1(b):zu(b),N=t.current.filter(function(T){return T.name===b.type&&(T.target===b.target||b.target===T.shadowParent)&&V6(T.delta,w)})[0];if(N&&N.should){b.cancelable&&b.preventDefault();return}if(!N){var _=(c.current.shards||[]).map(y1).filter(Boolean).filter(function(T){return T.contains(b.target)}),S=_.length>0?l(b,_[0]):!c.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),h=E.useCallback(function(y,b,w,N){var _={name:y,delta:b,target:w,should:N,shadowParent:X6(w)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(S){return S!==_})},1)},[]),f=E.useCallback(function(y){r.current=zu(y),n.current=void 0},[]),m=E.useCallback(function(y){h(y.type,v1(y),y.target,l(y,e.lockRef.current))},[]),g=E.useCallback(function(y){h(y.type,zu(y),y.target,l(y,e.lockRef.current))},[]);E.useEffect(function(){return Aa.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",d,Ra),document.addEventListener("touchmove",d,Ra),document.addEventListener("touchstart",f,Ra),function(){Aa=Aa.filter(function(y){return y!==a}),document.removeEventListener("wheel",d,Ra),document.removeEventListener("touchmove",d,Ra),document.removeEventListener("touchstart",f,Ra)}},[]);var v=e.removeScrollBar,x=e.inert;return E.createElement(E.Fragment,null,x?E.createElement(a,{styles:K6(i)}):null,v?E.createElement(L6,{gapMode:e.gapMode}):null)}function X6(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Q6=N6(nE,Y6);var Yd=E.forwardRef(function(e,t){return E.createElement(Gd,qn({},e,{ref:t,sideCar:Q6}))});Yd.classNames=Gd.classNames;var J6=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Da=new WeakMap,$u=new WeakMap,Wu={},Mp=0,lE=function(e){return e&&(e.host||lE(e.parentNode))},Z6=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=lE(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},e3=function(e,t,r,n){var i=Z6(t,Array.isArray(e)?e:[e]);Wu[r]||(Wu[r]=new WeakMap);var a=Wu[r],c=[],l=new Set,d=new Set(i),h=function(m){!m||l.has(m)||(l.add(m),h(m.parentNode))};i.forEach(h);var f=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(g){if(l.has(g))f(g);else try{var v=g.getAttribute(n),x=v!==null&&v!=="false",y=(Da.get(g)||0)+1,b=(a.get(g)||0)+1;Da.set(g,y),a.set(g,b),c.push(g),y===1&&x&&$u.set(g,!0),b===1&&g.setAttribute(r,"true"),x||g.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",g,w)}})};return f(t),l.clear(),Mp++,function(){c.forEach(function(m){var g=Da.get(m)-1,v=a.get(m)-1;Da.set(m,g),a.set(m,v),g||($u.has(m)||m.removeAttribute(n),$u.delete(m)),v||m.removeAttribute(r)}),Mp--,Mp||(Da=new WeakMap,Da=new WeakMap,$u=new WeakMap,Wu={})}},iy=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=J6(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),e3(n,i,r,"aria-hidden")):function(){return null}},ay="Dialog",[cE,uE]=cn(ay),[t3,In]=cE(ay),dE=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:c=!0}=e,l=E.useRef(null),d=E.useRef(null),[h=!1,f]=Tn({prop:n,defaultProp:i,onChange:a});return s.jsx(t3,{scope:t,triggerRef:l,contentRef:d,contentId:Gn(),titleId:Gn(),descriptionId:Gn(),open:h,onOpenChange:f,onOpenToggle:E.useCallback(()=>f(m=>!m),[f]),modal:c,children:r})};dE.displayName=ay;var hE="DialogTrigger",fE=E.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=In(hE,r),a=nt(t,i.triggerRef);return s.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":cy(i.open),...n,ref:a,onClick:Le(e.onClick,i.onOpenToggle)})});fE.displayName=hE;var oy="DialogPortal",[r3,pE]=cE(oy,{forceMount:void 0}),mE=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=In(oy,t);return s.jsx(r3,{scope:t,forceMount:r,children:E.Children.map(n,c=>s.jsx(kr,{present:r||a.open,children:s.jsx(Yl,{asChild:!0,container:i,children:c})}))})};mE.displayName=oy;var wd="DialogOverlay",gE=E.forwardRef((e,t)=>{const r=pE(wd,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=In(wd,e.__scopeDialog);return a.modal?s.jsx(kr,{present:n||a.open,children:s.jsx(n3,{...i,ref:t})}):null});gE.displayName=wd;var n3=E.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=In(wd,r);return s.jsx(Yd,{as:Yr,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Ve.div,{"data-state":cy(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),zi="DialogContent",vE=E.forwardRef((e,t)=>{const r=pE(zi,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=In(zi,e.__scopeDialog);return s.jsx(kr,{present:n||a.open,children:a.modal?s.jsx(s3,{...i,ref:t}):s.jsx(i3,{...i,ref:t})})});vE.displayName=zi;var s3=E.forwardRef((e,t)=>{const r=In(zi,e.__scopeDialog),n=E.useRef(null),i=nt(t,r.contentRef,n);return E.useEffect(()=>{const a=n.current;if(a)return iy(a)},[]),s.jsx(yE,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(e.onCloseAutoFocus,a=>{a.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Le(e.onPointerDownOutside,a=>{const c=a.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0;(c.button===2||l)&&a.preventDefault()}),onFocusOutside:Le(e.onFocusOutside,a=>a.preventDefault())})}),i3=E.forwardRef((e,t)=>{const r=In(zi,e.__scopeDialog),n=E.useRef(!1),i=E.useRef(!1);return s.jsx(yE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=a.target;r.triggerRef.current?.contains(c)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),yE=E.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...c}=e,l=In(zi,r),d=E.useRef(null),h=nt(t,d);return sy(),s.jsxs(s.Fragment,{children:[s.jsx(Kd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(yo,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":cy(l.open),...c,ref:h,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(o3,{titleId:l.titleId}),s.jsx(c3,{contentRef:d,descriptionId:l.descriptionId})]})]})}),ly="DialogTitle",xE=E.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=In(ly,r);return s.jsx(Ve.h2,{id:i.titleId,...n,ref:t})});xE.displayName=ly;var wE="DialogDescription",bE=E.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=In(wE,r);return s.jsx(Ve.p,{id:i.descriptionId,...n,ref:t})});bE.displayName=wE;var jE="DialogClose",_E=E.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=In(jE,r);return s.jsx(Ve.button,{type:"button",...n,ref:t,onClick:Le(e.onClick,()=>i.onOpenChange(!1))})});_E.displayName=jE;function cy(e){return e?"open":"closed"}var SE="DialogTitleWarning",[a3,NE]=O4(SE,{contentName:zi,titleName:ly,docsSlug:"dialog"}),o3=({titleId:e})=>{const t=NE(SE),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return E.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},l3="DialogDescriptionWarning",c3=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${NE(l3).contentName}}.`;return E.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},uy=dE,u3=fE,dy=mE,tc=gE,rc=vE,nc=xE,sc=bE,Xd=_E;const ic=uy,d3=dy,EE=E.forwardRef(({className:e,...t},r)=>s.jsx(tc,{className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));EE.displayName=tc.displayName;const h3=Gi("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),bo=E.forwardRef(({side:e="right",className:t,children:r,...n},i)=>s.jsxs(d3,{children:[s.jsx(EE,{}),s.jsxs(rc,{ref:i,className:Re(h3({side:e}),t),...n,children:[r,s.jsxs(Xd,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Ur,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bo.displayName=rc.displayName;const ac=({className:e,...t})=>s.jsx("div",{className:Re("flex flex-col space-y-2 text-center sm:text-left",e),...t});ac.displayName="SheetHeader";const oc=E.forwardRef(({className:e,...t},r)=>s.jsx(nc,{ref:r,className:Re("text-lg font-semibold text-foreground",e),...t}));oc.displayName=nc.displayName;const hy=E.forwardRef(({className:e,...t},r)=>s.jsx(sc,{ref:r,className:Re("text-sm text-muted-foreground",e),...t}));hy.displayName=sc.displayName;function $t({className:e,...t}){return s.jsx("div",{className:Re("animate-pulse rounded-md bg-muted",e),...t})}const f3=["top","right","bottom","left"],ni=Math.min,Kr=Math.max,bd=Math.round,qu=Math.floor,si=e=>({x:e,y:e}),p3={left:"right",right:"left",bottom:"top",top:"bottom"},m3={start:"end",end:"start"};function sv(e,t,r){return Kr(e,ni(t,r))}function js(e,t){return typeof e=="function"?e(t):e}function _s(e){return e.split("-")[0]}function jo(e){return e.split("-")[1]}function fy(e){return e==="x"?"y":"x"}function py(e){return e==="y"?"height":"width"}function ii(e){return["top","bottom"].includes(_s(e))?"y":"x"}function my(e){return fy(ii(e))}function g3(e,t,r){r===void 0&&(r=!1);const n=jo(e),i=my(e),a=py(i);let c=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=jd(c)),[c,jd(c)]}function v3(e){const t=jd(e);return[iv(e),t,iv(t)]}function iv(e){return e.replace(/start|end/g,t=>m3[t])}function y3(e,t,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?a:c;default:return[]}}function x3(e,t,r,n){const i=jo(e);let a=y3(_s(e),r==="start",n);return i&&(a=a.map(c=>c+"-"+i),t&&(a=a.concat(a.map(iv)))),a}function jd(e){return e.replace(/left|right|bottom|top/g,t=>p3[t])}function w3(e){return{top:0,right:0,bottom:0,left:0,...e}}function CE(e){return typeof e!="number"?w3(e):{top:e,right:e,bottom:e,left:e}}function _d(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function x1(e,t,r){let{reference:n,floating:i}=e;const a=ii(t),c=my(t),l=py(c),d=_s(t),h=a==="y",f=n.x+n.width/2-i.width/2,m=n.y+n.height/2-i.height/2,g=n[l]/2-i[l]/2;let v;switch(d){case"top":v={x:f,y:n.y-i.height};break;case"bottom":v={x:f,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:m};break;case"left":v={x:n.x-i.width,y:m};break;default:v={x:n.x,y:n.y}}switch(jo(t)){case"start":v[c]-=g*(r&&h?-1:1);break;case"end":v[c]+=g*(r&&h?-1:1);break}return v}const b3=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:c}=r,l=a.filter(Boolean),d=await(c.isRTL==null?void 0:c.isRTL(t));let h=await c.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:m}=x1(h,n,d),g=n,v={},x=0;for(let y=0;y<l.length;y++){const{name:b,fn:w}=l[y],{x:N,y:_,data:S,reset:T}=await w({x:f,y:m,initialPlacement:n,placement:g,strategy:i,middlewareData:v,rects:h,platform:c,elements:{reference:e,floating:t}});f=N??f,m=_??m,v={...v,[b]:{...v[b],...S}},T&&x<=50&&(x++,typeof T=="object"&&(T.placement&&(g=T.placement),T.rects&&(h=T.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:f,y:m}=x1(h,g,d)),y=-1)}return{x:f,y:m,placement:g,strategy:i,middlewareData:v}};async function $l(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:c,elements:l,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:g=!1,padding:v=0}=js(t,e),x=CE(v),b=l[g?m==="floating"?"reference":"floating":m],w=_d(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(b)))==null||r?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:h,rootBoundary:f,strategy:d})),N=m==="floating"?{x:n,y:i,width:c.floating.width,height:c.floating.height}:c.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),S=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},T=_d(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:N,offsetParent:_,strategy:d}):N);return{top:(w.top-T.top+x.top)/S.y,bottom:(T.bottom-w.bottom+x.bottom)/S.y,left:(w.left-T.left+x.left)/S.x,right:(T.right-w.right+x.right)/S.x}}const j3=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:c,elements:l,middlewareData:d}=t,{element:h,padding:f=0}=js(e,t)||{};if(h==null)return{};const m=CE(f),g={x:r,y:n},v=my(i),x=py(v),y=await c.getDimensions(h),b=v==="y",w=b?"top":"left",N=b?"bottom":"right",_=b?"clientHeight":"clientWidth",S=a.reference[x]+a.reference[v]-g[v]-a.floating[x],T=g[v]-a.reference[v],F=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let U=F?F[_]:0;(!U||!await(c.isElement==null?void 0:c.isElement(F)))&&(U=l.floating[_]||a.floating[x]);const $=S/2-T/2,A=U/2-y[x]/2-1,J=ni(m[w],A),pe=ni(m[N],A),z=J,G=U-y[x]-pe,R=U/2-y[x]/2+$,Z=sv(z,R,G),ae=!d.arrow&&jo(i)!=null&&R!==Z&&a.reference[x]/2-(R<z?J:pe)-y[x]/2<0,q=ae?R<z?R-z:R-G:0;return{[v]:g[v]+q,data:{[v]:Z,centerOffset:R-Z-q,...ae&&{alignmentOffset:q}},reset:ae}}}),_3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:c,initialPlacement:l,platform:d,elements:h}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...b}=js(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const w=_s(i),N=ii(l),_=_s(l)===l,S=await(d.isRTL==null?void 0:d.isRTL(h.floating)),T=g||(_||!y?[jd(l)]:v3(l)),F=x!=="none";!g&&F&&T.push(...x3(l,y,x,S));const U=[l,...T],$=await $l(t,b),A=[];let J=((n=a.flip)==null?void 0:n.overflows)||[];if(f&&A.push($[w]),m){const R=g3(i,c,S);A.push($[R[0]],$[R[1]])}if(J=[...J,{placement:i,overflows:A}],!A.every(R=>R<=0)){var pe,z;const R=(((pe=a.flip)==null?void 0:pe.index)||0)+1,Z=U[R];if(Z)return{data:{index:R,overflows:J},reset:{placement:Z}};let ae=(z=J.filter(q=>q.overflows[0]<=0).sort((q,Y)=>q.overflows[1]-Y.overflows[1])[0])==null?void 0:z.placement;if(!ae)switch(v){case"bestFit":{var G;const q=(G=J.filter(Y=>{if(F){const ne=ii(Y.placement);return ne===N||ne==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(ne=>ne>0).reduce((ne,te)=>ne+te,0)]).sort((Y,ne)=>Y[1]-ne[1])[0])==null?void 0:G[0];q&&(ae=q);break}case"initialPlacement":ae=l;break}if(i!==ae)return{reset:{placement:ae}}}return{}}}};function w1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function b1(e){return f3.some(t=>e[t]>=0)}const S3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=js(e,t);switch(n){case"referenceHidden":{const a=await $l(t,{...i,elementContext:"reference"}),c=w1(a,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:b1(c)}}}case"escaped":{const a=await $l(t,{...i,altBoundary:!0}),c=w1(a,r.floating);return{data:{escapedOffsets:c,escaped:b1(c)}}}default:return{}}}}};async function N3(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),c=_s(r),l=jo(r),d=ii(r)==="y",h=["left","top"].includes(c)?-1:1,f=a&&d?-1:1,m=js(t,e);let{mainAxis:g,crossAxis:v,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof x=="number"&&(v=l==="end"?x*-1:x),d?{x:v*f,y:g*h}:{x:g*h,y:v*f}}const E3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:c,middlewareData:l}=t,d=await N3(t,e);return c===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:c}}}}},C3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:l={fn:b=>{let{x:w,y:N}=b;return{x:w,y:N}}},...d}=js(e,t),h={x:r,y:n},f=await $l(t,d),m=ii(_s(i)),g=fy(m);let v=h[g],x=h[m];if(a){const b=g==="y"?"top":"left",w=g==="y"?"bottom":"right",N=v+f[b],_=v-f[w];v=sv(N,v,_)}if(c){const b=m==="y"?"top":"left",w=m==="y"?"bottom":"right",N=x+f[b],_=x-f[w];x=sv(N,x,_)}const y=l.fn({...t,[g]:v,[m]:x});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[g]:a,[m]:c}}}}}},k3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:c}=t,{offset:l=0,mainAxis:d=!0,crossAxis:h=!0}=js(e,t),f={x:r,y:n},m=ii(i),g=fy(m);let v=f[g],x=f[m];const y=js(l,t),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(d){const _=g==="y"?"height":"width",S=a.reference[g]-a.floating[_]+b.mainAxis,T=a.reference[g]+a.reference[_]-b.mainAxis;v<S?v=S:v>T&&(v=T)}if(h){var w,N;const _=g==="y"?"width":"height",S=["top","left"].includes(_s(i)),T=a.reference[m]-a.floating[_]+(S&&((w=c.offset)==null?void 0:w[m])||0)+(S?0:b.crossAxis),F=a.reference[m]+a.reference[_]+(S?0:((N=c.offset)==null?void 0:N[m])||0)-(S?b.crossAxis:0);x<T?x=T:x>F&&(x=F)}return{[g]:v,[m]:x}}}},T3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:c,elements:l}=t,{apply:d=()=>{},...h}=js(e,t),f=await $l(t,h),m=_s(i),g=jo(i),v=ii(i)==="y",{width:x,height:y}=a.floating;let b,w;m==="top"||m==="bottom"?(b=m,w=g===(await(c.isRTL==null?void 0:c.isRTL(l.floating))?"start":"end")?"left":"right"):(w=m,b=g==="end"?"top":"bottom");const N=y-f.top-f.bottom,_=x-f.left-f.right,S=ni(y-f[b],N),T=ni(x-f[w],_),F=!t.middlewareData.shift;let U=S,$=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&($=_),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(U=N),F&&!g){const J=Kr(f.left,0),pe=Kr(f.right,0),z=Kr(f.top,0),G=Kr(f.bottom,0);v?$=x-2*(J!==0||pe!==0?J+pe:Kr(f.left,f.right)):U=y-2*(z!==0||G!==0?z+G:Kr(f.top,f.bottom))}await d({...t,availableWidth:$,availableHeight:U});const A=await c.getDimensions(l.floating);return x!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function Qd(){return typeof window<"u"}function _o(e){return kE(e)?(e.nodeName||"").toLowerCase():"#document"}function Gr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function rs(e){var t;return(t=(kE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function kE(e){return Qd()?e instanceof Node||e instanceof Gr(e).Node:!1}function Pn(e){return Qd()?e instanceof Element||e instanceof Gr(e).Element:!1}function Qn(e){return Qd()?e instanceof HTMLElement||e instanceof Gr(e).HTMLElement:!1}function j1(e){return!Qd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Gr(e).ShadowRoot}function lc(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Rn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function P3(e){return["table","td","th"].includes(_o(e))}function Jd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function gy(e){const t=vy(),r=Pn(e)?Rn(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function R3(e){let t=ai(e);for(;Qn(t)&&!Xa(t);){if(gy(t))return t;if(Jd(t))return null;t=ai(t)}return null}function vy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Xa(e){return["html","body","#document"].includes(_o(e))}function Rn(e){return Gr(e).getComputedStyle(e)}function Zd(e){return Pn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ai(e){if(_o(e)==="html")return e;const t=e.assignedSlot||e.parentNode||j1(e)&&e.host||rs(e);return j1(t)?t.host:t}function TE(e){const t=ai(e);return Xa(t)?e.ownerDocument?e.ownerDocument.body:e.body:Qn(t)&&lc(t)?t:TE(t)}function Wl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=TE(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),c=Gr(i);if(a){const l=av(c);return t.concat(c,c.visualViewport||[],lc(i)?i:[],l&&r?Wl(l):[])}return t.concat(i,Wl(i,[],r))}function av(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function PE(e){const t=Rn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Qn(e),a=i?e.offsetWidth:r,c=i?e.offsetHeight:n,l=bd(r)!==a||bd(n)!==c;return l&&(r=a,n=c),{width:r,height:n,$:l}}function yy(e){return Pn(e)?e:e.contextElement}function Ha(e){const t=yy(e);if(!Qn(t))return si(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=PE(t);let c=(a?bd(r.width):r.width)/n,l=(a?bd(r.height):r.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!l||!Number.isFinite(l))&&(l=1),{x:c,y:l}}const A3=si(0);function RE(e){const t=Gr(e);return!vy()||!t.visualViewport?A3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function D3(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Gr(e)?!1:t}function $i(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=yy(e);let c=si(1);t&&(n?Pn(n)&&(c=Ha(n)):c=Ha(e));const l=D3(a,r,n)?RE(a):si(0);let d=(i.left+l.x)/c.x,h=(i.top+l.y)/c.y,f=i.width/c.x,m=i.height/c.y;if(a){const g=Gr(a),v=n&&Pn(n)?Gr(n):n;let x=g,y=av(x);for(;y&&n&&v!==x;){const b=Ha(y),w=y.getBoundingClientRect(),N=Rn(y),_=w.left+(y.clientLeft+parseFloat(N.paddingLeft))*b.x,S=w.top+(y.clientTop+parseFloat(N.paddingTop))*b.y;d*=b.x,h*=b.y,f*=b.x,m*=b.y,d+=_,h+=S,x=Gr(y),y=av(x)}}return _d({width:f,height:m,x:d,y:h})}function I3(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",c=rs(n),l=t?Jd(t.floating):!1;if(n===c||l&&a)return r;let d={scrollLeft:0,scrollTop:0},h=si(1);const f=si(0),m=Qn(n);if((m||!m&&!a)&&((_o(n)!=="body"||lc(c))&&(d=Zd(n)),Qn(n))){const g=$i(n);h=Ha(n),f.x=g.x+n.clientLeft,f.y=g.y+n.clientTop}return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-d.scrollLeft*h.x+f.x,y:r.y*h.y-d.scrollTop*h.y+f.y}}function O3(e){return Array.from(e.getClientRects())}function ov(e,t){const r=Zd(e).scrollLeft;return t?t.left+r:$i(rs(e)).left+r}function M3(e){const t=rs(e),r=Zd(e),n=e.ownerDocument.body,i=Kr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Kr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+ov(e);const l=-r.scrollTop;return Rn(n).direction==="rtl"&&(c+=Kr(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:c,y:l}}function F3(e,t){const r=Gr(e),n=rs(e),i=r.visualViewport;let a=n.clientWidth,c=n.clientHeight,l=0,d=0;if(i){a=i.width,c=i.height;const h=vy();(!h||h&&t==="fixed")&&(l=i.offsetLeft,d=i.offsetTop)}return{width:a,height:c,x:l,y:d}}function L3(e,t){const r=$i(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=Qn(e)?Ha(e):si(1),c=e.clientWidth*a.x,l=e.clientHeight*a.y,d=i*a.x,h=n*a.y;return{width:c,height:l,x:d,y:h}}function _1(e,t,r){let n;if(t==="viewport")n=F3(e,r);else if(t==="document")n=M3(rs(e));else if(Pn(t))n=L3(t,r);else{const i=RE(e);n={...t,x:t.x-i.x,y:t.y-i.y}}return _d(n)}function AE(e,t){const r=ai(e);return r===t||!Pn(r)||Xa(r)?!1:Rn(r).position==="fixed"||AE(r,t)}function U3(e,t){const r=t.get(e);if(r)return r;let n=Wl(e,[],!1).filter(l=>Pn(l)&&_o(l)!=="body"),i=null;const a=Rn(e).position==="fixed";let c=a?ai(e):e;for(;Pn(c)&&!Xa(c);){const l=Rn(c),d=gy(c);!d&&l.position==="fixed"&&(i=null),(a?!d&&!i:!d&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||lc(c)&&!d&&AE(e,c))?n=n.filter(f=>f!==c):i=l,c=ai(c)}return t.set(e,n),n}function B3(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const c=[...r==="clippingAncestors"?Jd(t)?[]:U3(t,this._c):[].concat(r),n],l=c[0],d=c.reduce((h,f)=>{const m=_1(t,f,i);return h.top=Kr(m.top,h.top),h.right=ni(m.right,h.right),h.bottom=ni(m.bottom,h.bottom),h.left=Kr(m.left,h.left),h},_1(t,l,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function H3(e){const{width:t,height:r}=PE(e);return{width:t,height:r}}function z3(e,t,r){const n=Qn(t),i=rs(t),a=r==="fixed",c=$i(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const d=si(0);if(n||!n&&!a)if((_o(t)!=="body"||lc(i))&&(l=Zd(t)),n){const v=$i(t,!0,a,t);d.x=v.x+t.clientLeft,d.y=v.y+t.clientTop}else i&&(d.x=ov(i));let h=0,f=0;if(i&&!n&&!a){const v=i.getBoundingClientRect();f=v.top+l.scrollTop,h=v.left+l.scrollLeft-ov(i,v)}const m=c.left+l.scrollLeft-d.x-h,g=c.top+l.scrollTop-d.y-f;return{x:m,y:g,width:c.width,height:c.height}}function Fp(e){return Rn(e).position==="static"}function S1(e,t){if(!Qn(e)||Rn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return rs(e)===r&&(r=r.ownerDocument.body),r}function DE(e,t){const r=Gr(e);if(Jd(e))return r;if(!Qn(e)){let i=ai(e);for(;i&&!Xa(i);){if(Pn(i)&&!Fp(i))return i;i=ai(i)}return r}let n=S1(e,t);for(;n&&P3(n)&&Fp(n);)n=S1(n,t);return n&&Xa(n)&&Fp(n)&&!gy(n)?r:n||R3(e)||r}const $3=async function(e){const t=this.getOffsetParent||DE,r=this.getDimensions,n=await r(e.floating);return{reference:z3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function W3(e){return Rn(e).direction==="rtl"}const q3={convertOffsetParentRelativeRectToViewportRelativeRect:I3,getDocumentElement:rs,getClippingRect:B3,getOffsetParent:DE,getElementRects:$3,getClientRects:O3,getDimensions:H3,getScale:Ha,isElement:Pn,isRTL:W3};function V3(e,t){let r=null,n;const i=rs(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function c(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),a();const{left:h,top:f,width:m,height:g}=e.getBoundingClientRect();if(l||t(),!m||!g)return;const v=qu(f),x=qu(i.clientWidth-(h+m)),y=qu(i.clientHeight-(f+g)),b=qu(h),N={rootMargin:-v+"px "+-x+"px "+-y+"px "+-b+"px",threshold:Kr(0,ni(1,d))||1};let _=!0;function S(T){const F=T[0].intersectionRatio;if(F!==d){if(!_)return c();F?c(!1,F):n=setTimeout(()=>{c(!1,1e-7)},1e3)}_=!1}try{r=new IntersectionObserver(S,{...N,root:i.ownerDocument})}catch{r=new IntersectionObserver(S,N)}r.observe(e)}return c(!0),a}function K3(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,h=yy(e),f=i||a?[...h?Wl(h):[],...Wl(t)]:[];f.forEach(w=>{i&&w.addEventListener("scroll",r,{passive:!0}),a&&w.addEventListener("resize",r)});const m=h&&l?V3(h,r):null;let g=-1,v=null;c&&(v=new ResizeObserver(w=>{let[N]=w;N&&N.target===h&&v&&(v.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var _;(_=v)==null||_.observe(t)})),r()}),h&&!d&&v.observe(h),v.observe(t));let x,y=d?$i(e):null;d&&b();function b(){const w=$i(e);y&&(w.x!==y.x||w.y!==y.y||w.width!==y.width||w.height!==y.height)&&r(),y=w,x=requestAnimationFrame(b)}return r(),()=>{var w;f.forEach(N=>{i&&N.removeEventListener("scroll",r),a&&N.removeEventListener("resize",r)}),m?.(),(w=v)==null||w.disconnect(),v=null,d&&cancelAnimationFrame(x)}}const G3=E3,Y3=C3,X3=_3,Q3=T3,J3=S3,N1=j3,Z3=k3,eM=(e,t,r)=>{const n=new Map,i={platform:q3,...r},a={...i.platform,_c:n};return b3(e,t,{...i,platform:a})};var ud=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Sd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Sd(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!Sd(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function IE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function E1(e,t){const r=IE(e);return Math.round(t*r)/r}function Lp(e){const t=E.useRef(e);return ud(()=>{t.current=e}),t}function tM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:c}={},transform:l=!0,whileElementsMounted:d,open:h}=e,[f,m]=E.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,v]=E.useState(n);Sd(g,n)||v(n);const[x,y]=E.useState(null),[b,w]=E.useState(null),N=E.useCallback(Y=>{Y!==F.current&&(F.current=Y,y(Y))},[]),_=E.useCallback(Y=>{Y!==U.current&&(U.current=Y,w(Y))},[]),S=a||x,T=c||b,F=E.useRef(null),U=E.useRef(null),$=E.useRef(f),A=d!=null,J=Lp(d),pe=Lp(i),z=Lp(h),G=E.useCallback(()=>{if(!F.current||!U.current)return;const Y={placement:t,strategy:r,middleware:g};pe.current&&(Y.platform=pe.current),eM(F.current,U.current,Y).then(ne=>{const te={...ne,isPositioned:z.current!==!1};R.current&&!Sd($.current,te)&&($.current=te,go.flushSync(()=>{m(te)}))})},[g,t,r,pe,z]);ud(()=>{h===!1&&$.current.isPositioned&&($.current.isPositioned=!1,m(Y=>({...Y,isPositioned:!1})))},[h]);const R=E.useRef(!1);ud(()=>(R.current=!0,()=>{R.current=!1}),[]),ud(()=>{if(S&&(F.current=S),T&&(U.current=T),S&&T){if(J.current)return J.current(S,T,G);G()}},[S,T,G,J,A]);const Z=E.useMemo(()=>({reference:F,floating:U,setReference:N,setFloating:_}),[N,_]),ae=E.useMemo(()=>({reference:S,floating:T}),[S,T]),q=E.useMemo(()=>{const Y={position:r,left:0,top:0};if(!ae.floating)return Y;const ne=E1(ae.floating,f.x),te=E1(ae.floating,f.y);return l?{...Y,transform:"translate("+ne+"px, "+te+"px)",...IE(ae.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ne,top:te}},[r,l,ae.floating,f.x,f.y]);return E.useMemo(()=>({...f,update:G,refs:Z,elements:ae,floatingStyles:q}),[f,G,Z,ae,q])}const rM=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?N1({element:n.current,padding:i}).fn(r):{}:n?N1({element:n,padding:i}).fn(r):{}}}},nM=(e,t)=>({...G3(e),options:[e,t]}),sM=(e,t)=>({...Y3(e),options:[e,t]}),iM=(e,t)=>({...Z3(e),options:[e,t]}),aM=(e,t)=>({...X3(e),options:[e,t]}),oM=(e,t)=>({...Q3(e),options:[e,t]}),lM=(e,t)=>({...J3(e),options:[e,t]}),cM=(e,t)=>({...rM(e),options:[e,t]});var uM="Arrow",OE=E.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return s.jsx(Ve.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});OE.displayName=uM;var dM=OE;function hM(e,t=[]){let r=[];function n(a,c){const l=E.createContext(c),d=r.length;r=[...r,c];function h(m){const{scope:g,children:v,...x}=m,y=g?.[e][d]||l,b=E.useMemo(()=>x,Object.values(x));return s.jsx(y.Provider,{value:b,children:v})}function f(m,g){const v=g?.[e][d]||l,x=E.useContext(v);if(x)return x;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${a}\``)}return h.displayName=a+"Provider",[h,f]}const i=()=>{const a=r.map(c=>E.createContext(c));return function(l){const d=l?.[e]||a;return E.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return i.scopeName=e,[n,fM(i,...t)]}function fM(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const c=n.reduce((l,{useScope:d,scopeName:h})=>{const m=d(a)[`__scope${h}`];return{...l,...m}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function eh(e){const[t,r]=E.useState(void 0);return mr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let c,l;if("borderBoxSize"in a){const d=a.borderBoxSize,h=Array.isArray(d)?d[0]:d;c=h.inlineSize,l=h.blockSize}else c=e.offsetWidth,l=e.offsetHeight;r({width:c,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var xy="Popper",[ME,So]=hM(xy),[pM,FE]=ME(xy),LE=e=>{const{__scopePopper:t,children:r}=e,[n,i]=E.useState(null);return s.jsx(pM,{scope:t,anchor:n,onAnchorChange:i,children:r})};LE.displayName=xy;var UE="PopperAnchor",BE=E.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=FE(UE,r),c=E.useRef(null),l=nt(t,c);return E.useEffect(()=>{a.onAnchorChange(n?.current||c.current)}),n?null:s.jsx(Ve.div,{...i,ref:l})});BE.displayName=UE;var wy="PopperContent",[mM,gM]=ME(wy),HE=E.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:c=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:x,...y}=e,b=FE(wy,r),[w,N]=E.useState(null),_=nt(t,I=>N(I)),[S,T]=E.useState(null),F=eh(S),U=F?.width??0,$=F?.height??0,A=n+(a!=="center"?"-"+a:""),J=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},pe=Array.isArray(h)?h:[h],z=pe.length>0,G={padding:J,boundary:pe.filter(yM),altBoundary:z},{refs:R,floatingStyles:Z,placement:ae,isPositioned:q,middlewareData:Y}=tM({strategy:"fixed",placement:A,whileElementsMounted:(...I)=>K3(...I,{animationFrame:v==="always"}),elements:{reference:b.anchor},middleware:[nM({mainAxis:i+$,alignmentAxis:c}),d&&sM({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?iM():void 0,...G}),d&&aM({...G}),oM({...G,apply:({elements:I,rects:O,availableWidth:re,availableHeight:Q})=>{const{width:K,height:X}=O.reference,me=I.floating.style;me.setProperty("--radix-popper-available-width",`${re}px`),me.setProperty("--radix-popper-available-height",`${Q}px`),me.setProperty("--radix-popper-anchor-width",`${K}px`),me.setProperty("--radix-popper-anchor-height",`${X}px`)}}),S&&cM({element:S,padding:l}),xM({arrowWidth:U,arrowHeight:$}),g&&lM({strategy:"referenceHidden",...G})]}),[ne,te]=WE(ae),W=Vt(x);mr(()=>{q&&W?.()},[q,W]);const H=Y.arrow?.x,se=Y.arrow?.y,ce=Y.arrow?.centerOffset!==0,[he,oe]=E.useState();return mr(()=>{w&&oe(window.getComputedStyle(w).zIndex)},[w]),s.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:q?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[Y.transformOrigin?.x,Y.transformOrigin?.y].join(" "),...Y.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(mM,{scope:r,placedSide:ne,onArrowChange:T,arrowX:H,arrowY:se,shouldHideArrow:ce,children:s.jsx(Ve.div,{"data-side":ne,"data-align":te,...y,ref:_,style:{...y.style,animation:q?void 0:"none"}})})})});HE.displayName=wy;var zE="PopperArrow",vM={top:"bottom",right:"left",bottom:"top",left:"right"},$E=E.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=gM(zE,n),c=vM[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(dM,{...i,ref:r,style:{...i.style,display:"block"}})})});$E.displayName=zE;function yM(e){return e!==null}var xM=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,c=i.arrow?.centerOffset!==0,l=c?0:e.arrowWidth,d=c?0:e.arrowHeight,[h,f]=WE(r),m={start:"0%",center:"50%",end:"100%"}[f],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+d/2;let x="",y="";return h==="bottom"?(x=c?m:`${g}px`,y=`${-d}px`):h==="top"?(x=c?m:`${g}px`,y=`${n.floating.height+d}px`):h==="right"?(x=`${-d}px`,y=c?m:`${v}px`):h==="left"&&(x=`${n.floating.width+d}px`,y=c?m:`${v}px`),{data:{x,y}}}});function WE(e){const[t,r="center"]=e.split("-");return[t,r]}var by=LE,th=BE,jy=HE,_y=$E,[rh]=cn("Tooltip",[So]),nh=So(),qE="TooltipProvider",wM=700,lv="tooltip.open",[bM,Sy]=rh(qE),VE=e=>{const{__scopeTooltip:t,delayDuration:r=wM,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,[c,l]=E.useState(!0),d=E.useRef(!1),h=E.useRef(0);return E.useEffect(()=>{const f=h.current;return()=>window.clearTimeout(f)},[]),s.jsx(bM,{scope:t,isOpenDelayed:c,delayDuration:r,onOpen:E.useCallback(()=>{window.clearTimeout(h.current),l(!1)},[]),onClose:E.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:d,onPointerInTransitChange:E.useCallback(f=>{d.current=f},[]),disableHoverableContent:i,children:a})};VE.displayName=qE;var sh="Tooltip",[jM,ih]=rh(sh),KE=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:c,delayDuration:l}=e,d=Sy(sh,e.__scopeTooltip),h=nh(t),[f,m]=E.useState(null),g=Gn(),v=E.useRef(0),x=c??d.disableHoverableContent,y=l??d.delayDuration,b=E.useRef(!1),[w=!1,N]=Tn({prop:n,defaultProp:i,onChange:U=>{U?(d.onOpen(),document.dispatchEvent(new CustomEvent(lv))):d.onClose(),a?.(U)}}),_=E.useMemo(()=>w?b.current?"delayed-open":"instant-open":"closed",[w]),S=E.useCallback(()=>{window.clearTimeout(v.current),v.current=0,b.current=!1,N(!0)},[N]),T=E.useCallback(()=>{window.clearTimeout(v.current),v.current=0,N(!1)},[N]),F=E.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{b.current=!0,N(!0),v.current=0},y)},[y,N]);return E.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),s.jsx(by,{...h,children:s.jsx(jM,{scope:t,contentId:g,open:w,stateAttribute:_,trigger:f,onTriggerChange:m,onTriggerEnter:E.useCallback(()=>{d.isOpenDelayed?F():S()},[d.isOpenDelayed,F,S]),onTriggerLeave:E.useCallback(()=>{x?T():(window.clearTimeout(v.current),v.current=0)},[T,x]),onOpen:S,onClose:T,disableHoverableContent:x,children:r})})};KE.displayName=sh;var cv="TooltipTrigger",GE=E.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=ih(cv,r),a=Sy(cv,r),c=nh(r),l=E.useRef(null),d=nt(t,l,i.onTriggerChange),h=E.useRef(!1),f=E.useRef(!1),m=E.useCallback(()=>h.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(th,{asChild:!0,...c,children:s.jsx(Ve.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:d,onPointerMove:Le(e.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Le(e.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Le(e.onPointerDown,()=>{h.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Le(e.onFocus,()=>{h.current||i.onOpen()}),onBlur:Le(e.onBlur,i.onClose),onClick:Le(e.onClick,i.onClose)})})});GE.displayName=cv;var _M="TooltipPortal",[kV,SM]=rh(_M,{forceMount:void 0}),Qa="TooltipContent",YE=E.forwardRef((e,t)=>{const r=SM(Qa,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,c=ih(Qa,e.__scopeTooltip);return s.jsx(kr,{present:n||c.open,children:c.disableHoverableContent?s.jsx(XE,{side:i,...a,ref:t}):s.jsx(NM,{side:i,...a,ref:t})})}),NM=E.forwardRef((e,t)=>{const r=ih(Qa,e.__scopeTooltip),n=Sy(Qa,e.__scopeTooltip),i=E.useRef(null),a=nt(t,i),[c,l]=E.useState(null),{trigger:d,onClose:h}=r,f=i.current,{onPointerInTransitChange:m}=n,g=E.useCallback(()=>{l(null),m(!1)},[m]),v=E.useCallback((x,y)=>{const b=x.currentTarget,w={x:x.clientX,y:x.clientY},N=TM(w,b.getBoundingClientRect()),_=PM(w,N),S=RM(y.getBoundingClientRect()),T=DM([..._,...S]);l(T),m(!0)},[m]);return E.useEffect(()=>()=>g(),[g]),E.useEffect(()=>{if(d&&f){const x=b=>v(b,f),y=b=>v(b,d);return d.addEventListener("pointerleave",x),f.addEventListener("pointerleave",y),()=>{d.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",y)}}},[d,f,v,g]),E.useEffect(()=>{if(c){const x=y=>{const b=y.target,w={x:y.clientX,y:y.clientY},N=d?.contains(b)||f?.contains(b),_=!AM(w,c);N?g():_&&(g(),h())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[d,f,c,h,g]),s.jsx(XE,{...e,ref:a})}),[EM,CM]=rh(sh,{isInside:!1}),XE=E.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:c,...l}=e,d=ih(Qa,r),h=nh(r),{onClose:f}=d;return E.useEffect(()=>(document.addEventListener(lv,f),()=>document.removeEventListener(lv,f)),[f]),E.useEffect(()=>{if(d.trigger){const m=g=>{g.target?.contains(d.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,f]),s.jsx(yo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:s.jsxs(jy,{"data-state":d.stateAttribute,...h,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Fv,{children:n}),s.jsx(EM,{scope:r,isInside:!0,children:s.jsx(Z4,{id:d.contentId,role:"tooltip",children:i||n})})]})})});YE.displayName=Qa;var QE="TooltipArrow",kM=E.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=nh(r);return CM(QE,r).isInside?null:s.jsx(_y,{...i,...n,ref:t})});kM.displayName=QE;function TM(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function PM(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function RM(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function AM(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,c=t.length-1;a<t.length;c=a++){const l=t[a].x,d=t[a].y,h=t[c].x,f=t[c].y;d>n!=f>n&&r<(h-l)*(n-d)/(f-d)+l&&(i=!i)}return i}function DM(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),IM(t)}function IM(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],c=t[t.length-2];if((a.x-c.x)*(i.y-c.y)>=(a.y-c.y)*(i.x-c.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],c=r[r.length-2];if((a.x-c.x)*(i.y-c.y)>=(a.y-c.y)*(i.x-c.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var OM=VE,MM=KE,FM=GE,JE=YE;const ti=OM,lr=MM,cr=FM,er=E.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(JE,{ref:n,sideOffset:t,className:Re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));er.displayName=JE.displayName;const LM="sidebar:state",UM=3600*24*7,BM="16rem",HM="18rem",zM="3rem",$M="b",ZE=E.createContext(null);function ah(){const e=E.useContext(ZE);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const Ny=E.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:i,children:a,...c},l)=>{const d=i6(),[h,f]=E.useState(!1),[m,g]=E.useState(e),v=t??m,x=E.useCallback(N=>{const _=typeof N=="function"?N(v):N;r?r(_):g(_),document.cookie=`${LM}=${_}; path=/; max-age=${UM}`},[r,v]),y=E.useCallback(()=>d?f(N=>!N):x(N=>!N),[d,x,f]);E.useEffect(()=>{const N=_=>{_.key===$M&&(_.metaKey||_.ctrlKey)&&(_.preventDefault(),y())};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[y]);const b=v?"expanded":"collapsed",w=E.useMemo(()=>({state:b,open:v,setOpen:x,isMobile:d,openMobile:h,setOpenMobile:f,toggleSidebar:y}),[b,v,x,d,h,f,y]);return s.jsx(ZE.Provider,{value:w,children:s.jsx(ti,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":BM,"--sidebar-width-icon":zM,...i},className:Re("group/sidebar-wrapper flex min-h-svh w-full bg-[#f3f3f2] has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...c,children:a})})})});Ny.displayName="SidebarProvider";const eC=E.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:i,...a},c)=>{const{isMobile:l,state:d,openMobile:h,setOpenMobile:f}=ah();return l?s.jsx(ic,{open:h,onOpenChange:f,...a,children:s.jsx(bo,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":HM},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):r==="none"?s.jsx("div",{className:Re("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:c,...a,children:i}):s.jsxs("div",{ref:c,className:"group peer hidden md:block text-sidebar-foreground","data-state":d,"data-collapsible":d==="collapsed"?r:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:Re("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:Re("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...a,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});eC.displayName="Sidebar";const Ey=E.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:i}=ah();return s.jsxs(je,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Re("h-7 w-7",e),onClick:a=>{t?.(a),i()},...r,children:[s.jsx(OD,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Ey.displayName="SidebarTrigger";const WM=E.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=ah();return s.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:Re("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});WM.displayName="SidebarRail";const qM=E.forwardRef(({className:e,...t},r)=>s.jsx("main",{ref:r,className:Re("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));qM.displayName="SidebarInset";const VM=E.forwardRef(({className:e,...t},r)=>s.jsx(De,{ref:r,"data-sidebar":"input",className:Re("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));VM.displayName="SidebarInput";const KM=E.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"header",className:Re("flex flex-col gap-2 p-2",e),...t}));KM.displayName="SidebarHeader";const tC=E.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"footer",className:Re("flex flex-col gap-2 p-2",e),...t}));tC.displayName="SidebarFooter";const GM=E.forwardRef(({className:e,...t},r)=>s.jsx(ZN,{ref:r,"data-sidebar":"separator",className:Re("mx-2 w-auto bg-sidebar-border",e),...t}));GM.displayName="SidebarSeparator";const rC=E.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"content",className:Re("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));rC.displayName="SidebarContent";const nC=E.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group",className:Re("relative flex w-full min-w-0 flex-col p-2",e),...t}));nC.displayName="SidebarGroup";const sC=E.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const i=t?Yr:"div";return s.jsx(i,{ref:n,"data-sidebar":"group-label",className:Re("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});sC.displayName="SidebarGroupLabel";const YM=E.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const i=t?Yr:"button";return s.jsx(i,{ref:n,"data-sidebar":"group-action",className:Re("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});YM.displayName="SidebarGroupAction";const iC=E.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group-content",className:Re("w-full text-sm",e),...t}));iC.displayName="SidebarGroupContent";const aC=E.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu",className:Re("flex w-full min-w-0 flex-col gap-1",e),...t}));aC.displayName="SidebarMenu";const oC=E.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,"data-sidebar":"menu-item",className:Re("group/menu-item relative",e),...t}));oC.displayName="SidebarMenuItem";const XM=Gi("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),lC=E.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:i,className:a,...c},l)=>{const d=e?Yr:"button",{isMobile:h,state:f}=ah(),m=s.jsx(d,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:Re(XM({variant:r,size:n}),a),...c});return i?(typeof i=="string"&&(i={children:i}),s.jsxs(lr,{children:[s.jsx(cr,{asChild:!0,children:m}),s.jsx(er,{side:"right",align:"center",hidden:f!=="collapsed"||h,...i})]})):m});lC.displayName="SidebarMenuButton";const QM=E.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},i)=>{const a=t?Yr:"button";return s.jsx(a,{ref:i,"data-sidebar":"menu-action",className:Re("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});QM.displayName="SidebarMenuAction";const JM=E.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:Re("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));JM.displayName="SidebarMenuBadge";const ZM=E.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const i=E.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:Re("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&s.jsx($t,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx($t,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});ZM.displayName="SidebarMenuSkeleton";const eF=E.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:Re("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));eF.displayName="SidebarMenuSub";const tF=E.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));tF.displayName="SidebarMenuSubItem";const rF=E.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...i},a)=>{const c=e?Yr:"a";return s.jsx(c,{ref:a,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:Re("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...i})});rF.displayName="SidebarMenuSubButton";function uv(e,[t,r]){return Math.min(r,Math.max(t,e))}function oh(e){const t=E.useRef({value:e,previous:e});return E.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var nF=[" ","Enter","ArrowUp","ArrowDown"],sF=[" ","Enter"],cc="Select",[lh,ch,iF]=Lv(cc),[No]=cn(cc,[iF,So]),uh=So(),[aF,ci]=No(cc),[oF,lF]=No(cc),cC=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:c,defaultValue:l,onValueChange:d,dir:h,name:f,autoComplete:m,disabled:g,required:v,form:x}=e,y=uh(t),[b,w]=E.useState(null),[N,_]=E.useState(null),[S,T]=E.useState(!1),F=ec(h),[U=!1,$]=Tn({prop:n,defaultProp:i,onChange:a}),[A,J]=Tn({prop:c,defaultProp:l,onChange:d}),pe=E.useRef(null),z=b?x||!!b.closest("form"):!0,[G,R]=E.useState(new Set),Z=Array.from(G).map(ae=>ae.props.value).join(";");return s.jsx(by,{...y,children:s.jsxs(aF,{required:v,scope:t,trigger:b,onTriggerChange:w,valueNode:N,onValueNodeChange:_,valueNodeHasChildren:S,onValueNodeHasChildrenChange:T,contentId:Gn(),value:A,onValueChange:J,open:U,onOpenChange:$,dir:F,triggerPointerDownPosRef:pe,disabled:g,children:[s.jsx(lh.Provider,{scope:t,children:s.jsx(oF,{scope:e.__scopeSelect,onNativeOptionAdd:E.useCallback(ae=>{R(q=>new Set(q).add(ae))},[]),onNativeOptionRemove:E.useCallback(ae=>{R(q=>{const Y=new Set(q);return Y.delete(ae),Y})},[]),children:r})}),z?s.jsxs(IC,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:m,value:A,onChange:ae=>J(ae.target.value),disabled:g,form:x,children:[A===void 0?s.jsx("option",{value:""}):null,Array.from(G)]},Z):null]})})};cC.displayName=cc;var uC="SelectTrigger",dC=E.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=uh(r),c=ci(uC,r),l=c.disabled||n,d=nt(t,c.onTriggerChange),h=ch(r),f=E.useRef("touch"),[m,g,v]=OC(y=>{const b=h().filter(_=>!_.disabled),w=b.find(_=>_.value===c.value),N=MC(b,y,w);N!==void 0&&c.onValueChange(N.value)}),x=y=>{l||(c.onOpenChange(!0),v()),y&&(c.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return s.jsx(th,{asChild:!0,...a,children:s.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":DC(c.value)?"":void 0,...i,ref:d,onClick:Le(i.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&x(y)}),onPointerDown:Le(i.onPointerDown,y=>{f.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:Le(i.onKeyDown,y=>{const b=m.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&g(y.key),!(b&&y.key===" ")&&nF.includes(y.key)&&(x(),y.preventDefault())})})})});dC.displayName=uC;var hC="SelectValue",fC=E.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:c="",...l}=e,d=ci(hC,r),{onValueNodeHasChildrenChange:h}=d,f=a!==void 0,m=nt(t,d.onValueNodeChange);return mr(()=>{h(f)},[h,f]),s.jsx(Ve.span,{...l,ref:m,style:{pointerEvents:"none"},children:DC(d.value)?s.jsx(s.Fragment,{children:c}):a})});fC.displayName=hC;var cF="SelectIcon",pC=E.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return s.jsx(Ve.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});pC.displayName=cF;var uF="SelectPortal",mC=e=>s.jsx(Yl,{asChild:!0,...e});mC.displayName=uF;var Wi="SelectContent",gC=E.forwardRef((e,t)=>{const r=ci(Wi,e.__scopeSelect),[n,i]=E.useState();if(mr(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?go.createPortal(s.jsx(vC,{scope:e.__scopeSelect,children:s.jsx(lh.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(yC,{...e,ref:t})});gC.displayName=Wi;var Sn=10,[vC,ui]=No(Wi),dF="SelectContentImpl",yC=E.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:c,side:l,sideOffset:d,align:h,alignOffset:f,arrowPadding:m,collisionBoundary:g,collisionPadding:v,sticky:x,hideWhenDetached:y,avoidCollisions:b,...w}=e,N=ci(Wi,r),[_,S]=E.useState(null),[T,F]=E.useState(null),U=nt(t,I=>S(I)),[$,A]=E.useState(null),[J,pe]=E.useState(null),z=ch(r),[G,R]=E.useState(!1),Z=E.useRef(!1);E.useEffect(()=>{if(_)return iy(_)},[_]),sy();const ae=E.useCallback(I=>{const[O,...re]=z().map(X=>X.ref.current),[Q]=re.slice(-1),K=document.activeElement;for(const X of I)if(X===K||(X?.scrollIntoView({block:"nearest"}),X===O&&T&&(T.scrollTop=0),X===Q&&T&&(T.scrollTop=T.scrollHeight),X?.focus(),document.activeElement!==K))return},[z,T]),q=E.useCallback(()=>ae([$,_]),[ae,$,_]);E.useEffect(()=>{G&&q()},[G,q]);const{onOpenChange:Y,triggerPointerDownPosRef:ne}=N;E.useEffect(()=>{if(_){let I={x:0,y:0};const O=Q=>{I={x:Math.abs(Math.round(Q.pageX)-(ne.current?.x??0)),y:Math.abs(Math.round(Q.pageY)-(ne.current?.y??0))}},re=Q=>{I.x<=10&&I.y<=10?Q.preventDefault():_.contains(Q.target)||Y(!1),document.removeEventListener("pointermove",O),ne.current=null};return ne.current!==null&&(document.addEventListener("pointermove",O),document.addEventListener("pointerup",re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",re,{capture:!0})}}},[_,Y,ne]),E.useEffect(()=>{const I=()=>Y(!1);return window.addEventListener("blur",I),window.addEventListener("resize",I),()=>{window.removeEventListener("blur",I),window.removeEventListener("resize",I)}},[Y]);const[te,W]=OC(I=>{const O=z().filter(K=>!K.disabled),re=O.find(K=>K.ref.current===document.activeElement),Q=MC(O,I,re);Q&&setTimeout(()=>Q.ref.current.focus())}),H=E.useCallback((I,O,re)=>{const Q=!Z.current&&!re;(N.value!==void 0&&N.value===O||Q)&&(A(I),Q&&(Z.current=!0))},[N.value]),se=E.useCallback(()=>_?.focus(),[_]),ce=E.useCallback((I,O,re)=>{const Q=!Z.current&&!re;(N.value!==void 0&&N.value===O||Q)&&pe(I)},[N.value]),he=n==="popper"?dv:xC,oe=he===dv?{side:l,sideOffset:d,align:h,alignOffset:f,arrowPadding:m,collisionBoundary:g,collisionPadding:v,sticky:x,hideWhenDetached:y,avoidCollisions:b}:{};return s.jsx(vC,{scope:r,content:_,viewport:T,onViewportChange:F,itemRefCallback:H,selectedItem:$,onItemLeave:se,itemTextRefCallback:ce,focusSelectedItem:q,selectedItemText:J,position:n,isPositioned:G,searchRef:te,children:s.jsx(Yd,{as:Yr,allowPinchZoom:!0,children:s.jsx(Kd,{asChild:!0,trapped:N.open,onMountAutoFocus:I=>{I.preventDefault()},onUnmountAutoFocus:Le(i,I=>{N.trigger?.focus({preventScroll:!0}),I.preventDefault()}),children:s.jsx(yo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:I=>I.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:s.jsx(he,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:I=>I.preventDefault(),...w,...oe,onPlaced:()=>R(!0),ref:U,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Le(w.onKeyDown,I=>{const O=I.ctrlKey||I.altKey||I.metaKey;if(I.key==="Tab"&&I.preventDefault(),!O&&I.key.length===1&&W(I.key),["ArrowUp","ArrowDown","Home","End"].includes(I.key)){let Q=z().filter(K=>!K.disabled).map(K=>K.ref.current);if(["ArrowUp","End"].includes(I.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(I.key)){const K=I.target,X=Q.indexOf(K);Q=Q.slice(X+1)}setTimeout(()=>ae(Q)),I.preventDefault()}})})})})})})});yC.displayName=dF;var hF="SelectItemAlignedPosition",xC=E.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=ci(Wi,r),c=ui(Wi,r),[l,d]=E.useState(null),[h,f]=E.useState(null),m=nt(t,U=>f(U)),g=ch(r),v=E.useRef(!1),x=E.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:w,focusSelectedItem:N}=c,_=E.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&h&&y&&b&&w){const U=a.trigger.getBoundingClientRect(),$=h.getBoundingClientRect(),A=a.valueNode.getBoundingClientRect(),J=w.getBoundingClientRect();if(a.dir!=="rtl"){const K=J.left-$.left,X=A.left-K,me=U.left-X,M=U.width+me,ge=Math.max(M,$.width),B=window.innerWidth-Sn,C=uv(X,[Sn,Math.max(Sn,B-ge)]);l.style.minWidth=M+"px",l.style.left=C+"px"}else{const K=$.right-J.right,X=window.innerWidth-A.right-K,me=window.innerWidth-U.right-X,M=U.width+me,ge=Math.max(M,$.width),B=window.innerWidth-Sn,C=uv(X,[Sn,Math.max(Sn,B-ge)]);l.style.minWidth=M+"px",l.style.right=C+"px"}const pe=g(),z=window.innerHeight-Sn*2,G=y.scrollHeight,R=window.getComputedStyle(h),Z=parseInt(R.borderTopWidth,10),ae=parseInt(R.paddingTop,10),q=parseInt(R.borderBottomWidth,10),Y=parseInt(R.paddingBottom,10),ne=Z+ae+G+Y+q,te=Math.min(b.offsetHeight*5,ne),W=window.getComputedStyle(y),H=parseInt(W.paddingTop,10),se=parseInt(W.paddingBottom,10),ce=U.top+U.height/2-Sn,he=z-ce,oe=b.offsetHeight/2,I=b.offsetTop+oe,O=Z+ae+I,re=ne-O;if(O<=ce){const K=pe.length>0&&b===pe[pe.length-1].ref.current;l.style.bottom="0px";const X=h.clientHeight-y.offsetTop-y.offsetHeight,me=Math.max(he,oe+(K?se:0)+X+q),M=O+me;l.style.height=M+"px"}else{const K=pe.length>0&&b===pe[0].ref.current;l.style.top="0px";const me=Math.max(ce,Z+y.offsetTop+(K?H:0)+oe)+re;l.style.height=me+"px",y.scrollTop=O-ce+y.offsetTop}l.style.margin=`${Sn}px 0`,l.style.minHeight=te+"px",l.style.maxHeight=z+"px",n?.(),requestAnimationFrame(()=>v.current=!0)}},[g,a.trigger,a.valueNode,l,h,y,b,w,a.dir,n]);mr(()=>_(),[_]);const[S,T]=E.useState();mr(()=>{h&&T(window.getComputedStyle(h).zIndex)},[h]);const F=E.useCallback(U=>{U&&x.current===!0&&(_(),N?.(),x.current=!1)},[_,N]);return s.jsx(pF,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:F,children:s.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:s.jsx(Ve.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});xC.displayName=hF;var fF="SelectPopperPosition",dv=E.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Sn,...a}=e,c=uh(r);return s.jsx(jy,{...c,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dv.displayName=fF;var[pF,Cy]=No(Wi,{}),hv="SelectViewport",wC=E.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=ui(hv,r),c=Cy(hv,r),l=nt(t,a.onViewportChange),d=E.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(lh.Slot,{scope:r,children:s.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Le(i.onScroll,h=>{const f=h.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=c;if(g?.current&&m){const v=Math.abs(d.current-f.scrollTop);if(v>0){const x=window.innerHeight-Sn*2,y=parseFloat(m.style.minHeight),b=parseFloat(m.style.height),w=Math.max(y,b);if(w<x){const N=w+v,_=Math.min(x,N),S=N-_;m.style.height=_+"px",m.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,m.style.justifyContent="flex-end")}}}d.current=f.scrollTop})})})]})});wC.displayName=hv;var bC="SelectGroup",[mF,gF]=No(bC),vF=E.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Gn();return s.jsx(mF,{scope:r,id:i,children:s.jsx(Ve.div,{role:"group","aria-labelledby":i,...n,ref:t})})});vF.displayName=bC;var jC="SelectLabel",_C=E.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=gF(jC,r);return s.jsx(Ve.div,{id:i.id,...n,ref:t})});_C.displayName=jC;var Nd="SelectItem",[yF,SC]=No(Nd),NC=E.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...c}=e,l=ci(Nd,r),d=ui(Nd,r),h=l.value===n,[f,m]=E.useState(a??""),[g,v]=E.useState(!1),x=nt(t,N=>d.itemRefCallback?.(N,n,i)),y=Gn(),b=E.useRef("touch"),w=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(yF,{scope:r,value:n,disabled:i,textId:y,isSelected:h,onItemTextChange:E.useCallback(N=>{m(_=>_||(N?.textContent??"").trim())},[]),children:s.jsx(lh.ItemSlot,{scope:r,value:n,disabled:i,textValue:f,children:s.jsx(Ve.div,{role:"option","aria-labelledby":y,"data-highlighted":g?"":void 0,"aria-selected":h&&g,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...c,ref:x,onFocus:Le(c.onFocus,()=>v(!0)),onBlur:Le(c.onBlur,()=>v(!1)),onClick:Le(c.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:Le(c.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:Le(c.onPointerDown,N=>{b.current=N.pointerType}),onPointerMove:Le(c.onPointerMove,N=>{b.current=N.pointerType,i?d.onItemLeave?.():b.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(c.onPointerLeave,N=>{N.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Le(c.onKeyDown,N=>{d.searchRef?.current!==""&&N.key===" "||(sF.includes(N.key)&&w(),N.key===" "&&N.preventDefault())})})})})});NC.displayName=Nd;var Cl="SelectItemText",EC=E.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,c=ci(Cl,r),l=ui(Cl,r),d=SC(Cl,r),h=lF(Cl,r),[f,m]=E.useState(null),g=nt(t,w=>m(w),d.onItemTextChange,w=>l.itemTextRefCallback?.(w,d.value,d.disabled)),v=f?.textContent,x=E.useMemo(()=>s.jsx("option",{value:d.value,disabled:d.disabled,children:v},d.value),[d.disabled,d.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=h;return mr(()=>(y(x),()=>b(x)),[y,b,x]),s.jsxs(s.Fragment,{children:[s.jsx(Ve.span,{id:d.textId,...a,ref:g}),d.isSelected&&c.valueNode&&!c.valueNodeHasChildren?go.createPortal(a.children,c.valueNode):null]})});EC.displayName=Cl;var CC="SelectItemIndicator",kC=E.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return SC(CC,r).isSelected?s.jsx(Ve.span,{"aria-hidden":!0,...n,ref:t}):null});kC.displayName=CC;var fv="SelectScrollUpButton",TC=E.forwardRef((e,t)=>{const r=ui(fv,e.__scopeSelect),n=Cy(fv,e.__scopeSelect),[i,a]=E.useState(!1),c=nt(t,n.onScrollButtonChange);return mr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const h=d.scrollTop>0;a(h)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(RC,{...e,ref:c,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});TC.displayName=fv;var pv="SelectScrollDownButton",PC=E.forwardRef((e,t)=>{const r=ui(pv,e.__scopeSelect),n=Cy(pv,e.__scopeSelect),[i,a]=E.useState(!1),c=nt(t,n.onScrollButtonChange);return mr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const h=d.scrollHeight-d.clientHeight,f=Math.ceil(d.scrollTop)<h;a(f)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(RC,{...e,ref:c,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});PC.displayName=pv;var RC=E.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=ui("SelectScrollButton",r),c=E.useRef(null),l=ch(r),d=E.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return E.useEffect(()=>()=>d(),[d]),mr(()=>{l().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ve.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Le(i.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:Le(i.onPointerMove,()=>{a.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:Le(i.onPointerLeave,()=>{d()})})}),xF="SelectSeparator",AC=E.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Ve.div,{"aria-hidden":!0,...n,ref:t})});AC.displayName=xF;var mv="SelectArrow",wF=E.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=uh(r),a=ci(mv,r),c=ui(mv,r);return a.open&&c.position==="popper"?s.jsx(_y,{...i,...n,ref:t}):null});wF.displayName=mv;function DC(e){return e===""||e===void 0}var IC=E.forwardRef((e,t)=>{const{value:r,...n}=e,i=E.useRef(null),a=nt(t,i),c=oh(r);return E.useEffect(()=>{const l=i.current,d=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(c!==r&&f){const m=new Event("change",{bubbles:!0});f.call(l,r),l.dispatchEvent(m)}},[c,r]),s.jsx(Xl,{asChild:!0,children:s.jsx("select",{...n,ref:a,defaultValue:r})})});IC.displayName="BubbleSelect";function OC(e){const t=Vt(e),r=E.useRef(""),n=E.useRef(0),i=E.useCallback(c=>{const l=r.current+c;t(l),(function d(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(l)},[t]),a=E.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function MC(e,t,r){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let c=bF(e,Math.max(a,0));i.length===1&&(c=c.filter(h=>h!==r));const d=c.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==r?d:void 0}function bF(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var jF=cC,FC=dC,_F=fC,SF=pC,NF=mC,LC=gC,EF=wC,UC=_C,BC=NC,CF=EC,kF=kC,HC=TC,zC=PC,$C=AC;const vt=jF,yt=_F,dt=E.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(FC,{ref:n,className:Re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(SF,{asChild:!0,children:s.jsx($v,{className:"h-4 w-4 opacity-50"})})]}));dt.displayName=FC.displayName;const WC=E.forwardRef(({className:e,...t},r)=>s.jsx(HC,{ref:r,className:Re("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ND,{className:"h-4 w-4"})}));WC.displayName=HC.displayName;const qC=E.forwardRef(({className:e,...t},r)=>s.jsx(zC,{ref:r,className:Re("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx($v,{className:"h-4 w-4"})}));qC.displayName=zC.displayName;const ht=E.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>s.jsx(NF,{children:s.jsxs(LC,{ref:i,className:Re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(WC,{}),s.jsx(EF,{className:Re("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(qC,{})]})}));ht.displayName=LC.displayName;const TF=E.forwardRef(({className:e,...t},r)=>s.jsx(UC,{ref:r,className:Re("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));TF.displayName=UC.displayName;const Oe=E.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(BC,{ref:n,className:Re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(kF,{children:s.jsx(zv,{className:"h-4 w-4"})})}),s.jsx(CF,{children:t})]}));Oe.displayName=BC.displayName;const PF=E.forwardRef(({className:e,...t},r)=>s.jsx($C,{ref:r,className:Re("-mx-1 my-1 h-px bg-muted",e),...t}));PF.displayName=$C.displayName;var ky="Switch",[RF]=cn(ky),[AF,DF]=RF(ky),VC=E.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:c,disabled:l,value:d="on",onCheckedChange:h,form:f,...m}=e,[g,v]=E.useState(null),x=nt(t,_=>v(_)),y=E.useRef(!1),b=g?f||!!g.closest("form"):!0,[w=!1,N]=Tn({prop:i,defaultProp:a,onChange:h});return s.jsxs(AF,{scope:r,checked:w,disabled:l,children:[s.jsx(Ve.button,{type:"button",role:"switch","aria-checked":w,"aria-required":c,"data-state":YC(w),"data-disabled":l?"":void 0,disabled:l,value:d,...m,ref:x,onClick:Le(e.onClick,_=>{N(S=>!S),b&&(y.current=_.isPropagationStopped(),y.current||_.stopPropagation())})}),b&&s.jsx(IF,{control:g,bubbles:!y.current,name:n,value:d,checked:w,required:c,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});VC.displayName=ky;var KC="SwitchThumb",GC=E.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=DF(KC,r);return s.jsx(Ve.span,{"data-state":YC(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});GC.displayName=KC;var IF=e=>{const{control:t,checked:r,bubbles:n=!0,...i}=e,a=E.useRef(null),c=oh(r),l=eh(t);return E.useEffect(()=>{const d=a.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function YC(e){return e?"checked":"unchecked"}var XC=VC,OF=GC;const dn=E.forwardRef(({className:e,...t},r)=>s.jsx(XC,{className:Re("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(OF,{className:Re("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));dn.displayName=XC.displayName;const MF=()=>{const{signOut:e}=_t(),t=Dn(),r=async()=>{await e(),t("/auth",{replace:!0})};return s.jsxs(je,{onClick:r,variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[s.jsx(ID,{className:"w-4 h-4"}),s.jsx("span",{children:"Sign Out"})]})},FF=[{title:"Dashboard",url:"/",icon:Rb,roles:["admin","standard"]},{title:"Client Dashboard",url:"/client",icon:Rb,roles:["client"]},{title:"Projects",url:"/projects",icon:Vg,roles:["admin"]},{title:"My Projects",url:"/client/projects",icon:Vg,roles:["client"]},{title:"Clients",url:"/clients",icon:Kv,roles:["admin"]},{title:"Contract Templates",url:"/contracts",icon:Yn,roles:["admin"]},{title:"Subscriptions",url:"/subscriptions",icon:Wv,roles:["admin"]},{title:"Users",url:"/users",icon:Xr,roles:["admin"]}];function QC(){const{profile:e,user:t}=_t(),{displayCurrency:r,updateCurrency:n,demoMode:i,toggleDemoMode:a}=pt(),c=Ki(),l=e?.role??t?.user_metadata?.role??"standard",d=FF.filter(h=>h.roles.includes(l));return s.jsxs(eC,{variant:"floating",collapsible:"none",className:"rounded-lg border border-sidebar-border shadow-sm",children:[s.jsx(rC,{children:s.jsxs(nC,{children:[s.jsx(sC,{children:"Project Manager"}),s.jsx(iC,{children:s.jsx(aC,{children:d.map(h=>s.jsx(oC,{children:s.jsx(lC,{asChild:!0,isActive:c.pathname===h.url,children:s.jsxs(qA,{to:h.url,children:[s.jsx(h.icon,{}),s.jsx("span",{children:h.title})]})})},h.title))})})]})}),s.jsx(tC,{children:s.jsxs("div",{className:"p-4 space-y-3",children:[l==="admin"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-sidebar-foreground/70",children:"Demo Mode"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(dn,{id:"demo-mode",checked:i,onCheckedChange:a}),s.jsxs("div",{className:"flex items-center space-x-1",children:[i?s.jsx(qv,{className:"h-3 w-3 text-sidebar-foreground/70"}):s.jsx(Hd,{className:"h-3 w-3 text-sidebar-foreground/70"}),s.jsx("span",{className:"text-xs text-sidebar-foreground/70",children:i?"Hide Financials":"Show Financials"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs text-sidebar-foreground/70",children:"Currency"}),s.jsxs(vt,{value:r,onValueChange:n,children:[s.jsx(dt,{className:"w-full h-8 text-xs",children:s.jsx(yt,{placeholder:"Select currency"})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"USD",children:"USD ($)"}),s.jsx(Oe,{value:"EUR",children:"EUR ()"}),s.jsx(Oe,{value:"RON",children:"RON"})]})]})]}),s.jsxs("div",{className:"text-sm text-sidebar-foreground/70",children:["Signed in as: ",e?.email||"Loading..."]}),s.jsxs("div",{className:"text-xs text-sidebar-foreground/50",children:["Role: ",l||"Loading..."]}),s.jsx(MF,{})]})})]})}const Bt=({children:e})=>s.jsx(Ny,{children:s.jsxs("div",{className:"min-h-screen flex w-full justify-center p-4 md:p-6",children:[s.jsx("header",{className:"fixed top-0 left-0 z-50 md:hidden",children:s.jsx(Ey,{className:"m-4"})}),s.jsxs("div",{className:"flex w-full max-w-[calc(1200px+16rem+1.5rem)] gap-0 md:gap-6 mx-auto",children:[s.jsx(QC,{}),s.jsx("main",{className:"flex-1 min-w-0 w-full max-w-full xl:max-w-[1200px] xl:min-w-[1200px] pt-12 md:pt-0",children:e})]})]})}),LF=()=>{const{profile:e,user:t,loading:r}=_t(),{demoMode:n}=pt();if(r)return s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"h-8 w-48 bg-gray-200 animate-pulse rounded"})});const i=()=>e?.full_name?e.full_name:t?.email&&!n?t.email:n?"Demo User":"User";return s.jsxs("div",{className:"mb-6",children:[s.jsxs("h1",{className:"text-slate-900 text-3xl font-bold",children:["Hello, ",i()]}),s.jsx("p",{className:"text-slate-600 text-base font-medium mt-1",children:"Welcome to your dashboard"})]})};var Ty="Popover",[JC]=cn(Ty,[So]),uc=So(),[UF,di]=JC(Ty),ZC=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:c=!1}=e,l=uc(t),d=E.useRef(null),[h,f]=E.useState(!1),[m=!1,g]=Tn({prop:n,defaultProp:i,onChange:a});return s.jsx(by,{...l,children:s.jsx(UF,{scope:t,contentId:Gn(),triggerRef:d,open:m,onOpenChange:g,onOpenToggle:E.useCallback(()=>g(v=>!v),[g]),hasCustomAnchor:h,onCustomAnchorAdd:E.useCallback(()=>f(!0),[]),onCustomAnchorRemove:E.useCallback(()=>f(!1),[]),modal:c,children:r})})};ZC.displayName=Ty;var ek="PopoverAnchor",BF=E.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=di(ek,r),a=uc(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:l}=i;return E.useEffect(()=>(c(),()=>l()),[c,l]),s.jsx(th,{...a,...n,ref:t})});BF.displayName=ek;var tk="PopoverTrigger",rk=E.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=di(tk,r),a=uc(r),c=nt(t,i.triggerRef),l=s.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ok(i.open),...n,ref:c,onClick:Le(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:s.jsx(th,{asChild:!0,...a,children:l})});rk.displayName=tk;var Py="PopoverPortal",[HF,zF]=JC(Py,{forceMount:void 0}),nk=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,a=di(Py,t);return s.jsx(HF,{scope:t,forceMount:r,children:s.jsx(kr,{present:r||a.open,children:s.jsx(Yl,{asChild:!0,container:i,children:n})})})};nk.displayName=Py;var Ja="PopoverContent",sk=E.forwardRef((e,t)=>{const r=zF(Ja,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,a=di(Ja,e.__scopePopover);return s.jsx(kr,{present:n||a.open,children:a.modal?s.jsx($F,{...i,ref:t}):s.jsx(WF,{...i,ref:t})})});sk.displayName=Ja;var $F=E.forwardRef((e,t)=>{const r=di(Ja,e.__scopePopover),n=E.useRef(null),i=nt(t,n),a=E.useRef(!1);return E.useEffect(()=>{const c=n.current;if(c)return iy(c)},[]),s.jsx(Yd,{as:Yr,allowPinchZoom:!0,children:s.jsx(ik,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(e.onCloseAutoFocus,c=>{c.preventDefault(),a.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Le(e.onPointerDownOutside,c=>{const l=c.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,h=l.button===2||d;a.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:Le(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),WF=E.forwardRef((e,t)=>{const r=di(Ja,e.__scopePopover),n=E.useRef(!1),i=E.useRef(!1);return s.jsx(ik,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=a.target;r.triggerRef.current?.contains(c)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),ik=E.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,...m}=e,g=di(Ja,r),v=uc(r);return sy(),s.jsx(Kd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(yo,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:h,onDismiss:()=>g.onOpenChange(!1),children:s.jsx(jy,{"data-state":ok(g.open),role:"dialog",id:g.contentId,...v,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ak="PopoverClose",qF=E.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=di(ak,r);return s.jsx(Ve.button,{type:"button",...n,ref:t,onClick:Le(e.onClick,()=>i.onOpenChange(!1))})});qF.displayName=ak;var VF="PopoverArrow",KF=E.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=uc(r);return s.jsx(_y,{...i,...n,ref:t})});KF.displayName=VF;function ok(e){return e?"open":"closed"}var GF=ZC,YF=rk,XF=nk,lk=sk;const QF=GF,JF=YF,ck=E.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},i)=>s.jsx(XF,{children:s.jsx(lk,{ref:i,align:t,sideOffset:r,className:Re("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));ck.displayName=lk.displayName;function ft(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Qr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Er(e,t){const r=ft(e);return isNaN(t)?Qr(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function on(e,t){const r=ft(e);if(isNaN(t))return Qr(e,NaN);if(!t)return r;const n=r.getDate(),i=Qr(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const Ry=6048e5,ZF=864e5;let e8={};function dc(){return e8}function Jn(e,t){const r=dc(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=ft(e),a=i.getDay(),c=(a<n?7:0)+a-n;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function qi(e){return Jn(e,{weekStartsOn:1})}function uk(e){const t=ft(e),r=t.getFullYear(),n=Qr(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=qi(n),a=Qr(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const c=qi(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function Za(e){const t=ft(e);return t.setHours(0,0,0,0),t}function Ed(e){const t=ft(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Vn(e,t){const r=Za(e),n=Za(t),i=+r-Ed(r),a=+n-Ed(n);return Math.round((i-a)/ZF)}function t8(e){const t=uk(e),r=Qr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),qi(r)}function gv(e,t){const r=t*7;return Er(e,r)}function dk(e,t){return on(e,t*12)}function r8(e){let t;return e.forEach(function(r){const n=ft(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function n8(e){let t;return e.forEach(r=>{const n=ft(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Lr(e,t){const r=Za(e),n=Za(t);return+r==+n}function Ay(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function s8(e){if(!Ay(e)&&typeof e!="number")return!1;const t=ft(e);return!isNaN(Number(t))}function ql(e,t){const r=ft(e),n=ft(t),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function i8(e,t,r){const n=Jn(e,r),i=Jn(t,r),a=+n-Ed(n),c=+i-Ed(i);return Math.round((a-c)/Ry)}function Vl(e){const t=ft(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function _r(e){const t=ft(e);return t.setDate(1),t.setHours(0,0,0,0),t}function C1(e){const t=ft(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function Cd(e){const t=ft(e),r=Qr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Dy(e,t){const r=dc(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=ft(e),a=i.getDay(),c=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+c),i.setHours(23,59,59,999),i}function hk(e){return Dy(e,{weekStartsOn:1})}const a8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},o8=(e,t,r)=>{let n;const i=a8[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Up(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const l8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},c8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},u8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},d8={date:Up({formats:l8,defaultWidth:"full"}),time:Up({formats:c8,defaultWidth:"full"}),dateTime:Up({formats:u8,defaultWidth:"full"})},h8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},f8=(e,t,r,n)=>h8[e];function xl(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):c;i=e.formattingValues[l]||e.formattingValues[c]}else{const c=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[c]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const p8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},m8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},g8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},v8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},y8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},x8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},w8=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},b8={ordinalNumber:w8,era:xl({values:p8,defaultWidth:"wide"}),quarter:xl({values:m8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:xl({values:g8,defaultWidth:"wide"}),day:xl({values:v8,defaultWidth:"wide"}),dayPeriod:xl({values:y8,defaultWidth:"wide",formattingValues:x8,defaultFormattingWidth:"wide"})};function wl(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const c=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?_8(l,m=>m.test(c)):j8(l,m=>m.test(c));let h;h=e.valueCallback?e.valueCallback(d):d,h=r.valueCallback?r.valueCallback(h):h;const f=t.slice(c.length);return{value:h,rest:f}}}function j8(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function _8(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function S8(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let c=e.valueCallback?e.valueCallback(a[0]):a[0];c=r.valueCallback?r.valueCallback(c):c;const l=t.slice(i.length);return{value:c,rest:l}}}const N8=/^(\d+)(th|st|nd|rd)?/i,E8=/\d+/i,C8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},k8={any:[/^b/i,/^(a|c)/i]},T8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},P8={any:[/1/i,/2/i,/3/i,/4/i]},R8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},A8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},D8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},I8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},O8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},M8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},F8={ordinalNumber:S8({matchPattern:N8,parsePattern:E8,valueCallback:e=>parseInt(e,10)}),era:wl({matchPatterns:C8,defaultMatchWidth:"wide",parsePatterns:k8,defaultParseWidth:"any"}),quarter:wl({matchPatterns:T8,defaultMatchWidth:"wide",parsePatterns:P8,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wl({matchPatterns:R8,defaultMatchWidth:"wide",parsePatterns:A8,defaultParseWidth:"any"}),day:wl({matchPatterns:D8,defaultMatchWidth:"wide",parsePatterns:I8,defaultParseWidth:"any"}),dayPeriod:wl({matchPatterns:O8,defaultMatchWidth:"any",parsePatterns:M8,defaultParseWidth:"any"})},fk={code:"en-US",formatDistance:o8,formatLong:d8,formatRelative:f8,localize:b8,match:F8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function L8(e){const t=ft(e);return Vn(t,Cd(t))+1}function pk(e){const t=ft(e),r=+qi(t)-+t8(t);return Math.round(r/Ry)+1}function mk(e,t){const r=ft(e),n=r.getFullYear(),i=dc(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=Qr(e,0);c.setFullYear(n+1,0,a),c.setHours(0,0,0,0);const l=Jn(c,t),d=Qr(e,0);d.setFullYear(n,0,a),d.setHours(0,0,0,0);const h=Jn(d,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=h.getTime()?n:n-1}function U8(e,t){const r=dc(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=mk(e,t),a=Qr(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Jn(a,t)}function gk(e,t){const r=ft(e),n=+Jn(r,t)-+U8(r,t);return Math.round(n/Ry)+1}function bt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Gs={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return bt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):bt(r+1,2)},d(e,t){return bt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,t){return bt(e.getHours()%12||12,t.length)},H(e,t){return bt(e.getHours(),t.length)},m(e,t){return bt(e.getMinutes(),t.length)},s(e,t){return bt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return bt(i,t.length)}},Ia={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},k1={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Gs.y(e,t)},Y:function(e,t,r,n){const i=mk(e,n),a=i>0?i:1-i;if(t==="YY"){const c=a%100;return bt(c,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):bt(a,t.length)},R:function(e,t){const r=uk(e);return bt(r,t.length)},u:function(e,t){const r=e.getFullYear();return bt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return bt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return bt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Gs.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return bt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=gk(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):bt(i,t.length)},I:function(e,t,r){const n=pk(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):bt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Gs.d(e,t)},D:function(e,t,r){const n=L8(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):bt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return bt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return bt(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return bt(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=Ia.noon:n===0?i=Ia.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=Ia.evening:n>=12?i=Ia.afternoon:n>=4?i=Ia.morning:i=Ia.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Gs.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Gs.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):bt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):bt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Gs.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Gs.s(e,t)},S:function(e,t){return Gs.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return P1(n);case"XXXX":case"XX":return Fi(n);default:return Fi(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return P1(n);case"xxxx":case"xx":return Fi(n);default:return Fi(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+T1(n,":");default:return"GMT"+Fi(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+T1(n,":");default:return"GMT"+Fi(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return bt(n,t.length)},T:function(e,t,r){const n=e.getTime();return bt(n,t.length)}};function T1(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+bt(a,2)}function P1(e,t){return e%60===0?(e>0?"-":"+")+bt(Math.abs(e)/60,2):Fi(e,t)}function Fi(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=bt(Math.trunc(n/60),2),a=bt(n%60,2);return r+i+t+a}const R1=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},vk=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},B8=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return R1(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",R1(n,t)).replace("{{time}}",vk(i,t))},H8={p:vk,P:B8},z8=/^D+$/,$8=/^Y+$/,W8=["D","DD","YY","YYYY"];function q8(e){return z8.test(e)}function V8(e){return $8.test(e)}function K8(e,t,r){const n=G8(e,t,r);if(console.warn(n),W8.includes(e))throw new RangeError(n)}function G8(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Y8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,X8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Q8=/^'([^]*?)'?$/,J8=/''/g,Z8=/[a-zA-Z]/;function ln(e,t,r){const n=dc(),i=r?.locale??n.locale??fk,a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=ft(e);if(!s8(l))throw new RangeError("Invalid time value");let d=t.match(X8).map(f=>{const m=f[0];if(m==="p"||m==="P"){const g=H8[m];return g(f,i.formatLong)}return f}).join("").match(Y8).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const m=f[0];if(m==="'")return{isToken:!1,value:eL(f)};if(k1[m])return{isToken:!0,value:f};if(m.match(Z8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:f}});i.localize.preprocessor&&(d=i.localize.preprocessor(l,d));const h={firstWeekContainsDate:a,weekStartsOn:c,locale:i};return d.map(f=>{if(!f.isToken)return f.value;const m=f.value;(!r?.useAdditionalWeekYearTokens&&V8(m)||!r?.useAdditionalDayOfYearTokens&&q8(m))&&K8(m,t,String(e));const g=k1[m[0]];return g(l,m,i.localize,h)}).join("")}function eL(e){const t=e.match(Q8);return t?t[1].replace(J8,"'"):e}function tL(e){const t=ft(e),r=t.getFullYear(),n=t.getMonth(),i=Qr(e,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function rL(e){return Math.trunc(+ft(e)/1e3)}function nL(e){const t=ft(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function sL(e,t){return i8(nL(e),_r(e),t)+1}function vv(e,t){const r=ft(e),n=ft(t);return r.getTime()>n.getTime()}function yk(e,t){const r=ft(e),n=ft(t);return+r<+n}function Iy(e,t){const r=ft(e),n=ft(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function iL(e,t){const r=ft(e),n=ft(t);return r.getFullYear()===n.getFullYear()}function Bp(e,t){return Er(e,-t)}function Hp(e,t){const r=ft(e),n=r.getFullYear(),i=r.getDate(),a=Qr(e,0);a.setFullYear(n,t,15),a.setHours(0,0,0,0);const c=tL(a);return r.setMonth(t,Math.min(i,c)),r}function A1(e,t){const r=ft(e);return isNaN(+r)?Qr(e,NaN):(r.setFullYear(t),r)}function aL(e,t){return on(e,-1)}function oL(e,t){return dk(e,-1)}var Je=function(){return Je=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Je.apply(this,arguments)};function lL(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function xk(e,t,r){for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function hc(e){return e.mode==="multiple"}function fc(e){return e.mode==="range"}function dh(e){return e.mode==="single"}var cL={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function uL(e,t){return ln(e,"LLLL y",t)}function dL(e,t){return ln(e,"d",t)}function hL(e,t){return ln(e,"LLLL",t)}function fL(e){return"".concat(e)}function pL(e,t){return ln(e,"cccccc",t)}function mL(e,t){return ln(e,"yyyy",t)}var gL=Object.freeze({__proto__:null,formatCaption:uL,formatDay:dL,formatMonthCaption:hL,formatWeekNumber:fL,formatWeekdayName:pL,formatYearCaption:mL}),vL=function(e,t,r){return ln(e,"do MMMM (EEEE)",r)},yL=function(){return"Month: "},xL=function(){return"Go to next month"},wL=function(){return"Go to previous month"},bL=function(e,t){return ln(e,"cccc",t)},jL=function(e){return"Week n. ".concat(e)},_L=function(){return"Year: "},SL=Object.freeze({__proto__:null,labelDay:vL,labelMonthDropdown:yL,labelNext:xL,labelPrevious:wL,labelWeekNumber:jL,labelWeekday:bL,labelYearDropdown:_L});function NL(){var e="buttons",t=cL,r=fk,n={},i={},a=1,c={},l=new Date;return{captionLayout:e,classNames:t,formatters:gL,labels:SL,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:a,styles:c,today:l,mode:"default"}}function EL(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,i=e.toMonth,a=e.fromDate,c=e.toDate;return n?a=_r(n):t&&(a=new Date(t,0,1)),i?c=Vl(i):r&&(c=new Date(r,11,31)),{fromDate:a?Za(a):void 0,toDate:c?Za(c):void 0}}var wk=E.createContext(void 0);function CL(e){var t,r=e.initialProps,n=NL(),i=EL(r),a=i.fromDate,c=i.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!a||!c)&&(l="buttons");var d;(dh(r)||hc(r)||fc(r))&&(d=r.onSelect);var h=Je(Je(Je({},n),r),{captionLayout:l,classNames:Je(Je({},n.classNames),r.classNames),components:Je({},r.components),formatters:Je(Je({},n.formatters),r.formatters),fromDate:a,labels:Je(Je({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Je(Je({},n.modifiers),r.modifiers),modifiersClassNames:Je(Je({},n.modifiersClassNames),r.modifiersClassNames),onSelect:d,styles:Je(Je({},n.styles),r.styles),toDate:c});return s.jsx(wk.Provider,{value:h,children:e.children})}function Ct(){var e=E.useContext(wk);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function bk(e){var t=Ct(),r=t.locale,n=t.classNames,i=t.styles,a=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function kL(e){return s.jsx("svg",Je({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function jk(e){var t,r,n=e.onChange,i=e.value,a=e.children,c=e.caption,l=e.className,d=e.style,h=Ct(),f=(r=(t=h.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:kL;return s.jsxs("div",{className:l,style:d,children:[s.jsx("span",{className:h.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:h.classNames.dropdown,style:h.styles.dropdown,value:i,onChange:n,children:a}),s.jsxs("div",{className:h.classNames.caption_label,style:h.styles.caption_label,"aria-hidden":"true",children:[c,s.jsx(f,{className:h.classNames.dropdown_icon,style:h.styles.dropdown_icon})]})]})}function TL(e){var t,r=Ct(),n=r.fromDate,i=r.toDate,a=r.styles,c=r.locale,l=r.formatters.formatMonthCaption,d=r.classNames,h=r.components,f=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});var m=[];if(iL(n,i))for(var g=_r(n),v=n.getMonth();v<=i.getMonth();v++)m.push(Hp(g,v));else for(var g=_r(new Date),v=0;v<=11;v++)m.push(Hp(g,v));var x=function(b){var w=Number(b.target.value),N=Hp(_r(e.displayMonth),w);e.onChange(N)},y=(t=h?.Dropdown)!==null&&t!==void 0?t:jk;return s.jsx(y,{name:"months","aria-label":f(),className:d.dropdown_month,style:a.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:c}),children:m.map(function(b){return s.jsx("option",{value:b.getMonth(),children:l(b,{locale:c})},b.getMonth())})})}function PL(e){var t,r=e.displayMonth,n=Ct(),i=n.fromDate,a=n.toDate,c=n.locale,l=n.styles,d=n.classNames,h=n.components,f=n.formatters.formatYearCaption,m=n.labels.labelYearDropdown,g=[];if(!i)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});for(var v=i.getFullYear(),x=a.getFullYear(),y=v;y<=x;y++)g.push(A1(Cd(new Date),y));var b=function(N){var _=A1(_r(r),Number(N.target.value));e.onChange(_)},w=(t=h?.Dropdown)!==null&&t!==void 0?t:jk;return s.jsx(w,{name:"years","aria-label":m(),className:d.dropdown_year,style:l.dropdown_year,onChange:b,value:r.getFullYear(),caption:f(r,{locale:c}),children:g.map(function(N){return s.jsx("option",{value:N.getFullYear(),children:f(N,{locale:c})},N.getFullYear())})})}function RL(e,t){var r=E.useState(e),n=r[0],i=r[1],a=t===void 0?n:t;return[a,i]}function AL(e){var t=e.month,r=e.defaultMonth,n=e.today,i=t||r||n||new Date,a=e.toDate,c=e.fromDate,l=e.numberOfMonths,d=l===void 0?1:l;if(a&&ql(a,i)<0){var h=-1*(d-1);i=on(a,h)}return c&&ql(i,c)<0&&(i=c),_r(i)}function DL(){var e=Ct(),t=AL(e),r=RL(t,e.month),n=r[0],i=r[1],a=function(c){var l;if(!e.disableNavigation){var d=_r(c);i(d),(l=e.onMonthChange)===null||l===void 0||l.call(e,d)}};return[n,a]}function IL(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,i=_r(e),a=_r(on(i,n)),c=ql(a,i),l=[],d=0;d<c;d++){var h=on(i,d);l.push(h)}return r&&(l=l.reverse()),l}function OL(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,c=n?a:1,l=_r(e);if(!r)return on(l,c);var d=ql(r,e);if(!(d<a))return on(l,c)}}function ML(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,c=n?a:1,l=_r(e);if(!r)return on(l,-c);var d=ql(l,r);if(!(d<=0))return on(l,-c)}}var _k=E.createContext(void 0);function FL(e){var t=Ct(),r=DL(),n=r[0],i=r[1],a=IL(n,t),c=OL(n,t),l=ML(n,t),d=function(m){return a.some(function(g){return Iy(m,g)})},h=function(m,g){d(m)||(g&&yk(m,g)?i(on(m,1+t.numberOfMonths*-1)):i(m))},f={currentMonth:n,displayMonths:a,goToMonth:i,goToDate:h,previousMonth:l,nextMonth:c,isDateDisplayed:d};return s.jsx(_k.Provider,{value:f,children:e.children})}function pc(){var e=E.useContext(_k);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function D1(e){var t,r=Ct(),n=r.classNames,i=r.styles,a=r.components,c=pc().goToMonth,l=function(f){c(on(f,e.displayIndex?-e.displayIndex:0))},d=(t=a?.CaptionLabel)!==null&&t!==void 0?t:bk,h=s.jsx(d,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:h}),s.jsx(TL,{onChange:l,displayMonth:e.displayMonth}),s.jsx(PL,{onChange:l,displayMonth:e.displayMonth})]})}function LL(e){return s.jsx("svg",Je({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function UL(e){return s.jsx("svg",Je({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var kd=E.forwardRef(function(e,t){var r=Ct(),n=r.classNames,i=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var c=a.join(" "),l=Je(Je({},i.button_reset),i.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Je({},e,{ref:t,type:"button",className:c,style:l}))});function BL(e){var t,r,n=Ct(),i=n.dir,a=n.locale,c=n.classNames,l=n.styles,d=n.labels,h=d.labelPrevious,f=d.labelNext,m=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var g=h(e.previousMonth,{locale:a}),v=[c.nav_button,c.nav_button_previous].join(" "),x=f(e.nextMonth,{locale:a}),y=[c.nav_button,c.nav_button_next].join(" "),b=(t=m?.IconRight)!==null&&t!==void 0?t:UL,w=(r=m?.IconLeft)!==null&&r!==void 0?r:LL;return s.jsxs("div",{className:c.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(kd,{name:"previous-month","aria-label":g,className:v,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?s.jsx(b,{className:c.nav_icon,style:l.nav_icon}):s.jsx(w,{className:c.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(kd,{name:"next-month","aria-label":x,className:y,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?s.jsx(w,{className:c.nav_icon,style:l.nav_icon}):s.jsx(b,{className:c.nav_icon,style:l.nav_icon})})]})}function I1(e){var t=Ct().numberOfMonths,r=pc(),n=r.previousMonth,i=r.nextMonth,a=r.goToMonth,c=r.displayMonths,l=c.findIndex(function(x){return Iy(e.displayMonth,x)}),d=l===0,h=l===c.length-1,f=t>1&&(d||!h),m=t>1&&(h||!d),g=function(){n&&a(n)},v=function(){i&&a(i)};return s.jsx(BL,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:m,nextMonth:i,previousMonth:n,onPreviousClick:g,onNextClick:v})}function HL(e){var t,r=Ct(),n=r.classNames,i=r.disableNavigation,a=r.styles,c=r.captionLayout,l=r.components,d=(t=l?.CaptionLabel)!==null&&t!==void 0?t:bk,h;return i?h=s.jsx(d,{id:e.id,displayMonth:e.displayMonth}):c==="dropdown"?h=s.jsx(D1,{displayMonth:e.displayMonth,id:e.id}):c==="dropdown-buttons"?h=s.jsxs(s.Fragment,{children:[s.jsx(D1,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(I1,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):h=s.jsxs(s.Fragment,{children:[s.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(I1,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:a.caption,children:h})}function zL(e){var t=Ct(),r=t.footer,n=t.styles,i=t.classNames.tfoot;return r?s.jsx("tfoot",{className:i,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function $L(e,t,r){for(var n=r?qi(new Date):Jn(new Date,{locale:e,weekStartsOn:t}),i=[],a=0;a<7;a++){var c=Er(n,a);i.push(c)}return i}function WL(){var e=Ct(),t=e.classNames,r=e.styles,n=e.showWeekNumber,i=e.locale,a=e.weekStartsOn,c=e.ISOWeek,l=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,h=$L(i,a,c);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),h.map(function(f,m){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":d(f,{locale:i}),children:l(f,{locale:i})},m)})]})}function qL(){var e,t=Ct(),r=t.classNames,n=t.styles,i=t.components,a=(e=i?.HeadRow)!==null&&e!==void 0?e:WL;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(a,{})})}function VL(e){var t=Ct(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var Oy=E.createContext(void 0);function KL(e){if(!hc(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(Oy.Provider,{value:t,children:e.children})}return s.jsx(GL,{initialProps:e.initialProps,children:e.children})}function GL(e){var t=e.initialProps,r=e.children,n=t.selected,i=t.min,a=t.max,c=function(h,f,m){var g,v;(g=t.onDayClick)===null||g===void 0||g.call(t,h,f,m);var x=!!(f.selected&&i&&n?.length===i);if(!x){var y=!!(!f.selected&&a&&n?.length===a);if(!y){var b=n?xk([],n):[];if(f.selected){var w=b.findIndex(function(N){return Lr(h,N)});b.splice(w,1)}else b.push(h);(v=t.onSelect)===null||v===void 0||v.call(t,b,h,f,m)}}},l={disabled:[]};n&&l.disabled.push(function(h){var f=a&&n.length>a-1,m=n.some(function(g){return Lr(g,h)});return!!(f&&!m)});var d={selected:n,onDayClick:c,modifiers:l};return s.jsx(Oy.Provider,{value:d,children:r})}function My(){var e=E.useContext(Oy);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function YL(e,t){var r=t||{},n=r.from,i=r.to;return n&&i?Lr(i,e)&&Lr(n,e)?void 0:Lr(i,e)?{from:i,to:void 0}:Lr(n,e)?void 0:vv(n,e)?{from:e,to:i}:{from:n,to:e}:i?vv(e,i)?{from:i,to:e}:{from:e,to:i}:n?yk(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var Fy=E.createContext(void 0);function XL(e){if(!fc(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(Fy.Provider,{value:t,children:e.children})}return s.jsx(QL,{initialProps:e.initialProps,children:e.children})}function QL(e){var t=e.initialProps,r=e.children,n=t.selected,i=n||{},a=i.from,c=i.to,l=t.min,d=t.max,h=function(v,x,y){var b,w;(b=t.onDayClick)===null||b===void 0||b.call(t,v,x,y);var N=YL(v,n);(w=t.onSelect)===null||w===void 0||w.call(t,N,v,x,y)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(f.range_start=[a],c?(f.range_end=[c],Lr(a,c)||(f.range_middle=[{after:a,before:c}])):f.range_end=[a]):c&&(f.range_start=[c],f.range_end=[c]),l&&(a&&!c&&f.disabled.push({after:Bp(a,l-1),before:Er(a,l-1)}),a&&c&&f.disabled.push({after:a,before:Er(a,l-1)}),!a&&c&&f.disabled.push({after:Bp(c,l-1),before:Er(c,l-1)})),d){if(a&&!c&&(f.disabled.push({before:Er(a,-d+1)}),f.disabled.push({after:Er(a,d-1)})),a&&c){var m=Vn(c,a)+1,g=d-m;f.disabled.push({before:Bp(a,g)}),f.disabled.push({after:Er(c,g)})}!a&&c&&(f.disabled.push({before:Er(c,-d+1)}),f.disabled.push({after:Er(c,d-1)}))}return s.jsx(Fy.Provider,{value:{selected:n,onDayClick:h,modifiers:f},children:r})}function Ly(){var e=E.useContext(Fy);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function dd(e){return Array.isArray(e)?xk([],e):e!==void 0?[e]:[]}function JL(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],i=r[1];t[n]=dd(i)}),t}var An;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(An||(An={}));var ZL=An.Selected,ms=An.Disabled,eU=An.Hidden,tU=An.Today,zp=An.RangeEnd,$p=An.RangeMiddle,Wp=An.RangeStart,rU=An.Outside;function nU(e,t,r){var n,i=(n={},n[ZL]=dd(e.selected),n[ms]=dd(e.disabled),n[eU]=dd(e.hidden),n[tU]=[e.today],n[zp]=[],n[$p]=[],n[Wp]=[],n[rU]=[],n);return e.fromDate&&i[ms].push({before:e.fromDate}),e.toDate&&i[ms].push({after:e.toDate}),hc(e)?i[ms]=i[ms].concat(t.modifiers[ms]):fc(e)&&(i[ms]=i[ms].concat(r.modifiers[ms]),i[Wp]=r.modifiers[Wp],i[$p]=r.modifiers[$p],i[zp]=r.modifiers[zp]),i}var Sk=E.createContext(void 0);function sU(e){var t=Ct(),r=My(),n=Ly(),i=nU(t,r,n),a=JL(t.modifiers),c=Je(Je({},i),a);return s.jsx(Sk.Provider,{value:c,children:e.children})}function Nk(){var e=E.useContext(Sk);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function iU(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function aU(e){return!!(e&&typeof e=="object"&&"from"in e)}function oU(e){return!!(e&&typeof e=="object"&&"after"in e)}function lU(e){return!!(e&&typeof e=="object"&&"before"in e)}function cU(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function uU(e,t){var r,n=t.from,i=t.to;if(n&&i){var a=Vn(i,n)<0;a&&(r=[i,n],n=r[0],i=r[1]);var c=Vn(e,n)>=0&&Vn(i,e)>=0;return c}return i?Lr(i,e):n?Lr(n,e):!1}function dU(e){return Ay(e)}function hU(e){return Array.isArray(e)&&e.every(Ay)}function fU(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(dU(r))return Lr(e,r);if(hU(r))return r.includes(e);if(aU(r))return uU(e,r);if(cU(r))return r.dayOfWeek.includes(e.getDay());if(iU(r)){var n=Vn(r.before,e),i=Vn(r.after,e),a=n>0,c=i<0,l=vv(r.before,r.after);return l?c&&a:a||c}return oU(r)?Vn(e,r.after)>0:lU(r)?Vn(r.before,e)>0:typeof r=="function"?r(e):!1})}function Uy(e,t,r){var n=Object.keys(t).reduce(function(a,c){var l=t[c];return fU(e,l)&&a.push(c),a},[]),i={};return n.forEach(function(a){return i[a]=!0}),r&&!Iy(e,r)&&(i.outside=!0),i}function pU(e,t){for(var r=_r(e[0]),n=Vl(e[e.length-1]),i,a,c=r;c<=n;){var l=Uy(c,t),d=!l.disabled&&!l.hidden;if(!d){c=Er(c,1);continue}if(l.selected)return c;l.today&&!a&&(a=c),i||(i=c),c=Er(c,1)}return a||i}var mU=365;function Ek(e,t){var r=t.moveBy,n=t.direction,i=t.context,a=t.modifiers,c=t.retry,l=c===void 0?{count:0,lastFocused:e}:c,d=i.weekStartsOn,h=i.fromDate,f=i.toDate,m=i.locale,g={day:Er,week:gv,month:on,year:dk,startOfWeek:function(b){return i.ISOWeek?qi(b):Jn(b,{locale:m,weekStartsOn:d})},endOfWeek:function(b){return i.ISOWeek?hk(b):Dy(b,{locale:m,weekStartsOn:d})}},v=g[r](e,n==="after"?1:-1);n==="before"&&h?v=r8([h,v]):n==="after"&&f&&(v=n8([f,v]));var x=!0;if(a){var y=Uy(v,a);x=!y.disabled&&!y.hidden}return x?v:l.count>mU?l.lastFocused:Ek(v,{moveBy:r,direction:n,context:i,modifiers:a,retry:Je(Je({},l),{count:l.count+1})})}var Ck=E.createContext(void 0);function gU(e){var t=pc(),r=Nk(),n=E.useState(),i=n[0],a=n[1],c=E.useState(),l=c[0],d=c[1],h=pU(t.displayMonths,r),f=i??(l&&t.isDateDisplayed(l))?l:h,m=function(){d(i),a(void 0)},g=function(b){a(b)},v=Ct(),x=function(b,w){if(i){var N=Ek(i,{moveBy:b,direction:w,context:v,modifiers:r});Lr(i,N)||(t.goToDate(N,i),g(N))}},y={focusedDay:i,focusTarget:f,blur:m,focus:g,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return s.jsx(Ck.Provider,{value:y,children:e.children})}function By(){var e=E.useContext(Ck);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function vU(e,t){var r=Nk(),n=Uy(e,r,t);return n}var Hy=E.createContext(void 0);function yU(e){if(!dh(e.initialProps)){var t={selected:void 0};return s.jsx(Hy.Provider,{value:t,children:e.children})}return s.jsx(xU,{initialProps:e.initialProps,children:e.children})}function xU(e){var t=e.initialProps,r=e.children,n=function(a,c,l){var d,h,f;if((d=t.onDayClick)===null||d===void 0||d.call(t,a,c,l),c.selected&&!t.required){(h=t.onSelect)===null||h===void 0||h.call(t,void 0,a,c,l);return}(f=t.onSelect)===null||f===void 0||f.call(t,a,a,c,l)},i={selected:t.selected,onDayClick:n};return s.jsx(Hy.Provider,{value:i,children:r})}function kk(){var e=E.useContext(Hy);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function wU(e,t){var r=Ct(),n=kk(),i=My(),a=Ly(),c=By(),l=c.focusDayAfter,d=c.focusDayBefore,h=c.focusWeekAfter,f=c.focusWeekBefore,m=c.blur,g=c.focus,v=c.focusMonthBefore,x=c.focusMonthAfter,y=c.focusYearBefore,b=c.focusYearAfter,w=c.focusStartOfWeek,N=c.focusEndOfWeek,_=function(q){var Y,ne,te,W;dh(r)?(Y=n.onDayClick)===null||Y===void 0||Y.call(n,e,t,q):hc(r)?(ne=i.onDayClick)===null||ne===void 0||ne.call(i,e,t,q):fc(r)?(te=a.onDayClick)===null||te===void 0||te.call(a,e,t,q):(W=r.onDayClick)===null||W===void 0||W.call(r,e,t,q)},S=function(q){var Y;g(e),(Y=r.onDayFocus)===null||Y===void 0||Y.call(r,e,t,q)},T=function(q){var Y;m(),(Y=r.onDayBlur)===null||Y===void 0||Y.call(r,e,t,q)},F=function(q){var Y;(Y=r.onDayMouseEnter)===null||Y===void 0||Y.call(r,e,t,q)},U=function(q){var Y;(Y=r.onDayMouseLeave)===null||Y===void 0||Y.call(r,e,t,q)},$=function(q){var Y;(Y=r.onDayPointerEnter)===null||Y===void 0||Y.call(r,e,t,q)},A=function(q){var Y;(Y=r.onDayPointerLeave)===null||Y===void 0||Y.call(r,e,t,q)},J=function(q){var Y;(Y=r.onDayTouchCancel)===null||Y===void 0||Y.call(r,e,t,q)},pe=function(q){var Y;(Y=r.onDayTouchEnd)===null||Y===void 0||Y.call(r,e,t,q)},z=function(q){var Y;(Y=r.onDayTouchMove)===null||Y===void 0||Y.call(r,e,t,q)},G=function(q){var Y;(Y=r.onDayTouchStart)===null||Y===void 0||Y.call(r,e,t,q)},R=function(q){var Y;(Y=r.onDayKeyUp)===null||Y===void 0||Y.call(r,e,t,q)},Z=function(q){var Y;switch(q.key){case"ArrowLeft":q.preventDefault(),q.stopPropagation(),r.dir==="rtl"?l():d();break;case"ArrowRight":q.preventDefault(),q.stopPropagation(),r.dir==="rtl"?d():l();break;case"ArrowDown":q.preventDefault(),q.stopPropagation(),h();break;case"ArrowUp":q.preventDefault(),q.stopPropagation(),f();break;case"PageUp":q.preventDefault(),q.stopPropagation(),q.shiftKey?y():v();break;case"PageDown":q.preventDefault(),q.stopPropagation(),q.shiftKey?b():x();break;case"Home":q.preventDefault(),q.stopPropagation(),w();break;case"End":q.preventDefault(),q.stopPropagation(),N();break}(Y=r.onDayKeyDown)===null||Y===void 0||Y.call(r,e,t,q)},ae={onClick:_,onFocus:S,onBlur:T,onKeyDown:Z,onKeyUp:R,onMouseEnter:F,onMouseLeave:U,onPointerEnter:$,onPointerLeave:A,onTouchCancel:J,onTouchEnd:pe,onTouchMove:z,onTouchStart:G};return ae}function bU(){var e=Ct(),t=kk(),r=My(),n=Ly(),i=dh(e)?t.selected:hc(e)?r.selected:fc(e)?n.selected:void 0;return i}function jU(e){return Object.values(An).includes(e)}function _U(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var i=e.modifiersClassNames[n];if(i)r.push(i);else if(jU(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function SU(e,t){var r=Je({},e.styles.day);return Object.keys(t).forEach(function(n){var i;r=Je(Je({},r),(i=e.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function NU(e,t,r){var n,i,a,c=Ct(),l=By(),d=vU(e,t),h=wU(e,d),f=bU(),m=!!(c.onDayClick||c.mode!=="default");E.useEffect(function(){var F;d.outside||l.focusedDay&&m&&Lr(l.focusedDay,e)&&((F=r.current)===null||F===void 0||F.focus())},[l.focusedDay,e,r,m,d.outside]);var g=_U(c,d).join(" "),v=SU(c,d),x=!!(d.outside&&!c.showOutsideDays||d.hidden),y=(a=(i=c.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:VL,b=s.jsx(y,{date:e,displayMonth:t,activeModifiers:d}),w={style:v,className:g,children:b,role:"gridcell"},N=l.focusTarget&&Lr(l.focusTarget,e)&&!d.outside,_=l.focusedDay&&Lr(l.focusedDay,e),S=Je(Je(Je({},w),(n={disabled:d.disabled,role:"gridcell"},n["aria-selected"]=d.selected,n.tabIndex=_||N?0:-1,n)),h),T={isButton:m,isHidden:x,activeModifiers:d,selectedDays:f,buttonProps:S,divProps:w};return T}function EU(e){var t=E.useRef(null),r=NU(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(kd,Je({name:"day",ref:t},r.buttonProps)):s.jsx("div",Je({},r.divProps))}function CU(e){var t=e.number,r=e.dates,n=Ct(),i=n.onWeekNumberClick,a=n.styles,c=n.classNames,l=n.locale,d=n.labels.labelWeekNumber,h=n.formatters.formatWeekNumber,f=h(Number(t),{locale:l});if(!i)return s.jsx("span",{className:c.weeknumber,style:a.weeknumber,children:f});var m=d(Number(t),{locale:l}),g=function(v){i(t,r,v)};return s.jsx(kd,{name:"week-number","aria-label":m,className:c.weeknumber,style:a.weeknumber,onClick:g,children:f})}function kU(e){var t,r,n=Ct(),i=n.styles,a=n.classNames,c=n.showWeekNumber,l=n.components,d=(t=l?.Day)!==null&&t!==void 0?t:EU,h=(r=l?.WeekNumber)!==null&&r!==void 0?r:CU,f;return c&&(f=s.jsx("td",{className:a.cell,style:i.cell,children:s.jsx(h,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:a.row,style:i.row,children:[f,e.dates.map(function(m){return s.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:s.jsx(d,{displayMonth:e.displayMonth,date:m})},rL(m))})]})}function O1(e,t,r){for(var n=r?.ISOWeek?hk(t):Dy(t,r),i=r?.ISOWeek?qi(e):Jn(e,r),a=Vn(n,i),c=[],l=0;l<=a;l++)c.push(Er(i,l));var d=c.reduce(function(h,f){var m=r?.ISOWeek?pk(f):gk(f,r),g=h.find(function(v){return v.weekNumber===m});return g?(g.dates.push(f),h):(h.push({weekNumber:m,dates:[f]}),h)},[]);return d}function TU(e,t){var r=O1(_r(e),Vl(e),t);if(t?.useFixedWeeks){var n=sL(e,t);if(n<6){var i=r[r.length-1],a=i.dates[i.dates.length-1],c=gv(a,6-n),l=O1(gv(a,1),c,t);r.push.apply(r,l)}}return r}function PU(e){var t,r,n,i=Ct(),a=i.locale,c=i.classNames,l=i.styles,d=i.hideHead,h=i.fixedWeeks,f=i.components,m=i.weekStartsOn,g=i.firstWeekContainsDate,v=i.ISOWeek,x=TU(e.displayMonth,{useFixedWeeks:!!h,ISOWeek:v,locale:a,weekStartsOn:m,firstWeekContainsDate:g}),y=(t=f?.Head)!==null&&t!==void 0?t:qL,b=(r=f?.Row)!==null&&r!==void 0?r:kU,w=(n=f?.Footer)!==null&&n!==void 0?n:zL;return s.jsxs("table",{id:e.id,className:c.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&s.jsx(y,{}),s.jsx("tbody",{className:c.tbody,style:l.tbody,children:x.map(function(N){return s.jsx(b,{displayMonth:e.displayMonth,dates:N.dates,weekNumber:N.weekNumber},N.weekNumber)})}),s.jsx(w,{displayMonth:e.displayMonth})]})}function RU(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var AU=RU()?E.useLayoutEffect:E.useEffect,qp=!1,DU=0;function M1(){return"react-day-picker-".concat(++DU)}function IU(e){var t,r=e??(qp?M1():null),n=E.useState(r),i=n[0],a=n[1];return AU(function(){i===null&&a(M1())},[]),E.useEffect(function(){qp===!1&&(qp=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function OU(e){var t,r,n=Ct(),i=n.dir,a=n.classNames,c=n.styles,l=n.components,d=pc().displayMonths,h=IU(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),f=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,m=[a.month],g=c.month,v=e.displayIndex===0,x=e.displayIndex===d.length-1,y=!v&&!x;i==="rtl"&&(t=[v,x],x=t[0],v=t[1]),v&&(m.push(a.caption_start),g=Je(Je({},g),c.caption_start)),x&&(m.push(a.caption_end),g=Je(Je({},g),c.caption_end)),y&&(m.push(a.caption_between),g=Je(Je({},g),c.caption_between));var b=(r=l?.Caption)!==null&&r!==void 0?r:HL;return s.jsxs("div",{className:m.join(" "),style:g,children:[s.jsx(b,{id:h,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(PU,{id:f,"aria-labelledby":h,displayMonth:e.displayMonth})]},e.displayIndex)}function MU(e){var t=Ct(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function FU(e){var t,r,n=e.initialProps,i=Ct(),a=By(),c=pc(),l=E.useState(!1),d=l[0],h=l[1];E.useEffect(function(){i.initialFocus&&a.focusTarget&&(d||(a.focus(a.focusTarget),h(!0)))},[i.initialFocus,d,a.focus,a.focusTarget,a]);var f=[i.classNames.root,i.className];i.numberOfMonths>1&&f.push(i.classNames.multiple_months),i.showWeekNumber&&f.push(i.classNames.with_weeknumber);var m=Je(Je({},i.styles.root),i.style),g=Object.keys(n).filter(function(x){return x.startsWith("data-")}).reduce(function(x,y){var b;return Je(Je({},x),(b={},b[y]=n[y],b))},{}),v=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:MU;return s.jsx("div",Je({className:f.join(" "),style:m,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},g,{children:s.jsx(v,{children:c.displayMonths.map(function(x,y){return s.jsx(OU,{displayIndex:y,displayMonth:x},y)})})}))}function LU(e){var t=e.children,r=lL(e,["children"]);return s.jsx(CL,{initialProps:r,children:s.jsx(FL,{children:s.jsx(yU,{initialProps:r,children:s.jsx(KL,{initialProps:r,children:s.jsx(XL,{initialProps:r,children:s.jsx(sU,{children:s.jsx(gU,{children:t})})})})})})})}function UU(e){return s.jsx(LU,Je({},e,{children:s.jsx(FU,{initialProps:e})}))}function Tk({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(UU,{showOutsideDays:r,className:Re("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Re(zl({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Re(zl({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>s.jsx(_D,{className:"h-4 w-4"}),IconRight:({...i})=>s.jsx(SD,{className:"h-4 w-4"})},...n})}Tk.displayName="Calendar";const Pk=({selectedPeriod:e,onPeriodChange:t,customDateRange:r,onCustomDateChange:n})=>{const[i,a]=gt.useState(!1),c=d=>{t(d),d!=="custom"&&a(!1)},l=()=>{if(!r.from)return"Select date range";const d=ln(r.from,"MMM d, yyyy");if(!r.to)return`From ${d}`;const h=ln(r.to,"MMM d, yyyy");return`${d} - ${h}`};return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsxs(vt,{value:e,onValueChange:c,children:[s.jsx(dt,{className:"w-[180px]",children:s.jsx(yt,{placeholder:"Select period"})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"all-time",children:"All Time"}),s.jsx(Oe,{value:"this-month",children:"This Month"}),s.jsx(Oe,{value:"last-month",children:"Last Month"}),s.jsx(Oe,{value:"this-year",children:"This Year"}),s.jsx(Oe,{value:"last-year",children:"Last Year"}),s.jsx(Oe,{value:"custom",children:"Custom Period"})]})]})}),e==="custom"&&s.jsxs(QF,{open:i,onOpenChange:a,children:[s.jsx(JF,{asChild:!0,children:s.jsxs(je,{variant:"outline",className:"min-w-[240px] justify-start text-left font-normal",onClick:()=>a(!0),children:[s.jsx(un,{className:"mr-2 h-4 w-4"}),l(),s.jsx($v,{className:"ml-auto h-4 w-4 opacity-50"})]})}),s.jsx(ck,{className:"w-auto p-0",align:"start",children:s.jsx(Tk,{mode:"range",selected:{from:r.from,to:r.to},onSelect:d=>{n({from:d?.from,to:d?.to})},initialFocus:!0})})]})]})},BU=({selectedPeriod:e,onPeriodChange:t,customDateRange:r,onCustomDateChange:n})=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Analytics"}),s.jsx(Pk,{selectedPeriod:e,onPeriodChange:t,customDateRange:r,onCustomDateChange:n})]}),HU=Gi("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Xe({className:e,variant:t,...r}){return s.jsx("div",{className:Re(HU({variant:t}),e),...r})}const zU=(e,t=!1,r="",n=!1)=>{if(n&&t)return"";const i=typeof e=="string"?parseFloat(e.replace(/[^0-9.-]/g,"")):e;if(isNaN(i))return e;const a=Math.round(i);if(a>=1e3){const c=(a/1e3).toFixed(2).replace(/\.?0+$/,"");return t?`${r==="RON"?"RON ":r==="EUR"?"":"$"}${c}K`:`${c}K`}return t?`${r==="RON"?"RON ":r==="EUR"?"":"$"}${a}`:a.toString()},$U=e=>{const t=typeof e=="string"?parseFloat(e.replace(/[^0-9.-]/g,"")):e;return isNaN(t)?e:`${Math.round(t)}h`},WU=(e,t,r)=>{if(t!==void 0&&r!==void 0&&r>0){const i=Math.round((t-r)/r*100);return{change:Math.abs(i),isIncrease:i>=0}}return{"Total Clients":{change:15,isIncrease:!0},"Total Time":{change:23,isIncrease:!0},"Total Revenue":{change:8,isIncrease:!0},"Monthly Costs":{change:12,isIncrease:!1},"Total Paid to Date":{change:18,isIncrease:!0},"Net Profit":{change:18,isIncrease:!0}}[e]||{change:0,isIncrease:!0}},qU=({stat:e,displayCurrency:t})=>{const{demoMode:r}=pt(),n=WU(e.title,e.currentValue,e.previousValue),i=n.isIncrease?BD:UD,a=e.isTime?$U(e.value):zU(e.value,e.isCurrency,t,r),c=!r&&!e.isTime&&typeof e.value=="number"?e.value>=1e3:!r&&typeof e.value=="string"&&parseFloat(e.value.replace(/[^0-9.-]/g,""))>=1e3;return s.jsx(We,{className:"ui-analytics-card w-full min-w-0",children:s.jsxs(qe,{className:"ui-analytics-content p-6",children:[s.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[s.jsxs("div",{className:"space-y-1 lg:space-y-2",children:[s.jsx("h3",{className:"ui-analytics-title",children:e.title}),s.jsxs("div",{className:"flex items-center space-x-1 lg:space-x-2",children:[s.jsxs(Xe,{className:`ui-pill ${n.isIncrease?"ui-pill--success":"ui-pill--danger"} flex items-center gap-1`,children:[s.jsx(i,{className:"w-2.5 h-2.5 lg:w-3 lg:h-3"}),s.jsxs("span",{children:[n.change,"%"]})]}),s.jsx("span",{className:"ui-analytics-meta hidden sm:inline",children:e.comparisonText||"vs prev 30d"})]})]}),s.jsxs("div",{className:"space-y-1",children:[e.statusRows.map((l,d)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"ui-analytics-meta truncate",children:l}),e.details&&e.details.length>0&&d===0&&s.jsx("span",{className:"text-xs text-slate-600 truncate max-w-16 lg:max-w-20",children:typeof e.details[0]=="string"?e.details[0]:e.details[0]?.name})]},d)),e.statusRows.length===0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"ui-analytics-meta truncate",children:e.subtitle}),e.details&&e.details.length>0&&s.jsx("span",{className:"text-xs text-slate-600 truncate max-w-16 lg:max-w-20",children:typeof e.details[0]=="string"?e.details[0]:e.details[0]?.name})]})]})]}),s.jsx("div",{className:"mt-2 lg:mt-4",children:c&&!e.isTime?s.jsxs(lr,{children:[s.jsx(cr,{asChild:!0,children:s.jsx("p",{className:"ui-analytics-value cursor-help",children:a})}),s.jsx(er,{children:s.jsx("p",{children:e.originalValue})})]}):s.jsx("p",{className:"ui-analytics-value",children:a})})]})})},VU=({totalClients:e,activeClients:t,totalHours:r,totalRevenue:n,monthlySubscriptionCost:i,totalPaidToDate:a,clients:c,displayCurrency:l,formatCurrency:d,timeBreakdown:h=[],revenueBreakdown:f=[],selectedPeriod:m,customDateRange:g,previousPeriodData:v,comparisonText:x})=>{const{demoMode:y}=pt(),b=()=>{let U=0,$="";switch(m){case"this-month":case"last-month":U=n-i,$="monthly estimate";break;case"this-year":case"last-year":U=n-i*12,$="annual estimate";break;case"custom":if(g.from&&g.to){const J=Math.ceil((g.to.getTime()-g.from.getTime())/864e5)/30.44;U=n-i*J,$="period estimate"}else U=n-i*12,$="estimate";break;default:U=n-i*12,$="annual estimate";break}return{netProfit:U,subtitle:$}},{netProfit:w,subtitle:N}=b(),_=e-t,S=c.filter(U=>U.status==="pending").length,T=()=>{const U=[];return t>0&&U.push(`${t} active`),_>0&&U.push(`${_} inactive`),S>0&&U.push(`${S} pending`),U};return{stats:E.useMemo(()=>[{title:"Total Clients",value:e,originalValue:e.toString(),isCurrency:!1,isTime:!1,subtitle:"client accounts",statusRows:T(),details:c.slice(0,3).map(U=>U.name),currentValue:e,previousValue:v?.totalClients,comparisonText:x},{title:"Total Time",value:r,originalValue:`${r.toFixed(1)} hours`,isCurrency:!1,isTime:!0,subtitle:"tracked hours",statusRows:[],details:h.slice(0,3),currentValue:r,previousValue:v?.totalHours,comparisonText:x},{title:"Total Revenue",value:y?"":d(n,l),originalValue:y?"":d(n,l),isCurrency:!0,isTime:!1,subtitle:"from paid invoices",statusRows:[],details:f.slice(0,3),currentValue:n,previousValue:v?.totalRevenue,comparisonText:x},{title:"Monthly Costs",value:y?"":d(i,l),originalValue:y?"":d(i,l),isCurrency:!0,isTime:!1,subtitle:"subscription expenses",statusRows:[],details:null,currentValue:i,previousValue:v?.monthlySubscriptionCost,comparisonText:x},{title:"Total Paid to Date",value:y?"":d(a,l),originalValue:y?"":d(a,l),isCurrency:!0,isTime:!1,subtitle:"all subscriptions",statusRows:[],details:null,currentValue:a,previousValue:v?.totalPaidToDate,comparisonText:x},{title:"Net Profit",value:y?"":d(w,l),originalValue:y?"":d(w,l),isCurrency:!0,isTime:!1,subtitle:N,statusRows:[],details:f.slice(0,3),currentValue:w,previousValue:v?v.totalRevenue-v.monthlySubscriptionCost:void 0,comparisonText:x}],[e,t,r,n,i,a,c,l,d,h,f,m,g,y,w,N,v,x])}},KU=e=>{const{stats:t}=VU(e);return s.jsxs("div",{className:"space-y-6",children:[s.jsx(BU,{selectedPeriod:e.selectedPeriod,onPeriodChange:e.onPeriodChange,customDateRange:e.customDateRange,onCustomDateChange:e.onCustomDateChange}),s.jsx(ti,{children:e.loading?s.jsx("div",{className:"grid grid-cols-1 min-[600px]:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:Array.from({length:6}).map((r,n)=>s.jsx("div",{className:"rounded-lg border p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 w-28 bg-muted animate-pulse rounded"}),s.jsx("div",{className:"h-7 w-24 bg-muted animate-pulse rounded"}),s.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded"})]})},n))}):s.jsx("div",{className:"grid grid-cols-1 min-[600px]:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:t.map((r,n)=>s.jsx(qU,{stat:r,displayCurrency:e.displayCurrency},n))})})]})},GU=({tasks:e,projects:t,selectedPeriod:r,onPeriodChange:n,customDateRange:i,onCustomDateChange:a})=>{const c=e.filter(x=>x.status==="completed").length,l=e.filter(x=>x.status==="in-progress").length,d=e.filter(x=>x.status==="pending").length,h=e.length,f=e.reduce((x,y)=>x+(y.workedHours||0),0),m=t.filter(x=>x.status==="active").length,g=h>0?Math.round(c/h*100):0,v=e.filter(x=>{if(!x.completedDate)return!1;const y=new Date(x.completedDate),b=new Date;return b.setDate(b.getDate()-7),y>=b}).length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Your Productivity Overview"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Track your personal progress and achievements"})]}),s.jsx(Pk,{selectedPeriod:r,onPeriodChange:n,customDateRange:i,onCustomDateChange:a})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(We,{children:[s.jsxs(ot,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(lt,{className:"text-sm font-medium",children:"Total Tasks"}),s.jsx(jD,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(qe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:h}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All your tasks"})]})]}),s.jsxs(We,{children:[s.jsxs(ot,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(lt,{className:"text-sm font-medium",children:"Completed"}),s.jsx(Ka,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(qe,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:c}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[g,"% completion rate"]})]})]}),s.jsxs(We,{children:[s.jsxs(ot,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(lt,{className:"text-sm font-medium",children:"Hours Worked"}),s.jsx(Br,{className:"h-4 w-4 text-blue-600"})]}),s.jsxs(qe,{children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[f.toFixed(1),"h"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total time tracked"})]})]}),s.jsxs(We,{children:[s.jsxs(ot,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(lt,{className:"text-sm font-medium",children:"Active Projects"}),s.jsx($d,{className:"h-4 w-4 text-purple-600"})]}),s.jsxs(qe,{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:m}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently working on"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(We,{children:[s.jsx(ot,{children:s.jsxs(lt,{className:"flex items-center",children:[s.jsx(un,{className:"w-5 h-5 mr-2"}),"Task Status Breakdown"]})}),s.jsxs(qe,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qS,{className:"w-4 h-4 text-yellow-600"}),s.jsx("span",{className:"text-sm",children:"Pending"})]}),s.jsx(Xe,{variant:"outline",children:d})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Br,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm",children:"In Progress"})]}),s.jsx(Xe,{variant:"outline",children:l})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ka,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Completed"})]}),s.jsx(Xe,{variant:"outline",children:c})]})]})]}),s.jsxs(We,{children:[s.jsx(ot,{children:s.jsx(lt,{children:"Recent Activity"})}),s.jsx(qe,{children:s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:v}),s.jsx("p",{className:"text-sm text-slate-600",children:"Tasks completed in the last 7 days"}),v>0&&s.jsx("p",{className:"text-xs text-green-600 mt-2",children:"Great job staying productive! "}),v===0&&h>0&&s.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Complete some tasks to see your progress here"}),h===0&&s.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Add your first task to get started!"})]})})]})]})]})},mc=E.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:Re("w-full caption-bottom text-sm",e),...t})}));mc.displayName="Table";const gc=E.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:Re("[&_tr]:border-b",e),...t}));gc.displayName="TableHeader";const vc=E.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:Re("[&_tr:last-child]:border-0",e),...t}));vc.displayName="TableBody";const YU=E.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:Re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));YU.displayName="TableFooter";const Zn=E.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:Re("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Zn.displayName="TableRow";const Wt=E.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:Re("h-12 px-4 text-left align-middle font-medium text-slate-500 text-[13px] [&:has([role=checkbox])]:pr-0",e),...t}));Wt.displayName="TableHead";const qt=E.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:Re("p-4 align-middle text-[14px] text-slate-700 [&:has([role=checkbox])]:pr-0",e),...t}));qt.displayName="TableCell";const XU=E.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:Re("mt-4 text-sm text-muted-foreground",e),...t}));XU.displayName="TableCaption";const gr=uy,QU=dy,Rk=E.forwardRef(({className:e,...t},r)=>s.jsx(tc,{ref:r,className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Rk.displayName=tc.displayName;const ur=E.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(QU,{children:[s.jsx(Rk,{}),s.jsxs(rc,{ref:n,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(Xd,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Ur,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ur.displayName=rc.displayName;const dr=({className:e,...t})=>s.jsx("div",{className:Re("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});dr.displayName="DialogHeader";const hr=E.forwardRef(({className:e,...t},r)=>s.jsx(nc,{ref:r,className:Re("text-lg font-semibold leading-none tracking-tight",e),...t}));hr.displayName=nc.displayName;const hi=E.forwardRef(({className:e,...t},r)=>s.jsx(sc,{ref:r,className:Re("text-sm text-muted-foreground",e),...t}));hi.displayName=sc.displayName;const JU=({isOpen:e,onClose:t,task:r,onComplete:n})=>{const[i,a]=E.useState(1),c=d=>{d.preventDefault(),i>0&&(n(i),a(1),t())},l=()=>{a(1),t()};return r?s.jsx(gr,{open:e,onOpenChange:l,children:s.jsxs(ur,{className:"sm:max-w-[425px]",children:[s.jsx(dr,{children:s.jsxs(hr,{children:["Complete Task: ",r.title]})}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm text-slate-600",children:["Client: ",s.jsx("span",{className:"font-medium",children:r.clientName})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"How many hours did you work on this task?"})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"workedHours",children:"Hours Worked"}),s.jsx(De,{id:"workedHours",type:"number",step:"0.25",min:"0.25",value:i,onChange:d=>a(parseFloat(d.target.value)||0),placeholder:"Enter hours worked",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(je,{type:"button",variant:"outline",onClick:l,children:"Cancel"}),s.jsx(je,{type:"submit",variant:"success",children:"Complete Task"})]})]})]})}):null},ZU=()=>{const[e,t]=E.useState(!1),[r,n]=E.useState(!0);return E.useEffect(()=>{const{data:{subscription:i}}=Pe.auth.onAuthStateChange(async(a,c)=>{t(!!c?.user),n(!1)});return Pe.auth.getSession().then(({data:{session:a}})=>{const c=!!a?.user;t(c),n(!1)}),()=>i.unsubscribe()},[]),{isAuthenticated:e,loading:r}},Vu={async loadAll(){console.log("hourEntryService: Loading hour entries from Supabase...");const{data:{user:e},error:t}=await Pe.auth.getUser();if(t)throw console.error("hourEntryService: Auth error:",t),t;if(!e)return console.log("hourEntryService: No authenticated user found"),[];console.log("hourEntryService: Authenticated user confirmed, querying for user:",e.id);const{data:r,error:n}=await Pe.from("hour_entries").select("*").order("date",{ascending:!1});if(n)throw console.error("hourEntryService: Database error:",n),n;console.log("hourEntryService: Raw data from Supabase:",r);const i=r.map(a=>{let c;if(a.milestone_id!==null&&a.milestone_id!==void 0){const l=a.milestone_id;typeof l=="object"&&l!==null&&"_type"in l&&l._type==="undefined"?c=void 0:typeof a.milestone_id=="string"&&(c=a.milestone_id)}return{id:a.id,projectId:a.project_id,clientId:a.client_id,hours:Number(a.hours),description:a.description||void 0,date:a.date,billed:a.billed,createdAt:a.created_at,updatedAt:a.updated_at,userId:a.user_id||void 0,milestoneId:c,taskId:a.task_id||void 0}});return console.log("hourEntryService: Transformed entries:",i),i},async create(e){const{data:{user:t},error:r}=await Pe.auth.getUser();if(r)throw r;if(!t)throw new Error("User not authenticated");console.log("hourEntryService: Adding hour entry for user:",t.id);const n={project_id:e.projectId,client_id:e.clientId,hours:e.hours,description:e.description||null,date:e.date,billed:e.billed,user_id:t.id,milestone_id:e.milestoneId||null,task_id:e.taskId||null};console.log("hourEntryService: Inserting entry:",n);const{data:i,error:a}=await Pe.from("hour_entries").insert([n]).select().single();if(a)throw a;return{id:i.id,projectId:i.project_id,clientId:i.client_id,hours:Number(i.hours),description:i.description||void 0,date:i.date,billed:i.billed,createdAt:i.created_at,updatedAt:i.updated_at,userId:i.user_id||void 0,milestoneId:i.milestone_id||void 0,taskId:i.task_id||void 0}},async update(e,t){const r={};t.projectId&&(r.project_id=t.projectId),t.clientId&&(r.client_id=t.clientId),t.hours&&(r.hours=t.hours),t.description!==void 0&&(r.description=t.description||null),t.date&&(r.date=t.date),t.billed!==void 0&&(r.billed=t.billed),t.userId!==void 0&&(r.user_id=t.userId||null),t.milestoneId!==void 0&&(r.milestone_id=t.milestoneId||null),t.taskId!==void 0&&(r.task_id=t.taskId||null);const{error:n}=await Pe.from("hour_entries").update(r).eq("id",e);if(n)throw n},async delete(e){console.log("Starting delete operation for entry ID:",e);const{data:{user:t},error:r}=await Pe.auth.getUser();if(r)throw console.error("Auth error during delete:",r),r;if(!t)throw console.error("No authenticated user found during delete"),new Error("User not authenticated");console.log("Authenticated user confirmed, proceeding with delete for user:",t.id);const{error:n}=await Pe.from("hour_entries").delete().eq("id",e);if(n)throw console.error("Supabase delete error:",n),n;console.log("Supabase delete successful")}},eB=()=>{const[e,t]=E.useState([]),[r,n]=E.useState(!0),{toast:i}=Dt(),a=async()=>{try{n(!0);const h=await Vu.loadAll();t(h)}catch(h){console.error("Error loading hour entries:",h),h.message?.includes("row-level security")?i({title:"Authentication Error",description:"Please sign in to view your hour entries",variant:"destructive"}):i({title:"Error",description:"Failed to load hour entries",variant:"destructive"}),t([])}finally{n(!1)}};return{hourEntries:e,loading:r,loadHourEntries:a,addHourEntry:async h=>{try{const f=await Vu.create(h);t(m=>[f,...m]),typeof window<"u"&&window.dispatchEvent(new Event("hourEntriesChanged")),i({title:"Success",description:"Hour entry added successfully"})}catch(f){throw console.error("Error adding hour entry:",f),i({title:"Error",description:"Failed to add hour entry",variant:"destructive"}),f}},updateHourEntry:async(h,f)=>{try{await Vu.update(h,f),t(m=>m.map(g=>g.id===h?{...g,...f}:g)),typeof window<"u"&&window.dispatchEvent(new Event("hourEntriesChanged")),i({title:"Success",description:"Hour entry updated successfully"})}catch(m){console.error("Error updating hour entry:",m),i({title:"Error",description:"Failed to update hour entry",variant:"destructive"})}},deleteHourEntry:async h=>{try{await Vu.delete(h),console.log("Supabase delete successful, updating local state"),t(f=>{const m=f.filter(g=>g.id!==h);return console.log("Local state updated, entries before:",f.length,"after:",m.length),m}),console.log("Refreshing data from database to ensure consistency"),await a(),typeof window<"u"&&window.dispatchEvent(new Event("hourEntriesChanged")),i({title:"Success",description:"Hour entry deleted successfully"})}catch(f){throw console.error("Error deleting hour entry:",f),i({title:"Error",description:"Failed to delete hour entry",variant:"destructive"}),f}},setHourEntries:t}},hn=()=>{const{isAuthenticated:e}=ZU(),{hourEntries:t,loading:r,loadHourEntries:n,addHourEntry:i,updateHourEntry:a,deleteHourEntry:c,setHourEntries:l}=eB();return E.useEffect(()=>{e?(console.log("useHourEntries: User authenticated, loading hour entries..."),n()):(console.log("useHourEntries: User signed out, clearing entries"),l([]))},[e]),E.useEffect(()=>{if(!e)return;const d=()=>{n()};return typeof window<"u"&&window.addEventListener("hourEntriesChanged",d),()=>{typeof window<"u"&&window.removeEventListener("hourEntriesChanged",d)}},[e,n]),{hourEntries:t,loading:r,addHourEntry:i,updateHourEntry:a,deleteHourEntry:c,refreshHourEntries:n}},hh=()=>{const[e,t]=E.useState([]),[r,n]=E.useState(!1),{toast:i}=Dt(),a=async()=>{n(!0);try{const{data:d,error:h}=await Pe.from("profiles").select("*").order("created_at",{ascending:!1});if(h)throw h;const f=(d||[]).map(m=>({...m,role:m.role}));t(f),f.length===0&&i({title:"No Users",description:"No users found in the system"})}catch(d){i({title:"Error",description:`Failed to load users: ${d.message}`,variant:"destructive"})}finally{n(!1)}},c=async(d,h)=>{try{const{error:f}=await Pe.rpc("update_user_role",{target_user_id:d,new_role:h});if(f)throw f.message?.includes("Only administrators")?new Error("You do not have permission to update user roles"):f;i({title:"Success",description:"User role updated successfully"}),await a()}catch(f){console.error("Role update error:",f),i({title:"Error",description:f.message||"Failed to update user role",variant:"destructive"})}},l=async d=>{try{const{error:h}=await Pe.functions.invoke("delete-user",{body:{user_id:d}});if(h)throw h;i({title:"Success",description:"User deleted successfully"}),await a()}catch(h){throw console.error("Delete user error:",h),i({title:"Error",description:h?.message||"Failed to delete user",variant:"destructive"}),h}};return E.useEffect(()=>{a()},[]),{users:e,loading:r,updateUserRole:c,deleteUser:l,refreshUsers:a}},Ak=({status:e,onStatusChange:t})=>s.jsxs(vt,{value:e,onValueChange:r=>t(r),children:[s.jsx(dt,{className:"w-32",children:s.jsx(yt,{})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"pending",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qS,{className:"w-4 h-4 text-yellow-600"}),s.jsx("span",{children:"Pending"})]})}),s.jsx(Oe,{value:"in-progress",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Br,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{children:"In Progress"})]})}),s.jsx(Oe,{value:"completed",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ka,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{children:"Completed"})]})})]})]}),Dk=({task:e,onEditTask:t,onDeleteTask:r})=>{const{isAdmin:n}=_t();return n?s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx(je,{variant:"outline",size:"sm",onClick:()=>t(e),className:"h-8 w-8 p-0",children:s.jsx(bs,{className:"h-4 w-4"})}),s.jsx(je,{variant:"danger",size:"sm",onClick:()=>r(e.id),className:"h-8 w-8 p-0",children:s.jsx(Xn,{className:"h-4 w-4"})})]}):null},tB=({task:e,clients:t,projects:r,onTaskClick:n,onDeleteTask:i,onEditTask:a,onStatusChange:c,readOnly:l=!1})=>{const{isAdmin:d}=_t(),{hourEntries:h}=hn(),{demoMode:f}=pt(),{users:m}=hh(),g=gt.useMemo(()=>{if(e.assignedToName)return e.assignedToName;if(!e.assignedTo)return;const _=m.find(S=>S.id===e.assignedTo);return _&&(_.full_name||_.email)||void 0},[e.assignedToName,e.assignedTo,m]),v=_=>{if(!_)return"No Project";const S=r.find(T=>T.id===_);return S?S.name:"Unknown Project"},y=gt.useMemo(()=>e.projectId?r.find(S=>S.id===e.projectId)?.pricingType:void 0,[r,e.projectId])==="fixed",b=gt.useMemo(()=>h.filter(_=>_.taskId===e.id),[h,e.id]),w=gt.useMemo(()=>b.some(_=>_.billed===!0),[b]),N=_=>{switch(_){case"completed":return"ui-pill ui-pill--success";case"in-progress":return"ui-pill ui-pill--info";case"pending":return"ui-pill ui-pill--neutral";default:return"ui-pill ui-pill--neutral"}};return s.jsxs(Zn,{className:"cursor-pointer hover:bg-slate-50",onClick:()=>n(e),children:[s.jsx(qt,{className:"font-medium",children:s.jsxs("div",{children:[(e.urgent||d&&e.status==="completed")&&s.jsxs("div",{className:"mb-1 flex flex-wrap items-center gap-2",children:[e.urgent&&s.jsx(Xe,{className:"ui-pill ui-pill--danger",children:"Urgent"}),d&&e.status==="completed"&&s.jsx(s.Fragment,{children:f?s.jsx(Xe,{className:"ui-pill ui-pill--neutral",children:""}):y?s.jsx(Xe,{className:"ui-pill ui-pill--info",children:"Fixed price"}):s.jsx(Xe,{variant:"secondary",className:w?"ui-pill ui-pill--success":"ui-pill ui-pill--neutral",children:w?"Billed":"Not Billed"})})]}),s.jsx("p",{className:"font-semibold",children:e.title}),e.description&&s.jsx("p",{className:"text-sm text-slate-600 line-clamp-1 mt-1",children:e.description})]})}),s.jsx(qt,{children:e.clientName}),s.jsx(qt,{children:s.jsx("span",{className:"text-sm text-slate-600",children:v(e.projectId)})}),s.jsx(qt,{children:s.jsx("div",{className:"text-sm",children:g?s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-700",children:g}),s.jsx("p",{className:"text-slate-500 text-xs",children:"Assigned"})]}):e.assignedTo?s.jsx("p",{className:"text-slate-500",children:"Assigned"}):s.jsx("p",{className:"text-slate-500",children:"Unassigned"})})}),s.jsx(qt,{children:s.jsx("div",{className:"flex items-center space-x-2",onClick:_=>_.stopPropagation(),children:l?s.jsx(Xe,{className:N(e.status),children:e.status.replace("-"," ")}):s.jsx(Ak,{status:e.status,onStatusChange:_=>c?.(e,_)})})}),s.jsx(qt,{children:s.jsx("div",{className:"text-sm",children:e.workedHours&&e.workedHours>0?s.jsxs("div",{className:"text-green-600 font-medium",children:[e.workedHours,"h"]}):s.jsx("div",{className:"text-slate-400",children:"-"})})}),s.jsx(qt,{className:"text-sm text-slate-600",children:new Date(e.createdDate).toLocaleDateString()}),s.jsx(qt,{className:"text-right",children:!l&&s.jsx("div",{onClick:_=>_.stopPropagation(),children:s.jsx(Dk,{task:e,onEditTask:a,onDeleteTask:i})})})]})},rB=({tasks:e,clients:t,projects:r=[],onTaskClick:n,onUpdateTask:i,onDeleteTask:a,onEditTask:c,onAddTaskClick:l,readOnly:d=!1})=>{const[h,f]=E.useState(!1),[m,g]=E.useState(null),v=(y,b)=>{d||!i||(b==="completed"&&y.status!=="completed"?(g(y),f(!0)):i(y.id,b))},x=y=>{m&&i&&i(m.id,"completed",y),g(null)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[!d&&l&&s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Tasks (",e.length,")"]}),s.jsxs(je,{variant:"primary",onClick:l,children:[s.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Task"]})]}),s.jsx("div",{className:"rounded-md border bg-white",children:s.jsxs(mc,{children:[s.jsx(gc,{children:s.jsxs(Zn,{children:[s.jsx(Wt,{className:"w-[300px]",children:"Task"}),s.jsx(Wt,{children:"Client"}),s.jsx(Wt,{className:"whitespace-nowrap",children:"Project"}),s.jsx(Wt,{className:"whitespace-nowrap",children:"Assigned To"}),s.jsx(Wt,{className:"whitespace-nowrap",children:"Status"}),s.jsx(Wt,{className:"whitespace-nowrap",children:"Hours"}),s.jsx(Wt,{className:"whitespace-nowrap",children:"Created"}),s.jsx(Wt,{className:"text-right whitespace-nowrap",children:"Actions"})]})}),s.jsx(vc,{children:e.length===0?s.jsx(Zn,{children:s.jsx("td",{colSpan:8,className:"text-center py-4 text-muted-foreground",children:"No tasks found"})}):e.map(y=>s.jsx(tB,{task:y,clients:t,projects:r,onTaskClick:n,onUpdateTask:i,onDeleteTask:a,onEditTask:c,onStatusChange:v,readOnly:d},`task-${y.id}`))})]})})]}),!d&&s.jsx(JU,{isOpen:h,onClose:()=>{f(!1),g(null)},task:m,onComplete:x})]})};Array(12).fill(0);gt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},gt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"}));gt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},gt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"}));gt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},gt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"}));gt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},gt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}));var yv=1,nB=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:yv++,a=this.toasts.find(l=>l.id===i),c=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:c,title:r}):l):this.addToast({title:r,...n,dismissible:c,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),i=r!==void 0;return n.then(async a=>{if(iB(a)&&!a.ok){i=!1;let c=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:r,type:"error",message:c,description:l})}else if(t.success!==void 0){i=!1;let c=typeof t.success=="function"?await t.success(a):t.success,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"success",message:c,description:l})}}).catch(async a=>{if(t.error!==void 0){i=!1;let c=typeof t.error=="function"?await t.error(a):t.error,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"error",message:c,description:l})}}).finally(()=>{var a;i&&(this.dismiss(r),r=void 0),(a=t.finally)==null||a.call(t)}),r},this.custom=(e,t)=>{let r=t?.id||yv++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Nn=new nB,sB=(e,t)=>{let r=t?.id||yv++;return Nn.addToast({title:e,...t,id:r}),r},iB=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",aB=sB,oB=()=>Nn.toasts,kl=Object.assign(aB,{success:Nn.success,info:Nn.info,warning:Nn.warning,error:Nn.error,custom:Nn.custom,message:Nn.message,promise:Nn.promise,dismiss:Nn.dismiss,loading:Nn.loading},{getHistory:oB});function lB(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}lB(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);const tr=E.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:Re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));tr.displayName="Textarea";const cB=({clients:e,selectedClientId:t,onClientChange:r,label:n="Client",required:i=!1})=>{const a=c=>{c!=="no-clients"&&r(Number(c))};return s.jsxs("div",{children:[s.jsxs(we,{htmlFor:"client",children:[n," ",i&&"*"]}),s.jsxs(vt,{value:t?.toString()||"",onValueChange:a,children:[s.jsx(dt,{children:s.jsx(yt,{placeholder:e.length===0?"No clients available":"Select a client"})}),s.jsx(ht,{children:e.length===0?s.jsx(Oe,{value:"no-clients",disabled:!0,children:"No clients available"}):e.map(c=>s.jsx(Oe,{value:c.id.toString(),children:c.name},c.id))})]})]})},uB=({projects:e,selectedProjectId:t,onProjectChange:r,disabled:n=!1,clientSelected:i=!0,label:a="Project",required:c=!1})=>{const l=d=>{d!=="no-projects"&&r(d)};return s.jsxs("div",{children:[s.jsxs(we,{htmlFor:"project",children:[a," ",c&&"*"]}),s.jsxs(vt,{value:t||"",onValueChange:l,disabled:n,children:[s.jsx(dt,{children:s.jsx(yt,{placeholder:i?e.length===0?"No projects available":"Select a project":"Select a client first"})}),s.jsx(ht,{children:e.length===0?s.jsx(Oe,{value:"no-projects",disabled:!0,children:i?"No projects available":"Select a client first"}):e.map(d=>s.jsx(Oe,{value:d.id,children:d.name},d.id))})]})]})},Ik=({formData:e,setFormData:t,clients:r,availableProjects:n,milestones:i,selectedClient:a,onClientChange:c,users:l=[]})=>{const{isAdmin:d}=_t(),h=i.filter(y=>y.projectId===e.projectId&&y.status==="in-progress"),f=e.milestoneId?i.find(y=>y.id===e.milestoneId):void 0,m=f&&!h.some(y=>y.id===f.id)?[f,...h]:h,v=(n.find(y=>y.id===e.projectId)||null)?.useMilestones!==!1,x=!d&&v&&h.length>0;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"title",children:"Task Title *"}),s.jsx(De,{id:"title",value:e.title,onChange:y=>t(b=>({...b,title:y.target.value})),placeholder:"Enter task title",required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"description",children:"Description"}),s.jsx(tr,{id:"description",value:e.description,onChange:y=>t(b=>({...b,description:y.target.value})),placeholder:"Enter task description",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(cB,{clients:r,selectedClientId:e.clientId,onClientChange:c,required:!0}),s.jsx(uB,{projects:n,selectedProjectId:e.projectId,onProjectChange:y=>t(b=>({...b,projectId:y,milestoneId:null})),disabled:!e.clientId,clientSelected:!!e.clientId,required:!0})]}),e.projectId&&s.jsxs("div",{children:[s.jsxs(we,{htmlFor:"milestone",children:["Milestone ",x?"*":""]}),s.jsxs(vt,{value:e.milestoneId||"none",onValueChange:y=>t(b=>({...b,milestoneId:y==="none"?null:y})),children:[s.jsx(dt,{children:s.jsx(yt,{placeholder:h.length===0?"No in-progress milestones available":x?"Select a milestone (required)":"Select a milestone (optional)"})}),s.jsxs(ht,{children:[!x&&s.jsx(Oe,{value:"none",children:"No milestone"}),m.map(y=>s.jsx(Oe,{value:y.id,children:y.title},y.id))]})]}),h.length===0&&e.projectId&&s.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"No in-progress milestones found. Consider creating or activating a milestone for better time tracking."})]}),d&&s.jsxs("div",{children:[s.jsx(we,{htmlFor:"assignedTo",children:"Assign To"}),s.jsxs(vt,{value:e.assignedTo??"none",onValueChange:y=>t(b=>({...b,assignedTo:y==="none"?void 0:y})),children:[s.jsx(dt,{children:s.jsx(yt,{placeholder:"Select user (optional)"})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"none",children:"Unassigned"}),l.map(y=>s.jsx(Oe,{value:y.id,children:y.full_name||y.email},y.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"startDate",children:"Start Date"}),s.jsx(De,{id:"startDate",type:"date",value:e.startDate,onChange:y=>t(b=>({...b,startDate:y.target.value}))})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"endDate",children:"End Date"}),s.jsx(De,{id:"endDate",type:"date",value:e.endDate,onChange:y=>t(b=>({...b,endDate:y.target.value})),min:e.startDate||void 0})]})]}),a?.priceType==="hour"&&s.jsxs("div",{children:[s.jsx(we,{htmlFor:"estimatedHours",children:"Estimated Hours"}),s.jsx(De,{id:"estimatedHours",type:"number",step:"0.5",min:"0",value:e.estimatedHours||"",onChange:y=>t(b=>({...b,estimatedHours:y.target.value?Number(y.target.value):void 0})),placeholder:"Enter estimated hours"})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"notes",children:"Notes"}),s.jsx(tr,{id:"notes",value:e.notes,onChange:y=>t(b=>({...b,notes:y.target.value})),placeholder:"Add any additional notes",rows:3})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"assets",children:"Assets (one per line)"}),s.jsx(tr,{id:"assets",value:e.assetsInput,onChange:y=>t(b=>({...b,assetsInput:y.target.value})),placeholder:`https://example.com/file1.pdf
https://example.com/file2.jpg
Local file: document.docx`,rows:4}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Add links to files, documents, or other assets related to this task"})]})]})},Eo=()=>{const[e,t]=E.useState([]),[r,n]=E.useState(!0),{toast:i}=Dt();E.useEffect(()=>{a()},[]);const a=async()=>{try{n(!0);const{data:f,error:m}=await Pe.from("milestones").select("*").order("target_date",{ascending:!0});if(m)throw m;const g=f.map(v=>({id:v.id,projectId:v.project_id,title:v.title,description:v.description||void 0,targetDate:v.target_date,status:v.status,amount:v.amount||void 0,currency:v.currency||"USD",completionPercentage:v.completion_percentage||0,estimatedHours:v.estimated_hours||void 0,createdAt:v.created_at,updatedAt:v.updated_at}));t(g)}catch(f){console.error("Error loading milestones:",f),i({title:"Error",description:"Failed to load milestones",variant:"destructive"})}finally{n(!1)}};return{milestones:e,loading:r,addMilestone:async f=>{try{const{data:{user:m}}=await Pe.auth.getUser();if(!m)throw new Error("User not authenticated");const{data:g,error:v}=await Pe.from("milestones").insert([{project_id:f.projectId,title:f.title,description:f.description,target_date:f.targetDate,status:f.status,amount:f.amount,currency:f.currency||"USD",estimated_hours:f.estimatedHours,user_id:m.id}]).select().single();if(v)throw v;const x={id:g.id,projectId:g.project_id,title:g.title,description:g.description||void 0,targetDate:g.target_date,status:g.status,amount:g.amount||void 0,currency:g.currency||"USD",completionPercentage:g.completion_percentage||0,estimatedHours:g.estimated_hours||void 0,createdAt:g.created_at,updatedAt:g.updated_at};t(y=>[...y,x]),i({title:"Success",description:"Milestone added successfully"})}catch(m){console.error("Error adding milestone:",m),i({title:"Error",description:"Failed to add milestone",variant:"destructive"})}},updateMilestone:async(f,m)=>{try{const{error:g}=await Pe.from("milestones").update({title:m.title,description:m.description,target_date:m.targetDate,status:m.status,amount:m.amount,currency:m.currency,completion_percentage:m.completionPercentage,estimated_hours:m.estimatedHours}).eq("id",f);if(g)throw g;t(v=>v.map(x=>x.id===f?{...x,...m}:x)),i({title:"Success",description:"Milestone updated successfully"})}catch(g){console.error("Error updating milestone:",g),i({title:"Error",description:"Failed to update milestone",variant:"destructive"})}},deleteMilestone:async f=>{try{const{error:m}=await Pe.from("milestones").delete().eq("id",f);if(m)throw m;t(g=>g.filter(v=>v.id!==f)),i({title:"Success",description:"Milestone deleted successfully"})}catch(m){console.error("Error deleting milestone:",m),i({title:"Error",description:"Failed to delete milestone",variant:"destructive"})}},refreshMilestones:()=>{a()}}},dB=e=>{const{users:t}=hh();return s.jsx(Ik,{...e,users:t})},hB=({isOpen:e,onClose:t,onAdd:r,clients:n,projects:i,task:a})=>{const{milestones:c}=Eo(),{isAdmin:l}=_t(),[d,h]=E.useState({title:"",description:"",clientId:null,projectId:null,milestoneId:null,estimatedHours:void 0,notes:"",assetsInput:"",startDate:"",endDate:"",assignedTo:void 0,urgent:!1});E.useEffect(()=>{h(a?{title:a.title,description:a.description,clientId:a.clientId,projectId:a.projectId||null,milestoneId:a.milestoneId||null,estimatedHours:a.estimatedHours,notes:a.notes,assetsInput:a.assets.join(`
`),startDate:a.startDate||"",endDate:a.endDate||"",assignedTo:a.assignedTo||void 0,urgent:a.urgent||!1}:{title:"",description:"",clientId:null,projectId:null,milestoneId:null,estimatedHours:void 0,notes:"",assetsInput:"",startDate:"",endDate:"",assignedTo:void 0,urgent:!1})},[a]);const f=n.find(y=>y.id===d.clientId),m=i.filter(y=>!d.clientId||y.clientId===d.clientId);m.find(y=>y.id===d.projectId);const g=y=>{h(b=>({...b,clientId:y,projectId:null,milestoneId:null}))},v=y=>{if(y.preventDefault(),!d.title.trim()){kl.error("Task title is required");return}if(!d.clientId){kl.error("Please select a client");return}if(!d.projectId){kl.error("Please select a project");return}if(!l&&d.projectId&&c.filter(N=>N.projectId===d.projectId&&N.status==="in-progress").length>0&&(!d.milestoneId||d.milestoneId==="none")){kl.error("Please select a milestone - it is required for this project");return}const b=d.assetsInput.split(`
`).map(w=>w.trim()).filter(w=>w.length>0);r({title:d.title.trim(),description:d.description.trim(),clientId:d.clientId,clientName:f?.name||"",projectId:d.projectId,milestoneId:d.milestoneId==="none"?null:d.milestoneId,estimatedHours:d.estimatedHours,notes:d.notes.trim(),assets:b,startDate:d.startDate||void 0,endDate:d.endDate||void 0,assignedTo:d.assignedTo,urgent:d.urgent}),x()},x=()=>{h({title:"",description:"",clientId:null,projectId:null,milestoneId:null,estimatedHours:void 0,notes:"",assetsInput:"",startDate:"",endDate:"",assignedTo:void 0,urgent:!1}),t()};return s.jsx(gr,{open:e,onOpenChange:x,children:s.jsxs(ur,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(dr,{children:[s.jsx(hr,{children:a?"Edit Task":"Add New Task"}),s.jsx(hi,{children:a?"Update task details and assignment":"Create a new task with client, project and optional milestone"})]}),s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[l?s.jsx(dB,{formData:d,setFormData:h,clients:n,availableProjects:m,milestones:c,selectedClient:f,onClientChange:g}):s.jsx(Ik,{formData:d,setFormData:h,clients:n,availableProjects:m,milestones:c,selectedClient:f,onClientChange:g,users:[]}),s.jsxs("div",{className:"flex items-center justify-between pt-2",children:[s.jsx(we,{htmlFor:"urgent",className:"text-sm font-medium",children:"Mark as Urgent"}),s.jsx(dn,{id:"urgent",checked:d.urgent,onCheckedChange:y=>h(b=>({...b,urgent:y}))})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(je,{type:"button",variant:"outline",onClick:x,children:"Cancel"}),s.jsx(je,{type:"submit",variant:"primary",disabled:n.length===0,children:a?"Update Task":"Add Task"})]})]})]})})},F1={active:{label:"Active",activeClass:"ui-pill ui-pill--success",inactiveClass:"bg-muted text-muted-foreground border-border"},paused:{label:"Paused",activeClass:"ui-pill ui-pill--warning",inactiveClass:"bg-muted text-muted-foreground border-border"},completed:{label:"Completed",activeClass:"ui-pill ui-pill--info",inactiveClass:"bg-muted text-muted-foreground border-border"},canceled:{label:"Canceled",activeClass:"ui-pill ui-pill--danger",inactiveClass:"bg-muted text-muted-foreground border-border"}},fB=({selectedStatuses:e,onStatusChange:t})=>{const r=n=>{e.includes(n)?e.length>1&&t(e.filter(i=>i!==n)):t([...e,n])};return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Show:"}),s.jsx("div",{className:"flex gap-1.5",children:Object.keys(F1).map(n=>{const i=F1[n],a=e.includes(n);return s.jsx(Xe,{variant:"outline",className:Re("cursor-pointer transition-colors border",a?i.activeClass:i.inactiveClass),onClick:()=>r(n),children:i.label},n)})})]})},pB=({tasks:e,projects:t,onTaskClick:r,onStatusChange:n,onEditTask:i,onDeleteTask:a,readOnly:c=!1})=>{const{isAdmin:l}=_t(),{demoMode:d}=pt(),{hourEntries:h}=hn(),f=v=>{if(!v)return"No Project";const x=t.find(y=>y.id===v);return x?x.name:"Unknown Project"},m=v=>v?t.find(y=>y.id===v)?.pricingType:void 0,g=v=>{switch(v){case"completed":return"ui-pill ui-pill--success";case"in-progress":return"ui-pill ui-pill--info";case"pending":return"ui-pill ui-pill--neutral";default:return"ui-pill ui-pill--neutral"}};return s.jsx("div",{className:"space-y-3",children:e.map(v=>{const y=h.filter(w=>w.taskId===v.id).some(w=>w.billed===!0),b=m(v.projectId)==="fixed";return s.jsx(We,{className:"cursor-pointer hover:shadow-sm transition-shadow",onClick:()=>r(v),children:s.jsxs(qe,{className:"ui-card-content space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex-1",children:[(v.urgent||l&&v.status==="completed")&&s.jsxs("div",{className:"mb-1 flex flex-wrap items-center gap-2",children:[v.urgent&&s.jsx(Xe,{className:"ui-pill ui-pill--danger",children:"Urgent"}),l&&v.status==="completed"&&s.jsx(s.Fragment,{children:d?s.jsx(Xe,{className:"ui-pill ui-pill--neutral",children:""}):b?s.jsx(Xe,{className:"ui-pill ui-pill--info",children:"Fixed price"}):s.jsx(Xe,{variant:y?"default":"secondary",className:y?"ui-pill ui-pill--success":"ui-pill ui-pill--neutral",children:y?"Billed":"Not Billed"})})]}),s.jsx("h4",{className:"font-semibold text-slate-900",children:v.title}),v.description&&s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:v.description})]}),!c&&s.jsx("div",{onClick:w=>w.stopPropagation(),children:s.jsx(Dk,{task:v,onEditTask:i,onDeleteTask:a})})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-500",children:[s.jsx("span",{children:v.clientName}),s.jsx("span",{children:""}),s.jsx("span",{children:f(v.projectId)}),s.jsx("span",{children:""}),s.jsx("span",{children:new Date(v.createdDate).toLocaleDateString()}),v.workedHours&&v.workedHours>0&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{className:"text-green-700",children:[v.workedHours,"h"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-xs text-slate-500",children:v.assignedToName?`Assigned to ${v.assignedToName}`:"Unassigned"}),s.jsx("div",{onClick:w=>w.stopPropagation(),children:c?s.jsx(Xe,{className:g(v.status),children:v.status.replace("-"," ")}):s.jsx(Ak,{status:v.status,onStatusChange:w=>n?.(v,w)})})]})]})},`task-card-${v.id}`)})})},zy=({tasks:e,clients:t,projects:r,onTaskClick:n,onUpdateTask:i,onDeleteTask:a,onEditTask:c,onAddTask:l,selectedStatuses:d,onStatusChange:h,readOnly:f=!1})=>{const[m,g]=E.useState(!1),[v,x]=E.useState(null),y=A=>({id:A.id,title:A.title,description:A.description||"",clientId:A.clientId,clientName:A.clientName,projectId:A.projectId||"",milestoneId:A.milestoneId,estimatedHours:A.estimatedHours||0,actualHours:A.actualHours||0,workedHours:A.workedHours||0,status:A.status,notes:A.notes||"",assets:A.assets||[],createdDate:A.createdDate,completedDate:A.completedDate||"",startDate:A.startDate||"",endDate:A.endDate||"",assignedTo:A.assignedTo,assignedToName:A.assignedToName,urgent:A.urgent}),b=A=>{f||!c||(x(A),g(!0))},w=()=>{g(!1),x(null)},N=A=>{if(!l||!c){w();return}v?c({...A,id:v.id}):l(A),w()},_=E.useMemo(()=>r.filter(A=>d.includes(A.status)),[r,d]),S=E.useMemo(()=>new Set(_.map(A=>A.id)),[_]),T=E.useMemo(()=>{const A={"in-progress":0,pending:1,completed:2};return e.filter(J=>J.projectId&&S.has(J.projectId)).slice().sort((J,pe)=>A[J.status]-A[pe.status])},[e,S]),F=E.useMemo(()=>T.map(y),[T]),U=E.useMemo(()=>t.map(A=>({id:A.id,name:A.name,priceType:A.priceType||"hour",hourEntries:[]})),[t]),$=E.useMemo(()=>_.map(A=>({id:A.id,name:A.name,clientId:A.clientId,useMilestones:A.useMilestones,pricingType:A.pricingType})),[_]);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4",children:s.jsx(fB,{selectedStatuses:d,onStatusChange:h})}),s.jsx("div",{className:"hidden sm:block",children:s.jsx(rB,{tasks:F,clients:U,projects:$,onTaskClick:n,onUpdateTask:i,onDeleteTask:a,onEditTask:b,onAddTaskClick:f?void 0:()=>g(!0),readOnly:f})}),s.jsxs("div",{className:"sm:hidden mt-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Tasks (",F.length,")"]}),!f&&s.jsxs(je,{variant:"primary",onClick:()=>g(!0),children:[s.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Task"]})]}),s.jsx(pB,{tasks:F,projects:$,onTaskClick:n,onStatusChange:(A,J)=>i?.(A.id,J),onEditTask:b,onDeleteTask:a,readOnly:f})]}),!f&&s.jsx(hB,{isOpen:m,onClose:w,onAdd:N,clients:t.map(A=>({id:A.id,name:A.name,priceType:A.priceType||"hour"})),projects:r.filter(A=>A.status==="active").map(A=>({id:A.id,name:A.name,clientId:A.clientId,useMilestones:A.useMilestones,status:A.status})),task:v})]})},fh=({task:e,isOpen:t,onClose:r,projects:n=[]})=>{const{isAdmin:i}=_t(),{demoMode:a}=pt(),{hourEntries:c,updateHourEntry:l}=hn(),d=y=>{switch(y){case"completed":return"ui-pill ui-pill--success ";case"in-progress":return"ui-pill ui-pill--info ";case"pending":return"ui-pill ui-pill--neutral ";default:return"ui-pill ui-pill--neutral "}},h=y=>{if(!y)return"No Project";const b=n.find(w=>w.id===y);return b?b.name:"Unknown Project"},m=gt.useMemo(()=>e?.projectId?n.find(b=>b.id===e.projectId)?.pricingType:void 0,[n,e?.projectId])==="fixed",g=gt.useMemo(()=>c.filter(y=>y.taskId===e?.id),[c,e?.id]),v=gt.useMemo(()=>g.some(y=>y.billed===!0),[g]),x=async()=>{if(a||m||g.length===0)return;const y=!v;await Promise.all(g.map(b=>l(b.id,{billed:y})))};return e?s.jsx(ic,{open:t,onOpenChange:r,children:s.jsxs(bo,{className:"w-[400px] sm:w-[540px] overflow-y-auto",children:[s.jsxs(ac,{children:[e.urgent&&s.jsx("div",{className:"mb-2",children:s.jsx(Xe,{className:"ui-pill ui-pill--danger",children:"Urgent"})}),s.jsx(oc,{children:e.title}),s.jsx(hy,{children:"Task details and information"})]}),s.jsxs("div",{className:"mt-6 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(Xe,{className:d(e.status),children:e.status.replace("-"," ")})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Gv,{className:"w-4 h-4 text-slate-500"}),s.jsx("span",{className:"text-sm font-medium",children:"Client:"}),s.jsx("span",{className:"text-sm text-slate-600",children:e.clientName})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(AD,{className:"w-4 h-4 text-slate-500"}),s.jsx("span",{className:"text-sm font-medium",children:"Project:"}),s.jsx("span",{className:"text-sm text-slate-600",children:h(e.projectId)})]})]}),e.workedHours&&e.workedHours>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"text-sm font-medium text-slate-700 flex items-center",children:[s.jsx(Br,{className:"w-4 h-4 mr-2"}),"Time Worked"]}),s.jsx("div",{className:"space-y-1 text-sm text-slate-600 ml-6",children:s.jsxs("div",{className:"text-green-600 font-medium",children:[e.workedHours,"h worked"]})})]}),i&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-700",children:"Billing"}),s.jsx("div",{className:"flex items-center justify-between text-sm text-slate-600",children:a?s.jsx(Xe,{className:"ui-pill ui-pill--neutral",children:""}):m?s.jsx(Xe,{className:"ui-pill ui-pill--info",children:"Fixed price"}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xe,{className:v?"ui-pill ui-pill--success":"ui-pill ui-pill--neutral",children:v?"Billed":"Not Billed"}),g.length===0&&s.jsx("span",{className:"text-xs text-slate-500",children:"No linked hours"})]}),s.jsx(dn,{checked:v,onCheckedChange:x,disabled:g.length===0})]})})]}),e.description&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-700",children:"Description"}),s.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:e.description})]}),e.notes&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"text-sm font-medium text-slate-700 flex items-center",children:[s.jsx(Yn,{className:"w-4 h-4 mr-2"}),"Notes"]}),s.jsx("div",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-md",children:e.notes})]}),e.assets.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"text-sm font-medium text-slate-700 flex items-center",children:[s.jsx(Vv,{className:"w-4 h-4 mr-2"}),"Assets (",e.assets.length,")"]}),s.jsx("div",{className:"space-y-2 ml-6",children:e.assets.map((y,b)=>s.jsx("div",{className:"text-sm",children:y.startsWith("http")?s.jsx("a",{href:y,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline break-all line-clamp-1",children:y}):s.jsx("span",{className:"text-slate-600 line-clamp-1",children:y})},b))})]}),s.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[s.jsxs("h3",{className:"text-sm font-medium text-slate-700 flex items-center",children:[s.jsx(un,{className:"w-4 h-4 mr-2"}),"Timeline"]}),s.jsxs("div",{className:"space-y-1 text-sm text-slate-600 ml-6",children:[s.jsxs("div",{children:["Created: ",new Date(e.createdDate).toLocaleDateString()]}),e.completedDate&&s.jsxs("div",{children:["Completed: ",new Date(e.completedDate).toLocaleDateString()]})]})]})]})]})}):null},mB=({projects:e,selectedProject:t,onProjectChange:r})=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(lt,{className:"flex items-center",children:[s.jsx(un,{className:"w-5 h-5 mr-2"}),"Project Timeline"]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs(vt,{value:t,onValueChange:r,children:[s.jsx(dt,{className:"w-48",children:s.jsx(yt,{placeholder:"Select project"})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"all",children:"All Projects"}),e.map(n=>s.jsx(Oe,{value:n.id,children:n.name},n.id))]})]})})]}),gB=({tasks:e,totalHeight:t})=>{const r=n=>{switch(n){case"completed":return"bg-green-500";case"active":return"bg-blue-600";case"paused":return"bg-yellow-500";case"canceled":return"bg-red-500";case"in-progress":return"bg-blue-600";case"pending":return"bg-gray-400";default:return"bg-gray-400"}};return s.jsx(s.Fragment,{children:e.map(n=>{const i=4+n.trackIndex*22;return s.jsx("div",{className:`absolute h-5 ${r(n.status)} rounded-sm opacity-90 border border-white shadow-sm`,style:{left:`${n.position.left}%`,width:`${n.position.width}%`,top:`${i}px`},title:`${n.title} (${n.status})`},n.id)})})},vB=(e,t)=>{const r=(a,c)=>{if(!a.startDate||!a.endDate)return{left:0,width:0};const l=new Date(c.startDate),d=new Date(c.estimatedEndDate),h=new Date(a.startDate),f=new Date(a.endDate),m=d.getTime()-l.getTime(),g=h.getTime()-l.getTime(),v=f.getTime()-h.getTime(),x=g/m*100,y=v/m*100;return{left:Math.max(0,x),width:Math.max(2,y)}},n=e.filter(a=>a.startDate&&a.endDate).map(a=>({...a,position:r(a,t),trackIndex:0})).filter(a=>a.position.width>0).sort((a,c)=>a.position.left-c.position.left);if(n.length===0)return[];const i=[];return n.forEach(a=>{const c=a.position.left,l=a.position.left+a.position.width;let d=-1;for(let h=0;h<i.length;h++)if(i[h].endPosition<=c){d=h;break}d===-1?(d=i.length,i.push({endPosition:l})):i[d].endPosition=l,a.trackIndex=d}),n},yB=({milestones:e,project:t,totalHeight:r})=>{const n=(i,a)=>{const c=new Date(a.startDate),l=new Date(a.estimatedEndDate),d=new Date(i.targetDate),h=l.getTime()-c.getTime(),m=(d.getTime()-c.getTime())/h*100;return Math.max(0,Math.min(100,m))};return s.jsx(s.Fragment,{children:e.map(i=>{const a=n(i,t);return s.jsx("div",{className:"absolute w-1 bg-red-500 flex items-center justify-center",style:{left:`${a}%`,top:"0px",height:`${r}px`},title:`${i.title} - ${new Date(i.targetDate).toLocaleDateString()}`,children:s.jsx(RD,{className:"w-3 h-3 text-red-500 absolute -top-1"})},i.id)})})},xB=({project:e,tasks:t,milestones:r,clients:n})=>{const i=b=>{const w=n.find(N=>N.id===b);return w?w.name:"Unknown Client"},a=b=>{switch(b){case"active":return"ui-pill ui-pill--success";case"completed":return"ui-pill ui-pill--info";case"paused":return"ui-pill ui-pill--warning";case"canceled":return"ui-pill ui-pill--danger";case"in-progress":return"ui-pill ui-pill--info";case"pending":return"ui-pill ui-pill--neutral";default:return"ui-pill ui-pill--neutral"}},c=b=>{switch(b){case"completed":return"bg-green-100";case"active":return"bg-blue-100";case"on-hold":return"bg-yellow-100";case"in-progress":return"bg-blue-100";case"pending":return"bg-gray-100";default:return"bg-blue-100"}},l=b=>{const w=new Date(b.startDate),N=new Date(b.estimatedEndDate),_=Math.abs(N.getTime()-w.getTime());return Math.ceil(_/(1e3*60*60*24))},d=t.filter(b=>b.projectId===e.id),h=r.filter(b=>b.projectId===e.id),f=l(e),m=vB(d,e),g=Math.max(1,Math.max(...m.map(b=>b.trackIndex+1),0)),y=32+(g>1?(g-1)*22:0);return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-slate-800",children:e.name}),s.jsxs("p",{className:"text-sm text-slate-600",children:[i(e.clientId),"  ",f," days"]})]}),s.jsx(Xe,{className:a(e.status),children:e.status})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:`${c(e.status)} rounded-md relative overflow-hidden`,style:{height:`${y}px`},children:[s.jsx(gB,{tasks:m,totalHeight:y}),s.jsx(yB,{milestones:h,project:e,totalHeight:y})]}),s.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[s.jsx("span",{children:new Date(e.startDate).toLocaleDateString()}),s.jsx("span",{children:new Date(e.estimatedEndDate).toLocaleDateString()})]})]}),d.length>0&&s.jsxs("div",{className:"pl-4 space-y-1",children:[s.jsxs("h4",{className:"text-sm font-medium text-slate-700",children:["Tasks (",d.length,")"]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.slice(0,5).map(b=>s.jsx(Xe,{variant:"outline",className:"text-xs",children:b.title},b.id)),d.length>5&&s.jsxs(Xe,{variant:"outline",className:"text-xs",children:["+",d.length-5," more"]})]})]})]})},Ok=({projects:e,tasks:t,milestones:r,clients:n})=>{const[i,a]=E.useState("all"),c=E.useMemo(()=>i==="all"?e:e.filter(l=>l.id===i),[e,i]);return s.jsxs(We,{children:[s.jsx(ot,{children:s.jsx(mB,{projects:e,selectedProject:i,onProjectChange:a})}),s.jsx(qe,{children:c.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(un,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-slate-600 mb-2",children:"No projects to display"}),s.jsx("p",{className:"text-slate-500",children:"Create projects to see them in the timeline view"})]}):s.jsx("div",{className:"space-y-6",children:c.map(l=>s.jsx(xB,{project:l,tasks:t,milestones:r,clients:n},l.id))})})]})},$y=({projects:e,tasks:t,milestones:r,clients:n})=>s.jsx(Ok,{projects:e.map(i=>({id:i.id,name:i.name,clientId:i.clientId,startDate:i.startDate,estimatedEndDate:i.estimatedEndDate,endDate:i.endDate,status:i.status,notes:i.notes,documents:i.documents,team:i.team,archived:i.archived,pricingType:i.pricingType,fixedPrice:i.fixedPrice,hourlyRate:i.hourlyRate,dailyRate:i.dailyRate,estimatedHours:i.estimatedHours,currency:i.currency,invoices:i.invoices})),tasks:t.map(i=>({id:i.id,title:i.title,description:i.description||"",status:i.status,projectId:i.projectId||"",clientId:i.clientId,clientName:i.clientName,estimatedHours:i.estimatedHours,actualHours:i.actualHours,workedHours:i.workedHours,startDate:i.startDate,endDate:i.endDate,completedDate:i.completedDate,createdDate:i.createdDate,notes:i.notes,assets:i.assets})),milestones:r.map(i=>({id:i.id,title:i.title,description:i.description||"",projectId:i.projectId,status:i.status,targetDate:i.targetDate,amount:i.amount,currency:i.currency||"USD",estimatedHours:i.estimatedHours,completionPercentage:i.completionPercentage,createdAt:i.createdAt,updatedAt:i.updatedAt})),clients:n.map(i=>({id:i.id,name:i.name}))}),eo=({count:e=4,lines:t=3})=>s.jsx("div",{className:"space-y-4",children:Array.from({length:e}).map((r,n)=>s.jsx(We,{children:s.jsxs(qe,{className:"py-4 space-y-3",children:[s.jsx($t,{className:"h-5 w-48"}),Array.from({length:t}).map((i,a)=>s.jsx($t,{className:"h-4 w-full"},a))]})},n))}),wB=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx($t,{className:"h-6 w-40"}),s.jsx($t,{className:"h-4 w-64"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($t,{className:"h-9 w-36"}),s.jsx($t,{className:"h-9 w-36"})]})]}),s.jsx("div",{className:"grid grid-cols-1 min-[600px]:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:Array.from({length:6}).map((e,t)=>s.jsxs(We,{children:[s.jsx(ot,{className:"pb-2",children:s.jsx(lt,{className:"text-sm font-medium",children:s.jsx($t,{className:"h-4 w-28"})})}),s.jsxs(qe,{className:"space-y-2",children:[s.jsx($t,{className:"h-7 w-24"}),s.jsx($t,{className:"h-3 w-32"})]})]},t))})]}),L1=(e,t,r)=>e?(console.log("Calculating invoice revenue for",e.length,"invoices"),e.reduce((n,i)=>{if(i.status==="paid"){const a=parseFloat(i.amount?.toString()||"0");if(isNaN(a))return console.warn("Invalid amount for invoice:",i),n;const c=i.currency||i.client_currency||"USD",l=t(a,c,r);return console.log(`Invoice: ${a} ${c} -> ${l} ${r}`),n+l}return n},0)):0,bB=(e,t)=>e?.map(r=>{const n=t?.filter(i=>i.client_id===r.id).reduce((i,a)=>{const c=parseFloat(a.hours?.toString()||"0");return i+c},0)||0;return{name:r.name,hours:n}}).filter(r=>r.hours>0)||[],jB=(e,t,r,n,i,a)=>e?.map(c=>{let l=0;const d=t?.filter(h=>h.client_id===c.id).reduce((h,f)=>{const m=parseFloat(f.hours?.toString()||"0"),g=r?.find(b=>b.id===f.project_id);let v=0;g?.pricing_type==="hourly"&&g.hourly_rate?v=parseFloat(g.hourly_rate.toString()):c?.price_type==="hourly"&&(v=parseFloat(c.price?.toString()||"0"));const x=m*v,y=g?.currency||c.currency||"USD";return h+i(x,y,a)},0)||0;if(l+=d,c.invoices&&Array.isArray(c.invoices)){const h=c.invoices.reduce((f,m)=>{try{const g=m;if(!g||typeof g!="object"||!g.date)return f;const v=new Date(g.date);if(n?.dateRange?.from&&v<n.dateRange.from||n?.dateRange?.to&&v>n.dateRange.to)return f;if(g.status==="paid"){const x=parseFloat(g.amount?.toString()||"0");if(isNaN(x))return f;const y=g.currency||c.currency||"USD";return f+i(x,y,a)}return f}catch(g){return console.warn("Error processing invoice in breakdown:",g),f}},0);l+=h}return{name:c.name,revenue:l}}).filter(c=>c.revenue>0)||[],_B=async()=>{const{data:e,error:t}=await Pe.from("clients").select("*");if(t)throw t;return e},SB=async()=>{const{data:e,error:t}=await Pe.from("projects").select("*");if(t)throw t;return e},U1=async e=>{let t=Pe.from("hour_entries").select("*");e?.dateRange?.from&&(t=t.gte("date",e.dateRange.from.toISOString().split("T")[0])),e?.dateRange?.to&&(t=t.lte("date",e.dateRange.to.toISOString().split("T")[0]));const{data:r,error:n}=await t;if(n)throw n;return r},B1=async e=>{const{data:t,error:r}=await Pe.from("clients").select("id, name, currency, invoices");if(r)throw r;const n=[];if(t){for(const i of t)if(i.invoices&&Array.isArray(i.invoices)){for(const a of i.invoices)if(typeof a=="object"&&a!==null&&!Array.isArray(a)){const c=a,l={id:c.id,amount:c.amount,date:c.date,status:c.status,currency:c.currency,description:c.description,client_id:i.id,client_name:i.name,client_currency:i.currency};if((e?.dateRange?.from||e?.dateRange?.to)&&c.date){const d=new Date(c.date);if(e.dateRange.from&&d<e.dateRange.from||e.dateRange.to&&d>e.dateRange.to)continue}n.push(l)}}}return n},NB=async e=>{let t=Pe.from("subscriptions").select("*");const{data:r,error:n}=await t;if(n)throw n;return r},Wy=e=>{const{user:t}=_t(),{displayCurrency:r,convert:n}=pt(),[i,a]=E.useState({totalClients:0,activeClients:0,totalHours:0,totalRevenue:0,monthlySubscriptionCost:0,totalPaidToDate:0,clients:[],timeBreakdown:[],revenueBreakdown:[]}),[c,l]=E.useState(!0),d=async()=>{if(!t){l(!1);return}l(!0);try{const f=(()=>{if(!e?.dateRange?.from||!e?.dateRange?.to){const oe=new Date,I=new Date(oe.getTime()-720*60*60*1e3);return{from:new Date(oe.getTime()-1440*60*60*1e3),to:I,comparisonText:"vs prev 30d"}}const q=e.dateRange.from,Y=e.dateRange.to,ne=Y.getTime()-q.getTime(),te=new Date(q.getTime()-1),W=new Date(te.getTime()-ne);let H="vs prev period";const se=new Date,ce=se.getFullYear(),he=se.getMonth();if(q.getMonth()===he&&q.getFullYear()===ce&&Y.getMonth()===he&&Y.getFullYear()===ce)H="vs last month";else if(q.getFullYear()===ce&&Y.getFullYear()===ce&&q.getMonth()===0&&Y.getMonth()===11)H="vs last year";else if(q.getMonth()===he-1&&q.getFullYear()===ce)H="vs prev month";else if(q.getFullYear()===ce-1)H="vs prev year";else{const oe=Math.ceil(ne/864e5);oe<=31?H="vs prev month":oe<=92?H="vs prev quarter":H="vs prev period"}return{from:W,to:te,comparisonText:H}})(),m={dateRange:{from:f.from,to:f.to}},[g,v,x,y,b]=await Promise.all([_B(),SB(),U1(e),B1(e),NB()]),[w,N]=await Promise.all([U1(m),B1(m)]),_=g?.length||0,S=g?.filter(q=>q.status==="active").length||0,T=x?.reduce((q,Y)=>{const ne=parseFloat(Y.hours?.toString()||"0");return q+ne},0)||0,U=L1(y,n,r),A=(b?.filter(q=>q.status==="active")||[]).reduce((q,Y)=>{const ne=parseFloat(Y.price?.toString()||"0"),te=parseInt(Y.seats?.toString()||"1"),W=Y.currency||"USD",se=n(ne,W,r)*te,ce=Y.billing_cycle==="yearly"?se/12:se;return q+ce},0),J=b?.reduce((q,Y)=>{const ne=parseFloat(Y.total_paid?.toString()||"0"),te=Y.currency||"USD",W=n(ne,te,r);return q+W},0)||0,pe=w?.reduce((q,Y)=>{const ne=parseFloat(Y.hours?.toString()||"0");return q+ne},0)||0,G=L1(N,n,r),R=bB(g,x),Z=jB(g,x,v,e,n,r),ae={totalClients:_,activeClients:S,totalHours:T,totalRevenue:U,monthlySubscriptionCost:A,totalPaidToDate:J,clients:g||[],timeBreakdown:R,revenueBreakdown:Z,previousPeriodData:{totalClients:_,totalHours:pe,totalRevenue:G,monthlySubscriptionCost:A,totalPaidToDate:J},comparisonText:f.comparisonText};a(ae)}catch(h){console.error("Error calculating analytics:",h)}finally{l(!1)}};return E.useEffect(()=>{t&&d()},[t,r,e?.dateRange?.from,e?.dateRange?.to]),{...i,loading:c,displayCurrency:r,formatCurrency:ct,refetch:d}},EB=()=>{const[e,t]=E.useState("all-time"),[r,n]=E.useState({from:void 0,to:void 0}),i=E.useMemo(()=>{const a=new Date;switch(e){case"this-month":return{from:_r(a),to:Vl(a)};case"last-month":const c=aL(a);return{from:_r(c),to:Vl(c)};case"this-year":return{from:Cd(a),to:C1(a)};case"last-year":const l=oL(a);return{from:Cd(l),to:C1(l)};case"custom":return r;default:return{from:void 0,to:void 0}}},[e,r]);return{selectedPeriod:e,setSelectedPeriod:t,customDateRange:r,setCustomDateRange:n,dateRange:i}},CB=()=>{const[e,t]=E.useState([]),[r,n]=E.useState(!0),{toast:i}=Dt(),a=async()=>{try{n(!0);const{data:{user:c}}=await Pe.auth.getUser();if(!c)throw new Error("User not authenticated");const{data:l,error:d}=await Pe.from("profiles").select("role").eq("id",c.id).single();if(d)throw d;let h=Pe.from("projects").select("*").order("created_at",{ascending:!1});if(l.role!=="admin"){const{data:v,error:x}=await Pe.from("user_project_assignments").select("project_id").eq("user_id",c.id);if(x)throw x;const y=v.map(b=>b.project_id);if(y.length===0){t([]);return}h=h.in("id",y)}const{data:f,error:m}=await h;if(m)throw m;const g=f.map(v=>({id:v.id,name:v.name,clientId:v.client_id,startDate:v.start_date,estimatedEndDate:v.estimated_end_date,endDate:v.end_date||void 0,status:v.status,notes:v.notes||"",documents:v.documents||[],team:v.team||[],archived:v.archived||!1,pricingType:v.pricing_type,fixedPrice:v.fixed_price||void 0,hourlyRate:v.hourly_rate||void 0,urgentHourlyRate:v.urgent_hourly_rate||void 0,dailyRate:v.daily_rate||void 0,estimatedHours:v.estimated_hours||void 0,currency:v.currency||"USD",useMilestones:v.use_milestones!==!1,invoices:Array.isArray(v.invoices)?v.invoices:[]}));t(g)}catch(c){console.error("Error loading projects:",c),i({title:"Error",description:"Failed to load projects",variant:"destructive"})}finally{n(!1)}};return E.useEffect(()=>{a()},[]),{projects:e,setProjects:t,loadProjects:a,loading:r}},kB=e=>{const{toast:t}=Dt();return{addProject:async c=>{try{const{data:{user:l}}=await Pe.auth.getUser();if(!l)throw new Error("User not authenticated");const d={name:c.name,client_id:c.clientId,start_date:c.startDate,estimated_end_date:c.estimatedEndDate,end_date:c.endDate||null,status:c.status||"active",notes:c.notes||"",documents:c.documents||[],team:c.team||[],archived:!1,pricing_type:c.pricingType,fixed_price:c.fixedPrice||null,hourly_rate:c.hourlyRate||null,urgent_hourly_rate:c.urgentHourlyRate||null,daily_rate:c.dailyRate||null,estimated_hours:c.estimatedHours||null,currency:c.currency||"USD",invoices:c.invoices||[],user_id:l.id,use_milestones:c.useMilestones!==!1},{data:h,error:f}=await Pe.from("projects").insert([d]).select().single();if(f)throw f;const m={id:h.id,name:h.name,clientId:h.client_id,startDate:h.start_date,estimatedEndDate:h.estimated_end_date,endDate:h.end_date||void 0,status:h.status,notes:h.notes||"",documents:h.documents||[],team:h.team||[],archived:h.archived||!1,pricingType:h.pricing_type,fixedPrice:h.fixed_price||void 0,hourlyRate:h.hourly_rate||void 0,urgentHourlyRate:h.urgent_hourly_rate||void 0,dailyRate:h.daily_rate||void 0,estimatedHours:h.estimated_hours||void 0,currency:h.currency||"USD",useMilestones:h.use_milestones!==!1,invoices:Array.isArray(h.invoices)?h.invoices:[]};e(g=>[...g,m]),t({title:"Success",description:"Project added successfully"})}catch(l){console.error("Error adding project:",l),t({title:"Error",description:"Failed to add project",variant:"destructive"})}},updateProject:async(c,l)=>{try{const d={name:l.name,client_id:l.clientId,start_date:l.startDate,estimated_end_date:l.estimatedEndDate,end_date:l.endDate||null,status:l.status,notes:l.notes,documents:l.documents,team:l.team,archived:l.archived,pricing_type:l.pricingType,fixed_price:l.fixedPrice||null,hourly_rate:l.hourlyRate||null,urgent_hourly_rate:l.urgentHourlyRate||null,daily_rate:l.dailyRate||null,estimated_hours:l.estimatedHours||null,currency:l.currency||"USD",invoices:l.invoices||[],use_milestones:l.useMilestones!==!1},{error:h}=await Pe.from("projects").update(d).eq("id",c);if(h)throw h;e(f=>f.map(m=>m.id===c?l:m)),t({title:"Success",description:"Project updated successfully"})}catch(d){console.error("Error updating project:",d),t({title:"Error",description:"Failed to update project",variant:"destructive"})}},archiveProject:async c=>{try{const{error:l}=await Pe.from("projects").update({archived:!0}).eq("id",c);if(l)throw l;e(d=>d.map(h=>h.id===c?{...h,archived:!0}:h)),t({title:"Success",description:"Project archived successfully"})}catch(l){console.error("Error archiving project:",l),t({title:"Error",description:"Failed to archive project",variant:"destructive"})}},deleteProject:async c=>{try{const{error:l}=await Pe.from("projects").delete().eq("id",c);if(l)throw l;e(d=>d.filter(h=>h.id!==c)),t({title:"Success",description:"Project and all related data deleted successfully"})}catch(l){console.error("Error deleting project:",l),t({title:"Error",description:"Failed to delete project",variant:"destructive"})}}}},yc=()=>{const{projects:e,setProjects:t,loading:r}=CB(),[n,i]=E.useState(!1),{addProject:a,updateProject:c,archiveProject:l,deleteProject:d}=kB(t);return{projects:e.filter(f=>n?f.archived:!f.archived),showArchived:n,setShowArchived:i,addProject:a,updateProject:c,archiveProject:l,deleteProject:d,loading:r}},TB=e=>new Promise(t=>setTimeout(t,e)),Mk=async(e,t=3,r=1e3)=>{for(let n=1;n<=t;n++)try{return await e()}catch(i){if(console.log(`Attempt ${n} failed:`,i),n===t)throw i;await TB(r*n)}throw new Error("Max retries exceeded")},Fk=async()=>{const e=await Mk(async()=>{const{data:n,error:i}=await Pe.from("tasks").select("*").order("created_date",{ascending:!1});if(i)throw i;return n}),t=Array.from(new Set(e.map(n=>n.assigned_to).filter(Boolean))),r=new Map;if(t.length>0){const{data:n}=await Pe.from("profiles").select("id, full_name, email").in("id",t);n?.forEach(i=>r.set(i.id,{full_name:i.full_name,email:i.email}))}return e.map(n=>({id:n.id,title:n.title,description:n.description||"",clientId:n.client_id,clientName:n.client_name,projectId:n.project_id,milestoneId:n.milestone_id,estimatedHours:n.estimated_hours,actualHours:n.actual_hours,workedHours:n.worked_hours,status:n.status,notes:n.notes||"",assets:n.assets||[],createdDate:n.created_date,completedDate:n.completed_date||void 0,startDate:n.start_date||void 0,endDate:n.end_date||void 0,assignedTo:n.assigned_to||void 0,assignedToName:(()=>{const i=r.get(n.assigned_to);return i?.full_name||i?.email||void 0})(),urgent:n.urgent||!1}))},PB=async e=>{const{data:{user:t},error:r}=await Pe.auth.getUser();if(r||!t)throw new Error("User not authenticated");const n=e.projectId||"00000000-0000-0000-0000-000000000000",i={title:e.title,description:e.description,client_id:e.clientId,client_name:e.clientName,project_id:n,milestone_id:e.milestoneId,estimated_hours:e.estimatedHours,status:"pending",notes:e.notes,assets:e.assets,start_date:e.startDate||null,end_date:e.endDate||null,assigned_to:e.assignedTo||null,urgent:e.urgent||!1,user_id:t.id},a=await Mk(async()=>{const{data:l,error:d}=await Pe.from("tasks").insert([i]).select("*").single();if(d)throw d;return l});let c;if(a.assigned_to){const{data:l}=await Pe.from("profiles").select("full_name, email").eq("id",a.assigned_to).maybeSingle();l&&(c=l.full_name||l.email||void 0)}return{id:a.id,title:a.title,description:a.description||"",clientId:a.client_id,clientName:a.client_name,projectId:a.project_id,milestoneId:a.milestone_id,estimatedHours:a.estimated_hours,actualHours:a.actual_hours,workedHours:a.worked_hours,status:a.status,notes:a.notes||"",assets:a.assets||[],createdDate:a.created_date,completedDate:a.completed_date||void 0,startDate:a.start_date||void 0,endDate:a.end_date||void 0,assignedTo:a.assigned_to||void 0,assignedToName:c,urgent:a.urgent||!1}},RB=async(e,t,r)=>{const n={status:t};t==="completed"&&(n.completed_date=new Date().toISOString(),r&&(n.worked_hours=r));const{error:i}=await Pe.from("tasks").update(n).eq("id",e);if(i)throw i},AB=async e=>{console.log("Attempting to delete task with ID:",e);const{data:t,error:r}=await Pe.from("tasks").delete().eq("id",e).select();if(console.log("Delete operation result:",{data:t,error:r}),r)throw console.error("Database deletion error:",r),new Error(`Failed to delete task: ${r.message}`);if(!t||t.length===0)throw console.warn("No rows were deleted. Task may not exist or user may not have permission."),new Error("Task not found or insufficient permissions to delete");return console.log("Task successfully deleted from database:",t),t},DB=async(e,t)=>{console.log("editTaskInDatabase called with:",{taskId:e,updatedTask:t});const r={};t.title&&(r.title=t.title),t.description!==void 0&&(r.description=t.description),t.clientId&&(r.client_id=t.clientId),t.clientName&&(r.client_name=t.clientName),t.projectId&&(r.project_id=t.projectId),t.milestoneId!==void 0&&(r.milestone_id=t.milestoneId),t.estimatedHours!==void 0&&(r.estimated_hours=t.estimatedHours),t.notes!==void 0&&(r.notes=t.notes),t.assets&&(r.assets=t.assets),t.startDate!==void 0&&(r.start_date=t.startDate||null),t.endDate!==void 0&&(r.end_date=t.endDate||null),t.workedHours!==void 0&&(r.worked_hours=t.workedHours),t.assignedTo!==void 0&&(r.assigned_to=t.assignedTo||null),t.urgent!==void 0&&(r.urgent=t.urgent),console.log("supabaseUpdate object:",r);const{data:n,error:i}=await Pe.from("tasks").update(r).eq("id",e).select("*").single();if(i)throw console.error("Error updating task in database:",i),i;console.log("Task updated successfully in database:",n);let a;if(n.assigned_to){const{data:c}=await Pe.from("profiles").select("full_name, email").eq("id",n.assigned_to).maybeSingle();c&&(a=c.full_name||c.email||void 0)}return{id:n.id,title:n.title,description:n.description||"",clientId:n.client_id,clientName:n.client_name,projectId:n.project_id,milestoneId:n.milestone_id,estimatedHours:n.estimated_hours,actualHours:n.actual_hours,workedHours:n.worked_hours,status:n.status,notes:n.notes||"",assets:n.assets||[],createdDate:n.created_date,completedDate:n.completed_date||void 0,startDate:n.start_date||void 0,endDate:n.end_date||void 0,assignedTo:n.assigned_to||void 0,assignedToName:a,urgent:n.urgent||!1}},IB=()=>{const[e,t]=E.useState([]),[r,n]=E.useState(!0),{toast:i}=Dt();console.log("useTasksData: Current tasks count:",e.length);const a=async()=>{try{n(!0);const{data:{user:c}}=await Pe.auth.getUser();if(!c)throw new Error("User not authenticated");const{data:l,error:d}=await Pe.from("profiles").select("role").eq("id",c.id).single();if(d)throw d;let h=await Fk();if(l.role!=="admin"){const{data:f,error:m}=await Pe.from("user_project_assignments").select("project_id").eq("user_id",c.id);if(m)throw m;const g=f.map(v=>v.project_id);h=h.filter(v=>v.projectId&&g.includes(v.projectId))}t(h)}catch(c){console.error("Error loading tasks:",c),i({title:"Connection Error",description:"Failed to load tasks. Please check your connection and try again.",variant:"destructive"})}finally{n(!1)}};return E.useEffect(()=>{console.log("useTasksData: Initial load triggered"),a()},[]),E.useEffect(()=>{const{data:{subscription:c}}=Pe.auth.onAuthStateChange((l,d)=>{console.log("useTasksData: Auth state changed:",l,"Tasks count:",e.length),l==="SIGNED_IN"&&e.length===0&&(console.log("useTasksData: Reloading tasks after sign in"),setTimeout(()=>a(),100))});return()=>c.unsubscribe()},[e.length]),{tasks:e,setTasks:c=>{console.log("useTasksData: setTasks called"),t(c)},loadTasks:a,loading:r}},OB=async(e,t)=>{if(!e.projectId)throw new Error("Task must have a project ID to create hour entry");const{data:{user:r},error:n}=await Pe.auth.getUser();if(n)throw n;if(!r)throw new Error("User not authenticated");const i=e.assignedTo||r.id,a={project_id:e.projectId,client_id:e.clientId,milestone_id:e.milestoneId,task_id:e.id,hours:t,description:`Completed task: ${e.title}`,date:new Date().toISOString().split("T")[0],billed:!1,user_id:i},{data:c,error:l}=await Pe.from("hour_entries").insert([a]).select().single();if(l)throw l;return c},MB=(e,t,r,n,i)=>{const{toast:a}=Dt(),{users:c}=hh();return{addTask:async m=>{try{console.log("useTasksOperations: Starting task creation with:",m);const g=await PB(m);console.log("useTasksOperations: Task created in database:",g),t(v=>{const x=[g,...v];return console.log("useTasksOperations: Updating local state from",v.length,"to",x.length,"tasks"),x}),setTimeout(()=>{a({title:"Success",description:"Task added successfully"})},0)}catch(g){console.error("Error adding task:",g),a({title:"Error",description:"Failed to add task. Please try again.",variant:"destructive"})}},updateTask:async(m,g,v)=>{try{await RB(m,g,v);const x=e.find(y=>y.id===m);if(g==="completed"&&v&&x?.projectId)try{await OB(x,v),console.log("Hour entry created successfully for task:",m),n&&n()}catch(y){console.error("Error creating hour entry:",y),a({title:"Warning",description:"Task completed but failed to log hours. You can manually add the time entry.",variant:"destructive"})}return t(y=>y.map(b=>{if(b.id===m){const w={...b,status:g};return g==="completed"&&(w.completedDate=new Date().toISOString(),v&&(w.workedHours=v)),w}return b})),a({title:"Success",description:"Task updated successfully"}),g==="completed"&&x?{task:x,hoursToLog:v}:null}catch(x){return console.error("Error updating task:",x),a({title:"Error",description:"Failed to update task",variant:"destructive"}),null}},deleteTask:async m=>{console.log("useTasksOperations: deleteTask called with ID:",m);try{await AB(m),console.log("Database deletion successful, updating local state"),t(g=>{const v=g.filter(x=>x.id!==m);return console.log("Local state updated. Tasks before:",g.length,"Tasks after:",v.length),v}),i&&i(),a({title:"Success",description:"Task deleted successfully"})}catch(g){throw console.error("Error deleting task:",g),a({title:"Error",description:g instanceof Error?g.message:"Failed to delete task",variant:"destructive"}),g}},editTask:async(m,g)=>{try{console.log("editTask called with:",{taskId:m,updatedTask:g});const v=await DB(m,g);t(x=>{const y=x.map(b=>b.id===m?{...v,assignedToName:v.assignedToName||(()=>{if(!g.assignedTo)return v.assignedToName;const w=c.find(N=>N.id===g.assignedTo);return w&&(w.full_name||w.email)||v.assignedToName})()}:b);return console.log("Local task state updated:",y.find(b=>b.id===m)),y}),a({title:"Success",description:"Task updated successfully"});try{await Promise.resolve(r())}catch(x){console.warn("Background refresh after edit failed:",x)}}catch(v){console.error("Error editing task:",v),a({title:"Error",description:"Failed to edit task",variant:"destructive"})}}}},ph=(e,t)=>{const{tasks:r,setTasks:n,loadTasks:i,loading:a}=IB(),{addTask:c,updateTask:l,deleteTask:d,editTask:h}=MB(r,n,i,e,t);return{tasks:r,loading:a,addTask:c,updateTask:l,deleteTask:d,editTask:h}},Lk=e=>({hour:"hour",day:"day",week:"week",month:"month",hourly:"hour",daily:"day",weekly:"week",monthly:"month",project:"project"})[e]||"hour",Uk=e=>({id:e.id,name:e.name,price:Number(e.price),priceType:e.price_type,status:e.status,documents:e.documents||[],links:e.links||[],notes:e.notes||"",people:e.people||[],invoices:e.invoices||[],currency:e.currency||"USD"}),FB=(e,t)=>{const r=Lk(e.priceType);return{name:e.name,price:e.price,price_type:r,status:e.status||"active",documents:e.documents||[],links:e.links||[],notes:e.notes||"",people:e.people||[],invoices:e.invoices||[],currency:e.currency||"USD",user_id:t}},LB=async()=>{const{data:{user:e}}=await Pe.auth.getUser();if(!e)return[];const{data:t,error:r}=await Pe.from("profiles").select("role").eq("id",e.id).single();if(r)throw r;const{data:n,error:i}=await Pe.from("clients").select("*").order("created_at",{ascending:!1});if(i)throw i;return n.map(Uk)},UB=async e=>{const{data:{user:t}}=await Pe.auth.getUser();if(!t)throw new Error("User not authenticated");const r=FB(e,t.id),{data:n,error:i}=await Pe.from("clients").insert([r]).select().single();if(i)throw i;return Uk(n)},H1=async(e,t)=>{const{data:{user:r}}=await Pe.auth.getUser();if(!r)throw new Error("User not authenticated");const n=Lk(t.priceType),i={name:t.name,price:t.price,price_type:n,status:t.status,documents:t.documents,links:t.links,notes:t.notes,people:t.people,invoices:t.invoices,currency:t.currency},{error:a}=await Pe.from("clients").update(i).eq("id",e).eq("user_id",r.id);if(a)throw a},Xi=()=>{const[e,t]=E.useState([]),[r,n]=E.useState(!0),{toast:i}=Dt(),a=async()=>{try{n(!0);const h=await LB();t(h)}catch{i({title:"Error",description:"Failed to load clients",variant:"destructive"})}finally{n(!1)}};return E.useEffect(()=>{a()},[]),{clients:e,addClient:async h=>{try{const f=await UB(h);t(m=>[...m,f]),i({title:"Success",description:"Client added successfully"})}catch{i({title:"Error",description:"Failed to add client",variant:"destructive"})}},updateClient:async(h,f)=>{try{await H1(h,f),t(m=>m.map(g=>g.id===h?f:g)),i({title:"Success",description:"Client updated successfully"})}catch{i({title:"Error",description:"Failed to update client",variant:"destructive"})}},updateClientInvoiceStatus:async(h,f,m)=>{try{const g=e.find(y=>y.id===h);if(!g||!g.invoices)return;const v=g.invoices.map(y=>y.id===f?{...y,status:m}:y),x={...g,invoices:v};await H1(h,x),t(y=>y.map(b=>b.id===h?x:b)),i({title:"Success",description:"Invoice status updated successfully"})}catch{i({title:"Error",description:"Failed to update invoice status",variant:"destructive"})}},loading:r}},BB=()=>{const{loading:e,profile:t,isAdmin:r,user:n,session:i}=_t(),{selectedPeriod:a,setSelectedPeriod:c,customDateRange:l,setCustomDateRange:d,dateRange:h}=EB(),f=Wy({dateRange:h}),{projects:m,loading:g}=yc(),{tasks:v,loading:x,addTask:y,updateTask:b,deleteTask:w,editTask:N}=ph(),{milestones:_,loading:S}=Eo(),{clients:T,loading:F}=Xi();return{authLoading:e,profile:t,isAdmin:r,user:n,session:i,selectedPeriod:a,setSelectedPeriod:c,customDateRange:l,setCustomDateRange:d,analytics:f,projects:m,tasks:v,addTask:y,updateTask:b,deleteTask:w,editTask:N,milestones:_,clients:T,projectsLoading:g,tasksLoading:x,milestonesLoading:S,clientsLoading:F}},HB=()=>{const e=Dn(),{authLoading:t,isAdmin:r,selectedPeriod:n,setSelectedPeriod:i,customDateRange:a,setCustomDateRange:c,analytics:l,projects:d,tasks:h,addTask:f,updateTask:m,deleteTask:g,editTask:v,milestones:x,clients:y,profile:b,user:w,session:N,projectsLoading:_,tasksLoading:S,milestonesLoading:T,clientsLoading:F}=BB(),[U,$]=E.useState(null),[A,J]=E.useState(["active"]),pe=te=>{const W={title:te.title,description:te.description||"",clientId:te.clientId,clientName:te.clientName,projectId:te.projectId,milestoneId:te.milestoneId,estimatedHours:te.estimatedHours||0,startDate:te.startDate||"",endDate:te.endDate||"",notes:te.notes||"",assets:te.assets||[],assignedTo:te.assignedTo,urgent:te.urgent};f(W)},z=(te,W,H)=>{m(te,W,H)},G=te=>{g(te),r&&l.refetch&&l.refetch()},R=te=>{const W={title:te.title,description:te.description||"",clientId:te.clientId,clientName:te.clientName,projectId:te.projectId,milestoneId:te.milestoneId,estimatedHours:te.estimatedHours||0,startDate:te.startDate||"",endDate:te.endDate||"",notes:te.notes||"",assets:te.assets||[],assignedTo:te.assignedTo,urgent:te.urgent};v(te.id,W)},Z=te=>{$({id:te.id,title:te.title,description:te.description,status:te.status,clientId:te.clientId,clientName:te.clientName,projectId:te.projectId||"",estimatedHours:te.estimatedHours,workedHours:te.workedHours,actualHours:te.actualHours,startDate:te.startDate,endDate:te.endDate,completedDate:te.completedDate,createdDate:te.createdDate,notes:te.notes,assets:te.assets,urgent:te.urgent})};gt.useEffect(()=>{if(!U)return;const te=h.find(W=>W.id===U.id);te&&$({id:te.id,title:te.title,description:te.description,status:te.status,clientId:te.clientId,clientName:te.clientName,projectId:te.projectId||"",estimatedHours:te.estimatedHours,workedHours:te.workedHours,actualHours:te.actualHours,startDate:te.startDate,endDate:te.endDate,completedDate:te.completedDate,createdDate:te.createdDate,notes:te.notes,assets:te.assets,urgent:te.urgent})},[h,U?.id]);const ae=d.filter(te=>A.includes(te.status)),q=new Set(ae.map(te=>te.id)),Y=h.filter(te=>te.projectId&&q.has(te.projectId)),ne=x.filter(te=>q.has(te.projectId));return E.useEffect(()=>{(b?.role??N?.user?.user_metadata?.role??w?.user_metadata?.role)==="client"&&e("/client",{replace:!0})},[b?.role,N?.user?.user_metadata?.role,w?.user_metadata?.role,e]),t?s.jsx(Bt,{children:s.jsx("div",{})}):s.jsx(Bt,{children:s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"w-full space-y-6",children:[s.jsx(LF,{}),r?s.jsx(KU,{totalClients:l.totalClients,activeClients:l.activeClients,totalHours:l.totalHours,totalRevenue:l.totalRevenue,monthlySubscriptionCost:l.monthlySubscriptionCost,totalPaidToDate:l.totalPaidToDate,clients:l.clients,displayCurrency:l.displayCurrency,formatCurrency:l.formatCurrency,timeBreakdown:l.timeBreakdown,revenueBreakdown:l.revenueBreakdown,selectedPeriod:n,onPeriodChange:i,customDateRange:a,onCustomDateChange:c,previousPeriodData:l.previousPeriodData,comparisonText:l.comparisonText,loading:l.loading}):_||S?s.jsx(wB,{}):s.jsx(GU,{tasks:h,projects:d,selectedPeriod:n,onPeriodChange:i,customDateRange:a,onCustomDateChange:c}),S||F||_?s.jsx(eo,{count:3,lines:5}):s.jsx(zy,{tasks:h,clients:y,projects:d,onTaskClick:Z,onUpdateTask:z,onDeleteTask:G,onEditTask:R,onAddTask:pe,selectedStatuses:A,onStatusChange:J}),_||S||T||F?s.jsx(eo,{count:2,lines:6}):s.jsx($y,{projects:ae,tasks:Y,milestones:ne,clients:y}),s.jsx(fh,{task:U,isOpen:!!U,onClose:()=>$(null),projects:d})]})})})};var qy="Checkbox",[zB]=cn(qy),[$B,WB]=zB(qy),Bk=E.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:c,disabled:l,value:d="on",onCheckedChange:h,form:f,...m}=e,[g,v]=E.useState(null),x=nt(t,S=>v(S)),y=E.useRef(!1),b=g?f||!!g.closest("form"):!0,[w=!1,N]=Tn({prop:i,defaultProp:a,onChange:h}),_=E.useRef(w);return E.useEffect(()=>{const S=g?.form;if(S){const T=()=>N(_.current);return S.addEventListener("reset",T),()=>S.removeEventListener("reset",T)}},[g,N]),s.jsxs($B,{scope:r,state:w,disabled:l,children:[s.jsx(Ve.button,{type:"button",role:"checkbox","aria-checked":ri(w)?"mixed":w,"aria-required":c,"data-state":$k(w),"data-disabled":l?"":void 0,disabled:l,value:d,...m,ref:x,onKeyDown:Le(e.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:Le(e.onClick,S=>{N(T=>ri(T)?!0:!T),b&&(y.current=S.isPropagationStopped(),y.current||S.stopPropagation())})}),b&&s.jsx(qB,{control:g,bubbles:!y.current,name:n,value:d,checked:w,required:c,disabled:l,form:f,style:{transform:"translateX(-100%)"},defaultChecked:ri(a)?!1:a})]})});Bk.displayName=qy;var Hk="CheckboxIndicator",zk=E.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,a=WB(Hk,r);return s.jsx(kr,{present:n||ri(a.state)||a.state===!0,children:s.jsx(Ve.span,{"data-state":$k(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});zk.displayName=Hk;var qB=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:i,...a}=e,c=E.useRef(null),l=oh(r),d=eh(t);E.useEffect(()=>{const f=c.current,m=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==r&&v){const x=new Event("click",{bubbles:n});f.indeterminate=ri(r),v.call(f,ri(r)?!1:r),f.dispatchEvent(x)}},[l,r,n]);const h=E.useRef(ri(r)?!1:r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??h.current,...a,tabIndex:-1,ref:c,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ri(e){return e==="indeterminate"}function $k(e){return ri(e)?"indeterminate":e?"checked":"unchecked"}var Wk=Bk,VB=zk;const Ui=E.forwardRef(({className:e,...t},r)=>s.jsx(Wk,{ref:r,className:Re("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(VB,{className:Re("flex items-center justify-center text-current"),children:s.jsx(zv,{className:"h-4 w-4"})})}));Ui.displayName=Wk.displayName;var Vy="Radio",[KB,qk]=cn(Vy),[GB,YB]=KB(Vy),Vk=E.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:a,disabled:c,value:l="on",onCheck:d,form:h,...f}=e,[m,g]=E.useState(null),v=nt(t,b=>g(b)),x=E.useRef(!1),y=m?h||!!m.closest("form"):!0;return s.jsxs(GB,{scope:r,checked:i,disabled:c,children:[s.jsx(Ve.button,{type:"button",role:"radio","aria-checked":i,"data-state":Yk(i),"data-disabled":c?"":void 0,disabled:c,value:l,...f,ref:v,onClick:Le(e.onClick,b=>{i||d?.(),y&&(x.current=b.isPropagationStopped(),x.current||b.stopPropagation())})}),y&&s.jsx(XB,{control:m,bubbles:!x.current,name:n,value:l,checked:i,required:a,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});Vk.displayName=Vy;var Kk="RadioIndicator",Gk=E.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...i}=e,a=YB(Kk,r);return s.jsx(kr,{present:n||a.checked,children:s.jsx(Ve.span,{"data-state":Yk(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});Gk.displayName=Kk;var XB=e=>{const{control:t,checked:r,bubbles:n=!0,...i}=e,a=E.useRef(null),c=oh(r),l=eh(t);return E.useEffect(()=>{const d=a.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Yk(e){return e?"checked":"unchecked"}var QB=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ky="RadioGroup",[JB]=cn(Ky,[Vd,qk]),Xk=Vd(),Qk=qk(),[ZB,e7]=JB(Ky),Jk=E.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:a,required:c=!1,disabled:l=!1,orientation:d,dir:h,loop:f=!0,onValueChange:m,...g}=e,v=Xk(r),x=ec(h),[y,b]=Tn({prop:a,defaultProp:i,onChange:m});return s.jsx(ZB,{scope:r,name:n,required:c,disabled:l,value:y,onValueChange:b,children:s.jsx(DN,{asChild:!0,...v,orientation:d,dir:x,loop:f,children:s.jsx(Ve.div,{role:"radiogroup","aria-required":c,"aria-orientation":d,"data-disabled":l?"":void 0,dir:x,...g,ref:t})})})});Jk.displayName=Ky;var Zk="RadioGroupItem",eT=E.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...i}=e,a=e7(Zk,r),c=a.disabled||n,l=Xk(r),d=Qk(r),h=E.useRef(null),f=nt(t,h),m=a.value===i.value,g=E.useRef(!1);return E.useEffect(()=>{const v=y=>{QB.includes(y.key)&&(g.current=!0)},x=()=>g.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",x)}},[]),s.jsx(IN,{asChild:!0,...l,focusable:!c,active:m,children:s.jsx(Vk,{disabled:c,required:a.required,checked:m,...d,...i,name:a.name,ref:f,onCheck:()=>a.onValueChange(i.value),onKeyDown:Le(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:Le(i.onFocus,()=>{g.current&&h.current?.click()})})})});eT.displayName=Zk;var t7="RadioGroupIndicator",tT=E.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,i=Qk(r);return s.jsx(Gk,{...i,...n,ref:t})});tT.displayName=t7;var rT=Jk,nT=eT,r7=tT;const Gy=E.forwardRef(({className:e,...t},r)=>s.jsx(rT,{className:Re("grid gap-2",e),...t,ref:r}));Gy.displayName=rT.displayName;const za=E.forwardRef(({className:e,...t},r)=>s.jsx(nT,{ref:r,className:Re("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(r7,{className:"flex items-center justify-center",children:s.jsx(CD,{className:"h-2.5 w-2.5 fill-current text-current"})})}));za.displayName=nT.displayName;const sT=({isOpen:e,onClose:t,onAdd:r,clients:n})=>{const[i,a]=E.useState({name:"",clientId:"",startDate:"",estimatedEndDate:"",status:"active",notes:"",team:"",pricingType:"fixed",fixedPrice:"",hourlyRate:"",urgentHourlyRate:"",estimatedHours:"",currency:"EUR",useMilestones:!0}),[c,l]=E.useState({documents:!1,links:!1,team:!1,notes:!1}),d=n.find(g=>g.id.toString()===i.clientId);E.useEffect(()=>{d&&d.currency&&a(g=>({...g,currency:d.currency||"EUR"}))},[d]);const h=g=>{g.preventDefault();let v=[],x=i.team?i.team.split(",").map(w=>w.trim()):[],y=i.notes;if(d){if(c.documents&&d.documents&&(v=[...v,...d.documents]),c.links&&d.links){const w=d.links.map(N=>`LINK: ${N}`);v=[...v,...w]}if(c.team&&d.people){const w=d.people.map(N=>N.name);x=[...new Set([...x,...w])]}c.notes&&d.notes&&(y=y?`${y}

From Client:
${d.notes}`:d.notes)}const b={name:i.name,clientId:parseInt(i.clientId),startDate:i.startDate,estimatedEndDate:i.estimatedEndDate,status:i.status,notes:y,documents:v,team:x,pricingType:i.pricingType,fixedPrice:i.pricingType==="fixed"&&i.fixedPrice?parseFloat(i.fixedPrice):void 0,hourlyRate:i.pricingType==="hourly"&&i.hourlyRate?parseFloat(i.hourlyRate):void 0,urgentHourlyRate:i.pricingType==="hourly"&&i.urgentHourlyRate?parseFloat(i.urgentHourlyRate):void 0,estimatedHours:i.pricingType==="hourly"&&i.estimatedHours?parseInt(i.estimatedHours):void 0,currency:i.currency,invoices:[],useMilestones:i.useMilestones};r(b),a({name:"",clientId:"",startDate:"",estimatedEndDate:"",status:"active",notes:"",team:"",pricingType:"fixed",fixedPrice:"",hourlyRate:"",urgentHourlyRate:"",estimatedHours:"",currency:"EUR",useMilestones:!0}),l({documents:!1,links:!1,team:!1,notes:!1}),t()},f=(g,v)=>{a(x=>({...x,[g]:v}))},m=(g,v)=>{l(x=>({...x,[g]:v}))};return s.jsx(gr,{open:e,onOpenChange:t,children:s.jsxs(ur,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsx(dr,{children:s.jsx(hr,{children:"Add New Project"})}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"name",children:"Project Name"}),s.jsx(De,{id:"name",value:i.name,onChange:g=>f("name",g.target.value),placeholder:"Enter project name",required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"client",children:"Client"}),s.jsxs(vt,{value:i.clientId,onValueChange:g=>f("clientId",g),children:[s.jsx(dt,{children:s.jsx(yt,{placeholder:"Select a client"})}),s.jsx(ht,{children:n.map(g=>s.jsx(Oe,{value:g.id.toString(),children:g.name},g.id))})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"currency",children:"Currency"}),s.jsxs(vt,{value:i.currency,onValueChange:g=>f("currency",g),children:[s.jsx(dt,{children:s.jsx(yt,{placeholder:"Select currency"})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"USD",children:"USD ($)"}),s.jsx(Oe,{value:"EUR",children:"EUR ()"}),s.jsx(Oe,{value:"RON",children:"RON"})]})]})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Pricing Type"}),s.jsxs(Gy,{value:i.pricingType,onValueChange:g=>f("pricingType",g),className:"flex space-x-6 mt-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(za,{value:"fixed",id:"fixed"}),s.jsx(we,{htmlFor:"fixed",children:"Fixed Price"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(za,{value:"hourly",id:"hourly"}),s.jsx(we,{htmlFor:"hourly",children:"Hourly Rate"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(we,{htmlFor:"useMilestones",children:"Use milestones"}),s.jsx(dn,{id:"useMilestones",checked:i.useMilestones,onCheckedChange:g=>a(v=>({...v,useMilestones:g}))})]}),i.pricingType==="fixed"?s.jsxs("div",{children:[s.jsxs(we,{htmlFor:"fixedPrice",children:["Fixed Price (",i.currency==="USD"?"$":i.currency==="EUR"?"":"RON",")"]}),s.jsx(De,{id:"fixedPrice",type:"number",step:"0.01",value:i.fixedPrice,onChange:g=>f("fixedPrice",g.target.value),placeholder:"Enter fixed price",required:!0})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs(we,{htmlFor:"hourlyRate",children:["Hourly Rate (",i.currency==="USD"?"$":i.currency==="EUR"?"":"RON",")"]}),s.jsx(De,{id:"hourlyRate",type:"number",step:"0.01",value:i.hourlyRate,onChange:g=>f("hourlyRate",g.target.value),placeholder:"Rate per hour",required:!0})]}),s.jsxs("div",{children:[s.jsxs(we,{htmlFor:"urgentHourlyRate",children:["Urgent Rate (",i.currency==="USD"?"$":i.currency==="EUR"?"":"RON",")"]}),s.jsx(De,{id:"urgentHourlyRate",type:"number",step:"0.01",value:i.urgentHourlyRate,onChange:g=>f("urgentHourlyRate",g.target.value),placeholder:"Urgent rate per hour"})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"estimatedHours",children:"Estimated Hours"}),s.jsx(De,{id:"estimatedHours",type:"number",value:i.estimatedHours,onChange:g=>f("estimatedHours",g.target.value),placeholder:"Estimated hours"})]})]}),d&&s.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Inherit from Client"}),s.jsxs("div",{className:"space-y-2",children:[d.documents&&d.documents.length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ui,{id:"inherit-documents",checked:c.documents,onCheckedChange:g=>m("documents",g)}),s.jsxs(we,{htmlFor:"inherit-documents",className:"text-sm",children:["Documents (",d.documents.length,")"]})]}),d.links&&d.links.length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ui,{id:"inherit-links",checked:c.links,onCheckedChange:g=>m("links",g)}),s.jsxs(we,{htmlFor:"inherit-links",className:"text-sm",children:["Links (",d.links.length,")"]})]}),d.people&&d.people.length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ui,{id:"inherit-team",checked:c.team,onCheckedChange:g=>m("team",g)}),s.jsxs(we,{htmlFor:"inherit-team",className:"text-sm",children:["Team Members (",d.people.length,")"]})]}),d.notes&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ui,{id:"inherit-notes",checked:c.notes,onCheckedChange:g=>m("notes",g)}),s.jsx(we,{htmlFor:"inherit-notes",className:"text-sm",children:"Client Notes"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"startDate",children:"Start Date"}),s.jsx(De,{id:"startDate",type:"date",value:i.startDate,onChange:g=>f("startDate",g.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"estimatedEndDate",children:"Estimated End Date"}),s.jsx(De,{id:"estimatedEndDate",type:"date",value:i.estimatedEndDate,onChange:g=>f("estimatedEndDate",g.target.value),required:!0})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"status",children:"Status"}),s.jsxs(vt,{value:i.status,onValueChange:g=>f("status",g),children:[s.jsx(dt,{children:s.jsx(yt,{})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"active",children:"Active"}),s.jsx(Oe,{value:"paused",children:"Paused"}),s.jsx(Oe,{value:"completed",children:"Completed"}),s.jsx(Oe,{value:"canceled",children:"Canceled"})]})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"team",children:"Team Members (comma-separated)"}),s.jsx(De,{id:"team",value:i.team,onChange:g=>f("team",g.target.value),placeholder:"John Doe, Jane Smith"})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"notes",children:"Notes"}),s.jsx(tr,{id:"notes",value:i.notes,onChange:g=>f("notes",g.target.value),placeholder:"Project notes...",rows:3})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(je,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),s.jsx(je,{type:"submit",variant:"primary",children:"Add Project"})]})]})]})})},n7=({project:e,isOpen:t,onClose:r,onUpdate:n,clients:i})=>{const[a,c]=E.useState({});gt.useEffect(()=>{e&&c(e)},[e]);const l=f=>{f.preventDefault(),e&&a&&(n(e.id,a),r())},d=(f,m)=>{c(g=>({...g,[f]:m}))};if(!e)return null;const h=f=>{switch(f){case"USD":return"$";case"EUR":return"";case"RON":return"RON";default:return f}};return s.jsx(ic,{open:t,onOpenChange:r,children:s.jsxs(bo,{className:"w-[400px] sm:w-[540px] overflow-y-auto",children:[s.jsx(ac,{children:s.jsx(oc,{children:"Edit Project"})}),s.jsxs("form",{onSubmit:l,className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"name",children:"Project Name"}),s.jsx(De,{id:"name",value:a.name||"",onChange:f=>d("name",f.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"client",children:"Client"}),s.jsxs(vt,{value:a.clientId?.toString()||"",onValueChange:f=>d("clientId",parseInt(f)),children:[s.jsx(dt,{children:s.jsx(yt,{placeholder:"Select a client"})}),s.jsx(ht,{children:i.map(f=>s.jsx(Oe,{value:f.id.toString(),children:f.name},f.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"currency",children:"Currency"}),s.jsxs(vt,{value:a.currency||"USD",onValueChange:f=>d("currency",f),children:[s.jsx(dt,{children:s.jsx(yt,{placeholder:"Select currency"})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"USD",children:"USD ($)"}),s.jsx(Oe,{value:"EUR",children:"EUR ()"}),s.jsx(Oe,{value:"RON",children:"RON"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Pricing Type"}),s.jsxs(Gy,{value:a.pricingType||"fixed",onValueChange:f=>d("pricingType",f),className:"flex space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(za,{value:"fixed",id:"edit-fixed"}),s.jsx(we,{htmlFor:"edit-fixed",children:"Fixed Price"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(za,{value:"hourly",id:"edit-hourly"}),s.jsx(we,{htmlFor:"edit-hourly",children:"Hourly Rate"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(za,{value:"daily",id:"edit-daily"}),s.jsx(we,{htmlFor:"edit-daily",children:"Daily Rate"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(we,{htmlFor:"useMilestones",children:"Use milestones"}),s.jsx(dn,{id:"useMilestones",checked:a.useMilestones!==!1,onCheckedChange:f=>d("useMilestones",f)})]}),a.pricingType==="fixed"?s.jsxs("div",{className:"space-y-2",children:[s.jsxs(we,{htmlFor:"fixedPrice",children:["Fixed Price (",h(a.currency||"USD"),")"]}),s.jsx(De,{id:"fixedPrice",type:"number",step:"0.01",value:a.fixedPrice||"",onChange:f=>d("fixedPrice",f.target.value?parseFloat(f.target.value):void 0),placeholder:"Enter fixed price"})]}):a.pricingType==="hourly"?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(we,{htmlFor:"hourlyRate",children:["Hourly Rate (",h(a.currency||"USD"),")"]}),s.jsx(De,{id:"hourlyRate",type:"number",step:"0.01",value:a.hourlyRate||"",onChange:f=>d("hourlyRate",f.target.value?parseFloat(f.target.value):void 0),placeholder:"Rate per hour"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(we,{htmlFor:"urgentHourlyRate",children:["Urgent Rate (",h(a.currency||"USD"),")"]}),s.jsx(De,{id:"urgentHourlyRate",type:"number",step:"0.01",value:a.urgentHourlyRate||"",onChange:f=>d("urgentHourlyRate",f.target.value?parseFloat(f.target.value):void 0),placeholder:"Urgent rate per hour"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"estimatedHours",children:"Estimated Hours"}),s.jsx(De,{id:"estimatedHours",type:"number",value:a.estimatedHours||"",onChange:f=>d("estimatedHours",f.target.value?parseInt(f.target.value):void 0),placeholder:"Estimated hours"})]})]}):s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(we,{htmlFor:"dailyRate",children:["Daily Rate (",h(a.currency||"USD"),")"]}),s.jsx(De,{id:"dailyRate",type:"number",step:"0.01",value:a.dailyRate||"",onChange:f=>d("dailyRate",f.target.value?parseFloat(f.target.value):void 0),placeholder:"Rate per day"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"estimatedHours",children:"Estimated Hours"}),s.jsx(De,{id:"estimatedHours",type:"number",value:a.estimatedHours||"",onChange:f=>d("estimatedHours",f.target.value?parseInt(f.target.value):void 0),placeholder:"Estimated hours"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"startDate",children:"Start Date"}),s.jsx(De,{id:"startDate",type:"date",value:a.startDate||"",onChange:f=>d("startDate",f.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"estimatedEndDate",children:"Estimated End Date"}),s.jsx(De,{id:"estimatedEndDate",type:"date",value:a.estimatedEndDate||"",onChange:f=>d("estimatedEndDate",f.target.value),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"status",children:"Status"}),s.jsxs(vt,{value:a.status||"",onValueChange:f=>d("status",f),children:[s.jsx(dt,{children:s.jsx(yt,{placeholder:"Select status"})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"active",children:"Active"}),s.jsx(Oe,{value:"completed",children:"Completed"}),s.jsx(Oe,{value:"paused",children:"Paused"}),s.jsx(Oe,{value:"canceled",children:"Canceled"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"notes",children:"Notes"}),s.jsx(tr,{id:"notes",value:a.notes||"",onChange:f=>d("notes",f.target.value),rows:4})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(je,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),s.jsx(je,{variant:"primary",type:"submit",children:"Update Project"})]})]})]})})},s7=({project:e,clients:t,onEditProject:r})=>{const n=Dn(),{demoMode:i}=pt(),a=g=>{const v=t.find(x=>x.id===g);return v?v.name:"Unknown Client"},c=g=>{switch(g){case"active":return"ui-pill ui-pill--success";case"completed":return"ui-pill ui-pill--info";case"paused":return"ui-pill ui-pill--warning";case"canceled":return"ui-pill ui-pill--danger";default:return"ui-pill ui-pill--neutral"}},l=g=>i?{type:g.pricingType==="fixed"?"Fixed":"Hourly",amount:"",color:g.pricingType==="fixed"?"ui-pill ui-pill--info":"ui-pill ui-pill--success"}:g.pricingType==="fixed"?{type:"Fixed",amount:g.fixedPrice?ct(g.fixedPrice,g.currency):"TBD",color:"ui-pill ui-pill--info"}:{type:"Hourly",amount:g.hourlyRate?`${ct(g.hourlyRate,g.currency)}/hr`:"TBD",color:"ui-pill ui-pill--success"},d=g=>{if(i)return"";const v=g.invoices?.filter(x=>x.status==="paid")?.reduce((x,y)=>x+y.amount,0)||0;return ct(v,g.currency)},h=g=>{n(`/projects/${g}`)},f=l(e),m=d(e);return s.jsxs(We,{className:`relative cursor-pointer hover:shadow-md transition-shadow ${e.archived?"opacity-75 border-slate-300":""}`,onClick:()=>h(e.id),children:[s.jsx(ot,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(lt,{className:"text-lg font-semibold mb-2",children:e.name}),e.archived&&s.jsx(WS,{className:"w-4 h-4 text-slate-500"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:a(e.clientId)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Xe,{className:c(e.status),children:e.status}),s.jsx(je,{variant:"ghost",size:"sm",onClick:g=>r(g,e),className:"h-8 w-8 p-0",children:s.jsx(bs,{className:"h-4 w-4"})})]})]})}),s.jsx(qe,{className:"pt-0",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[s.jsx(un,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:[new Date(e.startDate).toLocaleDateString()," - ",new Date(e.estimatedEndDate).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[s.jsx(Wn,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:f.amount})]}),s.jsx(Xe,{className:f.color,variant:"secondary",children:f.type})]}),e.invoices&&e.invoices.length>0&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Invoiced:"}),s.jsx("span",{className:`font-medium ${i?"text-slate-600":"text-green-600"}`,children:m})]}),e.team&&e.team.length>0&&s.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[s.jsx(Xr,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:[e.team.length," team member",e.team.length!==1?"s":""]})]}),e.notes&&s.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:e.notes})]})})]})},i7=({projects:e,clients:t,onEditProject:r})=>s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(n=>s.jsx(s7,{project:n,clients:t,onEditProject:r},n.id))}),a7=({onAddProject:e})=>s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Yn,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-slate-600 mb-2",children:"No projects yet"}),s.jsx("p",{className:"text-slate-500 mb-4",children:"Create your first project to get started"}),s.jsx(je,{variant:"primary",onClick:e,children:"Add Project"})]}),o7=({projects:e,clients:t,onAddProject:r,onUpdateProject:n,onArchiveProject:i,onDeleteProject:a})=>{const[c,l]=E.useState(!1),[d,h]=E.useState(null),[f,m]=E.useState(!1),g=(x,y)=>{x.stopPropagation(),h(y),m(!0)},v=()=>{m(!1),h(null)};return s.jsxs(s.Fragment,{children:[s.jsxs(We,{children:[s.jsx(ot,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(lt,{children:["Projects (",e.length,")"]}),s.jsx(je,{variant:"primary",onClick:()=>l(!0),children:"Add Project"})]})}),s.jsx(qe,{children:e.length===0?s.jsx(a7,{onAddProject:()=>l(!0)}):s.jsx(i7,{projects:e,clients:t,onEditProject:g})})]}),s.jsx(sT,{isOpen:c,onClose:()=>l(!1),onAdd:r,clients:t}),s.jsx(n7,{project:d,isOpen:f,onClose:v,onUpdate:n,clients:t})]})},l7=()=>{const[e,t]=E.useState(!1),[r,n]=E.useState("projects"),{displayCurrency:i}=pt(),{profile:a,user:c}=_t(),l=a?.role??c?.user_metadata?.role,{clients:d,loading:h}=Xi(),{projects:f,showArchived:m,setShowArchived:g,addProject:v,updateProject:x,archiveProject:y,deleteProject:b,loading:w}=yc(),{tasks:N,loading:_}=ph(),{milestones:S,loading:T}=Eo();return l==="client"?s.jsx(Bt,{children:s.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",style:{backgroundColor:"#F3F3F2"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-slate-600",children:"Clients cannot access this page."})]})})}):s.jsx(Bt,{children:s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"w-full space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Projects"})}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(dn,{id:"show-archived",checked:m,onCheckedChange:g}),s.jsx(we,{htmlFor:"show-archived",children:"Show Archived"})]})})]}),s.jsxs(Ss,{value:r,onValueChange:n,className:"w-full",children:[s.jsxs(ts,{className:"grid w-full grid-cols-1 sm:grid-cols-2",children:[s.jsx(Mt,{value:"projects",children:"Projects List"}),s.jsx(Mt,{value:"timeline",className:"hidden sm:inline-flex",children:"Timeline View"})]}),s.jsx(Xt,{value:"projects",className:"mt-6",children:w||h?s.jsx(eo,{count:3,lines:5}):s.jsx(o7,{projects:f,clients:d,onAddProject:v,onUpdateProject:x,onArchiveProject:y,onDeleteProject:b})}),s.jsx(Xt,{value:"timeline",className:"mt-6 hidden sm:block",children:w||_||T?s.jsx(eo,{count:2,lines:6}):s.jsx(Ok,{projects:f.map(F=>({id:F.id,name:F.name,clientId:F.clientId,startDate:F.startDate,estimatedEndDate:F.estimatedEndDate,endDate:F.endDate,status:F.status,notes:F.notes,documents:F.documents,team:F.team,archived:F.archived,pricingType:F.pricingType,fixedPrice:F.fixedPrice,hourlyRate:F.hourlyRate,dailyRate:F.dailyRate,estimatedHours:F.estimatedHours,currency:F.currency,invoices:F.invoices})),tasks:N.map(F=>({id:F.id,title:F.title,description:F.description||"",status:F.status,projectId:F.projectId||"",clientId:F.clientId,clientName:F.clientName,estimatedHours:F.estimatedHours,actualHours:F.actualHours,workedHours:F.workedHours,startDate:F.startDate,endDate:F.endDate,completedDate:F.completedDate,createdDate:F.createdDate,notes:F.notes,assets:F.assets})),milestones:S.map(F=>({id:F.id,title:F.title,description:F.description||"",projectId:F.projectId,status:F.status,targetDate:F.targetDate,amount:F.amount,currency:F.currency||"USD",estimatedHours:F.estimatedHours,completionPercentage:F.completionPercentage,createdAt:F.createdAt,updatedAt:F.updatedAt})),clients:d.map(F=>({id:F.id,name:F.name}))})})]}),s.jsx(sT,{isOpen:e,onClose:()=>t(!1),onAdd:v,clients:d})]})})})},iT=({project:e,client:t,tasks:r,milestones:n})=>{const i=l=>{switch(l){case"active":return"ui-pill ui-pill--success";case"completed":return"ui-pill ui-pill--info";case"paused":return"ui-pill ui-pill--warning";case"canceled":return"ui-pill ui-pill--danger";default:return"ui-pill ui-pill--neutral"}},a=r.filter(l=>l.status==="completed").length,c=n.filter(l=>l.status==="completed").length;return s.jsx(We,{className:"mb-6",children:s.jsxs(qe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:e.name}),s.jsx("p",{className:"text-lg text-slate-600",children:t?.name||"Unknown Client"})]}),s.jsx(Xe,{className:i(e.status),children:e.status})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(un,{className:"w-5 h-5 text-slate-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Duration"}),s.jsxs("p",{className:"text-xs font-semibold",children:[new Date(e.startDate).toLocaleDateString()," - ",new Date(e.estimatedEndDate).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Xr,{className:"w-5 h-5 text-slate-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Team Size"}),s.jsxs("p",{className:"text-xs font-semibold",children:[e.team?.length||0," members"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ka,{className:"w-5 h-5 text-slate-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Tasks"}),s.jsxs("p",{className:"text-xs font-semibold",children:[a,"/",r.length," completed"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Br,{className:"w-5 h-5 text-slate-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Milestones"}),s.jsxs("p",{className:"text-xs font-semibold",children:[c,"/",n.length," completed"]})]})]})]})]})})},c7=({isFixedPrice:e,hasMilestones:t,totalHours:r,billedHours:n,unbilledHours:i,paidInvoicedRevenue:a,valueFromBilledHours:c,unbilledRevenue:l,totalMilestoneValue:d=0,completedMilestoneValue:h=0,fixedProjectValue:f=0,fixedBilledRevenue:m=0,fixedUnbilledRevenue:g=0,displayCurrency:v,demoMode:x=!1})=>{const y=(w,N=!1)=>{if(x&&N)return"";const _=Math.round(w);if(_>=1e3){const S=(_/1e3).toFixed(2).replace(/\.?0+$/,"");return N?`${v==="RON"?"RON ":v==="EUR"?"":"$"}${S}K`:`${S}K`}return N?`${v==="RON"?"RON ":v==="EUR"?"":"$"}${_}`:_.toString()},b=f>0?m/f*100:0;return e?s.jsx(ti,{children:s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(lr,{children:[s.jsx(cr,{asChild:!0,children:s.jsx("p",{className:"text-foreground text-4xl font-normal cursor-help",children:y(f,!0)})}),s.jsx(er,{children:s.jsx("p",{children:x?"":ct(f,v)})})]}),s.jsx("p",{className:"text-muted-foreground py-[24px] text-base",children:"Project Value"})]}),s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(lr,{children:[s.jsx(cr,{asChild:!0,children:s.jsxs("div",{className:"cursor-help",children:[s.jsx("p",{className:"text-foreground text-4xl font-normal",children:y(m,!0)}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:x?"":`${b.toFixed(0)}%`})]})}),s.jsx(er,{children:s.jsx("p",{children:x?"":ct(m,v)})})]}),s.jsx("p",{className:"text-muted-foreground py-[16px] text-base",children:"Billed Revenue"})]}),s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(lr,{children:[s.jsx(cr,{asChild:!0,children:s.jsxs("div",{className:"cursor-help",children:[s.jsx("p",{className:"text-foreground text-4xl font-normal",children:y(g,!0)}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:x?"":`${(100-b).toFixed(0)}%`})]})}),s.jsx(er,{children:s.jsx("p",{children:x?"":ct(g,v)})})]}),s.jsx("p",{className:"text-muted-foreground py-[16px] text-base",children:"Unbilled Revenue"})]}),r>0&&s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(lr,{children:[s.jsx(cr,{asChild:!0,children:s.jsx("p",{className:"text-foreground text-4xl font-normal cursor-help",children:r>=1e3?`${(r/1e3).toFixed(1)}K`:r.toFixed(1)})}),s.jsx(er,{children:s.jsxs("p",{children:[r.toFixed(2)," hours logged"]})})]}),s.jsx("p",{className:"text-muted-foreground py-[24px] text-base",children:"Hours Logged"})]})]})}):t&&d>0?s.jsx(ti,{children:s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(lr,{children:[s.jsx(cr,{asChild:!0,children:s.jsx("p",{className:"text-foreground text-4xl font-normal cursor-help",children:y(l,!0)})}),s.jsx(er,{children:s.jsx("p",{children:x?"":ct(l,v)})})]}),s.jsx("p",{className:"text-muted-foreground py-[24px] text-base",children:"Unbilled Revenue"})]}),s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(lr,{children:[s.jsx(cr,{asChild:!0,children:s.jsx("p",{className:"text-foreground text-4xl font-normal cursor-help",children:y(d,!0)})}),s.jsx(er,{children:s.jsx("p",{children:x?"":ct(d,v)})})]}),s.jsx("p",{className:"text-muted-foreground py-[24px] text-base",children:"Total Value"})]}),s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(lr,{children:[s.jsx(cr,{asChild:!0,children:s.jsx("p",{className:"text-foreground text-4xl font-normal cursor-help",children:y(h,!0)})}),s.jsx(er,{children:s.jsx("p",{children:x?"":ct(h,v)})})]}),s.jsx("p",{className:"text-muted-foreground py-[24px] text-base",children:"Earned Value"})]}),s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(lr,{children:[s.jsx(cr,{asChild:!0,children:s.jsx("p",{className:"text-foreground text-4xl font-normal cursor-help",children:y(a,!0)})}),s.jsx(er,{children:s.jsx("p",{children:x?"":ct(a,v)})})]}),s.jsx("p",{className:"text-muted-foreground py-[24px] text-base",children:"Paid Invoices"})]})]})}):s.jsx(ti,{children:s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(lr,{children:[s.jsx(cr,{asChild:!0,children:s.jsx("p",{className:"text-foreground text-4xl font-normal cursor-help",children:r>=1e3?`${(r/1e3).toFixed(1)}K`:r.toFixed(2)})}),s.jsx(er,{children:s.jsx("p",{children:r.toFixed(2)})})]}),s.jsx("p",{className:"text-muted-foreground py-[24px] text-base",children:"Total Hours"})]}),s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(lr,{children:[s.jsx(cr,{asChild:!0,children:s.jsx("p",{className:"text-foreground font-normal text-4xl cursor-help",children:y(c,!0)})}),s.jsx(er,{children:s.jsx("p",{children:x?"":ct(c,v)})})]}),s.jsx("p",{className:"text-muted-foreground py-[24px] text-base",children:"Billed Revenue"})]}),s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(lr,{children:[s.jsx(cr,{asChild:!0,children:s.jsx("p",{className:"text-foreground font-normal text-4xl cursor-help",children:y(l,!0)})}),s.jsx(er,{children:s.jsx("p",{children:x?"":ct(l,v)})})]}),s.jsx("p",{className:"text-muted-foreground py-[24px] text-base",children:"Unbilled Revenue"})]}),s.jsxs("div",{className:"flex-1 text-center p-4 rounded-lg bg-muted",children:[s.jsxs(lr,{children:[s.jsx(cr,{asChild:!0,children:s.jsx("p",{className:"text-foreground font-normal text-4xl cursor-help",children:y(a,!0)})}),s.jsx(er,{children:s.jsx("p",{children:x?"":ct(a,v)})})]}),s.jsx("p",{className:"text-muted-foreground py-[24px] text-base",children:"Paid Invoices"})]})]})})},aT=()=>{const[e,t]=E.useState([]),{toast:r}=Dt();E.useEffect(()=>{n()},[]);const n=async()=>{try{const{data:c,error:l}=await Pe.from("invoices").select("*").order("date",{ascending:!1});if(l)throw l;const d=c.map(h=>({id:h.id,projectId:h.project_id||void 0,clientId:h.client_id||void 0,amount:h.amount,currency:h.currency,date:h.date,status:h.status,description:h.description||void 0,milestoneId:h.milestone_id||void 0,createdAt:h.created_at,updatedAt:h.updated_at}));t(d)}catch(c){console.error("Error loading invoices:",c),r({title:"Error",description:"Failed to load invoices",variant:"destructive"})}};return{invoices:e,addInvoice:async c=>{try{const{data:{user:l}}=await Pe.auth.getUser();if(!l)throw new Error("User not authenticated");const{data:d,error:h}=await Pe.from("invoices").insert([{project_id:c.projectId,client_id:c.clientId,amount:c.amount,currency:c.currency,date:c.date,status:c.status,description:c.description,milestone_id:c.milestoneId,user_id:l.id}]).select().single();if(h)throw h;const f={id:d.id,projectId:d.project_id||void 0,clientId:d.client_id||void 0,amount:d.amount,currency:d.currency,date:d.date,status:d.status,description:d.description||void 0,milestoneId:d.milestone_id||void 0,createdAt:d.created_at,updatedAt:d.updated_at};t(m=>[...m,f]),r({title:"Success",description:"Invoice added successfully"})}catch(l){console.error("Error adding invoice:",l),r({title:"Error",description:"Failed to add invoice",variant:"destructive"})}},updateInvoice:async(c,l)=>{try{const{error:d}=await Pe.from("invoices").update({project_id:l.projectId,client_id:l.clientId,amount:l.amount,currency:l.currency,date:l.date,status:l.status,description:l.description,milestone_id:l.milestoneId}).eq("id",c);if(d)throw d;t(h=>h.map(f=>f.id===c?{...f,...l}:f)),r({title:"Success",description:"Invoice updated successfully"})}catch(d){console.error("Error updating invoice:",d),r({title:"Error",description:"Failed to update invoice",variant:"destructive"})}}}},u7=({project:e,client:t,milestones:r,tasks:n})=>{const{hourEntries:i}=hn(),{invoices:a}=aT(),{displayCurrency:c,convert:l,demoMode:d}=pt(),h=i.filter($=>!($.projectId!==e.id||$.milestoneId&&typeof $.milestoneId=="object")),f=a.filter($=>$.projectId===e.id),m=h.reduce(($,A)=>$+A.hours,0),g=h.filter($=>$.billed).reduce(($,A)=>$+A.hours,0),v=h.filter($=>!$.billed).reduce(($,A)=>$+A.hours,0),x=d?0:f.filter($=>$.status==="paid").reduce(($,A)=>{const J=l(A.amount,A.currency,c);return $+J},0);let y=0;if(!d){if(e.pricingType==="hourly"&&(e.hourlyRate||e.urgentHourlyRate))y=h.filter($=>$.billed).reduce(($,A)=>{const z=!!n.find(R=>R.id===A.taskId)?.urgent&&e.urgentHourlyRate?e.urgentHourlyRate:e.hourlyRate||0,G=A.hours*l(z,e.currency,c);return $+G},0);else if(e.pricingType==="daily"&&e.dailyRate){const $=l(e.dailyRate,e.currency,c);y=g/8*$}}let b=0;if(!d){if(e.pricingType==="hourly"&&(e.hourlyRate||e.urgentHourlyRate))b=h.filter($=>!$.billed).reduce(($,A)=>{const z=!!n.find(R=>R.id===A.taskId)?.urgent&&e.urgentHourlyRate?e.urgentHourlyRate:e.hourlyRate||0,G=A.hours*l(z,e.currency,c);return $+G},0);else if(e.pricingType==="daily"&&e.dailyRate){const $=l(e.dailyRate,e.currency,c);b=v/8*$}}const w=d?0:r.reduce(($,A)=>{const J=A.amount||0,pe=l(J,e.currency,c);return $+pe},0),N=d?0:r.filter($=>$.status==="completed").reduce(($,A)=>{const J=A.amount||0,pe=l(J,e.currency,c);return $+pe},0),_=e.pricingType==="fixed",S=r.length>0,T=d?0:l(e.fixedPrice||0,e.currency,c),F=x,U=Math.max(0,T-x);return t?s.jsxs(We,{className:"h-full",children:[s.jsx(ot,{children:s.jsxs(lt,{className:"flex items-center",children:[s.jsx(Wn,{className:"w-5 h-5 mr-2"}),_?"Progress & Revenue Tracking":"Time & Revenue Tracking"]})}),s.jsxs(qe,{children:[s.jsx("div",{className:"flex flex-col md:flex-row gap-4 w-full",children:s.jsx(c7,{isFixedPrice:_,hasMilestones:S,totalHours:m,billedHours:g,unbilledHours:v,paidInvoicedRevenue:x,valueFromBilledHours:y,unbilledRevenue:b,totalMilestoneValue:w,completedMilestoneValue:N,fixedProjectValue:T,fixedBilledRevenue:F,fixedUnbilledRevenue:U,displayCurrency:c,demoMode:d})}),v>0&&!_&&!d&&s.jsx("div",{className:"mt-4 p-3 bg-warning/10 border border-warning/20 rounded-lg",children:s.jsxs("p",{className:"text-sm text-warning-foreground",children:["You have ",s.jsxs("strong",{children:[v.toFixed(2)," hours"]})," of unbilled work worth"," ",s.jsx("strong",{children:ct(b,c)}),". Consider creating an invoice."]})})]})]}):s.jsxs(We,{children:[s.jsx(ot,{children:s.jsxs(lt,{className:"flex items-center",children:[s.jsx(Wn,{className:"w-5 h-5 mr-2"}),_?"Progress & Revenue Tracking":"Time & Revenue Tracking"]})}),s.jsx(qe,{children:s.jsx("p",{className:"text-muted-foreground",children:"No client associated with this project"})})]})},d7=e=>{switch(e){case"hourly":return"Hours Worked";case"daily":return"Days Worked";default:return"Time Worked"}},h7=e=>{switch(e){case"hourly":return"e.g., 2.5";case"daily":return"e.g., 1.5";default:return"e.g., 1"}},oT=e=>e==="daily"?"Log Days":"Log Hours",f7=(e,t)=>{switch(t){case"hourly":return e;case"daily":return e*8;default:return e}},p7=({project:e,client:t,milestones:r,tasks:n,onClose:i,onCreateMilestone:a})=>{const[c,l]=E.useState(""),[d,h]=E.useState(""),[f,m]=E.useState(new Date().toISOString().split("T")[0]),[g,v]=E.useState(!1),[x,y]=E.useState("unassigned"),[b,w]=E.useState("unassigned"),{addHourEntry:N}=hn(),_=r.filter(U=>U.status==="pending"||U.status==="in-progress"),S=e.useMilestones!==!1,T=n.filter(U=>U.projectId===e.id),F=async U=>{if(U.preventDefault(),!c||isNaN(Number(c))||Number(c)<=0)return;const $=f7(Number(c),e.pricingType);await N({projectId:e.id,clientId:t.id,hours:$,description:d,date:f,billed:g,milestoneId:x==="unassigned"?void 0:x,taskId:b==="unassigned"?void 0:Number(b)}),l(""),h(""),m(new Date().toISOString().split("T")[0]),v(!1),y("unassigned"),w("unassigned"),i()};return s.jsxs("form",{onSubmit:F,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"hours",children:d7(e.pricingType)}),s.jsx(De,{id:"hours",type:"number",step:"any",min:"0",placeholder:h7(e.pricingType),value:c,onChange:U=>l(U.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"date",children:"Date"}),s.jsx(De,{id:"date",type:"date",value:f,onChange:U=>m(U.target.value),required:!0})]})]}),S&&s.jsxs("div",{children:[s.jsx(we,{htmlFor:"milestone",children:"Milestone (Optional)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(vt,{value:x,onValueChange:y,children:[s.jsx(dt,{className:"flex-1",children:s.jsx(yt,{placeholder:"Select milestone or leave unassigned"})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"unassigned",children:"No milestone (unassigned)"}),_.map(U=>s.jsx(Oe,{value:U.id,children:U.title},U.id))]})]}),a&&s.jsx(je,{type:"button",variant:"outline",size:"sm",onClick:a,className:"px-3",children:s.jsx(Et,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"task",children:"Task (Optional)"}),s.jsxs(vt,{value:b,onValueChange:w,children:[s.jsx(dt,{children:s.jsx(yt,{placeholder:"Select task or leave unassigned"})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"unassigned",children:"No task (unassigned)"}),T.map(U=>s.jsxs(Oe,{value:String(U.id),children:[U.title,U.urgent?" (urgent)":""]},U.id))]})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"description",children:"Description (Optional)"}),s.jsx(tr,{id:"description",placeholder:"What did you work on?",value:d,onChange:U=>h(U.target.value),rows:3})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(dn,{id:"billed",checked:g,onCheckedChange:v}),s.jsx(we,{htmlFor:"billed",children:"Mark as billed"})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(je,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),s.jsxs(je,{variant:"primary",type:"submit",children:[s.jsx(zd,{className:"w-4 h-4 mr-2"}),oT(e.pricingType)]})]})]})},m7=({isOpen:e,onClose:t,project:r,client:n,milestones:i,tasks:a,onCreateMilestone:c})=>s.jsx(gr,{open:e,onOpenChange:t,children:s.jsxs(ur,{className:"sm:max-w-md",children:[s.jsxs(dr,{children:[s.jsxs(hr,{className:"flex items-center",children:[s.jsx(Br,{className:"w-5 h-5 mr-2"}),oT(r.pricingType)," for ",r.name]}),s.jsx(hi,{children:"Log hours worked on this project and track your progress."})]}),s.jsx(p7,{project:r,client:n,milestones:i,tasks:a||[],onClose:t,onCreateMilestone:c})]})});function g7(e,t=[]){let r=[];function n(a,c){const l=E.createContext(c),d=r.length;r=[...r,c];function h(m){const{scope:g,children:v,...x}=m,y=g?.[e][d]||l,b=E.useMemo(()=>x,Object.values(x));return s.jsx(y.Provider,{value:b,children:v})}function f(m,g){const v=g?.[e][d]||l,x=E.useContext(v);if(x)return x;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${a}\``)}return h.displayName=a+"Provider",[h,f]}const i=()=>{const a=r.map(c=>E.createContext(c));return function(l){const d=l?.[e]||a;return E.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return i.scopeName=e,[n,v7(i,...t)]}function v7(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const c=n.reduce((l,{useScope:d,scopeName:h})=>{const m=d(a)[`__scope${h}`];return{...l,...m}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var Yy="Progress",Xy=100,[y7]=g7(Yy),[x7,w7]=y7(Yy),lT=E.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=b7,...c}=e;(i||i===0)&&!z1(i)&&console.error(j7(`${i}`,"Progress"));const l=z1(i)?i:Xy;n!==null&&!$1(n,l)&&console.error(_7(`${n}`,"Progress"));const d=$1(n,l)?n:null,h=Td(d)?a(d,l):void 0;return s.jsx(x7,{scope:r,value:d,max:l,children:s.jsx(Ve.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Td(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":dT(d,l),"data-value":d??void 0,"data-max":l,...c,ref:t})})});lT.displayName=Yy;var cT="ProgressIndicator",uT=E.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=w7(cT,r);return s.jsx(Ve.div,{"data-state":dT(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});uT.displayName=cT;function b7(e,t){return`${Math.round(e/t*100)}%`}function dT(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Td(e){return typeof e=="number"}function z1(e){return Td(e)&&!isNaN(e)&&e>0}function $1(e,t){return Td(e)&&!isNaN(e)&&e<=t&&e>=0}function j7(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Xy}\`.`}function _7(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Xy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var hT=lT,S7=uT;const Ol=E.forwardRef(({className:e,value:t,...r},n)=>s.jsx(hT,{ref:n,className:Re("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(S7,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ol.displayName=hT.displayName;const N7=({isOpen:e,onClose:t,timeEntry:r})=>{const[n,i]=E.useState(r.hours.toString()),[a,c]=E.useState(r.description||""),[l,d]=E.useState(r.date),[h,f]=E.useState(r.billed),[m,g]=E.useState(r.milestoneId||"no-milestone"),[v,x]=E.useState(!1),{updateHourEntry:y,refreshHourEntries:b}=hn(),{milestones:w}=Eo(),N=w.filter(S=>S.projectId===r.projectId),_=async S=>{if(S.preventDefault(),!(!n||parseFloat(n)<=0)){x(!0);try{await y(r.id,{hours:parseFloat(n),description:a||void 0,date:l,billed:h,milestoneId:m==="no-milestone"?void 0:m}),await b(),t()}catch(T){console.error("Error updating time entry:",T)}finally{x(!1)}}};return s.jsx(gr,{open:e,onOpenChange:t,children:s.jsxs(ur,{className:"sm:max-w-md",children:[s.jsx(dr,{children:s.jsxs(hr,{className:"flex items-center",children:[s.jsx(Br,{className:"w-5 h-5 mr-2"}),"Edit Time Entry"]})}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"hours",children:"Hours"}),s.jsx(De,{id:"hours",type:"number",min:"0.1",step:"0.1",value:n,onChange:S=>i(S.target.value),placeholder:"0.0",required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"date",children:"Date"}),s.jsx(De,{id:"date",type:"date",value:l,onChange:S=>d(S.target.value),required:!0})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"milestone",children:"Milestone (Optional)"}),s.jsxs(vt,{value:m,onValueChange:g,children:[s.jsx(dt,{children:s.jsx(yt,{placeholder:"Select a milestone"})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"no-milestone",children:"No milestone"}),N.map(S=>s.jsxs(Oe,{value:S.id,children:[S.title," (",new Date(S.targetDate).toLocaleDateString(),")"]},S.id))]})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"description",children:"Description (Optional)"}),s.jsx(tr,{id:"description",value:a,onChange:S=>c(S.target.value),placeholder:"What did you work on?",rows:3})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(dn,{id:"billed",checked:h,onCheckedChange:f}),s.jsx(we,{htmlFor:"billed",children:"Mark as billed"})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(je,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),s.jsxs(je,{variant:"primary",type:"submit",disabled:v,children:[s.jsx(zd,{className:"w-4 h-4 mr-2"}),v?"Saving...":"Save Changes"]})]})]})]})})};var fT="AlertDialog",[E7]=cn(fT,[uE]),Ns=uE(),pT=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ns(t);return s.jsx(uy,{...n,...r,modal:!0})};pT.displayName=fT;var C7="AlertDialogTrigger",mT=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Ns(r);return s.jsx(u3,{...i,...n,ref:t})});mT.displayName=C7;var k7="AlertDialogPortal",gT=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ns(t);return s.jsx(dy,{...n,...r})};gT.displayName=k7;var T7="AlertDialogOverlay",vT=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Ns(r);return s.jsx(tc,{...i,...n,ref:t})});vT.displayName=T7;var $a="AlertDialogContent",[P7,R7]=E7($a),yT=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,a=Ns(r),c=E.useRef(null),l=nt(t,c),d=E.useRef(null);return s.jsx(a3,{contentName:$a,titleName:xT,docsSlug:"alert-dialog",children:s.jsx(P7,{scope:r,cancelRef:d,children:s.jsxs(rc,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:Le(i.onOpenAutoFocus,h=>{h.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[s.jsx(Fv,{children:n}),s.jsx(D7,{contentRef:c})]})})})});yT.displayName=$a;var xT="AlertDialogTitle",wT=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Ns(r);return s.jsx(nc,{...i,...n,ref:t})});wT.displayName=xT;var bT="AlertDialogDescription",jT=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Ns(r);return s.jsx(sc,{...i,...n,ref:t})});jT.displayName=bT;var A7="AlertDialogAction",_T=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Ns(r);return s.jsx(Xd,{...i,...n,ref:t})});_T.displayName=A7;var ST="AlertDialogCancel",NT=E.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=R7(ST,r),a=Ns(r),c=nt(t,i);return s.jsx(Xd,{...a,...n,ref:c})});NT.displayName=ST;var D7=({contentRef:e})=>{const t=`\`${$a}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${$a}\` by passing a \`${bT}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${$a}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},I7=pT,O7=mT,M7=gT,ET=vT,CT=yT,kT=_T,TT=NT,PT=wT,RT=jT;const Kl=I7,Pd=O7,F7=M7,AT=E.forwardRef(({className:e,...t},r)=>s.jsx(ET,{className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));AT.displayName=ET.displayName;const to=E.forwardRef(({className:e,...t},r)=>s.jsxs(F7,{children:[s.jsx(AT,{}),s.jsx(CT,{ref:r,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));to.displayName=CT.displayName;const ro=({className:e,...t})=>s.jsx("div",{className:Re("flex flex-col space-y-2 text-center sm:text-left",e),...t});ro.displayName="AlertDialogHeader";const no=({className:e,...t})=>s.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});no.displayName="AlertDialogFooter";const so=E.forwardRef(({className:e,...t},r)=>s.jsx(PT,{ref:r,className:Re("text-lg font-semibold",e),...t}));so.displayName=PT.displayName;const io=E.forwardRef(({className:e,...t},r)=>s.jsx(RT,{ref:r,className:Re("text-sm text-muted-foreground",e),...t}));io.displayName=RT.displayName;const ao=E.forwardRef(({className:e,...t},r)=>s.jsx(kT,{ref:r,className:Re(zl(),e),...t}));ao.displayName=kT.displayName;const oo=E.forwardRef(({className:e,...t},r)=>s.jsx(TT,{ref:r,className:Re(zl({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));oo.displayName=TT.displayName;const L7=({isOpen:e,onClose:t,timeEntry:r})=>{const[n,i]=E.useState(!1),{deleteHourEntry:a}=hn(),c=async()=>{i(!0);try{console.log("Attempting to delete time entry:",r.id),await a(r.id),console.log("Time entry deleted successfully"),t()}catch(l){console.error("Error deleting time entry:",l)}finally{i(!1)}};return s.jsx(Kl,{open:e,onOpenChange:t,children:s.jsxs(to,{children:[s.jsxs(ro,{children:[s.jsx(so,{children:"Delete Time Entry"}),s.jsx(io,{asChild:!0,children:s.jsxs("div",{children:["Are you sure you want to delete this time entry?",s.jsxs("div",{className:"mt-2 p-3 bg-slate-50 rounded border",children:[s.jsx("div",{className:"font-medium",children:vd(r.date)}),s.jsxs("div",{className:"text-sm text-slate-600",children:[r.hours," ",r.hours===1?"hour":"hours",r.description&&s.jsx("div",{className:"line-clamp-2 mt-1",children:r.description})]})]}),"This action cannot be undone."]})})]}),s.jsxs(no,{children:[s.jsx(oo,{onClick:t,children:"Cancel"}),s.jsx(ao,{onClick:c,disabled:n,className:"ui-button ui-button--danger",children:n?"Deleting...":"Delete"})]})]})})},U7=({milestones:e,hourEntries:t,onAddTimeEntry:r})=>{const{isAdmin:n}=_t(),{refreshHourEntries:i}=hn(),[a,c]=E.useState(null),[l,d]=E.useState(null),[h,f]=E.useState(new Set),[m,g]=E.useState(!1),v=()=>{c(null),i()},x=()=>{d(null),i()},y=t.filter(_=>!(_.milestoneId&&typeof _.milestoneId=="object")),b=y.reduce((_,S)=>{const T=S.milestoneId||"unassigned";return _[T]||(_[T]=[]),_[T].push(S),_},{}),w=b.unassigned||[],N=w.reduce((_,S)=>_+S.hours,0);return s.jsxs(s.Fragment,{children:[s.jsxs(We,{children:[s.jsx(ot,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(lt,{className:"flex items-center",children:[s.jsx($d,{className:"w-5 h-5 mr-2"}),"Hours by Milestone (",y.length," entries)"]}),r&&s.jsxs(je,{onClick:r,size:"sm",variant:"outline",children:[s.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Entry"]})]})}),s.jsxs(qe,{className:"space-y-4",children:[e.map(_=>{const S=b[_.id]||[],T=S.reduce((U,$)=>U+$.hours,0),F=S.filter(U=>U.billed).reduce((U,$)=>U+$.hours,0);return S.length===0?null:s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium",children:_.title}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${_.status==="completed"?"ui-pill ui-pill--success":_.status==="in-progress"?"ui-pill ui-pill--info":"ui-pill ui-pill--neutral"}`,children:_.status.replace("-"," ")})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:T.toFixed(1)}),s.jsx("p",{className:"text-sm text-slate-600",children:"Total Hours"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-semibold text-green-600",children:F.toFixed(1)}),s.jsx("p",{className:"text-sm text-slate-600",children:"Billed Hours"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-semibold text-orange-600",children:(T-F).toFixed(1)}),s.jsx("p",{className:"text-sm text-slate-600",children:"Unbilled Hours"})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{children:"Milestone Progress"}),s.jsxs("span",{children:[_.completionPercentage,"%"]})]}),s.jsx(Ol,{value:_.completionPercentage,className:"h-2"})]}),S.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Time Entries:"}),(h.has(_.id)?S:S.slice(0,5)).map(U=>s.jsxs("div",{className:"flex justify-between items-center text-sm bg-slate-50 p-2 rounded",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium line-clamp-1",children:U.description||"Time entry"}),s.jsx("p",{className:"text-slate-500",children:vd(U.date)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium",children:[U.hours,"h"]}),s.jsx("p",{className:`text-xs ${U.billed?"text-green-600":"text-orange-600"}`,children:U.billed?"Billed":"Unbilled"})]}),n&&s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(je,{size:"sm",variant:"ghost",onClick:()=>c(U),className:"h-8 w-8 p-0",children:s.jsx(bs,{className:"w-3 h-3"})}),s.jsx(je,{size:"sm",variant:"ghost",onClick:()=>d(U),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:s.jsx(Xn,{className:"w-3 h-3"})})]})]})]},U.id)),S.length>5&&!h.has(_.id)&&s.jsxs(je,{variant:"ghost",size:"sm",onClick:()=>f(U=>new Set([...U,_.id])),className:"w-full text-xs text-slate-500 hover:text-slate-700",children:["Load ",S.length-5," more entries"]}),h.has(_.id)&&S.length>5&&s.jsx(je,{variant:"ghost",size:"sm",onClick:()=>f(U=>{const $=new Set(U);return $.delete(_.id),$}),className:"w-full text-xs text-slate-500 hover:text-slate-700",children:"Show less"})]})]},_.id)}),N>0&&s.jsxs("div",{className:"border-2 border-dashed border-orange-200 rounded-lg p-4 bg-orange-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-orange-800",children:"Unassigned Hours"}),s.jsxs(Xe,{className:"ui-pill ui-pill--warning",children:[N.toFixed(1)," hours"]})]}),s.jsx("p",{className:"text-sm text-orange-700 mb-3",children:"These hours are not assigned to any milestone. Consider assigning them to track progress accurately."}),s.jsxs("div",{className:"space-y-1",children:[(m?w:w.slice(0,5)).map(_=>s.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded border",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium line-clamp-1",children:_.description||"Time entry"}),s.jsx("p",{className:"text-slate-500",children:vd(_.date)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium",children:[_.hours,"h"]}),s.jsx("p",{className:`text-xs ${_.billed?"text-green-600":"text-orange-600"}`,children:_.billed?"Billed":"Unbilled"})]}),n&&s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(je,{size:"sm",variant:"ghost",onClick:()=>c(_),className:"h-8 w-8 p-0",children:s.jsx(bs,{className:"w-3 h-3"})}),s.jsx(je,{size:"sm",variant:"ghost",onClick:()=>d(_),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:s.jsx(Xn,{className:"w-3 h-3"})})]})]})]},_.id)),w.length>5&&!m&&s.jsxs(je,{variant:"ghost",size:"sm",onClick:()=>g(!0),className:"w-full text-xs text-orange-600 hover:text-orange-700 mt-1",children:["Load ",w.length-5," more entries"]}),m&&w.length>5&&s.jsx(je,{variant:"ghost",size:"sm",onClick:()=>g(!1),className:"w-full text-xs text-orange-600 hover:text-orange-700 mt-1",children:"Show less"})]})]}),e.length===0&&N===0&&s.jsxs("div",{className:"text-center py-4 text-slate-500",children:[s.jsx(Br,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No time entries found for this project"})]})]})]}),a&&s.jsx(N7,{isOpen:!0,onClose:v,timeEntry:a}),l&&s.jsx(L7,{isOpen:!0,onClose:x,timeEntry:l})]})},DT=({isOpen:e,onClose:t,onAdd:r,project:n})=>{const[i,a]=E.useState(""),[c,l]=E.useState(""),[d,h]=E.useState(""),[f,m]=E.useState("pending"),[g,v]=E.useState(0),[x,y]=E.useState(8),b=w=>{w.preventDefault(),!(!i||!d)&&(r({projectId:n.id,title:i,description:c||void 0,targetDate:d,status:f,amount:g>0?g:void 0,currency:"USD",estimatedHours:x>0?x:void 0}),a(""),l(""),h(""),m("pending"),v(0),y(8),t())};return s.jsx(gr,{open:e,onOpenChange:t,children:s.jsxs(ur,{className:"sm:max-w-md",children:[s.jsxs(dr,{children:[s.jsxs(hr,{className:"flex items-center",children:[s.jsx($d,{className:"w-5 h-5 mr-2"}),"Add Milestone for ",n.name]}),s.jsx(hi,{children:"Create a new milestone to track progress on this project."})]}),s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"title",children:"Milestone Title"}),s.jsx(De,{id:"title",value:i,onChange:w=>a(w.target.value),placeholder:"Enter milestone title",required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"description",children:"Description (Optional)"}),s.jsx(tr,{id:"description",value:c,onChange:w=>l(w.target.value),placeholder:"Describe the milestone",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"targetDate",children:"Target Date"}),s.jsx(De,{id:"targetDate",type:"date",value:d,onChange:w=>h(w.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"status",children:"Status"}),s.jsxs(vt,{value:f,onValueChange:w=>m(w),children:[s.jsx(dt,{children:s.jsx(yt,{})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"pending",children:"Pending"}),s.jsx(Oe,{value:"in-progress",children:"In Progress"}),s.jsx(Oe,{value:"completed",children:"Completed"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"amount",children:"Amount ($)"}),s.jsx(De,{id:"amount",type:"number",step:"0.01",value:g,onChange:w=>v(parseFloat(w.target.value)||0),placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"estimatedHours",children:"Estimated Hours"}),s.jsx(De,{id:"estimatedHours",type:"number",step:"0.5",value:x,onChange:w=>y(parseFloat(w.target.value)||0),placeholder:"0"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(je,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),s.jsxs(je,{variant:"primary",type:"submit",children:[s.jsx(zd,{className:"w-4 h-4 mr-2"}),"Add Milestone"]})]})]})]})})},B7=({project:e,client:t,milestones:r,tasks:n,onAddMilestone:i})=>{const[a,c]=E.useState(!1),[l,d]=E.useState(!1),{hourEntries:h}=hn(),{displayCurrency:f}=pt(),[m,g]=E.useState(0),v=e.useMilestones!==!1,x=e.status==="active",y=e.pricingType==="fixed",b=h.filter(S=>S.projectId===e.id);E.useEffect(()=>{const S=()=>{g(T=>T+1)};return window.addEventListener("currencyChanged",S),()=>{window.removeEventListener("currencyChanged",S)}},[]);const w=()=>e.pricingType==="daily"?"Log Days":"Log Hours",N=()=>{c(!1),d(!0)},_=S=>{i&&i(S),d(!1),c(!0)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:y?"Progress & Revenue Tracking":"Time Tracking"}),t&&s.jsxs("div",{className:"flex items-center gap-2",children:[!y&&s.jsxs(je,{variant:"primary",onClick:()=>x&&c(!0),disabled:!x,children:[s.jsx(Br,{className:"w-4 h-4 mr-2"}),w()]}),y&&r.length===0&&s.jsx("div",{className:"text-sm text-slate-500",children:"Add milestones to track project progress and revenue"})]})]}),s.jsx(u7,{project:e,client:t,milestones:r,tasks:n||[]},`billed-hours-${f}-${m}`),v&&b.length>0&&s.jsx(U7,{milestones:r,hourEntries:b,onAddTimeEntry:t&&x?()=>c(!0):void 0})]}),t&&s.jsxs(s.Fragment,{children:[s.jsx(m7,{isOpen:a,onClose:()=>c(!1),project:e,client:t,milestones:r,tasks:n||[],onCreateMilestone:N}),s.jsx(DT,{isOpen:l,onClose:()=>d(!1),onAdd:_,project:e})]})]})},H7=({isOpen:e,onClose:t,onUpdate:r,milestone:n})=>{const[i,a]=E.useState({title:n.title,description:n.description||"",targetDate:n.targetDate,status:n.status,amount:n.amount||0,currency:n.currency||"USD",completionPercentage:n.completionPercentage,estimatedHours:n.estimatedHours||8}),c=l=>{l.preventDefault(),r(n.id,i),t()};return s.jsx(gr,{open:e,onOpenChange:t,children:s.jsxs(ur,{className:"sm:max-w-[500px]",children:[s.jsxs(dr,{children:[s.jsx(hr,{children:"Edit Milestone"}),s.jsx(hi,{children:"Update the milestone details and status."})]}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"title",children:"Title"}),s.jsx(De,{id:"title",value:i.title,onChange:l=>a({...i,title:l.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"description",children:"Description"}),s.jsx(tr,{id:"description",value:i.description,onChange:l=>a({...i,description:l.target.value}),placeholder:"Milestone description..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"targetDate",children:"Target Date"}),s.jsx(De,{id:"targetDate",type:"date",value:i.targetDate,onChange:l=>a({...i,targetDate:l.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"status",children:"Status"}),s.jsxs(vt,{value:i.status,onValueChange:l=>a({...i,status:l}),children:[s.jsx(dt,{children:s.jsx(yt,{})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"pending",children:"Pending"}),s.jsx(Oe,{value:"in-progress",children:"In Progress"}),s.jsx(Oe,{value:"completed",children:"Completed"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"amount",children:"Amount"}),s.jsx(De,{id:"amount",type:"number",step:"0.01",value:i.amount,onChange:l=>a({...i,amount:parseFloat(l.target.value)||0})})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"currency",children:"Currency"}),s.jsxs(vt,{value:i.currency,onValueChange:l=>a({...i,currency:l}),children:[s.jsx(dt,{children:s.jsx(yt,{})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"USD",children:"USD"}),s.jsx(Oe,{value:"EUR",children:"EUR"}),s.jsx(Oe,{value:"GBP",children:"GBP"})]})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"estimatedHours",children:"Est. Hours"}),s.jsx(De,{id:"estimatedHours",type:"number",step:"0.5",value:i.estimatedHours,onChange:l=>a({...i,estimatedHours:parseFloat(l.target.value)||0})})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"completion",children:"Completion %"}),s.jsx(De,{id:"completion",type:"number",min:"0",max:"100",value:i.completionPercentage,onChange:l=>a({...i,completionPercentage:parseInt(l.target.value)||0})})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(je,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),s.jsx(je,{type:"submit",children:"Update Milestone"})]})]})]})})},z7=({milestone:e,onEdit:t,onDelete:r,onView:n})=>s.jsx("div",{className:"border rounded-lg p-4 cursor-pointer hover:bg-slate-50",onClick:()=>n&&n(e),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 mr-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("h4",{className:"font-medium",children:e.title}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${e.status==="completed"?"ui-pill ui-pill--success":e.status==="in-progress"?"ui-pill ui-pill--info":"ui-pill ui-pill--neutral"}`,children:e.status.replace("-"," ")})]}),s.jsx("p",{className:"text-sm text-slate-600 mb-1 line-clamp-2",children:e.description}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-500",children:[s.jsxs("span",{children:["Due: ",vd(e.targetDate)]}),e.amount&&s.jsxs("span",{children:["Value: $",e.amount.toLocaleString()]}),s.jsxs("span",{children:[e.completionPercentage,"% complete"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",onClick:i=>i.stopPropagation(),children:[s.jsx(je,{size:"sm",variant:"outline",onClick:()=>t(e),children:s.jsx(bs,{className:"w-4 h-4"})}),s.jsx(je,{size:"sm",variant:"outline",onClick:()=>r(e.id),className:"text-red-600 hover:text-red-700",children:s.jsx(Xn,{className:"w-4 h-4"})})]})]})}),$7=({milestones:e,onAddMilestone:t,onEditMilestone:r,onDeleteMilestone:n,onViewMilestone:i,canAdd:a=!0})=>e.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-slate-500 mb-4",children:"No milestones yet for this project"}),s.jsxs(je,{variant:"primary",onClick:t,disabled:!a,children:[s.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add First Milestone"]})]}):s.jsx("div",{className:"space-y-4",children:e.map(c=>s.jsx(z7,{milestone:c,onEdit:r,onDelete:n,onView:i},c.id))}),W7=({milestone:e,isOpen:t,onClose:r})=>{if(!e)return null;const n=i=>{switch(i){case"completed":return"ui-pill ui-pill--success ";case"in-progress":return"ui-pill ui-pill--info ";case"pending":return"ui-pill ui-pill--neutral ";default:return"ui-pill ui-pill--neutral "}};return s.jsx(ic,{open:t,onOpenChange:r,children:s.jsxs(bo,{className:"w-[400px] sm:w-[540px] overflow-y-auto",children:[s.jsxs(ac,{children:[s.jsx("div",{className:"mb-2",children:s.jsx(Xe,{className:n(e.status),children:e.status.replace("-"," ")})}),s.jsx(oc,{children:e.title}),s.jsx(hy,{children:"Milestone details and information"})]}),s.jsxs("div",{className:"mt-6 space-y-6",children:[e.description&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-700",children:"Description"}),s.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:e.description})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"text-sm font-medium text-slate-700 flex items-center",children:[s.jsx(un,{className:"w-4 h-4 mr-2"}),"Dates"]}),s.jsx("div",{className:"text-sm text-slate-600 ml-6",children:s.jsxs("div",{children:["Target date: ",new Date(e.targetDate).toLocaleDateString()]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"text-sm font-medium text-slate-700 flex items-center",children:[s.jsx($d,{className:"w-4 h-4 mr-2"}),"Progress"]}),s.jsxs("div",{className:"text-sm text-slate-600 ml-6",children:[s.jsxs("div",{children:["Completion: ",e.completionPercentage,"%"]}),typeof e.estimatedHours=="number"&&s.jsxs("div",{children:["Estimated hours: ",e.estimatedHours]}),typeof e.amount=="number"&&s.jsxs("div",{children:["Amount: ",e.amount.toLocaleString()," ",e.currency||"USD"]})]})]})]})]})})},q7=({project:e,client:t,milestones:r,onAddMilestone:n,onUpdateMilestone:i,onDeleteMilestone:a})=>{const[c,l]=E.useState(!1),[d,h]=E.useState(null),[f,m]=E.useState(null),g=e.status==="active",v=e.pricingType==="fixed";return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:v?"Project Milestones":"Milestones"}),s.jsxs("div",{className:"flex items-center gap-3",children:[!g&&s.jsx("span",{className:"text-sm text-slate-500",children:"Project is inactive"}),s.jsxs(je,{variant:"primary",onClick:()=>l(!0),disabled:!g,children:[s.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Milestone"]})]})]}),s.jsx(We,{children:s.jsx(qe,{className:"p-6",children:s.jsx($7,{milestones:r,onAddMilestone:()=>l(!0),onEditMilestone:h,onDeleteMilestone:a,onViewMilestone:m,canAdd:g})})}),s.jsx(DT,{isOpen:c,onClose:()=>l(!1),onAdd:n,project:e}),d&&s.jsx(H7,{isOpen:!0,onClose:()=>h(null),onUpdate:i,milestone:d}),s.jsx(W7,{milestone:f,isOpen:!!f,onClose:()=>m(null)})]})},V7=({isOpen:e,onClose:t,onAdd:r,projectId:n,clientId:i,clientName:a,useMilestonesEnabled:c=!0})=>{const{milestones:l}=Eo(),{isAdmin:d}=_t(),[h,f]=E.useState({title:"",description:"",estimatedHours:"",milestoneId:"",notes:"",startDate:"",endDate:"",urgent:!1}),m=l.filter(y=>y.projectId===n&&y.status==="in-progress"),g=!d&&c&&m.length>0,v=y=>{if(y.preventDefault(),g&&(!h.milestoneId||h.milestoneId==="none")){kl.error("Please select a milestone - it is required for this project");return}const b={title:h.title,description:h.description,clientId:i,clientName:a,projectId:n,milestoneId:h.milestoneId==="none"?void 0:h.milestoneId||void 0,estimatedHours:h.estimatedHours?parseInt(h.estimatedHours):void 0,notes:h.notes,assets:[],startDate:h.startDate||void 0,endDate:h.endDate||void 0,urgent:h.urgent};r(b),f({title:"",description:"",estimatedHours:"",milestoneId:"",notes:"",startDate:"",endDate:"",urgent:!1}),t()},x=(y,b)=>{f(w=>({...w,[y]:b}))};return s.jsx(gr,{open:e,onOpenChange:t,children:s.jsxs(ur,{className:"max-w-md",children:[s.jsx(dr,{children:s.jsx(hr,{children:"Add Task to Project"})}),s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"title",children:"Task Title"}),s.jsx(De,{id:"title",value:h.title,onChange:y=>x("title",y.target.value),placeholder:"Enter task title",required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"description",children:"Description"}),s.jsx(tr,{id:"description",value:h.description,onChange:y=>x("description",y.target.value),placeholder:"Task description...",rows:3})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"estimatedHours",children:"Estimated Hours"}),s.jsx(De,{id:"estimatedHours",type:"number",value:h.estimatedHours,onChange:y=>x("estimatedHours",y.target.value),placeholder:"Enter estimated hours",min:"1"})]}),s.jsxs("div",{children:[s.jsxs(we,{htmlFor:"milestone",children:["Milestone ",g?"*":""]}),s.jsxs(vt,{value:h.milestoneId,onValueChange:y=>x("milestoneId",y),children:[s.jsx(dt,{children:s.jsx(yt,{placeholder:m.length===0?"No in-progress milestones available":g?"Select a milestone (required)":"Select a milestone (optional)"})}),s.jsxs(ht,{children:[!g&&s.jsx(Oe,{value:"none",children:"No milestone"}),m.map(y=>s.jsx(Oe,{value:y.id,children:y.title},y.id))]})]}),g&&s.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Milestone selection is required for standard users."}),m.length===0&&s.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"No in-progress milestones found. Consider creating or activating a milestone for better time tracking."})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(we,{htmlFor:"urgent",className:"text-sm font-medium",children:"Mark as Urgent"}),s.jsx(dn,{id:"urgent",checked:h.urgent,onCheckedChange:y=>f(b=>({...b,urgent:y}))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"startDate",children:"Start Date"}),s.jsx(De,{id:"startDate",type:"date",value:h.startDate,onChange:y=>x("startDate",y.target.value)})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"endDate",children:"End Date"}),s.jsx(De,{id:"endDate",type:"date",value:h.endDate,onChange:y=>x("endDate",y.target.value)})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"notes",children:"Notes"}),s.jsx(tr,{id:"notes",value:h.notes,onChange:y=>x("notes",y.target.value),placeholder:"Additional notes...",rows:2})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(je,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),s.jsx(je,{variant:"primary",type:"submit",children:"Add Task"})]})]})]})})},K7=({project:e,client:t,tasks:r,onAddTask:n})=>{const[i,a]=E.useState(!1),c=e.status==="active",[l,d]=E.useState(null);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Tasks"}),s.jsxs("div",{className:"flex items-center gap-3",children:[!c&&s.jsx("span",{className:"text-sm text-slate-500",children:"Project is inactive"}),s.jsxs(je,{variant:"primary",onClick:()=>a(!0),disabled:!c,children:[s.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Task"]})]})]}),s.jsx(We,{children:s.jsx(qe,{className:"p-6",children:r.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-slate-500 mb-4",children:"No tasks yet for this project"}),s.jsxs(je,{variant:"primary",onClick:()=>a(!0),disabled:!c,children:[s.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add First Task"]})]}):s.jsx("div",{className:"space-y-4",children:r.map(h=>s.jsx("div",{className:"border rounded-lg p-4 cursor-pointer hover:bg-slate-50",onClick:()=>d(h),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[h.urgent&&s.jsx("div",{className:"mb-1",children:s.jsx(Xe,{className:"ui-pill ui-pill--danger",children:"Urgent"})}),s.jsx("h4",{className:"font-medium",children:h.title}),h.description&&s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:h.description}),h.workedHours&&h.workedHours>0&&s.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[h.workedHours,"h worked"]})]}),s.jsx("div",{className:"text-right ml-4",children:s.jsx(Xe,{className:h.status==="completed"?"ui-pill ui-pill--success":h.status==="in-progress"?"ui-pill ui-pill--info":"ui-pill ui-pill--neutral",children:h.status.replace("-"," ")})})]})},h.id))})})}),s.jsx(V7,{isOpen:i,onClose:()=>a(!1),onAdd:n,projectId:e.id,clientId:t?.id||0,clientName:t?.name||"",useMilestonesEnabled:e.useMilestones}),s.jsx(fh,{task:l,isOpen:!!l,onClose:()=>d(null),projects:[{id:e.id,name:e.name,pricingType:e.pricingType}]})]})},G7=({project:e,client:t,tasks:r,milestones:n,onAddTask:i,onAddMilestone:a,onUpdateMilestone:c,onDeleteMilestone:l})=>s.jsxs("div",{className:"space-y-6",children:[s.jsx(B7,{project:e,client:t,milestones:n,tasks:r,onAddMilestone:a}),e.useMilestones!==!1&&s.jsx(q7,{project:e,client:t,milestones:n,onAddMilestone:a,onUpdateMilestone:c,onDeleteMilestone:l}),s.jsx(K7,{project:e,client:t,tasks:r,onAddTask:i})]}),Y7=({project:e,client:t,onUpdateProject:r})=>{const[n,i]=E.useState({name:"",title:"",notes:""}),[a,c]=E.useState(!1);!e.team||e.team.length===0||e.team.map(m=>typeof m=="string"?{name:m,title:"",notes:""}:m);const d=()=>{if(n.name.trim()){const m=[...e.team||[],JSON.stringify(n)];r(e.id,{...e,team:m}),i({name:"",title:"",notes:""}),c(!1)}},h=m=>{const g=(e.team||[]).filter((v,x)=>x!==m);r(e.id,{...e,team:g})},f=m=>{if(typeof m=="string")try{const g=JSON.parse(m);return{name:g.name||m,title:g.title||"",notes:g.notes||""}}catch{return{name:m,title:"",notes:""}}return m};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(We,{children:[s.jsx(ot,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(lt,{className:"flex items-center",children:[s.jsx(Xr,{className:"w-5 h-5 mr-2"}),"Team Members (",e.team?.length||0,")"]}),s.jsxs(je,{variant:"primary",onClick:()=>c(!a),size:"sm",children:[s.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Member"]})]})}),s.jsxs(qe,{children:[a&&s.jsxs("div",{className:"space-y-3 mb-4 p-4 border rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Name *"}),s.jsx(De,{placeholder:"Team member name",value:n.name,onChange:m=>i({...n,name:m.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Title"}),s.jsx(De,{placeholder:"Job title (e.g., Developer)",value:n.title,onChange:m=>i({...n,title:m.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Notes"}),s.jsx(De,{placeholder:"Additional notes",value:n.notes,onChange:m=>i({...n,notes:m.target.value}),onKeyPress:m=>m.key==="Enter"&&d()})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(je,{variant:"primary",onClick:d,size:"sm",children:"Add Member"}),s.jsx(je,{variant:"outline",onClick:()=>c(!1),size:"sm",children:"Cancel"})]})]}),e.team&&e.team.length>0?s.jsx("div",{className:"space-y-3",children:e.team.map((m,g)=>{const v=f(m);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Kv,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:v.name}),v.title&&s.jsx("p",{className:"text-sm text-slate-600",children:v.title}),v.notes&&s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:v.notes})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Xe,{className:"ui-pill ui-pill--success",children:"Active"}),s.jsx(je,{variant:"danger",onClick:()=>h(g),size:"sm",children:s.jsx(Xn,{className:"w-4 h-4"})})]})]},g)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Xr,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-slate-600 mb-2",children:"No team members yet"}),s.jsx("p",{className:"text-slate-500 mb-4",children:"Add team members to start collaborating on this project"})]})]})]}),s.jsxs(We,{children:[s.jsx(ot,{children:s.jsx(lt,{children:"Team Activity"})}),s.jsx(qe,{children:s.jsx("p",{className:"text-slate-500 text-center py-8",children:"No recent team activity"})})]})]})},X7=({project:e,budgetMetrics:t,displayCurrency:r})=>{const{demoMode:n}=pt(),i=e.pricingType==="fixed",a=(c,l=!1)=>{if(n&&l)return"";const d=Math.round(c);if(d>=1e3){const h=(d/1e3).toFixed(2).replace(/\.?0+$/,"");return l?`${r==="RON"?"RON ":r==="EUR"?"":"$"}${h}K`:`${h}K`}return l?`${r==="RON"?"RON ":r==="EUR"?"":"$"}${d}`:d.toString()};return s.jsx(ti,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${i?"ui-pill ui-pill--info":"ui-pill ui-pill--success"}`,children:i?"Fixed Price Project":"Hourly Project"}),i&&s.jsxs("span",{className:"text-sm text-slate-600",children:["Budget: ",n?"":ct(t.totalBudget,r)]}),!i&&s.jsxs("span",{className:"text-sm text-slate-600",children:["Rate: ",n?"":ct(e.hourlyRate||0,r),"/hr"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center p-4 rounded-lg bg-slate-50",children:[s.jsxs(lr,{children:[s.jsx(cr,{asChild:!0,children:s.jsx("p",{className:"text-zinc-950 text-4xl font-normal cursor-help",children:a(t.totalBudget,!0)})}),s.jsx(er,{children:s.jsx("p",{children:n?"":ct(t.totalBudget,r)})})]}),s.jsx("p",{className:"text-slate-600 py-[24px] text-base",children:"Total Budget"})]}),s.jsxs("div",{className:"text-center p-4 rounded-lg bg-slate-50",children:[s.jsxs(lr,{children:[s.jsx(cr,{asChild:!0,children:s.jsx("p",{className:`text-4xl font-normal cursor-help ${t.budgetProgress>100?"text-red-600":"text-zinc-950"}`,children:n?"":`${t.budgetProgress.toFixed(1)}%`})}),s.jsxs(er,{children:[s.jsx("p",{children:n?"":`${t.budgetProgress.toFixed(1)}% of budget used`}),t.budgetProgress>100&&!n&&s.jsxs("p",{className:"text-red-600",children:["Over budget by ",(t.budgetProgress-100).toFixed(1),"%"]})]})]}),s.jsx("p",{className:"text-slate-600 py-[24px] text-base",children:"Budget Used"})]})]})]})})},Q7=({budgetMetrics:e,averageCompletion:t})=>{const{demoMode:r}=pt();return s.jsxs(We,{children:[s.jsx(ot,{children:s.jsx(lt,{children:"Progress vs Revenue"})}),s.jsxs(qe,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Milestone Completion"}),s.jsx("span",{className:"text-sm text-slate-600",children:r?"":`${t.toFixed(1)}%`})]}),s.jsx(Ol,{value:r?0:Math.min(t,100),className:"h-3"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Revenue Progress"}),s.jsx("span",{className:"text-sm text-slate-600",children:r?"":`${e.revenueProgress.toFixed(1)}%`})]}),s.jsx(Ol,{value:r?0:Math.min(e.revenueProgress,100),className:"h-3"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Budget Usage"}),s.jsx("span",{className:`text-sm ${e.budgetProgress>100&&!r?"text-red-600 font-semibold":"text-slate-600"}`,children:r?"":`${e.budgetProgress.toFixed(1)}%`})]}),s.jsx(Ol,{value:r?0:Math.min(e.budgetProgress,100),className:`h-3 ${e.budgetProgress>100&&!r?"[&>div]:bg-red-500":""}`}),e.budgetProgress>100&&!r&&s.jsx("div",{className:"mt-1",children:s.jsxs("span",{className:"text-xs text-red-600",children:["Over budget by ",(e.budgetProgress-100).toFixed(1),"%"]})})]}),e.budgetProgress>t+15&&!r&&s.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-yellow-800",children:" Budget usage is significantly ahead of milestone completion. Review project scope or budget allocation."})}),e.revenueProgress<t-20&&!r&&s.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-blue-800",children:" Consider invoicing for completed milestones to improve cash flow."})})]})]})},J7=({project:e,projectMilestones:t,projectInvoices:r,displayCurrency:n,convert:i})=>{const{demoMode:a}=pt(),c=(l,d=!1)=>{if(a&&d)return"";const h=Math.round(l);if(h>=1e3){const f=(h/1e3).toFixed(2).replace(/\.?0+$/,"");return d?`${n==="RON"?"RON ":n==="EUR"?"":"$"}${f}K`:`${f}K`}return d?`${n==="RON"?"RON ":n==="EUR"?"":"$"}${h}`:h.toString()};return s.jsxs(We,{children:[s.jsx(ot,{children:s.jsx(lt,{children:"Milestone Financial Status"})}),s.jsx(qe,{children:t.length>0?s.jsx(ti,{children:s.jsx("div",{className:"space-y-3",children:t.map(l=>{const d=a?0:i(l.amount||0,e.currency,n);return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h4",{className:"font-medium",children:l.title}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${l.status==="completed"?"ui-pill ui-pill--success":l.status==="in-progress"?"ui-pill ui-pill--info":"ui-pill ui-pill--neutral"}`,children:l.status})]}),s.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[s.jsxs("p",{className:"text-sm text-slate-600",children:["Due: ",new Date(l.targetDate).toLocaleDateString()]}),s.jsxs("p",{className:"text-sm text-slate-600",children:[a?"":`${l.completionPercentage}%`," complete"]})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs(lr,{children:[s.jsx(cr,{asChild:!0,children:s.jsx("p",{className:"font-medium cursor-help",children:c(d,!0)})}),s.jsx(er,{children:s.jsx("p",{children:a?"":ct(d,n)})})]})})]},l.id)})})}):s.jsx("p",{className:"text-slate-500 text-center py-4",children:"No milestones to analyze"})})]})},Z7=({project:e,tasks:t,totalActualHours:r,totalInvoiceAmount:n,budgetMetrics:i,displayCurrency:a,convert:c,client:l})=>{const{demoMode:d}=pt(),h=e.pricingType==="fixed",f=t.reduce((m,g)=>m+(g.estimatedHours||0),0);return h?l?.price:e.hourlyRate,s.jsxs(We,{children:[s.jsx(ot,{children:s.jsx(lt,{children:"Time Investment Analysis"})}),s.jsx(qe,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-lg",children:[s.jsx("span",{className:"font-medium",children:"Total Hours Worked"}),s.jsx("span",{className:"font-bold",children:d?"":`${r}h`})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-lg",children:[s.jsx("span",{className:"font-medium",children:"Effective Hourly Rate"}),s.jsx("span",{className:"font-bold",children:d?"":`${ct(r>0?i.revenueEarned/r:0,a)}/hr`})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-lg",children:[s.jsx("span",{className:"font-medium",children:"Revenue per Hour"}),s.jsx("span",{className:"font-bold",children:d?"":`${ct(r>0?n/r:0,a)}/hr`})]}),h&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"font-medium",children:"Target Hourly Rate"}),s.jsx("span",{className:"font-bold",children:d?"":`${ct(f>0?i.totalBudget/f:0,a)}/hr`})]})]})})]})},e9=({project:e,client:t,tasks:r,milestones:n})=>{const{invoices:i}=aT(),{hourEntries:a}=hn(),{displayCurrency:c,convert:l,demoMode:d}=pt(),h=e.pricingType==="fixed",f=n.filter($=>$.projectId===e.id),m=i.filter($=>$.projectId===e.id),v=a.filter($=>$.projectId===e.id).reduce(($,A)=>$+A.hours,0);if(e.useMilestones!==!1&&f.length===0)return s.jsx("div",{className:"space-y-6",children:s.jsx(We,{children:s.jsx(qe,{className:"p-6 text-center text-slate-600",children:s.jsx("div",{className:"max-w-xl mx-auto",children:s.jsx("p",{className:"text-base",children:"No milestones found for this project. Add milestones to enable budget tracking and revenue insights."})})})})});const x=d?0:f.reduce(($,A)=>{const J=A.amount||0,pe=l(J,e.currency,c);return $+pe},0),y=d?0:m.reduce(($,A)=>{const J=l(A.amount,A.currency,c);return $+J},0),b=m.filter($=>$.status==="paid"),w=d?0:b.reduce(($,A)=>{const J=l(A.amount,A.currency,c);return $+J},0),N=f.filter($=>$.status==="completed").length;f.length>0&&N/f.length*100;const _=d?0:f.length>0?f.reduce(($,A)=>$+A.completionPercentage,0)/f.length:0,S=r.reduce(($,A)=>$+(A.estimatedHours||0),0),T=v||r.reduce(($,A)=>$+(A.actualHours||0),0),F=h?t?.price||0:e.hourlyRate||0;let U;if(h){const $=d?0:l(e.fixedPrice||x,e.currency,c),A=d?0:T*l(F,e.currency,c);let J=0;$>0&&!d&&(J=A/$*100),U={totalBudget:$,spentAmount:A,remainingBudget:$-A,budgetProgress:J,revenueEarned:w,revenueProgress:$>0&&!d?w/$*100:0}}else{const $=d?0:(e.estimatedHours||S)*l(F,e.currency,c),A=d?0:T*l(F,e.currency,c);let J=0;$>0&&!d&&(J=A/$*100),U={totalBudget:$,spentAmount:A,remainingBudget:$-A,budgetProgress:J,revenueEarned:w,revenueProgress:$>0&&!d?w/$*100:0}}return s.jsxs("div",{className:"space-y-6",children:[s.jsx(X7,{project:e,budgetMetrics:U,displayCurrency:c}),s.jsx(Q7,{budgetMetrics:U,averageCompletion:_}),s.jsx(J7,{project:e,projectMilestones:f,projectInvoices:m,displayCurrency:c,convert:l}),s.jsx(Z7,{project:e,tasks:r,totalActualHours:T,totalInvoiceAmount:y,budgetMetrics:U,displayCurrency:c,convert:l,client:t})]})},t9=({project:e})=>{const t=()=>{console.log("Export to PDF")},r=()=>{console.log("Export to Excel")},n=()=>{console.log("Export summary")};return s.jsxs(We,{children:[s.jsx(ot,{children:s.jsxs(lt,{className:"flex items-center",children:[s.jsx(VS,{className:"w-5 h-5 mr-2"}),"Export Options"]})}),s.jsxs(qe,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(je,{onClick:t,variant:"outline",className:"h-auto p-4 flex-col",children:[s.jsx(Yn,{className:"w-8 h-8 mb-2"}),s.jsx("span",{className:"font-medium",children:"Export to PDF"}),s.jsx("span",{className:"text-sm text-slate-600",children:"Complete project report"})]}),s.jsxs(je,{onClick:r,variant:"outline",className:"h-auto p-4 flex-col",children:[s.jsx(PD,{className:"w-8 h-8 mb-2"}),s.jsx("span",{className:"font-medium",children:"Export to Excel"}),s.jsx("span",{className:"text-sm text-slate-600",children:"Task and time data"})]}),s.jsxs(je,{onClick:n,variant:"outline",className:"h-auto p-4 flex-col",children:[s.jsx(TD,{className:"w-8 h-8 mb-2"}),s.jsx("span",{className:"font-medium",children:"Project Summary"}),s.jsx("span",{className:"text-sm text-slate-600",children:"Quick overview document"})]})]}),s.jsxs("div",{className:"mt-6 p-4 bg-slate-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Export Options"}),s.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[s.jsx("li",{children:" PDF report includes project details, tasks, timeline, and budget information"}),s.jsx("li",{children:" Excel export contains detailed task data and time tracking information"}),s.jsx("li",{children:" Summary document provides a quick project overview for stakeholders"})]})]})]})]})},r9=({project:e,onUpdateProject:t,onArchiveProject:r,onDeleteProject:n})=>{const i=Dn(),[a,c]=E.useState({name:e.name,status:e.status,notes:e.notes||"",startDate:e.startDate,estimatedEndDate:e.estimatedEndDate,endDate:e.endDate||""}),l=()=>{t(e.id,{...e,...a})},d=()=>{r(e.id)},h=()=>{n(e.id),i("/projects")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(We,{children:[s.jsx(ot,{children:s.jsx(lt,{children:"Project Configuration"})}),s.jsxs(qe,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"project-name",children:"Project Name"}),s.jsx(De,{id:"project-name",value:a.name,onChange:f=>c({...a,name:f.target.value})})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"project-status",children:"Status"}),s.jsxs(vt,{value:a.status,onValueChange:f=>c({...a,status:f}),children:[s.jsx(dt,{children:s.jsx(yt,{})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"active",children:"Active"}),s.jsx(Oe,{value:"paused",children:"Paused"}),s.jsx(Oe,{value:"completed",children:"Completed"}),s.jsx(Oe,{value:"canceled",children:"Canceled"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"start-date",children:"Start Date"}),s.jsx(De,{id:"start-date",type:"date",value:a.startDate,onChange:f=>c({...a,startDate:f.target.value})})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"estimated-end-date",children:"Estimated End Date"}),s.jsx(De,{id:"estimated-end-date",type:"date",value:a.estimatedEndDate,onChange:f=>c({...a,estimatedEndDate:f.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"project-notes",children:"Notes"}),s.jsx(tr,{id:"project-notes",value:a.notes,onChange:f=>c({...a,notes:f.target.value}),rows:4})]}),s.jsx(je,{variant:"primary",onClick:l,children:"Save Changes"})]})]}),s.jsx(t9,{project:e}),s.jsxs(We,{className:"border-red-200",children:[s.jsx(ot,{children:s.jsx(lt,{className:"text-red-600",children:"Danger Zone"})}),s.jsxs(qe,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border border-yellow-200 rounded-lg bg-yellow-50",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Archive Project"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Archive this project to hide it from active projects list"})]}),s.jsxs(Kl,{children:[s.jsx(Pd,{asChild:!0,children:s.jsxs(je,{variant:"outline",children:[s.jsx(WS,{className:"w-4 h-4 mr-2"}),"Archive"]})}),s.jsxs(to,{children:[s.jsxs(ro,{children:[s.jsx(so,{children:"Archive Project"}),s.jsx(io,{children:'Are you sure you want to archive this project? You can still access it by toggling "Show Archived" on the projects page.'})]}),s.jsxs(no,{children:[s.jsx(oo,{children:"Cancel"}),s.jsx(ao,{onClick:d,children:"Archive"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-red-200 rounded-lg bg-red-50",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-red-600",children:"Delete Project"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Permanently delete this project and all associated data (tasks, milestones, etc.)"})]}),s.jsxs(Kl,{children:[s.jsx(Pd,{asChild:!0,children:s.jsxs(je,{variant:"danger",children:[s.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Delete"]})}),s.jsxs(to,{children:[s.jsxs(ro,{children:[s.jsx(so,{children:"Delete Project"}),s.jsxs(io,{children:['This action cannot be undone. This will permanently delete the project "',e.name,'" and all associated tasks, milestones, and data.']})]}),s.jsxs(no,{children:[s.jsx(oo,{children:"Cancel"}),s.jsx(ao,{onClick:h,className:"bg-red-100 text-red-800 hover:bg-red-200",children:"Delete Project"})]})]})]})]})]})]})]})},n9=()=>{const{id:e}=Dv(),t=Dn(),[r,n]=E.useState("overview"),[i,a]=E.useState(0),[c,l]=E.useState(null),{displayCurrency:d}=pt(),{profile:h,user:f}=_t(),m=h?.role??f?.user_metadata?.role,{projects:g,updateProject:v,archiveProject:x,deleteProject:y}=yc(),{clients:b}=Xi(),{refreshHourEntries:w}=hn(),N=()=>{a(q=>q+1),w()},{tasks:_,addTask:S,updateTask:T,deleteTask:F,editTask:U}=ph(w,N),{milestones:$,addMilestone:A,updateMilestone:J,deleteMilestone:pe}=Eo(),z=g.find(q=>q.id===e),G=b.find(q=>q.id===z?.clientId),R=_.filter(q=>q.projectId===e),Z=$.filter(q=>q.projectId===e);if(m==="client")return s.jsx(Bt,{children:s.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",style:{backgroundColor:"#F3F3F2"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-slate-600",children:"Clients cannot access this page."})]})})});E.useEffect(()=>{(async()=>{if(!e)return;const{data:Y,error:ne}=await Pe.from("projects").select("*").eq("id",e).single();!ne&&Y&&l(Y)})()},[e]);const ae=z?.pricingType!=="fixed"&&z?.useMilestones!==!1;return E.useEffect(()=>{const q=()=>{a(Y=>Y+1)};return window.addEventListener("currencyChanged",q),()=>{window.removeEventListener("currencyChanged",q)}},[]),E.useEffect(()=>{r==="budget"&&!ae&&n("overview")},[r,ae]),z?s.jsx(Bt,{children:s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs(je,{onClick:()=>t("/projects"),variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[s.jsx(gd,{className:"w-4 h-4"}),s.jsx("span",{children:"Back to Projects"})]})})}),s.jsx(iT,{project:z,client:G,tasks:R,milestones:Z},`header-${i}`),s.jsxs(Ss,{value:r,onValueChange:n,className:"w-full",children:[s.jsxs(ts,{className:`grid w-full ${ae?"grid-cols-4":"grid-cols-3"}`,children:[s.jsx(Mt,{value:"overview",children:"Overview"}),s.jsx(Mt,{value:"team",children:"Team Members"}),ae&&s.jsx(Mt,{value:"budget",children:"Budget Tracking"}),s.jsx(Mt,{value:"settings",children:"Project Settings"})]}),s.jsx(Xt,{value:"overview",className:"mt-6",children:s.jsx(G7,{project:z,client:G,tasks:R,milestones:Z,onAddTask:S,onUpdateTask:T,onDeleteTask:F,onEditTask:U,onAddMilestone:A,onUpdateMilestone:J,onDeleteMilestone:pe,onUpdateProject:v},`overview-${d}-${i}`)}),s.jsx(Xt,{value:"team",className:"mt-6",children:s.jsx(Y7,{project:z,client:G,onUpdateProject:v},`team-${i}`)}),ae&&s.jsx(Xt,{value:"budget",className:"mt-6",children:s.jsx(e9,{project:z,client:G,tasks:R,milestones:Z},`budget-${d}-${i}`)}),s.jsx(Xt,{value:"settings",className:"mt-6",children:s.jsx(r9,{project:z,onUpdateProject:v,onArchiveProject:x,onDeleteProject:y},`settings-${i}`)})]})]})})}):s.jsx(Bt,{children:s.jsx("div",{className:"w-full flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Project not found"}),s.jsxs(je,{onClick:()=>t("/projects"),variant:"outline",children:[s.jsx(gd,{className:"w-4 h-4 mr-2"}),"Back to Projects"]})]})})})},s9=({client:e,demoMode:t})=>{const r=n=>{switch(n){case"active":return"ui-pill ui-pill--success";case"inactive":return"ui-pill ui-pill--danger";case"pending":return"ui-pill ui-pill--neutral";default:return"ui-pill ui-pill--neutral"}};return s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-1",children:e.name}),s.jsx("div",{className:"flex items-center space-x-2 mb-2",children:s.jsx(Xe,{className:r(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]})})},i9=({client:e,displayCurrency:t,formatCurrency:r,onInvoiceStatusUpdate:n,formData:i,setFormData:a,newInvoice:c,setNewInvoice:l,errors:d,setErrors:h})=>{const{convert:f}=pt();if(e&&!i)return!e.invoices||e.invoices.length===0?null:s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-slate-700 mb-3 flex items-center",children:[s.jsx(KS,{className:"w-4 h-4 mr-2"}),"Invoices (",e.invoices.length,")"]}),s.jsx("div",{className:"space-y-2",children:e.invoices.map(x=>{const y=r(f(x.amount,x.currency||e.currency||"USD",t),t);return s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-slate-800",children:y}),s.jsx("div",{className:"text-sm text-slate-600",children:new Date(x.date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("select",{className:`text-xs px-2 py-1 rounded border ${x.status==="paid"?"bg-green-50 text-green-700 border-green-200":x.status==="overdue"?"bg-red-50 text-red-700 border-red-200":"bg-yellow-50 text-yellow-700 border-yellow-200"}`,value:x.status,onChange:b=>{n&&n(x.id,b.target.value)},children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"overdue",children:"Overdue"})]}),x.url&&s.jsx("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600",children:s.jsx(Bd,{className:"w-3 h-3"})})]})]},x.id)})})]});if(!i||!a||!c||!l)return null;const m=()=>{if(c.amount&&c.date){if(isNaN(parseFloat(c.amount))||parseFloat(c.amount)<=0){h({...d,invoiceAmount:"Please enter a valid amount"});return}a({...i,invoices:[...i.invoices,{...c,id:Date.now(),amount:parseFloat(c.amount)}]}),l({amount:"",date:"",status:"pending",url:"",currency:i?.currency||"USD"});const x={...d};delete x.invoiceAmount,h(x)}},g=x=>{a({...i,invoices:i.invoices.filter((y,b)=>b!==x)})},v=(x,y)=>{const b=[...i.invoices];b[x]={...b[x],status:y},a({...i,invoices:b})};return s.jsxs("div",{children:[s.jsx(we,{children:"Invoices"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-6 gap-2",children:[s.jsx(De,{type:"number",step:"0.01",placeholder:"Amount",value:c.amount,onChange:x=>l({...c,amount:x.target.value}),className:d?.invoiceAmount?"border-red-500":""}),s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:c.currency,onChange:x=>l({...c,currency:x.target.value}),children:[s.jsx("option",{value:"USD",children:"USD"}),s.jsx("option",{value:"EUR",children:"EUR"}),s.jsx("option",{value:"RON",children:"RON"})]}),s.jsx(De,{type:"date",value:c.date,onChange:x=>l({...c,date:x.target.value})}),s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:c.status,onChange:x=>l({...c,status:x.target.value}),children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"overdue",children:"Overdue"})]}),s.jsx(De,{placeholder:"Invoice URL (optional)",value:c.url,onChange:x=>l({...c,url:x.target.value})}),s.jsx(je,{type:"button",onClick:m,size:"sm",children:s.jsx(Et,{className:"w-4 h-4"})})]}),d?.invoiceAmount&&s.jsx("p",{className:"text-red-500 text-sm",children:d.invoiceAmount}),i.invoices.map((x,y)=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:["$",x.amount]}),s.jsx("div",{className:"text-sm text-slate-600",children:new Date(x.date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("select",{className:"text-xs px-2 py-1 rounded border",value:x.status,onChange:b=>v(y,b.target.value),children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"overdue",children:"Overdue"})]}),s.jsx(je,{type:"button",variant:"ghost",size:"sm",onClick:()=>g(y),children:s.jsx(Ur,{className:"w-3 h-3"})})]})]},y))]})]})},a9=({people:e})=>{const{demoMode:t}=pt();return!e||e.length===0?null:s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-slate-700 mb-3 flex items-center",children:[s.jsx(Xr,{className:"w-4 h-4 mr-2"}),"Team (",e.length,")"]}),s.jsx("div",{className:"space-y-2",children:e.map((r,n)=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-slate-800",children:r.name}),s.jsx("div",{className:"text-sm text-slate-600",children:r.title})]}),s.jsxs("div",{className:"flex items-center text-slate-500",children:[s.jsx(Ql,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"text-sm",children:t?"":r.email})]})]},n))})]})},IT=({links:e,formData:t,setFormData:r,newLink:n,setNewLink:i})=>{if(e&&!t)return!e||e.length===0?null:s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-slate-700 mb-3 flex items-center",children:[s.jsx(Vv,{className:"w-4 h-4 mr-2"}),"Relevant Links (",e.length,")"]}),s.jsx("div",{className:"space-y-2",children:e.map((l,d)=>s.jsxs("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-2 bg-slate-50 rounded text-sm hover:bg-slate-100 transition-colors",children:[s.jsx(Bd,{className:"w-4 h-4 mr-2 text-slate-500"}),s.jsx("span",{className:"text-blue-600 hover:text-blue-800",children:l})]},d))})]});if(!t||!r||!n||!i)return null;const a=()=>{n.trim()&&(r({...t,links:[...t.links,n.trim()]}),i(""))},c=l=>{r({...t,links:t.links.filter((d,h)=>h!==l)})};return s.jsxs("div",{children:[s.jsx(we,{children:"Relevant Links"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(De,{placeholder:"https://example.com",value:n,onChange:l=>i(l.target.value)}),s.jsx(je,{type:"button",onClick:a,size:"sm",children:s.jsx(Et,{className:"w-4 h-4"})})]}),t.links.map((l,d)=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg",children:[s.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm",children:l}),s.jsx(je,{type:"button",variant:"ghost",size:"sm",onClick:()=>c(d),children:s.jsx(Ur,{className:"w-3 h-3"})})]},d))]})]})},o9=({notes:e})=>e?s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-slate-700 mb-2 flex items-center",children:[s.jsx(Yn,{className:"w-4 h-4 mr-2"}),"Notes"]}),s.jsx("p",{className:"text-slate-600 text-sm bg-slate-50 p-3 rounded-lg",children:e})]}):null,OT=({documents:e,formData:t,setFormData:r,newDocument:n,setNewDocument:i})=>{if(e&&!t)return!e||e.length===0?null:s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-slate-700 mb-3 flex items-center",children:[s.jsx(Yn,{className:"w-4 h-4 mr-2"}),"Documents (",e.length,")"]}),s.jsx("div",{className:"space-y-2",children:e.map((l,d)=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Yn,{className:"w-4 h-4 text-slate-500"}),s.jsx("span",{className:"font-medium text-slate-800",children:typeof l=="string"?l:l.name})]}),typeof l=="object"&&l.url&&s.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600",children:s.jsx(Bd,{className:"w-4 h-4"})})]},d))})]});if(!t||!r||!n||!i)return null;const a=()=>{n.name.trim()&&(r({...t,documents:[...t.documents,{...n,id:Date.now()}]}),i({name:"",url:"",type:"upload"}))},c=l=>{r({...t,documents:t.documents.filter((d,h)=>h!==l)})};return s.jsxs("div",{children:[s.jsx(we,{children:"Documents"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[s.jsx(De,{placeholder:"Document name",value:n.name,onChange:l=>i({...n,name:l.target.value})}),s.jsx(De,{placeholder:"URL or file path",value:n.url,onChange:l=>i({...n,url:l.target.value})}),s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:n.type,onChange:l=>i({...n,type:l.target.value}),children:[s.jsx("option",{value:"upload",children:"Upload"}),s.jsx("option",{value:"link",children:"Link"})]}),s.jsx(je,{type:"button",onClick:a,size:"sm",children:s.jsx(Et,{className:"w-4 h-4"})})]}),t.documents.map((l,d)=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[l.type==="upload"?s.jsx(zD,{className:"w-4 h-4"}):s.jsx(Vv,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:l.name||l}),l.url&&s.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 text-sm",children:"View"})]}),s.jsx(je,{type:"button",variant:"ghost",size:"sm",onClick:()=>c(d),children:s.jsx(Ur,{className:"w-3 h-3"})})]},d))]})]})},l9=({client:e,isOpen:t,onClose:r,onInvoiceStatusUpdate:n})=>{const{demoMode:i,displayCurrency:a}=pt(),c=l=>{switch(l){case"active":return"ui-pill ui-pill--success";case"inactive":return"ui-pill ui-pill--danger";case"pending":return"ui-pill ui-pill--neutral";default:return"ui-pill ui-pill--neutral"}};return s.jsx(ic,{open:t,onOpenChange:r,children:s.jsxs(bo,{className:"w-full sm:max-w-2xl overflow-y-auto",children:[s.jsx(ac,{className:"mb-6",children:s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{children:[s.jsx(oc,{className:"text-2xl font-bold",children:e.name}),s.jsx("div",{className:"flex items-center space-x-3 mt-2",children:s.jsx(Xe,{className:c(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]})})}),s.jsxs("div",{className:"space-y-6",children:[!i&&e.invoices&&e.invoices.length>0&&s.jsx(i9,{client:e,displayCurrency:a,formatCurrency:ct,onInvoiceStatusUpdate:n}),e.people&&e.people.length>0&&s.jsx(a9,{people:e.people}),s.jsx(IT,{links:e.links}),s.jsx(OT,{documents:e.documents}),s.jsx(o9,{notes:e.notes})]})]})})},c9=({client:e,onEdit:t,onDelete:r,onInvoiceStatusUpdate:n})=>{const[i,a]=E.useState(!1),{demoMode:c,displayCurrency:l,convert:d}=pt(),{hourEntries:h}=hn(),f=h.filter(N=>N.clientId===e.id),m=f.reduce((N,_)=>N+(_.hours||0),0),g=f.filter(N=>!N.billed).reduce((N,_)=>N+(_.hours||0),0),v=e.invoices?.filter(N=>N.status==="paid").length||0,x=e.invoices?.length||0,y=e.invoices?.reduce((N,_)=>{const S=d(_.amount,_.currency||e.currency,l);return N+S},0)||0,b=N=>ct(N,l),w=N=>{N.stopPropagation()};return s.jsxs(s.Fragment,{children:[s.jsx(We,{className:"hover:shadow-lg transition-shadow duration-200",children:s.jsx(qe,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(s9,{client:e,demoMode:c}),!c&&s.jsxs("div",{className:"flex items-center justify-between pt-2",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"flex items-center text-slate-600",children:[s.jsx(Br,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{className:"text-sm",children:[m," hours"]}),g>0]}),s.jsxs("div",{className:"flex items-center text-slate-600",children:[s.jsx(KS,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{className:"text-sm",children:[v,"/",x," invoices paid"]})]}),s.jsx("div",{className:"flex items-center text-green-600",children:s.jsx("span",{className:"text-sm font-medium",children:b(y)})})]}),s.jsxs(je,{variant:"primary",size:"sm",onClick:w,children:[s.jsx(Et,{className:"w-3 h-3 mr-1"}),"Log Time"]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[s.jsxs(je,{variant:"outline",size:"sm",onClick:()=>a(!0),className:"flex items-center space-x-2",children:[s.jsx(Hd,{className:"w-4 h-4"}),s.jsx("span",{children:"View Details"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(je,{variant:"outline",size:"sm",onClick:()=>t(e),children:s.jsx(bs,{className:"w-4 h-4"})}),s.jsx(je,{variant:"outline",size:"sm",onClick:()=>r(e.id),className:"text-red-600 hover:text-red-700",children:s.jsx(Xn,{className:"w-4 h-4"})})]})]})]})})}),s.jsx(l9,{client:e,isOpen:i,onClose:()=>a(!1),onInvoiceStatusUpdate:n})]})},u9=({formData:e,setFormData:t,errors:r})=>s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"name",children:"Client Name *"}),s.jsx(De,{id:"name",value:e.name||"",onChange:n=>t({...e,name:n.target.value}),placeholder:"Client name",className:r.name?"border-red-500":""}),r.name&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"status",children:"Status *"}),s.jsxs("select",{id:"status",className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ${r.status?"border-red-500":""}`,value:e.status||"",onChange:n=>t({...e,status:n.target.value}),children:[s.jsx("option",{value:"",children:"Select status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"pending",children:"Pending"})]}),r.status&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.status})]})]}),d9=({formData:e,setFormData:t,newPerson:r,setNewPerson:n,errors:i,setErrors:a})=>{const{demoMode:c}=pt(),l=()=>{if(r.name.trim()&&r.email.trim()){if(!/\S+@\S+\.\S+/.test(r.email)){a({...i,personEmail:"Please enter a valid email address"});return}t({...e,people:[...e.people,{...r,id:Date.now()}]}),n({name:"",email:"",title:""});const h={...i};delete h.personEmail,a(h)}},d=h=>{t({...e,people:e.people.filter((f,m)=>m!==h)})};return s.jsxs("div",{children:[s.jsx(we,{children:"Team Members"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[s.jsx(De,{value:r.name,onChange:h=>n({...r,name:h.target.value}),placeholder:"Name"}),s.jsx(De,{value:r.email,onChange:h=>n({...r,email:h.target.value}),placeholder:"Email",className:i.personEmail?"border-red-500":""}),s.jsx(De,{value:r.title,onChange:h=>n({...r,title:h.target.value}),placeholder:"Title"}),s.jsx(je,{type:"button",onClick:l,size:"sm",children:s.jsx(Et,{className:"w-4 h-4"})})]}),i.personEmail&&s.jsx("p",{className:"text-red-500 text-sm",children:i.personEmail}),e.people.map((h,f)=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:h.name}),s.jsx("div",{className:"text-sm text-slate-600",children:h.title}),s.jsx("div",{className:"text-xs text-slate-500",children:c?"":h.email})]}),s.jsx(je,{type:"button",variant:"ghost",size:"sm",onClick:()=>d(f),children:s.jsx(Ur,{className:"w-3 h-3"})})]},f))]})]})},h9=({formData:e,setFormData:t,newInvoice:r,setNewInvoice:n,errors:i,setErrors:a})=>{const c=()=>{if(r.amount&&r.date){if(isNaN(parseFloat(r.amount))||parseFloat(r.amount)<=0){a({...i,invoiceAmount:"Please enter a valid amount"});return}t({...e,invoices:[...e.invoices,{...r,id:Date.now(),amount:parseFloat(r.amount)}]}),n({amount:"",date:"",status:"pending",url:"",currency:e.currency||"USD"});const d={...i};delete d.invoiceAmount,a(d)}},l=d=>{t({...e,invoices:e.invoices.filter((h,f)=>f!==d)})};return s.jsxs("div",{children:[s.jsx(we,{children:"Invoices"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-6 gap-2",children:[s.jsx(De,{type:"number",step:"0.01",placeholder:"Amount",value:r.amount,onChange:d=>n({...r,amount:d.target.value}),className:i.invoiceAmount?"border-red-500":""}),s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:r.currency,onChange:d=>n({...r,currency:d.target.value}),children:[s.jsx("option",{value:"USD",children:"USD"}),s.jsx("option",{value:"EUR",children:"EUR"}),s.jsx("option",{value:"RON",children:"RON"})]}),s.jsx(De,{type:"date",value:r.date,onChange:d=>n({...r,date:d.target.value})}),s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:r.status,onChange:d=>n({...r,status:d.target.value}),children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"paid",children:"Paid"})]}),s.jsx(De,{placeholder:"Invoice URL (optional)",value:r.url,onChange:d=>n({...r,url:d.target.value})}),s.jsx(je,{type:"button",onClick:c,size:"sm",children:s.jsx(Et,{className:"w-4 h-4"})})]}),i.invoiceAmount&&s.jsx("p",{className:"text-red-500 text-sm",children:i.invoiceAmount}),e.invoices.map((d,h)=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:["$",d.amount]}),s.jsx("div",{className:"text-sm text-slate-600",children:new Date(d.date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Xe,{className:d.status==="paid"?"ui-pill ui-pill--success":"ui-pill ui-pill--neutral",children:d.status}),s.jsx(je,{type:"button",variant:"ghost",size:"sm",onClick:()=>l(h),children:s.jsx(Ur,{className:"w-3 h-3"})})]})]},h))]})]})},f9=({isOpen:e,onClose:t,client:r,onSave:n})=>{const[i,a]=E.useState({...r,documents:r.documents||[],links:r.links||[],people:r.people||[],invoices:r.invoices||[]}),[c,l]=E.useState({name:"",url:"",type:"upload"}),[d,h]=E.useState(""),[f,m]=E.useState({name:"",email:"",title:""}),[g,v]=E.useState({amount:"",date:"",status:"pending",url:"",currency:"USD"}),[x,y]=E.useState({}),b=()=>{const N={};return i.name?.trim()||(N.name="Client name is required"),i.status||(N.status="Status is required"),y(N),Object.keys(N).length===0},w=()=>{b()&&(n(i),t())};return s.jsx(gr,{open:e,onOpenChange:t,children:s.jsxs(ur,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(dr,{children:s.jsxs(hr,{children:["Edit ",r.name]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(u9,{formData:i,setFormData:a,errors:x}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"notes",children:"Notes"}),s.jsx(tr,{id:"notes",value:i.notes||"",onChange:N=>a({...i,notes:N.target.value}),rows:3,placeholder:"Add notes about this client"})]}),s.jsx(OT,{formData:i,setFormData:a,newDocument:c,setNewDocument:l}),s.jsx(IT,{formData:i,setFormData:a,newLink:d,setNewLink:h}),s.jsx(d9,{formData:i,setFormData:a,newPerson:f,setNewPerson:m,errors:x,setErrors:y}),s.jsx(h9,{formData:i,setFormData:a,newInvoice:g,setNewInvoice:v,errors:x,setErrors:y})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(je,{variant:"outline",onClick:t,children:"Cancel"}),s.jsx(je,{onClick:w,variant:"primary",children:"Save Changes"})]})]})})},p9=({clients:e,onUpdateClient:t,displayCurrency:r,convertCurrency:n,formatCurrency:i,activeClients:a,onAddClient:c,onInvoiceStatusUpdate:l})=>{const[d,h]=E.useState(null),[f,m]=E.useState(!1),g=y=>{h(y),m(!0)},v=y=>{d&&(t(d.id,y),m(!1),h(null))},x=y=>{console.log("Delete client:",y)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-semibold text-slate-800 flex items-center",children:["Clients (",e.length,")"]}),s.jsxs(Xe,{variant:"secondary",children:[a," Active"]})]}),s.jsxs("div",{className:"space-y-4",children:[e.map(y=>s.jsx(c9,{client:y,onEdit:g,onDelete:x,onInvoiceStatusUpdate:l?(b,w)=>l(y.id,b,w):void 0},y.id)),e.length===0&&s.jsx(We,{className:"border-dashed border-2 border-slate-300",children:s.jsxs(qe,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Xr,{className:"w-12 h-12 text-slate-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-slate-600 mb-2",children:"No clients yet"}),s.jsx("p",{className:"text-slate-500 text-center mb-4",children:"Add your first client to get started with project management"}),s.jsxs(je,{onClick:c,variant:"primary",children:[s.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add First Client"]})]})})]})]}),d&&s.jsx(f9,{isOpen:f,onClose:()=>{m(!1),h(null)},client:d,onSave:v})]})},m9=({isOpen:e,onClose:t,onAdd:r})=>{const[n,i]=E.useState({name:"",status:"active",notes:"",documents:[],links:[],people:[],invoices:[]}),[a,c]=E.useState(""),[l,d]=E.useState(""),[h,f]=E.useState({name:"",email:"",title:""}),m=_=>{_.preventDefault();const S={...n,price:0,priceType:"hour",currency:"USD",totalHours:0};r(S),g(),t()},g=()=>{i({name:"",status:"active",notes:"",documents:[],links:[],people:[],invoices:[]}),c(""),d(""),f({name:"",email:"",title:""})},v=()=>{a.trim()&&(i({...n,documents:[...n.documents,a.trim()]}),c(""))},x=_=>{i({...n,documents:n.documents.filter((S,T)=>T!==_)})},y=()=>{l.trim()&&(i({...n,links:[...n.links,l.trim()]}),d(""))},b=_=>{i({...n,links:n.links.filter((S,T)=>T!==_)})},w=()=>{h.name.trim()&&h.email.trim()&&(i({...n,people:[...n.people,{...h}]}),f({name:"",email:"",title:""}))},N=_=>{i({...n,people:n.people.filter((S,T)=>T!==_)})};return s.jsx(gr,{open:e,onOpenChange:t,children:s.jsxs(ur,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(dr,{children:s.jsx(hr,{children:"Add New Client"})}),s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"client-name",children:"Client Name *"}),s.jsx(De,{id:"client-name",value:n.name,onChange:_=>i({...n,name:_.target.value}),placeholder:"Enter client name",required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"client-status",children:"Status"}),s.jsxs(vt,{value:n.status,onValueChange:_=>i({...n,status:_}),children:[s.jsx(dt,{children:s.jsx(yt,{})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"active",children:"Active"}),s.jsx(Oe,{value:"inactive",children:"Inactive"}),s.jsx(Oe,{value:"pending",children:"Pending"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Documents"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(De,{value:a,onChange:_=>c(_.target.value),placeholder:"Add document name or link"}),s.jsx(je,{type:"button",onClick:v,size:"sm",children:s.jsx(Et,{className:"w-4 h-4"})})]}),n.documents.map((_,S)=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-2 rounded",children:[s.jsx("span",{className:"text-sm",children:_}),s.jsx(je,{type:"button",variant:"ghost",size:"sm",onClick:()=>x(S),children:s.jsx(Ur,{className:"w-3 h-3"})})]},S))]})]}),s.jsxs("div",{children:[s.jsx(we,{children:"Relevant Links"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(De,{value:l,onChange:_=>d(_.target.value),placeholder:"Add relevant link"}),s.jsx(je,{type:"button",onClick:y,size:"sm",children:s.jsx(Et,{className:"w-4 h-4"})})]}),n.links.map((_,S)=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-2 rounded",children:[s.jsx("span",{className:"text-sm truncate",children:_}),s.jsx(je,{type:"button",variant:"ghost",size:"sm",onClick:()=>b(S),children:s.jsx(Ur,{className:"w-3 h-3"})})]},S))]})]}),s.jsxs("div",{children:[s.jsx(we,{children:"People"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx(De,{value:h.name,onChange:_=>f({...h,name:_.target.value}),placeholder:"Name"}),s.jsx(De,{value:h.email,onChange:_=>f({...h,email:_.target.value}),placeholder:"Email"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(De,{value:h.title,onChange:_=>f({...h,title:_.target.value}),placeholder:"Title"}),s.jsx(je,{type:"button",onClick:w,size:"sm",children:s.jsx(Et,{className:"w-4 h-4"})})]})]}),n.people.map((_,S)=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-2 rounded",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:_.name}),_.title&&s.jsxs("span",{className:"text-slate-600",children:[" - ",_.title]}),s.jsx("div",{className:"text-xs text-slate-500",children:_.email})]}),s.jsx(je,{type:"button",variant:"ghost",size:"sm",onClick:()=>N(S),children:s.jsx(Ur,{className:"w-3 h-3"})})]},S))]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"client-notes",children:"Notes"}),s.jsx(tr,{id:"client-notes",value:n.notes,onChange:_=>i({...n,notes:_.target.value}),placeholder:"Add any relevant notes about this client",rows:3})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(je,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),s.jsx(je,{type:"submit",variant:"primary",children:"Add Client"})]})]})]})})},g9=({isOpen:e,onClose:t,onAdd:r})=>{const[n,i]=E.useState({name:"",price:"",billing_date:"",billing_cycle:"monthly",login_email:"",password:"",category:"Software",status:"active",currency:"USD",seats:"1",invoice_link:""}),a=d=>{d.preventDefault();const h=parseFloat(n.price)||0,f={name:n.name,price:h,billing_date:n.billing_date,billing_cycle:n.billing_cycle,login_email:n.login_email,password:n.password,category:n.category,status:n.status,currency:n.currency,seats:parseInt(n.seats)||1,total_paid:h,invoice_link:n.invoice_link};r(f),c(),t()},c=()=>{i({name:"",price:"",billing_date:"",billing_cycle:"monthly",login_email:"",password:"",category:"Software",status:"active",currency:"USD",seats:"1",invoice_link:""})},l=["Software","Design","Development","Marketing","Analytics","Communication","Storage","Other"];return s.jsx(gr,{open:e,onOpenChange:t,children:s.jsxs(ur,{className:"max-w-md",children:[s.jsx(dr,{children:s.jsx(hr,{children:"Add New Subscription"})}),s.jsxs("form",{onSubmit:a,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"sub-name",children:"Service Name *"}),s.jsx(De,{id:"sub-name",value:n.name,onChange:d=>i({...n,name:d.target.value}),placeholder:"e.g. Adobe Creative Suite",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"sub-price",children:"Price *"}),s.jsx(De,{id:"sub-price",type:"number",step:"0.01",value:n.price,onChange:d=>i({...n,price:d.target.value}),placeholder:"0.00",required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"sub-seats",children:"Seats"}),s.jsx(De,{id:"sub-seats",type:"number",min:"1",value:n.seats,onChange:d=>i({...n,seats:d.target.value}),placeholder:"1"})]})]}),s.jsxs("div",{children:[s.jsx(we,{className:"text-sm font-medium",children:"Billing Cycle"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx("span",{className:"text-sm",children:"Monthly"}),s.jsx(dn,{checked:n.billing_cycle==="yearly",onCheckedChange:d=>i({...n,billing_cycle:d?"yearly":"monthly"})}),s.jsx("span",{className:"text-sm",children:"Yearly"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"sub-currency",children:"Currency"}),s.jsxs(vt,{value:n.currency,onValueChange:d=>i({...n,currency:d}),children:[s.jsx(dt,{children:s.jsx(yt,{})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"USD",children:"US Dollar ($)"}),s.jsx(Oe,{value:"EUR",children:"Euro ()"}),s.jsx(Oe,{value:"RON",children:"Romanian Lei (RON)"})]})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"sub-category",children:"Category"}),s.jsxs(vt,{value:n.category,onValueChange:d=>i({...n,category:d}),children:[s.jsx(dt,{children:s.jsx(yt,{})}),s.jsx(ht,{children:l.map(d=>s.jsx(Oe,{value:d,children:d},d))})]})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"sub-status",children:"Status"}),s.jsxs(vt,{value:n.status,onValueChange:d=>i({...n,status:d}),children:[s.jsx(dt,{children:s.jsx(yt,{})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"active",children:"Active"}),s.jsx(Oe,{value:"paused",children:"Paused"}),s.jsx(Oe,{value:"canceled",children:"Canceled"})]})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"sub-billing-date",children:"Next Billing Date *"}),s.jsx(De,{id:"sub-billing-date",type:"date",value:n.billing_date,onChange:d=>i({...n,billing_date:d.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"sub-email",children:"Login Email"}),s.jsx(De,{id:"sub-email",type:"email",value:n.login_email,onChange:d=>i({...n,login_email:d.target.value}),placeholder:"your@email.com"})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"sub-password",children:"Password"}),s.jsx(Il,{id:"sub-password",value:n.password,onChange:d=>i({...n,password:d.target.value}),placeholder:"Password (stored securely)"})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"sub-invoice-link",children:"Invoice Link"}),s.jsx(De,{id:"sub-invoice-link",type:"url",value:n.invoice_link,onChange:d=>i({...n,invoice_link:d.target.value}),placeholder:"https://billing.example.com/invoices"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(je,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),s.jsx(je,{type:"submit",variant:"success",children:"Add Subscription"})]})]})]})})},v9=({subscription:e,isOpen:t,onClose:r,onUpdate:n})=>{const[i,a]=E.useState({name:"",price:0,seats:1,billing_date:"",billing_cycle:"monthly",login_email:"",secure_notes:"",category:"",total_paid:0,status:"active",currency:"USD",invoice_link:""}),[c,l]=E.useState(!1),{toast:d}=Dt();E.useEffect(()=>{e&&a({name:e.name||"",price:e.price||0,seats:e.seats||1,billing_date:e.billing_date||"",billing_cycle:e.billing_cycle||"monthly",login_email:e.login_email||"",secure_notes:e.secure_notes||"",category:e.category||"",total_paid:e.total_paid||0,status:e.status||"active",currency:e.currency||"USD",invoice_link:e.invoice_link||""})},[e]);const h=async m=>{if(m.preventDefault(),!c){l(!0);try{console.log("Submitting updated subscription:",i),await n(e.id,{name:i.name,price:i.price,seats:i.seats,billing_date:i.billing_date,billing_cycle:i.billing_cycle,login_email:i.login_email,secure_notes:i.secure_notes,category:i.category,total_paid:i.total_paid,status:i.status,currency:i.currency,invoice_link:i.invoice_link}),d({title:"Success",description:"Subscription updated successfully"}),r()}catch(g){console.error("Error updating subscription:",g),d({title:"Error",description:"Failed to update subscription",variant:"destructive"})}finally{l(!1)}}},f=(m,g)=>{a(v=>({...v,[m]:g}))};return e?s.jsx(gr,{open:t,onOpenChange:r,children:s.jsxs(ur,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsx(dr,{children:s.jsx(hr,{children:"Edit Subscription"})}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"name",children:"Service Name"}),s.jsx(De,{id:"name",value:i.name,onChange:m=>f("name",m.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"category",children:"Category"}),s.jsx(De,{id:"category",value:i.category,onChange:m=>f("category",m.target.value),required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"status",children:"Status"}),s.jsxs(vt,{value:i.status,onValueChange:m=>f("status",m),children:[s.jsx(dt,{children:s.jsx(yt,{})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"active",children:"Active"}),s.jsx(Oe,{value:"paused",children:"Paused"}),s.jsx(Oe,{value:"canceled",children:"Canceled"})]})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"currency",children:"Currency"}),s.jsxs(vt,{value:i.currency,onValueChange:m=>f("currency",m),children:[s.jsx(dt,{children:s.jsx(yt,{})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"USD",children:"US Dollar ($)"}),s.jsx(Oe,{value:"EUR",children:"Euro ()"}),s.jsx(Oe,{value:"RON",children:"Romanian Lei (RON)"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"price",children:"Price per Seat"}),s.jsx(De,{id:"price",type:"number",step:"0.01",value:i.price,onChange:m=>f("price",parseFloat(m.target.value)||0),required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"seats",children:"Number of Seats"}),s.jsx(De,{id:"seats",type:"number",min:"1",value:i.seats,onChange:m=>f("seats",parseInt(m.target.value)||1),required:!0})]})]}),s.jsxs("div",{children:[s.jsx(we,{className:"text-sm font-medium",children:"Billing Cycle"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx("span",{className:"text-sm",children:"Monthly"}),s.jsx(dn,{checked:i.billing_cycle==="yearly",onCheckedChange:m=>f("billing_cycle",m?"yearly":"monthly")}),s.jsx("span",{className:"text-sm",children:"Yearly"})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"total_paid",children:"Total Paid to Date"}),s.jsx(De,{id:"total_paid",type:"number",step:"0.01",value:i.total_paid,onChange:m=>f("total_paid",parseFloat(m.target.value)||0)})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"billing_date",children:"Next Billing Date"}),s.jsxs("div",{className:"relative",children:[s.jsx(un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(De,{id:"billing_date",type:"date",value:i.billing_date,onChange:m=>f("billing_date",m.target.value),className:"pl-10",required:!0})]})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"login_email",children:"Login Email"}),s.jsx(De,{id:"login_email",type:"email",value:i.login_email,onChange:m=>f("login_email",m.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"invoice_link",children:"Invoice Link"}),s.jsx(De,{id:"invoice_link",type:"url",value:i.invoice_link,onChange:m=>f("invoice_link",m.target.value),placeholder:"https://billing.example.com/invoices"})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"secure_notes",children:"Secure Notes"}),s.jsx(tr,{id:"secure_notes",value:i.secure_notes,onChange:m=>f("secure_notes",m.target.value),placeholder:"Store passwords, API keys, or other sensitive information here...",className:"min-h-[80px]"}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"This field is encrypted and secure. Use it to store passwords, API keys, or other sensitive information."})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(je,{type:"button",variant:"outline",onClick:r,className:"flex-1",disabled:c,children:"Cancel"}),s.jsx(je,{type:"submit",className:"flex-1",disabled:c,children:c?"Updating...":"Update Subscription"})]})]})]})}):null},MT=({showClientModal:e,onCloseClientModal:t,onAddClient:r,showSubscriptionModal:n,onCloseSubscriptionModal:i,onAddSubscription:a,showEditSubscriptionModal:c,onCloseEditSubscriptionModal:l,selectedSubscription:d,onUpdateSubscription:h})=>s.jsxs(s.Fragment,{children:[s.jsx(m9,{isOpen:e,onClose:t,onAdd:r}),s.jsx(g9,{isOpen:n,onClose:i,onAdd:a}),s.jsx(v9,{subscription:d,isOpen:c,onClose:l,onUpdate:h})]}),y9=async e=>{const{data:t,error:r}=await Pe.from("subscriptions").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching subscriptions:",r),r;return(t||[]).map(n=>({...n,billing_cycle:n.billing_cycle||"monthly"}))},x9=async(e,t)=>{const r={...e,user_id:t},{data:n,error:i}=await Pe.from("subscriptions").insert([r]).select().single();if(i)throw console.error("Error adding subscription:",i),i;return{...n,billing_cycle:n.billing_cycle||"monthly"}},w9=async(e,t,r)=>{const n={name:t.name,price:t.price,seats:t.seats,billing_date:t.billing_date,billing_cycle:t.billing_cycle,login_email:t.login_email,secure_notes:t.secure_notes,category:t.category,total_paid:t.total_paid,status:t.status,currency:t.currency,invoice_link:t.invoice_link,updated_at:new Date().toISOString()};Object.keys(n).forEach(c=>{n[c]===void 0&&delete n[c]});const{data:i,error:a}=await Pe.from("subscriptions").update(n).eq("id",e).eq("user_id",r).select().single();if(a)throw console.error("Error updating subscription:",a),a;return{...i,billing_cycle:i.billing_cycle||"monthly"}},b9=async(e,t)=>{const{error:r}=await Pe.from("subscriptions").delete().eq("id",e).eq("user_id",t);if(r)throw console.error("Error deleting subscription:",r),r},j9=(e,t)=>({addSubscription:async a=>{if(!e)throw new Error("User must be authenticated");try{const c={name:a.name,price:a.price,seats:a.seats||1,billing_date:a.billing_date,billing_cycle:a.billing_cycle||"monthly",login_email:a.login_email||"",secure_notes:a.secure_notes||"",category:a.category||"Software",total_paid:a.total_paid||a.price,status:a.status||"active",currency:a.currency||"USD",invoice_link:a.invoice_link||""},l=await x9(c,e.id);t(d=>[l,...d])}catch(c){throw console.error("Error adding subscription:",c),c}},updateSubscription:async(a,c)=>{if(!e)throw new Error("User must be authenticated");try{const l=await w9(a,c,e.id);t(d=>d.map(h=>h.id===a?l:h))}catch(l){throw console.error("Error updating subscription:",l),l}},deleteSubscription:async a=>{if(!e)throw new Error("User must be authenticated");try{await b9(a,e.id),t(c=>c.filter(l=>l.id!==a))}catch(c){throw console.error("Error deleting subscription:",c),c}}}),FT=()=>{const[e,t]=E.useState([]),[r,n]=E.useState(!0),{user:i}=_t(),a=async()=>{if(!i){t([]),n(!1);return}try{n(!0);const l=await y9(i.id);t(l)}catch(l){console.error("Error fetching subscriptions:",l)}finally{n(!1)}},c=j9(i,t);return E.useEffect(()=>{a()},[i]),{subscriptions:e,loading:r,refreshSubscriptions:a,...c}},_9=()=>{const{displayCurrency:e,convert:t}=pt(),{profile:r,user:n}=_t(),i=r?.role??n?.user_metadata?.role,[a,c]=gt.useState(!1),{clients:l,addClient:d,updateClient:h,updateClientInvoiceStatus:f,loading:m}=Xi();FT();const g=Wy();return i==="client"?s.jsx(Bt,{children:s.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",style:{backgroundColor:"#F3F3F2"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-slate-600",children:"Clients cannot access this page."})]})})}):s.jsx(Bt,{children:s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"w-full space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Clients"})}),s.jsxs(je,{variant:"primary",onClick:()=>c(!0),children:[s.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Client"]})]}),m?s.jsx(eo,{count:3,lines:4}):s.jsx(p9,{clients:l,onUpdateClient:h,displayCurrency:e,convertCurrency:t,formatCurrency:ct,activeClients:g.activeClients,onAddClient:()=>c(!0),onInvoiceStatusUpdate:f}),s.jsx(MT,{showClientModal:a,onCloseClientModal:()=>c(!1),onAddClient:d,showSubscriptionModal:!1,onCloseSubscriptionModal:()=>{},onAddSubscription:()=>{},showEditSubscriptionModal:!1,onCloseEditSubscriptionModal:()=>{},selectedSubscription:null,onUpdateSubscription:()=>{}})]})})})},S9=()=>{const{id:e}=Dv();return s.jsx(Bt,{children:s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"w-full space-y-6",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Client Details"})}),s.jsxs("div",{className:"text-center py-8",children:[s.jsxs("p",{className:"text-slate-600",children:["Client details page for ID: ",e]}),s.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"This page is under construction."})]})]})})})},N9=({subscription:e,onEdit:t})=>{const[r,n]=E.useState(!1),{demoMode:i}=pt(),a=()=>{const F=new Date(e.billing_date),U=new Date;if(e.status==="canceled"||F>U)return F;const $=new Date(F);if((e.billing_cycle||"monthly")==="yearly")for(;$<=U;)$.setFullYear($.getFullYear()+1);else for(;$<=U;)$.setMonth($.getMonth()+1);return $},l=(()=>{if(e.status==="canceled")return null;const F=a(),U=new Date,$=F.getTime()-U.getTime();return Math.ceil($/(1e3*60*60*24))})(),d=l!==null&&l<=7&&l>=0,h=()=>e.status==="canceled"?{text:"Canceled",color:"ui-pill ui-pill--danger"}:l===null?{text:"Unknown",color:"ui-pill ui-pill--neutral"}:d?{text:`${l} days`,color:"ui-pill ui-pill--neutral"}:{text:`${l} days`,color:"ui-pill ui-pill--success"},f=()=>{switch(e.status||"active"){case"active":return"ui-pill ui-pill--success";case"paused":return"ui-pill ui-pill--warning";case"canceled":return"ui-pill ui-pill--danger";default:return"ui-pill ui-pill--neutral"}},m=h(),g=e.total_paid||0,v=e.seats||1,x=e.price*v,y=e.currency||"USD",b=e.login_email||"",w=a(),N=e.secure_notes||"",_=e.billing_cycle||"monthly",S=e.invoice_link||"",T=F=>{const $={USD:"$",EUR:"",RON:"RON "}[y]||"$";return y==="RON"?`${$}${F.toFixed(2)}`:`${$}${F.toFixed(2)}`};return s.jsx(We,{className:"transition-all duration-200",children:s.jsx(qe,{className:"ui-card-content",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h4",{className:"font-semibold text-slate-800",children:e.name}),s.jsx(je,{variant:"ghost",size:"sm",onClick:()=>t(e),className:"h-6 w-6 p-0 opacity-60 hover:opacity-100",children:s.jsx(bs,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"text-sm text-slate-600",children:e.category}),s.jsx(Xe,{className:f(),children:(e.status||"active").charAt(0).toUpperCase()+(e.status||"active").slice(1)})]})]}),!i&&s.jsxs("div",{className:"text-right ml-4",children:[s.jsx("div",{className:"text-lg font-bold text-slate-800",children:T(x)}),s.jsxs("div",{className:"text-xs text-slate-500 flex items-center justify-end",children:[s.jsx(Br,{className:"w-3 h-3 mr-1"}),"per ",_==="yearly"?"year":"month"]}),v>1&&s.jsxs("div",{className:"text-xs text-slate-600 flex items-center justify-end mt-1",children:[s.jsx(Xr,{className:"w-3 h-3 mr-1"}),v," seats"]})]})]}),!i&&s.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-sm text-slate-600",children:s.jsx("span",{className:"font-medium",children:"Total paid to date:"})}),s.jsx("div",{className:"text-sm font-semibold text-blue-800",children:T(g)})]}),s.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-slate-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[s.jsx(un,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:e.status==="canceled"?`Last billed: ${new Date(e.billing_date).toLocaleDateString()}`:`Next billing: ${w.toLocaleDateString()}`})]}),!i&&s.jsx(Xe,{className:m.color,children:m.text})]}),S&&!i&&s.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[s.jsx(Bd,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:"Billing portal"})]}),s.jsx(je,{variant:"ghost",size:"sm",onClick:()=>window.open(S,"_blank"),className:"h-6 px-2 text-purple-600 hover:text-purple-800",children:"Open"})]}),s.jsxs("div",{className:"space-y-2",children:[b&&s.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[s.jsx(Ql,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"font-mono text-xs",children:i?"":b})]}),N&&!i&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[s.jsx(Wv,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"font-mono text-xs",children:r?N:""})]}),s.jsx(je,{variant:"ghost",size:"sm",onClick:()=>n(!r),className:"h-6 w-6 p-0",children:r?s.jsx(qv,{className:"w-3 h-3"}):s.jsx(Hd,{className:"w-3 h-3"})})]})]})]})})})},E9=({subscriptions:e,onEditSubscription:t,onAddSubscription:r,monthlySubscriptionCost:n,totalPaidToDate:i,displayCurrency:a,formatCurrency:c,billingFilter:l,onBillingFilterChange:d})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-semibold text-slate-800 flex items-center",children:"Subscriptions"}),s.jsx(Ss,{value:l,onValueChange:d,children:s.jsxs(ts,{className:"grid w-full grid-cols-3",children:[s.jsx(Mt,{value:"all",children:"All"}),s.jsx(Mt,{value:"monthly",children:"Monthly"}),s.jsx(Mt,{value:"yearly",children:"Yearly"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[e.map(h=>s.jsx(N9,{subscription:h,onEdit:t},h.id)),e.length===0&&s.jsx(We,{className:"border-dashed border-2 border-slate-300 col-span-full",children:s.jsxs(qe,{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(Wv,{className:"w-8 h-8 text-slate-400 mb-3"}),s.jsx("p",{className:"text-slate-500 text-center text-sm mb-3",children:"No subscriptions tracked"}),s.jsxs(je,{onClick:r,size:"sm",variant:"outline",children:[s.jsx(Et,{className:"w-3 h-3 mr-1"}),"Add Subscription"]})]})})]})]}),C9=({subscriptions:e,displayCurrency:t})=>{const{convert:r,demoMode:n}=pt(),i=e.filter(f=>f.status==="active"),a=i.reduce((f,m)=>{const g=r(m.price,m.currency,t),v=m.seats||1,x=g*v,y=m.billing_cycle==="yearly"?x/12:x;return f+y},0),c=e.reduce((f,m)=>{const g=r(m.total_paid||0,m.currency,t);return f+g},0),l=i.reduce((f,m)=>{const g=r(m.price,m.currency,t),v=m.seats||1,x=g*v,y=m.billing_cycle==="yearly"?x:x*12;return f+y},0),d=(f,m=!1)=>{const g=Math.round(f);if(g>=1e3){const v=(g/1e3).toFixed(2).replace(/\.?0+$/,"");return m?`${t==="RON"?"RON ":t==="EUR"?"":"$"}${v}K`:`${v}K`}return m?`${t==="RON"?"RON ":t==="EUR"?"":"$"}${g}`:g.toString()},h=[{title:"Monthly Subscription Cost",value:a,originalValue:ct(a,t),isCurrency:!0,subtitle:"total monthly recurring costs",statusRows:[`${i.length} active subscription${i.length!==1?"s":""}`]},{title:"Yearly Subscription Cost",value:l,originalValue:ct(l,t),isCurrency:!0,subtitle:"total yearly recurring costs",statusRows:[`${i.length} active subscription${i.length!==1?"s":""}`]},{title:"Total Paid to Date",value:c,originalValue:ct(c,t),isCurrency:!0,subtitle:"across all subscriptions",statusRows:[`${e.length} total subscription${e.length!==1?"s":""}`]},{title:"Active Subscriptions",value:i.length,originalValue:i.length.toString(),isCurrency:!1,subtitle:"currently active",statusRows:e.length>i.length?[`${e.length-i.length} inactive`]:[]}];return s.jsx(ti,{children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:h.map((f,m)=>{const g=n&&f.isCurrency?"":d(f.value,f.isCurrency),v=!n&&typeof f.value=="number"?f.value>=1e3:!1;return s.jsx(We,{className:"hover:shadow-none transition-all duration-200 shadow-none w-full min-w-0",children:s.jsxs(qe,{className:"ui-card-content lg:p-6 flex flex-col justify-between h-full min-h-[200px] lg:min-h-[231px]",children:[s.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[s.jsx("div",{className:"space-y-1 lg:space-y-2",children:s.jsx("h3",{className:"font-satoshi font-normal text-sm lg:text-lg xl:text-xl leading-tight",style:{color:"var(--Dark-color, #081735)"},children:f.title})}),s.jsxs("div",{className:"space-y-1",children:[f.statusRows.map((x,y)=>s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("span",{className:"text-xs text-slate-500 truncate",children:x})},y)),f.statusRows.length===0&&s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("span",{className:"text-xs text-slate-500 truncate",children:f.subtitle})})]})]}),s.jsx("div",{className:"mt-2 lg:mt-4",children:v?s.jsxs(lr,{children:[s.jsx(cr,{asChild:!0,children:s.jsx("p",{className:"font-satoshi font-normal cursor-help text-xl sm:text-2xl lg:text-3xl xl:text-5xl leading-tight",style:{color:"var(--Dark-color, #081735)"},children:g})}),s.jsx(er,{children:s.jsx("p",{children:f.originalValue})})]}):s.jsx("p",{className:"font-satoshi font-normal text-xl sm:text-2xl lg:text-3xl xl:text-5xl leading-tight",style:{color:"var(--Dark-color, #081735)"},children:g})})]})},m)})})})},k9=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx($t,{className:"h-8 w-48"}),s.jsx($t,{className:"h-9 w-40"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,t)=>s.jsxs(We,{children:[s.jsx(ot,{className:"pb-2",children:s.jsx(lt,{className:"text-sm font-medium",children:s.jsx($t,{className:"h-4 w-28"})})}),s.jsxs(qe,{className:"space-y-2",children:[s.jsx($t,{className:"h-7 w-24"}),s.jsx($t,{className:"h-3 w-32"})]})]},t))}),s.jsx("div",{className:"space-y-4",children:Array.from({length:4}).map((e,t)=>s.jsx(We,{children:s.jsxs(qe,{className:"py-4 space-y-3",children:[s.jsx($t,{className:"h-5 w-48"}),s.jsx($t,{className:"h-4 w-full"}),s.jsx($t,{className:"h-4 w-1/2"})]})},t))})]}),T9=()=>{const{displayCurrency:e,convert:t}=pt(),{profile:r,user:n}=_t(),i=r?.role??n?.user_metadata?.role,[a,c]=E.useState(0),[l,d]=gt.useState(!1),[h,f]=gt.useState(!1),[m,g]=gt.useState(null),[v,x]=gt.useState("all"),{subscriptions:y,loading:b,addSubscription:w,updateSubscription:N}=FT();Xi();const _=Wy();if(i==="client")return s.jsx(Bt,{children:s.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",style:{backgroundColor:"#F3F3F2"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-slate-600",children:"Clients cannot access this page."})]})})});E.useEffect(()=>{const U=()=>{c($=>$+1)};return window.addEventListener("currencyChanged",U),()=>{window.removeEventListener("currencyChanged",U)}},[]);const S=y.filter(U=>v==="all"?!0:U.billing_cycle===v),T=S.reduce((U,$)=>{const A=$.total_paid||0,J=t(A,$.currency||"USD",e);return U+J},0),F=U=>{g(U),f(!0)};return b?s.jsx(Bt,{children:s.jsx("div",{className:"w-full",children:s.jsx("div",{className:"w-full",children:s.jsx(k9,{})})})}):s.jsx(Bt,{children:s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"w-full space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Subscriptions"})}),s.jsxs(je,{variant:"primary",onClick:()=>d(!0),children:[s.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Subscription"]})]}),s.jsx(C9,{subscriptions:S,displayCurrency:e},`metrics-${e}-${a}-${v}`),s.jsx(E9,{subscriptions:S,onEditSubscription:F,onAddSubscription:()=>d(!0),monthlySubscriptionCost:_.monthlySubscriptionCost,totalPaidToDate:T,displayCurrency:e,formatCurrency:ct,billingFilter:v,onBillingFilterChange:x}),s.jsx(MT,{showClientModal:!1,onCloseClientModal:()=>{},onAddClient:()=>{},showSubscriptionModal:l,onCloseSubscriptionModal:()=>d(!1),onAddSubscription:w,showEditSubscriptionModal:h,onCloseEditSubscriptionModal:()=>{f(!1),g(null)},selectedSubscription:m,onUpdateSubscription:N})]})})})},P9=({isOpen:e,onClose:t,onInvite:r})=>{const[n,i]=E.useState(""),[a,c]=E.useState("standard"),[l,d]=E.useState(!1),h=async m=>{if(m.preventDefault(),!!n.trim()){d(!0);try{await r(n.trim(),a),i(""),c("standard"),t()}finally{d(!1)}}},f=()=>{i(""),c("standard"),t()};return s.jsx(gr,{open:e,onOpenChange:f,children:s.jsxs(ur,{className:"sm:max-w-md",children:[s.jsxs(dr,{children:[s.jsxs(hr,{className:"flex items-center",children:[s.jsx(Ql,{className:"w-5 h-5 mr-2"}),"Invite New User"]}),s.jsx(hi,{children:"Send an invitation to a new user to join your workspace."})]}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"email",children:"Email Address"}),s.jsx(De,{id:"email",type:"email",value:n,onChange:m=>i(m.target.value),placeholder:"user@example.com",required:!0,disabled:l})]}),s.jsxs("div",{children:[s.jsx(we,{htmlFor:"role",children:"User Role"}),s.jsxs(vt,{value:a,onValueChange:m=>c(m),disabled:l,children:[s.jsx(dt,{children:s.jsx(yt,{placeholder:"Select role"})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"standard",children:"Standard User"}),s.jsx(Oe,{value:"client",children:"Client User"}),s.jsx(Oe,{value:"admin",children:"Admin User"})]})]}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:a==="admin"?"Admin users have full access to all features":a==="client"?"Client users can only view their own projects and tasks":"Standard users can only add tasks and view limited dashboard data"})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(je,{type:"button",variant:"outline",onClick:f,disabled:l,children:"Cancel"}),s.jsx(je,{type:"submit",disabled:l||!n.trim(),children:l?s.jsxs(s.Fragment,{children:[s.jsx(Ga,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):"Send Invite"})]})]})]})})},R9=()=>{const[e,t]=E.useState([]),[r,n]=E.useState(!1),{toast:i}=Dt(),a=async()=>{n(!0);try{const{data:h,error:f}=await Pe.from("user_project_assignments").select("*").order("assigned_at",{ascending:!1});if(f)throw f;t(h||[])}catch(h){console.error("Error fetching assignments:",h),i({title:"Error",description:"Failed to load project assignments",variant:"destructive"})}finally{n(!1)}},c=async(h,f)=>{try{const{data:{user:m}}=await Pe.auth.getUser();if(!m)throw new Error("User not authenticated");const{error:g}=await Pe.from("user_project_assignments").insert([{user_id:h,project_id:f,assigned_by:m.id}]);if(g)throw g;i({title:"Success",description:"User assigned to project successfully"}),await a()}catch(m){console.error("Error assigning user to project:",m),i({title:"Error",description:"Failed to assign user to project",variant:"destructive"})}},l=async(h,f)=>{try{const{error:m}=await Pe.from("user_project_assignments").delete().eq("user_id",h).eq("project_id",f);if(m)throw m;i({title:"Success",description:"User removed from project successfully"}),await a()}catch(m){console.error("Error removing user from project:",m),i({title:"Error",description:"Failed to remove user from project",variant:"destructive"})}},d=h=>e.filter(f=>f.user_id===h);return E.useEffect(()=>{a()},[]),{assignments:e,loading:r,assignUserToProject:c,removeUserFromProject:l,getUserAssignments:d,refreshAssignments:a}},A9=({user:e,onUserUpdate:t})=>{const{demoMode:r}=pt(),{toast:n}=Dt(),[i,a]=E.useState(!1),[c,l]=E.useState(e.full_name||""),[d,h]=E.useState(!1),f=async()=>{if(!c.trim()){n({title:"Error",description:"Display name cannot be empty",variant:"destructive"});return}h(!0);try{const{error:g}=await Pe.from("profiles").update({full_name:c.trim()}).eq("id",e.id);if(g)throw g;const v={...e,full_name:c.trim()};t?.(v),n({title:"Success",description:"Display name updated successfully"}),a(!1)}catch(g){console.error("Error updating display name:",g),n({title:"Error",description:"Failed to update display name",variant:"destructive"})}finally{h(!1)}},m=()=>{l(e.full_name||""),a(!1)};return s.jsx("div",{className:"flex items-center space-x-4 p-4 bg-slate-50 rounded-lg",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-center space-x-2 mb-2",children:i?s.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[s.jsx(De,{value:c,onChange:g=>l(g.target.value),placeholder:"Enter display name",className:"flex-1",disabled:d}),s.jsx(je,{size:"sm",onClick:f,disabled:d,className:"h-8 w-8 p-0",children:s.jsx(zv,{className:"h-4 w-4"})}),s.jsx(je,{size:"sm",variant:"outline",onClick:m,disabled:d,className:"h-8 w-8 p-0",children:s.jsx(Ur,{className:"h-4 w-4"})})]}):s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"font-medium",children:e.full_name||"No name"}),s.jsx(je,{size:"sm",variant:"ghost",onClick:()=>a(!0),className:"h-6 w-6 p-0 opacity-50 hover:opacity-100",children:s.jsx(MD,{className:"h-3 w-3"})})]})}),s.jsx("p",{className:"text-sm text-slate-600",children:r?"":e.email}),s.jsx(Xe,{className:e.role==="admin"?"ui-pill ui-pill--info":e.role==="client"?"ui-pill ui-pill--warning":"ui-pill ui-pill--info",children:e.role})]})})};function D9(e,t){return E.useReducer((r,n)=>t[r][n]??r,e)}var Qy="ScrollArea",[LT]=cn(Qy),[I9,fn]=LT(Qy),UT=E.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...c}=e,[l,d]=E.useState(null),[h,f]=E.useState(null),[m,g]=E.useState(null),[v,x]=E.useState(null),[y,b]=E.useState(null),[w,N]=E.useState(0),[_,S]=E.useState(0),[T,F]=E.useState(!1),[U,$]=E.useState(!1),A=nt(t,pe=>d(pe)),J=ec(i);return s.jsx(I9,{scope:r,type:n,dir:J,scrollHideDelay:a,scrollArea:l,viewport:h,onViewportChange:f,content:m,onContentChange:g,scrollbarX:v,onScrollbarXChange:x,scrollbarXEnabled:T,onScrollbarXEnabledChange:F,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:U,onScrollbarYEnabledChange:$,onCornerWidthChange:N,onCornerHeightChange:S,children:s.jsx(Ve.div,{dir:J,...c,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});UT.displayName=Qy;var BT="ScrollAreaViewport",HT=E.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:i,nonce:a,...c}=e,l=fn(BT,r),d=E.useRef(null),h=nt(t,d,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),s.jsx(Ve.div,{"data-radix-scroll-area-viewport":"",...c,asChild:i,ref:h,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:W9({asChild:i,children:n},f=>s.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:f}))})]})});HT.displayName=BT;var ns="ScrollAreaScrollbar",Jy=E.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=fn(ns,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:c}=i,l=e.orientation==="horizontal";return E.useEffect(()=>(l?a(!0):c(!0),()=>{l?a(!1):c(!1)}),[l,a,c]),i.type==="hover"?s.jsx(O9,{...n,ref:t,forceMount:r}):i.type==="scroll"?s.jsx(M9,{...n,ref:t,forceMount:r}):i.type==="auto"?s.jsx(zT,{...n,ref:t,forceMount:r}):i.type==="always"?s.jsx(Zy,{...n,ref:t}):null});Jy.displayName=ns;var O9=E.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=fn(ns,e.__scopeScrollArea),[a,c]=E.useState(!1);return E.useEffect(()=>{const l=i.scrollArea;let d=0;if(l){const h=()=>{window.clearTimeout(d),c(!0)},f=()=>{d=window.setTimeout(()=>c(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",h),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",h),l.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),s.jsx(kr,{present:r||a,children:s.jsx(zT,{"data-state":a?"visible":"hidden",...n,ref:t})})}),M9=E.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=fn(ns,e.__scopeScrollArea),a=e.orientation==="horizontal",c=gh(()=>d("SCROLL_END"),100),[l,d]=D9("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(l==="idle"){const h=window.setTimeout(()=>d("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(h)}},[l,i.scrollHideDelay,d]),E.useEffect(()=>{const h=i.viewport,f=a?"scrollLeft":"scrollTop";if(h){let m=h[f];const g=()=>{const v=h[f];m!==v&&(d("SCROLL"),c()),m=v};return h.addEventListener("scroll",g),()=>h.removeEventListener("scroll",g)}},[i.viewport,a,d,c]),s.jsx(kr,{present:r||l!=="hidden",children:s.jsx(Zy,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Le(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Le(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),zT=E.forwardRef((e,t)=>{const r=fn(ns,e.__scopeScrollArea),{forceMount:n,...i}=e,[a,c]=E.useState(!1),l=e.orientation==="horizontal",d=gh(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;c(l?h:f)}},10);return lo(r.viewport,d),lo(r.content,d),s.jsx(kr,{present:n||a,children:s.jsx(Zy,{"data-state":a?"visible":"hidden",...i,ref:t})})}),Zy=E.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,i=fn(ns,e.__scopeScrollArea),a=E.useRef(null),c=E.useRef(0),[l,d]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=KT(l.viewport,l.content),f={...n,sizes:l,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:g=>a.current=g,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:g=>c.current=g};function m(g,v){return z9(g,c.current,l,v)}return r==="horizontal"?s.jsx(F9,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const g=i.viewport.scrollLeft,v=W1(g,l,i.dir);a.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollLeft=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollLeft=m(g,i.dir))}}):r==="vertical"?s.jsx(L9,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const g=i.viewport.scrollTop,v=W1(g,l);a.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollTop=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollTop=m(g))}}):null}),F9=E.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=fn(ns,e.__scopeScrollArea),[c,l]=E.useState(),d=E.useRef(null),h=nt(t,d,a.onScrollbarXChange);return E.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),s.jsx(WT,{"data-orientation":"horizontal",...i,ref:h,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":mh(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(a.viewport){const g=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(g),YT(g,m)&&f.preventDefault()}},onResize:()=>{d.current&&a.viewport&&c&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Ad(c.paddingLeft),paddingEnd:Ad(c.paddingRight)}})}})}),L9=E.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=fn(ns,e.__scopeScrollArea),[c,l]=E.useState(),d=E.useRef(null),h=nt(t,d,a.onScrollbarYChange);return E.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),s.jsx(WT,{"data-orientation":"vertical",...i,ref:h,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":mh(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(a.viewport){const g=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(g),YT(g,m)&&f.preventDefault()}},onResize:()=>{d.current&&a.viewport&&c&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Ad(c.paddingTop),paddingEnd:Ad(c.paddingBottom)}})}})}),[U9,$T]=LT(ns),WT=E.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:c,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:f,onResize:m,...g}=e,v=fn(ns,r),[x,y]=E.useState(null),b=nt(t,A=>y(A)),w=E.useRef(null),N=E.useRef(""),_=v.viewport,S=n.content-n.viewport,T=Vt(f),F=Vt(d),U=gh(m,10);function $(A){if(w.current){const J=A.clientX-w.current.left,pe=A.clientY-w.current.top;h({x:J,y:pe})}}return E.useEffect(()=>{const A=J=>{const pe=J.target;x?.contains(pe)&&T(J,S)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[_,x,S,T]),E.useEffect(F,[n,F]),lo(x,U),lo(v.content,U),s.jsx(U9,{scope:r,scrollbar:x,hasThumb:i,onThumbChange:Vt(a),onThumbPointerUp:Vt(c),onThumbPositionChange:F,onThumbPointerDown:Vt(l),children:s.jsx(Ve.div,{...g,ref:b,style:{position:"absolute",...g.style},onPointerDown:Le(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),w.current=x.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),$(A))}),onPointerMove:Le(e.onPointerMove,$),onPointerUp:Le(e.onPointerUp,A=>{const J=A.target;J.hasPointerCapture(A.pointerId)&&J.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=N.current,v.viewport&&(v.viewport.style.scrollBehavior=""),w.current=null})})})}),Rd="ScrollAreaThumb",qT=E.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=$T(Rd,e.__scopeScrollArea);return s.jsx(kr,{present:r||i.hasThumb,children:s.jsx(B9,{ref:t,...n})})}),B9=E.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,a=fn(Rd,r),c=$T(Rd,r),{onThumbPositionChange:l}=c,d=nt(t,m=>c.onThumbChange(m)),h=E.useRef(),f=gh(()=>{h.current&&(h.current(),h.current=void 0)},100);return E.useEffect(()=>{const m=a.viewport;if(m){const g=()=>{if(f(),!h.current){const v=$9(m,l);h.current=v,l()}};return l(),m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[a.viewport,f,l]),s.jsx(Ve.div,{"data-state":c.hasThumb?"visible":"hidden",...i,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Le(e.onPointerDownCapture,m=>{const v=m.target.getBoundingClientRect(),x=m.clientX-v.left,y=m.clientY-v.top;c.onThumbPointerDown({x,y})}),onPointerUp:Le(e.onPointerUp,c.onThumbPointerUp)})});qT.displayName=Rd;var ex="ScrollAreaCorner",VT=E.forwardRef((e,t)=>{const r=fn(ex,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(H9,{...e,ref:t}):null});VT.displayName=ex;var H9=E.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=fn(ex,r),[a,c]=E.useState(0),[l,d]=E.useState(0),h=!!(a&&l);return lo(i.scrollbarX,()=>{const f=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(f),d(f)}),lo(i.scrollbarY,()=>{const f=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(f),c(f)}),h?s.jsx(Ve.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Ad(e){return e?parseInt(e,10):0}function KT(e,t){const r=e/t;return isNaN(r)?0:r}function mh(e){const t=KT(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function z9(e,t,r,n="ltr"){const i=mh(r),a=i/2,c=t||a,l=i-c,d=r.scrollbar.paddingStart+c,h=r.scrollbar.size-r.scrollbar.paddingEnd-l,f=r.content-r.viewport,m=n==="ltr"?[0,f]:[f*-1,0];return GT([d,h],m)(e)}function W1(e,t,r="ltr"){const n=mh(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,c=t.content-t.viewport,l=a-n,d=r==="ltr"?[0,c]:[c*-1,0],h=uv(e,d);return GT([0,c],[0,l])(h)}function GT(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function YT(e,t){return e>0&&e<t}var $9=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function i(){const a={left:e.scrollLeft,top:e.scrollTop},c=r.left!==a.left,l=r.top!==a.top;(c||l)&&t(),r=a,n=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(n)};function gh(e,t){const r=Vt(e),n=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),E.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function lo(e,t){const r=Vt(t);mr(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}function W9(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const i=E.Children.only(n);return E.cloneElement(i,{children:typeof t=="function"?t(i.props.children):t})}var XT=UT,q9=HT,V9=VT;const tx=E.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(XT,{ref:n,className:Re("relative overflow-hidden",e),...r,children:[s.jsx(q9,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(QT,{}),s.jsx(V9,{})]}));tx.displayName=XT.displayName;const QT=E.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(Jy,{ref:n,orientation:t,className:Re("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(qT,{className:"relative flex-1 rounded-full bg-border"})}));QT.displayName=Jy.displayName;const K9=({clients:e,projects:t,selectedClients:r,loading:n})=>s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Xr,{className:"w-5 h-5 mr-2"}),s.jsx("h3",{className:"text-lg font-medium",children:"Client Access"})]}),n?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Ga,{className:"w-6 h-6 animate-spin"})}):s.jsx(tx,{className:"h-64 border rounded-lg p-4",children:s.jsx("div",{className:"space-y-3",children:e.map(i=>{const a=r.includes(i.id),c=t.filter(l=>l.clientId===i.id);return s.jsx("div",{className:`p-3 rounded border ${a?"bg-blue-50 border-blue-200":"bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:i.name}),s.jsxs("div",{className:"text-sm text-slate-500",children:[c.length," project",c.length!==1?"s":""," available"]}),a&&s.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Access granted via project assignments"})]}),s.jsx("div",{className:"flex items-center",children:s.jsx(Ui,{checked:a,disabled:!0,className:"ml-2"})})]})},i.id)})})}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Note:"}),' Client access is automatically granted when you assign projects to the user. Select projects in the "Project Access" tab to grant access to their associated clients.']})})]}),G9=({projects:e,clients:t,selectedProjects:r,loading:n,isUpdating:i,onProjectToggle:a})=>s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Vg,{className:"w-5 h-5 mr-2"}),s.jsx("h3",{className:"text-lg font-medium",children:"Project Access"})]}),n?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Ga,{className:"w-6 h-6 animate-spin"})}):s.jsx(tx,{className:"h-64 border rounded-lg p-4",children:s.jsx("div",{className:"space-y-3",children:e.map(c=>{const l=t.find(d=>d.id===c.clientId);return s.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-slate-50 rounded",children:[s.jsx(Ui,{id:`project-${c.id}`,checked:r.includes(c.id),onCheckedChange:d=>a(c.id,d),disabled:i}),s.jsxs("label",{htmlFor:`project-${c.id}`,className:"flex-1 cursor-pointer",children:[s.jsx("div",{className:"font-medium",children:c.name}),s.jsxs("div",{className:"text-sm text-slate-500",children:["Client: ",l?.name||"Unknown"," | Status: ",c.status]})]})]},c.id)})})}),s.jsxs("div",{className:"mt-4 text-sm text-slate-600",children:["Selected projects: ",r.length," of ",e.length]})]}),Y9=({projects:e,clients:t,selectedProjects:r,selectedClients:n,loading:i,isUpdating:a,onProjectToggle:c})=>s.jsxs(Ss,{defaultValue:"clients",className:"w-full",children:[s.jsxs(ts,{className:"grid w-full grid-cols-2",children:[s.jsxs(Mt,{value:"clients",children:["Client Access (",n.length,")"]}),s.jsxs(Mt,{value:"projects",children:["Project Access (",r.length,")"]})]}),s.jsx(Xt,{value:"clients",children:s.jsx(K9,{clients:t,projects:e,selectedClients:n,loading:i})}),s.jsx(Xt,{value:"projects",children:s.jsx(G9,{projects:e,clients:t,selectedProjects:r,loading:i,isUpdating:a,onProjectToggle:c})})]}),X9=({isOpen:e,onClose:t,user:r,projects:n,clients:i=[],onUserUpdate:a})=>{const{assignments:c,loading:l,assignUserToProject:d,removeUserFromProject:h,getUserAssignments:f}=R9(),{demoMode:m}=pt(),[g,v]=E.useState(r),[x,y]=E.useState([]),[b,w]=E.useState([]),[N,_]=E.useState(!1);E.useEffect(()=>{v(r)},[r]),E.useEffect(()=>{if(g&&e){const U=f(g.id).map(A=>A.project_id);y(U);const $=n.filter(A=>U.includes(A.id)).map(A=>A.clientId);w([...new Set($)])}},[g,c,e,n]);const S=async(F,U)=>{if(g){_(!0);try{U?(await d(g.id,F),y(J=>[...J,F])):(await h(g.id,F),y(J=>J.filter(pe=>pe!==F)));const $=U?[...x,F]:x.filter(J=>J!==F),A=n.filter(J=>$.includes(J.id)).map(J=>J.clientId);w([...new Set(A)])}catch($){console.error("Error toggling project assignment:",$)}finally{_(!1)}}},T=F=>{v(F),a?.(F)};return g?s.jsx(gr,{open:e,onOpenChange:t,children:s.jsxs(ur,{className:"max-w-4xl",children:[s.jsx(dr,{children:s.jsxs(hr,{className:"flex items-center",children:[s.jsx(Gv,{className:"w-5 h-5 mr-2"}),"Edit User: ",g.full_name||(m?"Demo User":g.email)]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(A9,{user:g,onUserUpdate:T}),g.role==="standard"&&s.jsx(Y9,{projects:n,clients:i,selectedProjects:x,selectedClients:b,loading:l,isUpdating:N,onProjectToggle:S}),g.role==="admin"&&s.jsx("div",{className:"p-4 bg-purple-50 rounded-lg",children:s.jsxs("p",{className:"text-purple-800",children:[s.jsx("strong",{children:"Admin users"})," have access to all clients and projects automatically."]})}),g.role==="client"&&s.jsx("div",{className:"p-4 bg-blue-50 rounded-lg",children:s.jsxs("p",{className:"text-blue-800",children:[s.jsx("strong",{children:"Client users"})," can only access their own projects and tasks (matched by email)."]})})]}),s.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:s.jsx(je,{variant:"outline",onClick:t,children:"Close"})})]})}):null},Q9=({rows:e=5,cols:t=4,headers:r})=>{const n=r&&r.length>0?r:Array.from({length:t},()=>"");return s.jsx("div",{className:"rounded-md border",children:s.jsxs(mc,{children:[s.jsx(gc,{children:s.jsx(Zn,{children:n.map((i,a)=>s.jsx(Wt,{children:i||s.jsx($t,{className:"h-4 w-24"})},a))})}),s.jsx(vc,{children:Array.from({length:e}).map((i,a)=>s.jsx(Zn,{children:Array.from({length:n.length}).map((c,l)=>s.jsx(qt,{children:s.jsx($t,{className:"h-4 w-full"})},l))},a))})]})})},J9=({users:e,loading:t,onEditUser:r,onRoleChange:n,clients:i=[],clientAssignments:a={},onClientChange:c,onDeleteUser:l})=>{const{demoMode:d}=pt();return t?s.jsx(Q9,{rows:5,cols:6,headers:["Name","Email","Role","Client","Joined","Actions"]}):e.length===0?s.jsx("div",{className:"text-center py-8 text-slate-500",children:"No users found"}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(mc,{children:[s.jsx(gc,{children:s.jsxs(Zn,{children:[s.jsx(Wt,{children:"Name"}),s.jsx(Wt,{children:"Email"}),s.jsx(Wt,{children:"Role"}),s.jsx(Wt,{children:"Client"}),s.jsx(Wt,{children:"Joined"}),s.jsx(Wt,{className:"text-right",children:"Actions"})]})}),s.jsx(vc,{children:e.map(h=>s.jsxs(Zn,{children:[s.jsx(qt,{className:"font-medium",children:h.full_name||"N/A"}),s.jsx(qt,{children:d?"":h.email}),s.jsx(qt,{children:n?s.jsxs(vt,{value:h.role,onValueChange:f=>{f!==h.role&&n(h,f)},children:[s.jsx(dt,{className:"h-8 w-[140px] text-xs",children:s.jsx(yt,{placeholder:"Select role"})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"admin",children:"admin"}),s.jsx(Oe,{value:"standard",children:"standard"}),s.jsx(Oe,{value:"client",children:"client"})]})]}):s.jsx("span",{className:"text-sm text-slate-700",children:h.role})}),s.jsx(qt,{children:h.role==="client"&&c?s.jsxs(vt,{value:a[h.id]!==null&&a[h.id]!==void 0?String(a[h.id]):"unassigned",onValueChange:f=>{const m=f==="unassigned"?null:Number(f);m!==a[h.id]&&c(h,m)},children:[s.jsx(dt,{className:"h-8 w-[200px] text-xs",children:s.jsx(yt,{placeholder:"Select client"})}),s.jsxs(ht,{children:[s.jsx(Oe,{value:"unassigned",children:"Unassigned"}),i.map(f=>s.jsx(Oe,{value:String(f.id),children:f.name},f.id))]})]}):s.jsx("span",{className:"text-sm text-slate-500",children:""})}),s.jsx(qt,{children:ln(new Date(h.created_at),"MMM d, yyyy")}),s.jsxs(qt,{className:"text-right",children:[s.jsx(je,{variant:"outline",size:"sm",onClick:()=>r(h),children:s.jsx(bs,{className:"h-4 w-4"})}),l&&s.jsx(je,{variant:"danger",size:"sm",onClick:()=>l(h),className:"ml-2",children:"Delete"})]})]},h.id))})]})})},q1=({invites:e,onDeleteInvite:t,showActions:r=!0})=>{const{demoMode:n}=pt(),i=c=>c.used?s.jsx(Ka,{className:"h-4 w-4 text-green-600"}):new Date(c.expires_at)<=new Date?s.jsx(ED,{className:"h-4 w-4 text-red-600"}):c.email_sent?s.jsx(Ql,{className:"h-4 w-4 text-blue-600"}):s.jsx(Br,{className:"h-4 w-4 text-yellow-600"}),a=c=>c.used?"Used":new Date(c.expires_at)<=new Date?"Expired":c.email_sent?"Sent":"Pending";return e.length===0?s.jsx("div",{className:"text-center py-8 text-slate-500",children:"No invites found"}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(mc,{children:[s.jsx(gc,{children:s.jsxs(Zn,{children:[s.jsx(Wt,{children:"Email"}),s.jsx(Wt,{children:"Role"}),s.jsx(Wt,{children:"Status"}),s.jsx(Wt,{children:r?"Expires":"Date"}),r&&s.jsx(Wt,{className:"text-right",children:"Actions"})]})}),s.jsx(vc,{children:e.map(c=>s.jsxs(Zn,{className:r?"":"opacity-60",children:[s.jsx(qt,{className:"font-medium",children:n?"":c.email}),s.jsx(qt,{children:s.jsx(Xe,{className:(c.role==="admin","ui-pill ui-pill--info"),children:c.role})}),s.jsx(qt,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[i(c),s.jsx("span",{className:"text-sm",children:a(c)})]})}),s.jsx(qt,{children:ln(new Date(r?c.expires_at:c.used?c.used_at:c.expires_at),"MMM d, yyyy HH:mm")}),r&&s.jsx(qt,{className:"text-right",children:s.jsx(je,{variant:"danger",size:"sm",onClick:()=>t(c.id),children:s.jsx(Xn,{className:"h-4 w-4"})})})]},c.id))})]})})},Z9=()=>{const[e,t]=E.useState([]),[r,n]=E.useState(!1),{toast:i}=Dt(),{isAdmin:a}=_t(),c=async(m,g,v,x)=>{try{if(["user_role_changed","admin_access","bulk_delete","data_export","login_attempt","failed_login","password_reset"].includes(m)){const{error:b}=await Pe.rpc("log_security_action",{p_action:m,p_resource_type:g,p_resource_id:v,p_details:x||{}});b&&console.error("Failed to log security action:",b),["user_role_changed","failed_login"].includes(m)&&i({title:"Security Action Logged",description:`Action: ${m}`,variant:m.includes("failed")?"destructive":"default"})}}catch(y){console.error("Security logging error:",y)}},l=async()=>{},d=(m,g)=>{const v=[/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,/javascript:/gi,/on\w+\s*=/gi,/<iframe\b[^<]*(?:(?!<\/iframe>)<[^<]*)*<\/iframe>/gi,/<object\b[^<]*(?:(?!<\/object>)<[^<]*)*<\/object>/gi,/<embed\b[^<]*(?:(?!<\/embed>)<[^<]*)*<\/embed>/gi,/vbscript:/gi,/data:text\/html/gi];for(const b of v)if(b.test(m))return c("xss_attempt",g,void 0,{input:m.substring(0,100),pattern:b.toString()}),!1;const x=[/('|(\\')|(;|\/\*|\*\/|--|\+))/gi,/(union|select|insert|update|delete|drop|create|alter|exec|execute)/gi,/(or|and)\s+\d+\s*=\s*\d+/gi,/'\s*(or|and)\s*'[^']*'/gi];for(const b of x)if(b.test(m))return c("sql_injection_attempt",g,void 0,{input:m.substring(0,100),pattern:b.toString()}),!1;const y=[/\.\.[\/\\]/gi,/[\/\\]etc[\/\\]/gi,/[\/\\]proc[\/\\]/gi,/[\/\\]sys[\/\\]/gi];for(const b of y)if(b.test(m))return c("path_traversal_attempt",g,void 0,{input:m.substring(0,100)}),!1;return!0},h=(m,g,v)=>{const x=`validation_error_${m}`,y=parseInt(sessionStorage.getItem(x)||"0")+1;sessionStorage.setItem(x,y.toString()),y>5&&c("repeated_validation_errors",m,void 0,{error:g.substring(0,200),count:y,context:"form_validation"}),setTimeout(()=>{sessionStorage.removeItem(x)},36e5)},f=async()=>{if(a){n(!0);try{const{data:m,error:g}=await Pe.from("security_audit_log").select("*").order("created_at",{ascending:!1}).limit(100);if(g)throw g;t((m||[]).map(v=>({id:v.id,user_id:v.user_id,action:v.action,resource_type:v.resource_type,resource_id:v.resource_id,details:typeof v.details=="string"?JSON.parse(v.details):v.details||{},ip_address:v.ip_address,user_agent:v.user_agent,created_at:v.created_at})))}catch(m){console.error("Failed to fetch audit logs:",m)}finally{n(!1)}}};return E.useEffect(()=>{if(a){l();const m=setInterval(l,300*1e3);return()=>clearInterval(m)}},[a]),{auditLogs:e,loading:r,logSecurityAction:c,validateInput:d,trackValidationError:h,checkAccessPatterns:l,fetchAuditLogs:f}},eH=()=>{const{isAdmin:e}=_t(),{auditLogs:t,loading:r,fetchAuditLogs:n}=Z9();if(E.useEffect(()=>{e&&n()},[e]),!e)return s.jsx(We,{children:s.jsx(qe,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Ab,{className:"h-4 w-4"}),s.jsx("span",{children:"Access denied. Admin privileges required."})]})})});const i=c=>c.includes("role")?s.jsx(Gv,{className:"h-4 w-4"}):c.includes("attempt")||c.includes("failed")?s.jsx(HD,{className:"h-4 w-4"}):s.jsx(kD,{className:"h-4 w-4"}),a=c=>c.includes("failed")||c.includes("attempt")?s.jsx(Xe,{variant:"destructive",children:"Security Alert"}):c.includes("role")||c.includes("admin")?s.jsx(Xe,{variant:"secondary",children:"Admin Action"}):s.jsx(Xe,{variant:"outline",children:"System Event"});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ab,{className:"h-6 w-6"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Security Audit Dashboard"})]}),s.jsxs(We,{children:[s.jsxs(ot,{children:[s.jsx(lt,{children:"Recent Security Events"}),s.jsx(ty,{children:"Monitor system security events and administrative actions"})]}),s.jsx(qe,{children:r?s.jsx("div",{className:"text-center py-8",children:"Loading audit logs..."}):t.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No security events recorded yet."}):s.jsx("div",{className:"space-y-4",children:t.map(c=>s.jsxs("div",{className:"flex items-start gap-4 p-4 border rounded-lg",children:[s.jsx("div",{className:"mt-1",children:i(c.action)}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:c.action}),a(c.action)]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Resource: ",c.resource_type,c.resource_id&&` (ID: ${c.resource_id})`]}),c.details&&Object.keys(c.details).length>0&&s.jsx("div",{className:"text-xs bg-muted p-2 rounded",children:s.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(c.details,null,2)})}),s.jsx("div",{className:"text-xs text-muted-foreground",children:ln(new Date(c.created_at),"PPpp")})]})]},c.id))})})]})]})},tH=()=>{const{users:e,loading:t,refreshUsers:r,updateUserRole:n,deleteUser:i}=hh(),{invites:a,loading:c,createInvite:l,deleteInvite:d}=XN(),{projects:h}=yc(),{clients:f,updateClient:m}=Xi(),{isAdmin:g}=_t(),{toast:v}=Dt(),[x,y]=E.useState(!1),[b,w]=E.useState(!1),[N,_]=E.useState(null);if(!g)return s.jsx(Bt,{children:s.jsx("div",{className:"w-full flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})]})})});const S=async(R,Z)=>{await l(R,Z)},T=R=>{_(R),w(!0)},F=R=>{r()},U=async(R,Z)=>{await n(R.id,Z),Z!=="client"&&await A(R,null)},$=R=>(R||"").trim().toLowerCase(),A=async(R,Z)=>{if(!R.email){v({title:"Missing email",description:"User must have an email to link to a client.",variant:"destructive"});return}const ae=$(R.email),q=f.filter(te=>(te.people||[]).some(W=>$(W.email)===ae));for(const te of q){const W=(te.people||[]).filter(H=>$(H.email)!==ae);await m(te.id,{...te,people:W})}if(Z===null)return;const Y=f.find(te=>te.id===Z);if(!Y){v({title:"Client not found",description:"Unable to link user to the selected client.",variant:"destructive"});return}const ne=[...Y.people||[]];ne.some(te=>$(te.email)===ae)||ne.push({name:R.full_name||R.email||"Client User",email:R.email,title:"Client"}),await m(Y.id,{...Y,people:ne})},J=async R=>{confirm(`Delete user ${R.email||R.full_name||R.id}? This cannot be undone.`)&&await i(R.id)},pe=a.filter(R=>!R.used&&new Date(R.expires_at)>new Date),z=a.filter(R=>R.used||new Date(R.expires_at)<=new Date),G=e.reduce((R,Z)=>{if(!Z.email)return R[Z.id]=null,R;const ae=$(Z.email),q=f.find(Y=>(Y.people||[]).some(ne=>$(ne.email)===ae));return R[Z.id]=q?q.id:null,R},{});return s.jsx(Bt,{children:s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"w-full space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center",children:[s.jsx(Xr,{className:"w-8 h-8 mr-3"}),"User Management"]})}),s.jsxs(je,{variant:"primary",onClick:()=>y(!0),children:[s.jsx(GS,{className:"w-4 h-4 mr-2"}),"Invite User"]})]}),s.jsxs(Ss,{defaultValue:"users",className:"w-full",children:[s.jsxs(ts,{className:"grid w-full grid-cols-3",children:[s.jsxs(Mt,{value:"users",children:["Users (",e.length,")"]}),s.jsxs(Mt,{value:"invites",children:["Invites (",pe.length,")"]}),s.jsx(Mt,{value:"security",children:"Security Audit"})]}),s.jsx(Xt,{value:"users",className:"mt-6",children:s.jsxs(We,{children:[s.jsx(ot,{children:s.jsx(lt,{children:"Registered Users"})}),s.jsx(qe,{children:s.jsx(J9,{users:e,loading:t,onEditUser:T,onRoleChange:U,clients:f,clientAssignments:G,onClientChange:A,onDeleteUser:J})})]})}),s.jsx(Xt,{value:"invites",className:"mt-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(We,{children:[s.jsx(ot,{children:s.jsxs(lt,{className:"flex items-center",children:[s.jsx(Ql,{className:"w-5 h-5 mr-2"}),"Active Invites"]})}),s.jsx(qe,{children:c?s.jsx("div",{className:"rounded-md border",children:s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx("div",{className:"h-4 w-32 bg-muted animate-pulse rounded"}),Array.from({length:4}).map((R,Z)=>s.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"},Z))]})}):s.jsx(q1,{invites:pe,onDeleteInvite:d,showActions:!0})})]}),z.length>0&&s.jsxs(We,{children:[s.jsx(ot,{children:s.jsx(lt,{children:"Expired/Used Invites"})}),s.jsx(qe,{children:c?s.jsx("div",{className:"rounded-md border",children:s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx("div",{className:"h-4 w-32 bg-muted animate-pulse rounded"}),Array.from({length:3}).map((R,Z)=>s.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"},Z))]})}):s.jsx(q1,{invites:z,onDeleteInvite:d,showActions:!1})})]})]})}),s.jsx(Xt,{value:"security",children:s.jsx(eH,{})})]}),s.jsx(P9,{isOpen:x,onClose:()=>y(!1),onInvite:S}),s.jsx(X9,{isOpen:b,onClose:()=>w(!1),user:N,projects:h,clients:f,onUserUpdate:F})]})})})},rH=()=>{const e=Ki();return E.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},bn=({children:e})=>{const{user:t,loading:r}=_t(),n=Dn();return E.useEffect(()=>{!r&&!t&&n("/auth",{replace:!0})},[t,r,n]),r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#F3F3F2"},children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ga,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600",children:"Loading..."})]})}):t?s.jsx(s.Fragment,{children:e}):null},Vp=({children:e})=>s.jsx(Ny,{children:s.jsxs("div",{className:"min-h-screen flex w-full justify-center p-4 md:p-6",children:[s.jsx("header",{className:"fixed top-0 left-0 z-50 md:hidden",children:s.jsx(Ey,{className:"m-4"})}),s.jsxs("div",{className:"flex w-full max-w-[calc(1200px+16rem+1.5rem)] gap-0 md:gap-6 mx-auto",children:[s.jsx(QC,{}),s.jsx("main",{className:"flex-1 min-w-0 w-full max-w-full xl:max-w-[1200px] xl:min-w-[1200px] pt-12 md:pt-0",children:e})]})]})}),nH=async()=>{const{data:e,error:t}=await Pe.from("contract_templates").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error loading contract templates:",t),t;return(e||[]).map(r=>({...r,variables:Array.isArray(r.variables)?r.variables.filter(n=>typeof n=="string"):[]}))},sH=async e=>{const{data:t,error:r}=await Pe.from("contract_templates").insert({name:e.name,template_content:e.template_content,variables:e.variables}).select().single();if(r)throw console.error("Error adding contract template:",r),r;return{...t,variables:Array.isArray(t.variables)?t.variables.filter(n=>typeof n=="string"):[]}},iH=async(e,t)=>{const{error:r}=await Pe.from("contract_templates").update({name:t.name,template_content:t.template_content,variables:t.variables,updated_at:new Date().toISOString()}).eq("id",e);if(r)throw console.error("Error updating contract template:",r),r},aH=async e=>{const{error:t}=await Pe.from("contract_templates").delete().eq("id",e);if(t)throw console.error("Error deleting contract template:",t),t},oH=async e=>{const{data:t,error:r}=await Pe.from("generated_documents").insert(e).select().single();if(r)throw console.error("Error saving generated document:",r),r;return{...t,variables_used:typeof t.variables_used=="object"&&t.variables_used!==null?t.variables_used:{}}},lH=async()=>{const{data:e,error:t}=await Pe.from("generated_documents").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error loading generated documents:",t),t;return(e||[]).map(r=>({...r,variables_used:typeof r.variables_used=="object"&&r.variables_used!==null?r.variables_used:{}}))},cH=async e=>{const{error:t}=await Pe.from("generated_documents").delete().eq("id",e);if(t)throw console.error("Error deleting generated document:",t),t},vh=()=>{const[e,t]=E.useState([]),[r,n]=E.useState([]),[i,a]=E.useState(!0),{toast:c}=Dt(),l=async()=>{try{a(!0);const x=await nH();t(x)}catch(x){console.error("Error loading templates:",x),c({title:"Error",description:"Failed to load contract templates",variant:"destructive"})}finally{a(!1)}},d=async()=>{try{const x=await lH();n(x)}catch(x){console.error("Error loading generated documents:",x),c({title:"Error",description:"Failed to load generated documents",variant:"destructive"})}};return E.useEffect(()=>{l(),d()},[]),{templates:e,generatedDocuments:r,loading:i,addTemplate:async x=>{try{const y=await sH(x);t(b=>[y,...b]),c({title:"Success",description:"Contract template added successfully"})}catch(y){console.error("Error adding template:",y),c({title:"Error",description:"Failed to add contract template",variant:"destructive"})}},updateTemplate:async(x,y)=>{try{await iH(x,y),t(b=>b.map(w=>w.id===x?{...w,...y}:w)),c({title:"Success",description:"Contract template updated successfully"})}catch(b){console.error("Error updating template:",b),c({title:"Error",description:"Failed to update contract template",variant:"destructive"})}},deleteTemplate:async x=>{try{await aH(x),t(y=>y.filter(b=>b.id!==x)),c({title:"Success",description:"Contract template deleted successfully"})}catch(y){console.error("Error deleting template:",y),c({title:"Error",description:"Failed to delete contract template",variant:"destructive"})}},deleteGeneratedDocument:async x=>{try{await cH(x),n(y=>y.filter(b=>b.id!==x)),c({title:"Success",description:"Generated document deleted successfully"})}catch(y){console.error("Error deleting generated document:",y),c({title:"Error",description:"Failed to delete generated document",variant:"destructive"})}},generateDocument:async(x,y,b,w,N)=>{try{const _=e.find(F=>F.id===x);if(!_)throw new Error("Template not found");let S=_.template_content;Object.entries(y).forEach(([F,U])=>{const $=new RegExp(`{{${F}}}`,"g");S=S.replace($,String(U))});const T=await oH({template_id:x,project_id:w,client_id:N,document_name:b,generated_content:S,variables_used:y});return n(F=>[T,...F]),c({title:"Success",description:"Document generated successfully"}),T}catch(_){throw console.error("Error generating document:",_),c({title:"Error",description:"Failed to generate document",variant:"destructive"}),_}},refreshTemplates:l,refreshGeneratedDocuments:d}};var uH=Object.defineProperty,dH=Object.defineProperties,hH=Object.getOwnPropertyDescriptors,V1=Object.getOwnPropertySymbols,fH=Object.prototype.hasOwnProperty,pH=Object.prototype.propertyIsEnumerable,xv=(e,t,r)=>t in e?uH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ut=(e,t)=>{for(var r in t||(t={}))fH.call(t,r)&&xv(e,r,t[r]);if(V1)for(var r of V1(t))pH.call(t,r)&&xv(e,r,t[r]);return e},co=(e,t)=>dH(e,hH(t)),Se=(e,t,r)=>xv(e,typeof t!="symbol"?t+"":t,r),mH=(e,t,r)=>new Promise((n,i)=>{var a=d=>{try{l(r.next(d))}catch(h){i(h)}},c=d=>{try{l(r.throw(d))}catch(h){i(h)}},l=d=>d.done?n(d.value):Promise.resolve(d.value).then(a,c);l((r=r.apply(e,t)).next())});class Dd{constructor(t){Se(this,"rootKey"),this.rootKey=t}}const gH=Object.seal({});class Ce extends Dd{constructor(t){super(t),Se(this,"root"),this.root=new Array}prepForXml(t){var r;t.stack.push(this);const n=this.root.map(i=>i instanceof Dd?i.prepForXml(t):i).filter(i=>i!==void 0);return t.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:gH}}addChildElement(t){return this.root.push(t),this}}class yh extends Ce{prepForXml(t){const r=super.prepForXml(t);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class et extends Dd{constructor(t){super("_attr"),Se(this,"xmlKeys"),this.root=t}prepForXml(t){const r={};return Object.entries(this.root).forEach(([n,i])=>{if(i!==void 0){const a=this.xmlKeys&&this.xmlKeys[n]||n;r[a]=i}}),{_attr:r}}}class xh extends Dd{constructor(t){super("_attr"),this.root=t}prepForXml(t){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:a})=>co(ut({},n),{[i]:a}),{})}}}class Kt extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Kn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function JT(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kp={},Ku={exports:{}},K1;function rx(){if(K1)return Ku.exports;K1=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(T,F,U){return Function.prototype.apply.call(T,F,U)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:r=function(T){return Object.getOwnPropertyNames(T)};function n(S){console&&console.warn&&console.warn(S)}var i=Number.isNaN||function(T){return T!==T};function a(){a.init.call(this)}Ku.exports=a,Ku.exports.once=w,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(S){if(typeof S!="number"||S<0||i(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");c=S}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||i(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this};function d(S){return S._maxListeners===void 0?a.defaultMaxListeners:S._maxListeners}a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(T){for(var F=[],U=1;U<arguments.length;U++)F.push(arguments[U]);var $=T==="error",A=this._events;if(A!==void 0)$=$&&A.error===void 0;else if(!$)return!1;if($){var J;if(F.length>0&&(J=F[0]),J instanceof Error)throw J;var pe=new Error("Unhandled error."+(J?" ("+J.message+")":""));throw pe.context=J,pe}var z=A[T];if(z===void 0)return!1;if(typeof z=="function")t(z,this,F);else for(var G=z.length,R=x(z,G),U=0;U<G;++U)t(R[U],this,F);return!0};function h(S,T,F,U){var $,A,J;if(l(F),A=S._events,A===void 0?(A=S._events=Object.create(null),S._eventsCount=0):(A.newListener!==void 0&&(S.emit("newListener",T,F.listener?F.listener:F),A=S._events),J=A[T]),J===void 0)J=A[T]=F,++S._eventsCount;else if(typeof J=="function"?J=A[T]=U?[F,J]:[J,F]:U?J.unshift(F):J.push(F),$=d(S),$>0&&J.length>$&&!J.warned){J.warned=!0;var pe=new Error("Possible EventEmitter memory leak detected. "+J.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");pe.name="MaxListenersExceededWarning",pe.emitter=S,pe.type=T,pe.count=J.length,n(pe)}return S}a.prototype.addListener=function(T,F){return h(this,T,F,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(T,F){return h(this,T,F,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(S,T,F){var U={fired:!1,wrapFn:void 0,target:S,type:T,listener:F},$=f.bind(U);return $.listener=F,U.wrapFn=$,$}a.prototype.once=function(T,F){return l(F),this.on(T,m(this,T,F)),this},a.prototype.prependOnceListener=function(T,F){return l(F),this.prependListener(T,m(this,T,F)),this},a.prototype.removeListener=function(T,F){var U,$,A,J,pe;if(l(F),$=this._events,$===void 0)return this;if(U=$[T],U===void 0)return this;if(U===F||U.listener===F)--this._eventsCount===0?this._events=Object.create(null):(delete $[T],$.removeListener&&this.emit("removeListener",T,U.listener||F));else if(typeof U!="function"){for(A=-1,J=U.length-1;J>=0;J--)if(U[J]===F||U[J].listener===F){pe=U[J].listener,A=J;break}if(A<0)return this;A===0?U.shift():y(U,A),U.length===1&&($[T]=U[0]),$.removeListener!==void 0&&this.emit("removeListener",T,pe||F)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(T){var F,U,$;if(U=this._events,U===void 0)return this;if(U.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):U[T]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete U[T]),this;if(arguments.length===0){var A=Object.keys(U),J;for($=0;$<A.length;++$)J=A[$],J!=="removeListener"&&this.removeAllListeners(J);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(F=U[T],typeof F=="function")this.removeListener(T,F);else if(F!==void 0)for($=F.length-1;$>=0;$--)this.removeListener(T,F[$]);return this};function g(S,T,F){var U=S._events;if(U===void 0)return[];var $=U[T];return $===void 0?[]:typeof $=="function"?F?[$.listener||$]:[$]:F?b($):x($,$.length)}a.prototype.listeners=function(T){return g(this,T,!0)},a.prototype.rawListeners=function(T){return g(this,T,!1)},a.listenerCount=function(S,T){return typeof S.listenerCount=="function"?S.listenerCount(T):v.call(S,T)},a.prototype.listenerCount=v;function v(S){var T=this._events;if(T!==void 0){var F=T[S];if(typeof F=="function")return 1;if(F!==void 0)return F.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function x(S,T){for(var F=new Array(T),U=0;U<T;++U)F[U]=S[U];return F}function y(S,T){for(;T+1<S.length;T++)S[T]=S[T+1];S.pop()}function b(S){for(var T=new Array(S.length),F=0;F<T.length;++F)T[F]=S[F].listener||S[F];return T}function w(S,T){return new Promise(function(F,U){function $(J){S.removeListener(T,A),U(J)}function A(){typeof S.removeListener=="function"&&S.removeListener("error",$),F([].slice.call(arguments))}_(S,T,A,{once:!0}),T!=="error"&&N(S,$,{once:!0})})}function N(S,T,F){typeof S.on=="function"&&_(S,"error",T,F)}function _(S,T,F,U){if(typeof S.on=="function")U.once?S.once(T,F):S.on(T,F);else if(typeof S.addEventListener=="function")S.addEventListener(T,function $(A){U.once&&S.removeEventListener(T,$),F(A)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return Ku.exports}var Gu={exports:{}},G1;function fi(){return G1||(G1=1,typeof Object.create=="function"?Gu.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Gu.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),Gu.exports}function vH(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ZT={exports:{}},Gt=ZT.exports={},zn,$n;function wv(){throw new Error("setTimeout has not been defined")}function bv(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?zn=setTimeout:zn=wv}catch{zn=wv}try{typeof clearTimeout=="function"?$n=clearTimeout:$n=bv}catch{$n=bv}})();function e2(e){if(zn===setTimeout)return setTimeout(e,0);if((zn===wv||!zn)&&setTimeout)return zn=setTimeout,setTimeout(e,0);try{return zn(e,0)}catch{try{return zn.call(null,e,0)}catch{return zn.call(this,e,0)}}}function yH(e){if($n===clearTimeout)return clearTimeout(e);if(($n===bv||!$n)&&clearTimeout)return $n=clearTimeout,clearTimeout(e);try{return $n(e)}catch{try{return $n.call(null,e)}catch{return $n.call(this,e)}}}var ws=[],Wa=!1,Bi,hd=-1;function xH(){!Wa||!Bi||(Wa=!1,Bi.length?ws=Bi.concat(ws):hd=-1,ws.length&&t2())}function t2(){if(!Wa){var e=e2(xH);Wa=!0;for(var t=ws.length;t;){for(Bi=ws,ws=[];++hd<t;)Bi&&Bi[hd].run();hd=-1,t=ws.length}Bi=null,Wa=!1,yH(e)}}Gt.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];ws.push(new r2(e,t)),ws.length===1&&!Wa&&e2(t2)};function r2(e,t){this.fun=e,this.array=t}r2.prototype.run=function(){this.fun.apply(null,this.array)};Gt.title="browser";Gt.browser=!0;Gt.env={};Gt.argv=[];Gt.version="";Gt.versions={};function Es(){}Gt.on=Es;Gt.addListener=Es;Gt.once=Es;Gt.off=Es;Gt.removeListener=Es;Gt.removeAllListeners=Es;Gt.emit=Es;Gt.prependListener=Es;Gt.prependOnceListener=Es;Gt.listeners=function(e){return[]};Gt.binding=function(e){throw new Error("process.binding is not supported")};Gt.cwd=function(){return"/"};Gt.chdir=function(e){throw new Error("process.chdir is not supported")};Gt.umask=function(){return 0};var wH=ZT.exports;const st=vH(wH);var Gp,Y1;function n2(){return Y1||(Y1=1,Gp=rx().EventEmitter),Gp}var Yp={},bl={},X1;function bH(){if(X1)return bl;X1=1,bl.byteLength=l,bl.toByteArray=h,bl.fromByteArray=g;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=n.length;i<a;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function c(v){var x=v.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=v.indexOf("=");y===-1&&(y=x);var b=y===x?0:4-y%4;return[y,b]}function l(v){var x=c(v),y=x[0],b=x[1];return(y+b)*3/4-b}function d(v,x,y){return(x+y)*3/4-y}function h(v){var x,y=c(v),b=y[0],w=y[1],N=new r(d(v,b,w)),_=0,S=w>0?b-4:b,T;for(T=0;T<S;T+=4)x=t[v.charCodeAt(T)]<<18|t[v.charCodeAt(T+1)]<<12|t[v.charCodeAt(T+2)]<<6|t[v.charCodeAt(T+3)],N[_++]=x>>16&255,N[_++]=x>>8&255,N[_++]=x&255;return w===2&&(x=t[v.charCodeAt(T)]<<2|t[v.charCodeAt(T+1)]>>4,N[_++]=x&255),w===1&&(x=t[v.charCodeAt(T)]<<10|t[v.charCodeAt(T+1)]<<4|t[v.charCodeAt(T+2)]>>2,N[_++]=x>>8&255,N[_++]=x&255),N}function f(v){return e[v>>18&63]+e[v>>12&63]+e[v>>6&63]+e[v&63]}function m(v,x,y){for(var b,w=[],N=x;N<y;N+=3)b=(v[N]<<16&16711680)+(v[N+1]<<8&65280)+(v[N+2]&255),w.push(f(b));return w.join("")}function g(v){for(var x,y=v.length,b=y%3,w=[],N=16383,_=0,S=y-b;_<S;_+=N)w.push(m(v,_,_+N>S?S:_+N));return b===1?(x=v[y-1],w.push(e[x>>2]+e[x<<4&63]+"==")):b===2&&(x=(v[y-2]<<8)+v[y-1],w.push(e[x>>10]+e[x>>4&63]+e[x<<2&63]+"=")),w.join("")}return bl}var Yu={};var Q1;function jH(){return Q1||(Q1=1,Yu.read=function(e,t,r,n,i){var a,c,l=i*8-n-1,d=(1<<l)-1,h=d>>1,f=-7,m=r?i-1:0,g=r?-1:1,v=e[t+m];for(m+=g,a=v&(1<<-f)-1,v>>=-f,f+=l;f>0;a=a*256+e[t+m],m+=g,f-=8);for(c=a&(1<<-f)-1,a>>=-f,f+=n;f>0;c=c*256+e[t+m],m+=g,f-=8);if(a===0)a=1-h;else{if(a===d)return c?NaN:(v?-1:1)*(1/0);c=c+Math.pow(2,n),a=a-h}return(v?-1:1)*c*Math.pow(2,a-n)},Yu.write=function(e,t,r,n,i,a){var c,l,d,h=a*8-i-1,f=(1<<h)-1,m=f>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:a-1,x=n?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,c=f):(c=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-c))<1&&(c--,d*=2),c+m>=1?t+=g/d:t+=g*Math.pow(2,1-m),t*d>=2&&(c++,d/=2),c+m>=f?(l=0,c=f):c+m>=1?(l=(t*d-1)*Math.pow(2,i),c=c+m):(l=t*Math.pow(2,m-1)*Math.pow(2,i),c=0));i>=8;e[r+v]=l&255,v+=x,l/=256,i-=8);for(c=c<<i|l,h+=i;h>0;e[r+v]=c&255,v+=x,c/=256,h-=8);e[r+v-x]|=y*128}),Yu}var J1;function wh(){return J1||(J1=1,(function(e){var t=bH(),r=jH(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=N,e.INSPECT_MAX_BYTES=50;var i=2147483647;e.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=a(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{var B=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(B,C),B.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function c(B){if(B>i)throw new RangeError('The value "'+B+'" is invalid for option "size"');var C=new Uint8Array(B);return Object.setPrototypeOf(C,l.prototype),C}function l(B,C,k){if(typeof B=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(B)}return d(B,C,k)}l.poolSize=8192;function d(B,C,k){if(typeof B=="string")return g(B,C);if(ArrayBuffer.isView(B))return x(B);if(B==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(me(B,ArrayBuffer)||B&&me(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(B,SharedArrayBuffer)||B&&me(B.buffer,SharedArrayBuffer)))return y(B,C,k);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var L=B.valueOf&&B.valueOf();if(L!=null&&L!==B)return l.from(L,C,k);var ee=b(B);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return l.from(B[Symbol.toPrimitive]("string"),C,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}l.from=function(B,C,k){return d(B,C,k)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function h(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function f(B,C,k){return h(B),B<=0?c(B):C!==void 0?typeof k=="string"?c(B).fill(C,k):c(B).fill(C):c(B)}l.alloc=function(B,C,k){return f(B,C,k)};function m(B){return h(B),c(B<0?0:w(B)|0)}l.allocUnsafe=function(B){return m(B)},l.allocUnsafeSlow=function(B){return m(B)};function g(B,C){if((typeof C!="string"||C==="")&&(C="utf8"),!l.isEncoding(C))throw new TypeError("Unknown encoding: "+C);var k=_(B,C)|0,L=c(k),ee=L.write(B,C);return ee!==k&&(L=L.slice(0,ee)),L}function v(B){for(var C=B.length<0?0:w(B.length)|0,k=c(C),L=0;L<C;L+=1)k[L]=B[L]&255;return k}function x(B){if(me(B,Uint8Array)){var C=new Uint8Array(B);return y(C.buffer,C.byteOffset,C.byteLength)}return v(B)}function y(B,C,k){if(C<0||B.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<C+(k||0))throw new RangeError('"length" is outside of buffer bounds');var L;return C===void 0&&k===void 0?L=new Uint8Array(B):k===void 0?L=new Uint8Array(B,C):L=new Uint8Array(B,C,k),Object.setPrototypeOf(L,l.prototype),L}function b(B){if(l.isBuffer(B)){var C=w(B.length)|0,k=c(C);return k.length===0||B.copy(k,0,0,C),k}if(B.length!==void 0)return typeof B.length!="number"||M(B.length)?c(0):v(B);if(B.type==="Buffer"&&Array.isArray(B.data))return v(B.data)}function w(B){if(B>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return B|0}function N(B){return+B!=B&&(B=0),l.alloc(+B)}l.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==l.prototype},l.compare=function(C,k){if(me(C,Uint8Array)&&(C=l.from(C,C.offset,C.byteLength)),me(k,Uint8Array)&&(k=l.from(k,k.offset,k.byteLength)),!l.isBuffer(C)||!l.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===k)return 0;for(var L=C.length,ee=k.length,ue=0,ie=Math.min(L,ee);ue<ie;++ue)if(C[ue]!==k[ue]){L=C[ue],ee=k[ue];break}return L<ee?-1:ee<L?1:0},l.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(C,k){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return l.alloc(0);var L;if(k===void 0)for(k=0,L=0;L<C.length;++L)k+=C[L].length;var ee=l.allocUnsafe(k),ue=0;for(L=0;L<C.length;++L){var ie=C[L];if(me(ie,Uint8Array))ue+ie.length>ee.length?l.from(ie).copy(ee,ue):Uint8Array.prototype.set.call(ee,ie,ue);else if(l.isBuffer(ie))ie.copy(ee,ue);else throw new TypeError('"list" argument must be an Array of Buffers');ue+=ie.length}return ee};function _(B,C){if(l.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||me(B,ArrayBuffer))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);var k=B.length,L=arguments.length>2&&arguments[2]===!0;if(!L&&k===0)return 0;for(var ee=!1;;)switch(C){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return O(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return K(B).length;default:if(ee)return L?-1:O(B).length;C=(""+C).toLowerCase(),ee=!0}}l.byteLength=_;function S(B,C,k){var L=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,C>>>=0,k<=C))return"";for(B||(B="utf8");;)switch(B){case"hex":return ne(this,C,k);case"utf8":case"utf-8":return R(this,C,k);case"ascii":return q(this,C,k);case"latin1":case"binary":return Y(this,C,k);case"base64":return G(this,C,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,C,k);default:if(L)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),L=!0}}l.prototype._isBuffer=!0;function T(B,C,k){var L=B[C];B[C]=B[k],B[k]=L}l.prototype.swap16=function(){var C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var k=0;k<C;k+=2)T(this,k,k+1);return this},l.prototype.swap32=function(){var C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var k=0;k<C;k+=4)T(this,k,k+3),T(this,k+1,k+2);return this},l.prototype.swap64=function(){var C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var k=0;k<C;k+=8)T(this,k,k+7),T(this,k+1,k+6),T(this,k+2,k+5),T(this,k+3,k+4);return this},l.prototype.toString=function(){var C=this.length;return C===0?"":arguments.length===0?R(this,0,C):S.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(C){if(!l.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:l.compare(this,C)===0},l.prototype.inspect=function(){var C="",k=e.INSPECT_MAX_BYTES;return C=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(C+=" ... "),"<Buffer "+C+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(C,k,L,ee,ue){if(me(C,Uint8Array)&&(C=l.from(C,C.offset,C.byteLength)),!l.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(k===void 0&&(k=0),L===void 0&&(L=C?C.length:0),ee===void 0&&(ee=0),ue===void 0&&(ue=this.length),k<0||L>C.length||ee<0||ue>this.length)throw new RangeError("out of range index");if(ee>=ue&&k>=L)return 0;if(ee>=ue)return-1;if(k>=L)return 1;if(k>>>=0,L>>>=0,ee>>>=0,ue>>>=0,this===C)return 0;for(var ie=ue-ee,be=L-k,Ne=Math.min(ie,be),_e=this.slice(ee,ue),Me=C.slice(k,L),He=0;He<Ne;++He)if(_e[He]!==Me[He]){ie=_e[He],be=Me[He];break}return ie<be?-1:be<ie?1:0};function F(B,C,k,L,ee){if(B.length===0)return-1;if(typeof k=="string"?(L=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,M(k)&&(k=ee?0:B.length-1),k<0&&(k=B.length+k),k>=B.length){if(ee)return-1;k=B.length-1}else if(k<0)if(ee)k=0;else return-1;if(typeof C=="string"&&(C=l.from(C,L)),l.isBuffer(C))return C.length===0?-1:U(B,C,k,L,ee);if(typeof C=="number")return C=C&255,typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call(B,C,k):Uint8Array.prototype.lastIndexOf.call(B,C,k):U(B,[C],k,L,ee);throw new TypeError("val must be string, number or Buffer")}function U(B,C,k,L,ee){var ue=1,ie=B.length,be=C.length;if(L!==void 0&&(L=String(L).toLowerCase(),L==="ucs2"||L==="ucs-2"||L==="utf16le"||L==="utf-16le")){if(B.length<2||C.length<2)return-1;ue=2,ie/=2,be/=2,k/=2}function Ne(rr,Tr){return ue===1?rr[Tr]:rr.readUInt16BE(Tr*ue)}var _e;if(ee){var Me=-1;for(_e=k;_e<ie;_e++)if(Ne(B,_e)===Ne(C,Me===-1?0:_e-Me)){if(Me===-1&&(Me=_e),_e-Me+1===be)return Me*ue}else Me!==-1&&(_e-=_e-Me),Me=-1}else for(k+be>ie&&(k=ie-be),_e=k;_e>=0;_e--){for(var He=!0,Qe=0;Qe<be;Qe++)if(Ne(B,_e+Qe)!==Ne(C,Qe)){He=!1;break}if(He)return _e}return-1}l.prototype.includes=function(C,k,L){return this.indexOf(C,k,L)!==-1},l.prototype.indexOf=function(C,k,L){return F(this,C,k,L,!0)},l.prototype.lastIndexOf=function(C,k,L){return F(this,C,k,L,!1)};function $(B,C,k,L){k=Number(k)||0;var ee=B.length-k;L?(L=Number(L),L>ee&&(L=ee)):L=ee;var ue=C.length;L>ue/2&&(L=ue/2);for(var ie=0;ie<L;++ie){var be=parseInt(C.substr(ie*2,2),16);if(M(be))return ie;B[k+ie]=be}return ie}function A(B,C,k,L){return X(O(C,B.length-k),B,k,L)}function J(B,C,k,L){return X(re(C),B,k,L)}function pe(B,C,k,L){return X(K(C),B,k,L)}function z(B,C,k,L){return X(Q(C,B.length-k),B,k,L)}l.prototype.write=function(C,k,L,ee){if(k===void 0)ee="utf8",L=this.length,k=0;else if(L===void 0&&typeof k=="string")ee=k,L=this.length,k=0;else if(isFinite(k))k=k>>>0,isFinite(L)?(L=L>>>0,ee===void 0&&(ee="utf8")):(ee=L,L=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ue=this.length-k;if((L===void 0||L>ue)&&(L=ue),C.length>0&&(L<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");for(var ie=!1;;)switch(ee){case"hex":return $(this,C,k,L);case"utf8":case"utf-8":return A(this,C,k,L);case"ascii":case"latin1":case"binary":return J(this,C,k,L);case"base64":return pe(this,C,k,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,C,k,L);default:if(ie)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),ie=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function G(B,C,k){return C===0&&k===B.length?t.fromByteArray(B):t.fromByteArray(B.slice(C,k))}function R(B,C,k){k=Math.min(B.length,k);for(var L=[],ee=C;ee<k;){var ue=B[ee],ie=null,be=ue>239?4:ue>223?3:ue>191?2:1;if(ee+be<=k){var Ne,_e,Me,He;switch(be){case 1:ue<128&&(ie=ue);break;case 2:Ne=B[ee+1],(Ne&192)===128&&(He=(ue&31)<<6|Ne&63,He>127&&(ie=He));break;case 3:Ne=B[ee+1],_e=B[ee+2],(Ne&192)===128&&(_e&192)===128&&(He=(ue&15)<<12|(Ne&63)<<6|_e&63,He>2047&&(He<55296||He>57343)&&(ie=He));break;case 4:Ne=B[ee+1],_e=B[ee+2],Me=B[ee+3],(Ne&192)===128&&(_e&192)===128&&(Me&192)===128&&(He=(ue&15)<<18|(Ne&63)<<12|(_e&63)<<6|Me&63,He>65535&&He<1114112&&(ie=He))}}ie===null?(ie=65533,be=1):ie>65535&&(ie-=65536,L.push(ie>>>10&1023|55296),ie=56320|ie&1023),L.push(ie),ee+=be}return ae(L)}var Z=4096;function ae(B){var C=B.length;if(C<=Z)return String.fromCharCode.apply(String,B);for(var k="",L=0;L<C;)k+=String.fromCharCode.apply(String,B.slice(L,L+=Z));return k}function q(B,C,k){var L="";k=Math.min(B.length,k);for(var ee=C;ee<k;++ee)L+=String.fromCharCode(B[ee]&127);return L}function Y(B,C,k){var L="";k=Math.min(B.length,k);for(var ee=C;ee<k;++ee)L+=String.fromCharCode(B[ee]);return L}function ne(B,C,k){var L=B.length;(!C||C<0)&&(C=0),(!k||k<0||k>L)&&(k=L);for(var ee="",ue=C;ue<k;++ue)ee+=ge[B[ue]];return ee}function te(B,C,k){for(var L=B.slice(C,k),ee="",ue=0;ue<L.length-1;ue+=2)ee+=String.fromCharCode(L[ue]+L[ue+1]*256);return ee}l.prototype.slice=function(C,k){var L=this.length;C=~~C,k=k===void 0?L:~~k,C<0?(C+=L,C<0&&(C=0)):C>L&&(C=L),k<0?(k+=L,k<0&&(k=0)):k>L&&(k=L),k<C&&(k=C);var ee=this.subarray(C,k);return Object.setPrototypeOf(ee,l.prototype),ee};function W(B,C,k){if(B%1!==0||B<0)throw new RangeError("offset is not uint");if(B+C>k)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(C,k,L){C=C>>>0,k=k>>>0,L||W(C,k,this.length);for(var ee=this[C],ue=1,ie=0;++ie<k&&(ue*=256);)ee+=this[C+ie]*ue;return ee},l.prototype.readUintBE=l.prototype.readUIntBE=function(C,k,L){C=C>>>0,k=k>>>0,L||W(C,k,this.length);for(var ee=this[C+--k],ue=1;k>0&&(ue*=256);)ee+=this[C+--k]*ue;return ee},l.prototype.readUint8=l.prototype.readUInt8=function(C,k){return C=C>>>0,k||W(C,1,this.length),this[C]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(C,k){return C=C>>>0,k||W(C,2,this.length),this[C]|this[C+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(C,k){return C=C>>>0,k||W(C,2,this.length),this[C]<<8|this[C+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(C,k){return C=C>>>0,k||W(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(C,k){return C=C>>>0,k||W(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},l.prototype.readIntLE=function(C,k,L){C=C>>>0,k=k>>>0,L||W(C,k,this.length);for(var ee=this[C],ue=1,ie=0;++ie<k&&(ue*=256);)ee+=this[C+ie]*ue;return ue*=128,ee>=ue&&(ee-=Math.pow(2,8*k)),ee},l.prototype.readIntBE=function(C,k,L){C=C>>>0,k=k>>>0,L||W(C,k,this.length);for(var ee=k,ue=1,ie=this[C+--ee];ee>0&&(ue*=256);)ie+=this[C+--ee]*ue;return ue*=128,ie>=ue&&(ie-=Math.pow(2,8*k)),ie},l.prototype.readInt8=function(C,k){return C=C>>>0,k||W(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},l.prototype.readInt16LE=function(C,k){C=C>>>0,k||W(C,2,this.length);var L=this[C]|this[C+1]<<8;return L&32768?L|4294901760:L},l.prototype.readInt16BE=function(C,k){C=C>>>0,k||W(C,2,this.length);var L=this[C+1]|this[C]<<8;return L&32768?L|4294901760:L},l.prototype.readInt32LE=function(C,k){return C=C>>>0,k||W(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},l.prototype.readInt32BE=function(C,k){return C=C>>>0,k||W(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},l.prototype.readFloatLE=function(C,k){return C=C>>>0,k||W(C,4,this.length),r.read(this,C,!0,23,4)},l.prototype.readFloatBE=function(C,k){return C=C>>>0,k||W(C,4,this.length),r.read(this,C,!1,23,4)},l.prototype.readDoubleLE=function(C,k){return C=C>>>0,k||W(C,8,this.length),r.read(this,C,!0,52,8)},l.prototype.readDoubleBE=function(C,k){return C=C>>>0,k||W(C,8,this.length),r.read(this,C,!1,52,8)};function H(B,C,k,L,ee,ue){if(!l.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>ee||C<ue)throw new RangeError('"value" argument is out of bounds');if(k+L>B.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(C,k,L,ee){if(C=+C,k=k>>>0,L=L>>>0,!ee){var ue=Math.pow(2,8*L)-1;H(this,C,k,L,ue,0)}var ie=1,be=0;for(this[k]=C&255;++be<L&&(ie*=256);)this[k+be]=C/ie&255;return k+L},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(C,k,L,ee){if(C=+C,k=k>>>0,L=L>>>0,!ee){var ue=Math.pow(2,8*L)-1;H(this,C,k,L,ue,0)}var ie=L-1,be=1;for(this[k+ie]=C&255;--ie>=0&&(be*=256);)this[k+ie]=C/be&255;return k+L},l.prototype.writeUint8=l.prototype.writeUInt8=function(C,k,L){return C=+C,k=k>>>0,L||H(this,C,k,1,255,0),this[k]=C&255,k+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(C,k,L){return C=+C,k=k>>>0,L||H(this,C,k,2,65535,0),this[k]=C&255,this[k+1]=C>>>8,k+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(C,k,L){return C=+C,k=k>>>0,L||H(this,C,k,2,65535,0),this[k]=C>>>8,this[k+1]=C&255,k+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(C,k,L){return C=+C,k=k>>>0,L||H(this,C,k,4,4294967295,0),this[k+3]=C>>>24,this[k+2]=C>>>16,this[k+1]=C>>>8,this[k]=C&255,k+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(C,k,L){return C=+C,k=k>>>0,L||H(this,C,k,4,4294967295,0),this[k]=C>>>24,this[k+1]=C>>>16,this[k+2]=C>>>8,this[k+3]=C&255,k+4},l.prototype.writeIntLE=function(C,k,L,ee){if(C=+C,k=k>>>0,!ee){var ue=Math.pow(2,8*L-1);H(this,C,k,L,ue-1,-ue)}var ie=0,be=1,Ne=0;for(this[k]=C&255;++ie<L&&(be*=256);)C<0&&Ne===0&&this[k+ie-1]!==0&&(Ne=1),this[k+ie]=(C/be>>0)-Ne&255;return k+L},l.prototype.writeIntBE=function(C,k,L,ee){if(C=+C,k=k>>>0,!ee){var ue=Math.pow(2,8*L-1);H(this,C,k,L,ue-1,-ue)}var ie=L-1,be=1,Ne=0;for(this[k+ie]=C&255;--ie>=0&&(be*=256);)C<0&&Ne===0&&this[k+ie+1]!==0&&(Ne=1),this[k+ie]=(C/be>>0)-Ne&255;return k+L},l.prototype.writeInt8=function(C,k,L){return C=+C,k=k>>>0,L||H(this,C,k,1,127,-128),C<0&&(C=255+C+1),this[k]=C&255,k+1},l.prototype.writeInt16LE=function(C,k,L){return C=+C,k=k>>>0,L||H(this,C,k,2,32767,-32768),this[k]=C&255,this[k+1]=C>>>8,k+2},l.prototype.writeInt16BE=function(C,k,L){return C=+C,k=k>>>0,L||H(this,C,k,2,32767,-32768),this[k]=C>>>8,this[k+1]=C&255,k+2},l.prototype.writeInt32LE=function(C,k,L){return C=+C,k=k>>>0,L||H(this,C,k,4,2147483647,-2147483648),this[k]=C&255,this[k+1]=C>>>8,this[k+2]=C>>>16,this[k+3]=C>>>24,k+4},l.prototype.writeInt32BE=function(C,k,L){return C=+C,k=k>>>0,L||H(this,C,k,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[k]=C>>>24,this[k+1]=C>>>16,this[k+2]=C>>>8,this[k+3]=C&255,k+4};function se(B,C,k,L,ee,ue){if(k+L>B.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function ce(B,C,k,L,ee){return C=+C,k=k>>>0,ee||se(B,C,k,4),r.write(B,C,k,L,23,4),k+4}l.prototype.writeFloatLE=function(C,k,L){return ce(this,C,k,!0,L)},l.prototype.writeFloatBE=function(C,k,L){return ce(this,C,k,!1,L)};function he(B,C,k,L,ee){return C=+C,k=k>>>0,ee||se(B,C,k,8),r.write(B,C,k,L,52,8),k+8}l.prototype.writeDoubleLE=function(C,k,L){return he(this,C,k,!0,L)},l.prototype.writeDoubleBE=function(C,k,L){return he(this,C,k,!1,L)},l.prototype.copy=function(C,k,L,ee){if(!l.isBuffer(C))throw new TypeError("argument should be a Buffer");if(L||(L=0),!ee&&ee!==0&&(ee=this.length),k>=C.length&&(k=C.length),k||(k=0),ee>0&&ee<L&&(ee=L),ee===L||C.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(L<0||L>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),C.length-k<ee-L&&(ee=C.length-k+L);var ue=ee-L;return this===C&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(k,L,ee):Uint8Array.prototype.set.call(C,this.subarray(L,ee),k),ue},l.prototype.fill=function(C,k,L,ee){if(typeof C=="string"){if(typeof k=="string"?(ee=k,k=0,L=this.length):typeof L=="string"&&(ee=L,L=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!l.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(C.length===1){var ue=C.charCodeAt(0);(ee==="utf8"&&ue<128||ee==="latin1")&&(C=ue)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(k<0||this.length<k||this.length<L)throw new RangeError("Out of range index");if(L<=k)return this;k=k>>>0,L=L===void 0?this.length:L>>>0,C||(C=0);var ie;if(typeof C=="number")for(ie=k;ie<L;++ie)this[ie]=C;else{var be=l.isBuffer(C)?C:l.from(C,ee),Ne=be.length;if(Ne===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(ie=0;ie<L-k;++ie)this[ie+k]=be[ie%Ne]}return this};var oe=/[^+/0-9A-Za-z-_]/g;function I(B){if(B=B.split("=")[0],B=B.trim().replace(oe,""),B.length<2)return"";for(;B.length%4!==0;)B=B+"=";return B}function O(B,C){C=C||1/0;for(var k,L=B.length,ee=null,ue=[],ie=0;ie<L;++ie){if(k=B.charCodeAt(ie),k>55295&&k<57344){if(!ee){if(k>56319){(C-=3)>-1&&ue.push(239,191,189);continue}else if(ie+1===L){(C-=3)>-1&&ue.push(239,191,189);continue}ee=k;continue}if(k<56320){(C-=3)>-1&&ue.push(239,191,189),ee=k;continue}k=(ee-55296<<10|k-56320)+65536}else ee&&(C-=3)>-1&&ue.push(239,191,189);if(ee=null,k<128){if((C-=1)<0)break;ue.push(k)}else if(k<2048){if((C-=2)<0)break;ue.push(k>>6|192,k&63|128)}else if(k<65536){if((C-=3)<0)break;ue.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((C-=4)<0)break;ue.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return ue}function re(B){for(var C=[],k=0;k<B.length;++k)C.push(B.charCodeAt(k)&255);return C}function Q(B,C){for(var k,L,ee,ue=[],ie=0;ie<B.length&&!((C-=2)<0);++ie)k=B.charCodeAt(ie),L=k>>8,ee=k%256,ue.push(ee),ue.push(L);return ue}function K(B){return t.toByteArray(I(B))}function X(B,C,k,L){for(var ee=0;ee<L&&!(ee+k>=C.length||ee>=B.length);++ee)C[ee+k]=B[ee];return ee}function me(B,C){return B instanceof C||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===C.name}function M(B){return B!==B}var ge=(function(){for(var B="0123456789abcdef",C=new Array(256),k=0;k<16;++k)for(var L=k*16,ee=0;ee<16;++ee)C[L+ee]=B[k]+B[ee];return C})()})(Yp)),Yp}var Xp={},Qp={},Jp,Z1;function s2(){return Z1||(Z1=1,Jp=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(var a in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var c=Object.getOwnPropertySymbols(t);if(c.length!==1||c[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(t,r);if(l.value!==i||l.enumerable!==!0)return!1}return!0}),Jp}var Zp,ej;function nx(){if(ej)return Zp;ej=1;var e=s2();return Zp=function(){return e()&&!!Symbol.toStringTag},Zp}var em,tj;function i2(){return tj||(tj=1,em=Object),em}var tm,rj;function _H(){return rj||(rj=1,tm=Error),tm}var rm,nj;function SH(){return nj||(nj=1,rm=EvalError),rm}var nm,sj;function NH(){return sj||(sj=1,nm=RangeError),nm}var sm,ij;function EH(){return ij||(ij=1,sm=ReferenceError),sm}var im,aj;function a2(){return aj||(aj=1,im=SyntaxError),im}var am,oj;function xc(){return oj||(oj=1,am=TypeError),am}var om,lj;function CH(){return lj||(lj=1,om=URIError),om}var lm,cj;function kH(){return cj||(cj=1,lm=Math.abs),lm}var cm,uj;function TH(){return uj||(uj=1,cm=Math.floor),cm}var um,dj;function PH(){return dj||(dj=1,um=Math.max),um}var dm,hj;function RH(){return hj||(hj=1,dm=Math.min),dm}var hm,fj;function AH(){return fj||(fj=1,hm=Math.pow),hm}var fm,pj;function DH(){return pj||(pj=1,fm=Math.round),fm}var pm,mj;function IH(){return mj||(mj=1,pm=Number.isNaN||function(t){return t!==t}),pm}var mm,gj;function OH(){if(gj)return mm;gj=1;var e=IH();return mm=function(r){return e(r)||r===0?r:r<0?-1:1},mm}var gm,vj;function MH(){return vj||(vj=1,gm=Object.getOwnPropertyDescriptor),gm}var vm,yj;function wc(){if(yj)return vm;yj=1;var e=MH();if(e)try{e([],"length")}catch{e=null}return vm=e,vm}var ym,xj;function bh(){if(xj)return ym;xj=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return ym=e,ym}var xm,wj;function FH(){if(wj)return xm;wj=1;var e=typeof Symbol<"u"&&Symbol,t=s2();return xm=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},xm}var wm,bj;function o2(){return bj||(bj=1,wm=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),wm}var bm,jj;function l2(){if(jj)return bm;jj=1;var e=i2();return bm=e.getPrototypeOf||null,bm}var jm,_j;function LH(){if(_j)return jm;_j=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(d,h){for(var f=[],m=0;m<d.length;m+=1)f[m]=d[m];for(var g=0;g<h.length;g+=1)f[g+d.length]=h[g];return f},a=function(d,h){for(var f=[],m=h,g=0;m<d.length;m+=1,g+=1)f[g]=d[m];return f},c=function(l,d){for(var h="",f=0;f<l.length;f+=1)h+=l[f],f+1<l.length&&(h+=d);return h};return jm=function(d){var h=this;if(typeof h!="function"||t.apply(h)!==n)throw new TypeError(e+h);for(var f=a(arguments,1),m,g=function(){if(this instanceof m){var w=h.apply(this,i(f,arguments));return Object(w)===w?w:this}return h.apply(d,i(f,arguments))},v=r(0,h.length-f.length),x=[],y=0;y<v;y++)x[y]="$"+y;if(m=Function("binder","return function ("+c(x,",")+"){ return binder.apply(this,arguments); }")(g),h.prototype){var b=function(){};b.prototype=h.prototype,m.prototype=new b,b.prototype=null}return m},jm}var _m,Sj;function bc(){if(Sj)return _m;Sj=1;var e=LH();return _m=Function.prototype.bind||e,_m}var Sm,Nj;function sx(){return Nj||(Nj=1,Sm=Function.prototype.call),Sm}var Nm,Ej;function c2(){return Ej||(Ej=1,Nm=Function.prototype.apply),Nm}var Em,Cj;function UH(){return Cj||(Cj=1,Em=typeof Reflect<"u"&&Reflect&&Reflect.apply),Em}var Cm,kj;function BH(){if(kj)return Cm;kj=1;var e=bc(),t=c2(),r=sx(),n=UH();return Cm=n||e.call(r,t),Cm}var km,Tj;function HH(){if(Tj)return km;Tj=1;var e=bc(),t=xc(),r=sx(),n=BH();return km=function(a){if(a.length<1||typeof a[0]!="function")throw new t("a function is required");return n(e,r,a)},km}var Tm,Pj;function zH(){if(Pj)return Tm;Pj=1;var e=HH(),t=wc(),r;try{r=[].__proto__===Array.prototype}catch(c){if(!c||typeof c!="object"||!("code"in c)||c.code!=="ERR_PROTO_ACCESS")throw c}var n=!!r&&t&&t(Object.prototype,"__proto__"),i=Object,a=i.getPrototypeOf;return Tm=n&&typeof n.get=="function"?e([n.get]):typeof a=="function"?(function(l){return a(l==null?l:i(l))}):!1,Tm}var Pm,Rj;function $H(){if(Rj)return Pm;Rj=1;var e=o2(),t=l2(),r=zH();return Pm=e?function(i){return e(i)}:t?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return t(i)}:r?function(i){return r(i)}:null,Pm}var Rm,Aj;function WH(){if(Aj)return Rm;Aj=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=bc();return Rm=r.call(e,t),Rm}var Am,Dj;function ix(){if(Dj)return Am;Dj=1;var e,t=i2(),r=_H(),n=SH(),i=NH(),a=EH(),c=a2(),l=xc(),d=CH(),h=kH(),f=TH(),m=PH(),g=RH(),v=AH(),x=DH(),y=OH(),b=Function,w=function(re){try{return b('"use strict"; return ('+re+").constructor;")()}catch{}},N=wc(),_=bh(),S=function(){throw new l},T=N?(function(){try{return arguments.callee,S}catch{try{return N(arguments,"callee").get}catch{return S}}})():S,F=FH()(),U=$H(),$=l2(),A=o2(),J=c2(),pe=sx(),z={},G=typeof Uint8Array>"u"||!U?e:U(Uint8Array),R={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":F&&U?U([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":z,"%AsyncGenerator%":z,"%AsyncGeneratorFunction%":z,"%AsyncIteratorPrototype%":z,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":z,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":F&&U?U(U([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!F||!U?e:U(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":N,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":i,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!F||!U?e:U(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":F&&U?U(""[Symbol.iterator]()):e,"%Symbol%":F?Symbol:e,"%SyntaxError%":c,"%ThrowTypeError%":T,"%TypedArray%":G,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":d,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":pe,"%Function.prototype.apply%":J,"%Object.defineProperty%":_,"%Object.getPrototypeOf%":$,"%Math.abs%":h,"%Math.floor%":f,"%Math.max%":m,"%Math.min%":g,"%Math.pow%":v,"%Math.round%":x,"%Math.sign%":y,"%Reflect.getPrototypeOf%":A};if(U)try{null.error}catch(re){var Z=U(U(re));R["%Error.prototype%"]=Z}var ae=function re(Q){var K;if(Q==="%AsyncFunction%")K=w("async function () {}");else if(Q==="%GeneratorFunction%")K=w("function* () {}");else if(Q==="%AsyncGeneratorFunction%")K=w("async function* () {}");else if(Q==="%AsyncGenerator%"){var X=re("%AsyncGeneratorFunction%");X&&(K=X.prototype)}else if(Q==="%AsyncIteratorPrototype%"){var me=re("%AsyncGenerator%");me&&U&&(K=U(me.prototype))}return R[Q]=K,K},q={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Y=bc(),ne=WH(),te=Y.call(pe,Array.prototype.concat),W=Y.call(J,Array.prototype.splice),H=Y.call(pe,String.prototype.replace),se=Y.call(pe,String.prototype.slice),ce=Y.call(pe,RegExp.prototype.exec),he=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,oe=/\\(\\)?/g,I=function(Q){var K=se(Q,0,1),X=se(Q,-1);if(K==="%"&&X!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(X==="%"&&K!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var me=[];return H(Q,he,function(M,ge,B,C){me[me.length]=B?H(C,oe,"$1"):ge||M}),me},O=function(Q,K){var X=Q,me;if(ne(q,X)&&(me=q[X],X="%"+me[0]+"%"),ne(R,X)){var M=R[X];if(M===z&&(M=ae(X)),typeof M>"u"&&!K)throw new l("intrinsic "+Q+" exists, but is not available. Please file an issue!");return{alias:me,name:X,value:M}}throw new c("intrinsic "+Q+" does not exist!")};return Am=function(Q,K){if(typeof Q!="string"||Q.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof K!="boolean")throw new l('"allowMissing" argument must be a boolean');if(ce(/^%?[^%]*%?$/,Q)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var X=I(Q),me=X.length>0?X[0]:"",M=O("%"+me+"%",K),ge=M.name,B=M.value,C=!1,k=M.alias;k&&(me=k[0],W(X,te([0,1],k)));for(var L=1,ee=!0;L<X.length;L+=1){var ue=X[L],ie=se(ue,0,1),be=se(ue,-1);if((ie==='"'||ie==="'"||ie==="`"||be==='"'||be==="'"||be==="`")&&ie!==be)throw new c("property names with quotes must have matching quotes");if((ue==="constructor"||!ee)&&(C=!0),me+="."+ue,ge="%"+me+"%",ne(R,ge))B=R[ge];else if(B!=null){if(!(ue in B)){if(!K)throw new l("base intrinsic for "+Q+" exists, but the property is not available.");return}if(N&&L+1>=X.length){var Ne=N(B,ue);ee=!!Ne,ee&&"get"in Ne&&!("originalValue"in Ne.get)?B=Ne.get:B=B[ue]}else ee=ne(B,ue),B=B[ue];ee&&!C&&(R[ge]=B)}}return B},Am}var Dm={exports:{}},Im,Ij;function qH(){if(Ij)return Im;Ij=1;var e=bh(),t=a2(),r=xc(),n=wc();return Im=function(a,c,l){if(!a||typeof a!="object"&&typeof a!="function")throw new r("`obj` must be an object or a function`");if(typeof c!="string"&&typeof c!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var d=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,m=arguments.length>6?arguments[6]:!1,g=!!n&&n(a,c);if(e)e(a,c,{configurable:f===null&&g?g.configurable:!f,enumerable:d===null&&g?g.enumerable:!d,value:l,writable:h===null&&g?g.writable:!h});else if(m||!d&&!h&&!f)a[c]=l;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Im}var Om,Oj;function VH(){if(Oj)return Om;Oj=1;var e=bh(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},Om=t,Om}var Mm,Mj;function KH(){if(Mj)return Mm;Mj=1;var e=ix(),t=qH(),r=VH()(),n=wc(),i=xc(),a=e("%Math.floor%");return Mm=function(l,d){if(typeof l!="function")throw new i("`fn` is not a function");if(typeof d!="number"||d<0||d>4294967295||a(d)!==d)throw new i("`length` must be a positive 32-bit integer");var h=arguments.length>2&&!!arguments[2],f=!0,m=!0;if("length"in l&&n){var g=n(l,"length");g&&!g.configurable&&(f=!1),g&&!g.writable&&(m=!1)}return(f||m||!h)&&(r?t(l,"length",d,!0,!0):t(l,"length",d)),l},Mm}var Fj;function u2(){return Fj||(Fj=1,(function(e){var t=bc(),r=ix(),n=KH(),i=xc(),a=r("%Function.prototype.apply%"),c=r("%Function.prototype.call%"),l=r("%Reflect.apply%",!0)||t.call(c,a),d=bh(),h=r("%Math.max%");e.exports=function(g){if(typeof g!="function")throw new i("a function is required");var v=l(t,c,arguments);return n(v,1+h(0,g.length-(arguments.length-1)),!0)};var f=function(){return l(t,a,arguments)};d?d(e.exports,"apply",{value:f}):e.exports.apply=f})(Dm)),Dm.exports}var Fm,Lj;function d2(){if(Lj)return Fm;Lj=1;var e=ix(),t=u2(),r=t(e("String.prototype.indexOf"));return Fm=function(i,a){var c=e(i,!!a);return typeof c=="function"&&r(i,".prototype.")>-1?t(c):c},Fm}var Lm,Uj;function GH(){if(Uj)return Lm;Uj=1;var e=nx()(),t=d2(),r=t("Object.prototype.toString"),n=function(l){return e&&l&&typeof l=="object"&&Symbol.toStringTag in l?!1:r(l)==="[object Arguments]"},i=function(l){return n(l)?!0:l!==null&&typeof l=="object"&&typeof l.length=="number"&&l.length>=0&&r(l)!=="[object Array]"&&r(l.callee)==="[object Function]"},a=(function(){return n(arguments)})();return n.isLegacyArguments=i,Lm=a?n:i,Lm}var Um,Bj;function YH(){if(Bj)return Um;Bj=1;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=nx()(),i=Object.getPrototypeOf,a=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},c;return Um=function(d){if(typeof d!="function")return!1;if(r.test(t.call(d)))return!0;if(!n){var h=e.call(d);return h==="[object GeneratorFunction]"}if(!i)return!1;if(typeof c>"u"){var f=a();c=f?i(f):!1}return i(d)===c},Um}var Bm,Hj;function XH(){if(Hj)return Bm;Hj=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(N){N!==n&&(t=null)}else t=null;var i=/^\s*class\b/,a=function(_){try{var S=e.call(_);return i.test(S)}catch{return!1}},c=function(_){try{return a(_)?!1:(e.call(_),!0)}catch{return!1}},l=Object.prototype.toString,d="[object Object]",h="[object Function]",f="[object GeneratorFunction]",m="[object HTMLAllCollection]",g="[object HTML document.all class]",v="[object HTMLCollection]",x=typeof Symbol=="function"&&!!Symbol.toStringTag,y=!(0 in[,]),b=function(){return!1};if(typeof document=="object"){var w=document.all;l.call(w)===l.call(document.all)&&(b=function(_){if((y||!_)&&(typeof _>"u"||typeof _=="object"))try{var S=l.call(_);return(S===m||S===g||S===v||S===d)&&_("")==null}catch{}return!1})}return Bm=t?function(_){if(b(_))return!0;if(!_||typeof _!="function"&&typeof _!="object")return!1;try{t(_,null,r)}catch(S){if(S!==n)return!1}return!a(_)&&c(_)}:function(_){if(b(_))return!0;if(!_||typeof _!="function"&&typeof _!="object")return!1;if(x)return c(_);if(a(_))return!1;var S=l.call(_);return S!==h&&S!==f&&!/^\[object HTML/.test(S)?!1:c(_)},Bm}var Hm,zj;function QH(){if(zj)return Hm;zj=1;var e=XH(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(d,h,f){for(var m=0,g=d.length;m<g;m++)r.call(d,m)&&(f==null?h(d[m],m,d):h.call(f,d[m],m,d))},i=function(d,h,f){for(var m=0,g=d.length;m<g;m++)f==null?h(d.charAt(m),m,d):h.call(f,d.charAt(m),m,d)},a=function(d,h,f){for(var m in d)r.call(d,m)&&(f==null?h(d[m],m,d):h.call(f,d[m],m,d))},c=function(d,h,f){if(!e(h))throw new TypeError("iterator must be a function");var m;arguments.length>=3&&(m=f),t.call(d)==="[object Array]"?n(d,h,m):typeof d=="string"?i(d,h,m):a(d,h,m)};return Hm=c,Hm}var zm,$j;function JH(){return $j||($j=1,zm=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),zm}var $m,Wj;function ZH(){if(Wj)return $m;Wj=1;var e=JH(),t=typeof globalThis>"u"?Kn:globalThis;return $m=function(){for(var n=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(n[n.length]=e[i]);return n},$m}var Wm,qj;function h2(){if(qj)return Wm;qj=1;var e=QH(),t=ZH(),r=u2(),n=d2(),i=wc(),a=n("Object.prototype.toString"),c=nx()(),l=typeof globalThis>"u"?Kn:globalThis,d=t(),h=n("String.prototype.slice"),f=Object.getPrototypeOf,m=n("Array.prototype.indexOf",!0)||function(b,w){for(var N=0;N<b.length;N+=1)if(b[N]===w)return N;return-1},g={__proto__:null};c&&i&&f?e(d,function(y){var b=new l[y];if(Symbol.toStringTag in b){var w=f(b),N=i(w,Symbol.toStringTag);if(!N){var _=f(w);N=i(_,Symbol.toStringTag)}g["$"+y]=r(N.get)}}):e(d,function(y){var b=new l[y],w=b.slice||b.set;w&&(g["$"+y]=r(w))});var v=function(b){var w=!1;return e(g,function(N,_){if(!w)try{"$"+N(b)===_&&(w=h(_,1))}catch{}}),w},x=function(b){var w=!1;return e(g,function(N,_){if(!w)try{N(b),w=h(_,1)}catch{}}),w};return Wm=function(b){if(!b||typeof b!="object")return!1;if(!c){var w=h(a(b),8,-1);return m(d,w)>-1?w:w!=="Object"?!1:x(b)}return i?v(b):null},Wm}var qm,Vj;function ez(){if(Vj)return qm;Vj=1;var e=h2();return qm=function(r){return!!e(r)},qm}var Kj;function tz(){return Kj||(Kj=1,(function(e){var t=GH(),r=YH(),n=h2(),i=ez();function a(L){return L.call.bind(L)}var c=typeof BigInt<"u",l=typeof Symbol<"u",d=a(Object.prototype.toString),h=a(Number.prototype.valueOf),f=a(String.prototype.valueOf),m=a(Boolean.prototype.valueOf);if(c)var g=a(BigInt.prototype.valueOf);if(l)var v=a(Symbol.prototype.valueOf);function x(L,ee){if(typeof L!="object")return!1;try{return ee(L),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=i;function y(L){return typeof Promise<"u"&&L instanceof Promise||L!==null&&typeof L=="object"&&typeof L.then=="function"&&typeof L.catch=="function"}e.isPromise=y;function b(L){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(L):i(L)||se(L)}e.isArrayBufferView=b;function w(L){return n(L)==="Uint8Array"}e.isUint8Array=w;function N(L){return n(L)==="Uint8ClampedArray"}e.isUint8ClampedArray=N;function _(L){return n(L)==="Uint16Array"}e.isUint16Array=_;function S(L){return n(L)==="Uint32Array"}e.isUint32Array=S;function T(L){return n(L)==="Int8Array"}e.isInt8Array=T;function F(L){return n(L)==="Int16Array"}e.isInt16Array=F;function U(L){return n(L)==="Int32Array"}e.isInt32Array=U;function $(L){return n(L)==="Float32Array"}e.isFloat32Array=$;function A(L){return n(L)==="Float64Array"}e.isFloat64Array=A;function J(L){return n(L)==="BigInt64Array"}e.isBigInt64Array=J;function pe(L){return n(L)==="BigUint64Array"}e.isBigUint64Array=pe;function z(L){return d(L)==="[object Map]"}z.working=typeof Map<"u"&&z(new Map);function G(L){return typeof Map>"u"?!1:z.working?z(L):L instanceof Map}e.isMap=G;function R(L){return d(L)==="[object Set]"}R.working=typeof Set<"u"&&R(new Set);function Z(L){return typeof Set>"u"?!1:R.working?R(L):L instanceof Set}e.isSet=Z;function ae(L){return d(L)==="[object WeakMap]"}ae.working=typeof WeakMap<"u"&&ae(new WeakMap);function q(L){return typeof WeakMap>"u"?!1:ae.working?ae(L):L instanceof WeakMap}e.isWeakMap=q;function Y(L){return d(L)==="[object WeakSet]"}Y.working=typeof WeakSet<"u"&&Y(new WeakSet);function ne(L){return Y(L)}e.isWeakSet=ne;function te(L){return d(L)==="[object ArrayBuffer]"}te.working=typeof ArrayBuffer<"u"&&te(new ArrayBuffer);function W(L){return typeof ArrayBuffer>"u"?!1:te.working?te(L):L instanceof ArrayBuffer}e.isArrayBuffer=W;function H(L){return d(L)==="[object DataView]"}H.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&H(new DataView(new ArrayBuffer(1),0,1));function se(L){return typeof DataView>"u"?!1:H.working?H(L):L instanceof DataView}e.isDataView=se;var ce=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function he(L){return d(L)==="[object SharedArrayBuffer]"}function oe(L){return typeof ce>"u"?!1:(typeof he.working>"u"&&(he.working=he(new ce)),he.working?he(L):L instanceof ce)}e.isSharedArrayBuffer=oe;function I(L){return d(L)==="[object AsyncFunction]"}e.isAsyncFunction=I;function O(L){return d(L)==="[object Map Iterator]"}e.isMapIterator=O;function re(L){return d(L)==="[object Set Iterator]"}e.isSetIterator=re;function Q(L){return d(L)==="[object Generator]"}e.isGeneratorObject=Q;function K(L){return d(L)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=K;function X(L){return x(L,h)}e.isNumberObject=X;function me(L){return x(L,f)}e.isStringObject=me;function M(L){return x(L,m)}e.isBooleanObject=M;function ge(L){return c&&x(L,g)}e.isBigIntObject=ge;function B(L){return l&&x(L,v)}e.isSymbolObject=B;function C(L){return X(L)||me(L)||M(L)||ge(L)||B(L)}e.isBoxedPrimitive=C;function k(L){return typeof Uint8Array<"u"&&(W(L)||oe(L))}e.isAnyArrayBuffer=k,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(L){Object.defineProperty(e,L,{enumerable:!1,value:function(){throw new Error(L+" is not supported in userland")}})})})(Qp)),Qp}var Vm,Gj;function rz(){return Gj||(Gj=1,Vm=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),Vm}var Yj;function f2(){return Yj||(Yj=1,(function(e){var t=Object.getOwnPropertyDescriptors||function(se){for(var ce=Object.keys(se),he={},oe=0;oe<ce.length;oe++)he[ce[oe]]=Object.getOwnPropertyDescriptor(se,ce[oe]);return he},r=/%[sdj%]/g;e.format=function(H){if(!T(H)){for(var se=[],ce=0;ce<arguments.length;ce++)se.push(c(arguments[ce]));return se.join(" ")}for(var ce=1,he=arguments,oe=he.length,I=String(H).replace(r,function(re){if(re==="%%")return"%";if(ce>=oe)return re;switch(re){case"%s":return String(he[ce++]);case"%d":return Number(he[ce++]);case"%j":try{return JSON.stringify(he[ce++])}catch{return"[Circular]"}default:return re}}),O=he[ce];ce<oe;O=he[++ce])N(O)||!A(O)?I+=" "+O:I+=" "+c(O);return I},e.deprecate=function(H,se){if(typeof st<"u"&&st.noDeprecation===!0)return H;if(typeof st>"u")return function(){return e.deprecate(H,se).apply(this,arguments)};var ce=!1;function he(){if(!ce){if(st.throwDeprecation)throw new Error(se);st.traceDeprecation?console.trace(se):console.error(se),ce=!0}return H.apply(this,arguments)}return he};var n={},i=/^$/;if(st.env.NODE_DEBUG){var a=st.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+a+"$","i")}e.debuglog=function(H){if(H=H.toUpperCase(),!n[H])if(i.test(H)){var se=st.pid;n[H]=function(){var ce=e.format.apply(e,arguments);console.error("%s %d: %s",H,se,ce)}}else n[H]=function(){};return n[H]};function c(H,se){var ce={seen:[],stylize:d};return arguments.length>=3&&(ce.depth=arguments[2]),arguments.length>=4&&(ce.colors=arguments[3]),w(se)?ce.showHidden=se:se&&e._extend(ce,se),U(ce.showHidden)&&(ce.showHidden=!1),U(ce.depth)&&(ce.depth=2),U(ce.colors)&&(ce.colors=!1),U(ce.customInspect)&&(ce.customInspect=!0),ce.colors&&(ce.stylize=l),f(ce,H,ce.depth)}e.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(H,se){var ce=c.styles[se];return ce?"\x1B["+c.colors[ce][0]+"m"+H+"\x1B["+c.colors[ce][1]+"m":H}function d(H,se){return H}function h(H){var se={};return H.forEach(function(ce,he){se[ce]=!0}),se}function f(H,se,ce){if(H.customInspect&&se&&z(se.inspect)&&se.inspect!==e.inspect&&!(se.constructor&&se.constructor.prototype===se)){var he=se.inspect(ce,H);return T(he)||(he=f(H,he,ce)),he}var oe=m(H,se);if(oe)return oe;var I=Object.keys(se),O=h(I);if(H.showHidden&&(I=Object.getOwnPropertyNames(se)),pe(se)&&(I.indexOf("message")>=0||I.indexOf("description")>=0))return g(se);if(I.length===0){if(z(se)){var re=se.name?": "+se.name:"";return H.stylize("[Function"+re+"]","special")}if($(se))return H.stylize(RegExp.prototype.toString.call(se),"regexp");if(J(se))return H.stylize(Date.prototype.toString.call(se),"date");if(pe(se))return g(se)}var Q="",K=!1,X=["{","}"];if(b(se)&&(K=!0,X=["[","]"]),z(se)){var me=se.name?": "+se.name:"";Q=" [Function"+me+"]"}if($(se)&&(Q=" "+RegExp.prototype.toString.call(se)),J(se)&&(Q=" "+Date.prototype.toUTCString.call(se)),pe(se)&&(Q=" "+g(se)),I.length===0&&(!K||se.length==0))return X[0]+Q+X[1];if(ce<0)return $(se)?H.stylize(RegExp.prototype.toString.call(se),"regexp"):H.stylize("[Object]","special");H.seen.push(se);var M;return K?M=v(H,se,ce,O,I):M=I.map(function(ge){return x(H,se,ce,O,ge,K)}),H.seen.pop(),y(M,Q,X)}function m(H,se){if(U(se))return H.stylize("undefined","undefined");if(T(se)){var ce="'"+JSON.stringify(se).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return H.stylize(ce,"string")}if(S(se))return H.stylize(""+se,"number");if(w(se))return H.stylize(""+se,"boolean");if(N(se))return H.stylize("null","null")}function g(H){return"["+Error.prototype.toString.call(H)+"]"}function v(H,se,ce,he,oe){for(var I=[],O=0,re=se.length;O<re;++O)Y(se,String(O))?I.push(x(H,se,ce,he,String(O),!0)):I.push("");return oe.forEach(function(Q){Q.match(/^\d+$/)||I.push(x(H,se,ce,he,Q,!0))}),I}function x(H,se,ce,he,oe,I){var O,re,Q;if(Q=Object.getOwnPropertyDescriptor(se,oe)||{value:se[oe]},Q.get?Q.set?re=H.stylize("[Getter/Setter]","special"):re=H.stylize("[Getter]","special"):Q.set&&(re=H.stylize("[Setter]","special")),Y(he,oe)||(O="["+oe+"]"),re||(H.seen.indexOf(Q.value)<0?(N(ce)?re=f(H,Q.value,null):re=f(H,Q.value,ce-1),re.indexOf(`
`)>-1&&(I?re=re.split(`
`).map(function(K){return"  "+K}).join(`
`).slice(2):re=`
`+re.split(`
`).map(function(K){return"   "+K}).join(`
`))):re=H.stylize("[Circular]","special")),U(O)){if(I&&oe.match(/^\d+$/))return re;O=JSON.stringify(""+oe),O.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(O=O.slice(1,-1),O=H.stylize(O,"name")):(O=O.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),O=H.stylize(O,"string"))}return O+": "+re}function y(H,se,ce){var he=H.reduce(function(oe,I){return I.indexOf(`
`)>=0,oe+I.replace(/\u001b\[\d\d?m/g,"").length+1},0);return he>60?ce[0]+(se===""?"":se+`
 `)+" "+H.join(`,
  `)+" "+ce[1]:ce[0]+se+" "+H.join(", ")+" "+ce[1]}e.types=tz();function b(H){return Array.isArray(H)}e.isArray=b;function w(H){return typeof H=="boolean"}e.isBoolean=w;function N(H){return H===null}e.isNull=N;function _(H){return H==null}e.isNullOrUndefined=_;function S(H){return typeof H=="number"}e.isNumber=S;function T(H){return typeof H=="string"}e.isString=T;function F(H){return typeof H=="symbol"}e.isSymbol=F;function U(H){return H===void 0}e.isUndefined=U;function $(H){return A(H)&&R(H)==="[object RegExp]"}e.isRegExp=$,e.types.isRegExp=$;function A(H){return typeof H=="object"&&H!==null}e.isObject=A;function J(H){return A(H)&&R(H)==="[object Date]"}e.isDate=J,e.types.isDate=J;function pe(H){return A(H)&&(R(H)==="[object Error]"||H instanceof Error)}e.isError=pe,e.types.isNativeError=pe;function z(H){return typeof H=="function"}e.isFunction=z;function G(H){return H===null||typeof H=="boolean"||typeof H=="number"||typeof H=="string"||typeof H=="symbol"||typeof H>"u"}e.isPrimitive=G,e.isBuffer=rz();function R(H){return Object.prototype.toString.call(H)}function Z(H){return H<10?"0"+H.toString(10):H.toString(10)}var ae=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function q(){var H=new Date,se=[Z(H.getHours()),Z(H.getMinutes()),Z(H.getSeconds())].join(":");return[H.getDate(),ae[H.getMonth()],se].join(" ")}e.log=function(){console.log("%s - %s",q(),e.format.apply(e,arguments))},e.inherits=fi(),e._extend=function(H,se){if(!se||!A(se))return H;for(var ce=Object.keys(se),he=ce.length;he--;)H[ce[he]]=se[ce[he]];return H};function Y(H,se){return Object.prototype.hasOwnProperty.call(H,se)}var ne=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(se){if(typeof se!="function")throw new TypeError('The "original" argument must be of type Function');if(ne&&se[ne]){var ce=se[ne];if(typeof ce!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ce,ne,{value:ce,enumerable:!1,writable:!1,configurable:!0}),ce}function ce(){for(var he,oe,I=new Promise(function(Q,K){he=Q,oe=K}),O=[],re=0;re<arguments.length;re++)O.push(arguments[re]);O.push(function(Q,K){Q?oe(Q):he(K)});try{se.apply(this,O)}catch(Q){oe(Q)}return I}return Object.setPrototypeOf(ce,Object.getPrototypeOf(se)),ne&&Object.defineProperty(ce,ne,{value:ce,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ce,t(se))},e.promisify.custom=ne;function te(H,se){if(!H){var ce=new Error("Promise was rejected with a falsy value");ce.reason=H,H=ce}return se(H)}function W(H){if(typeof H!="function")throw new TypeError('The "original" argument must be of type Function');function se(){for(var ce=[],he=0;he<arguments.length;he++)ce.push(arguments[he]);var oe=ce.pop();if(typeof oe!="function")throw new TypeError("The last argument must be of type Function");var I=this,O=function(){return oe.apply(I,arguments)};H.apply(this,ce).then(function(re){st.nextTick(O.bind(null,null,re))},function(re){st.nextTick(te.bind(null,re,O))})}return Object.setPrototypeOf(se,Object.getPrototypeOf(H)),Object.defineProperties(se,t(H)),se}e.callbackify=W})(Xp)),Xp}var Km,Xj;function nz(){if(Xj)return Km;Xj=1;function e(g,v){var x=Object.keys(g);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(g);v&&(y=y.filter(function(b){return Object.getOwnPropertyDescriptor(g,b).enumerable})),x.push.apply(x,y)}return x}function t(g){for(var v=1;v<arguments.length;v++){var x=arguments[v]!=null?arguments[v]:{};v%2?e(Object(x),!0).forEach(function(y){r(g,y,x[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(x)):e(Object(x)).forEach(function(y){Object.defineProperty(g,y,Object.getOwnPropertyDescriptor(x,y))})}return g}function r(g,v,x){return v in g?Object.defineProperty(g,v,{value:x,enumerable:!0,configurable:!0,writable:!0}):g[v]=x,g}function n(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function i(g,v){for(var x=0;x<v.length;x++){var y=v[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}function a(g,v,x){return v&&i(g.prototype,v),g}var c=wh(),l=c.Buffer,d=f2(),h=d.inspect,f=h&&h.custom||"inspect";function m(g,v,x){l.prototype.copy.call(g,v,x)}return Km=(function(){function g(){n(this,g),this.head=null,this.tail=null,this.length=0}return a(g,[{key:"push",value:function(x){var y={data:x,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(x){var y={data:x,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var x=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,x}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(x){if(this.length===0)return"";for(var y=this.head,b=""+y.data;y=y.next;)b+=x+y.data;return b}},{key:"concat",value:function(x){if(this.length===0)return l.alloc(0);for(var y=l.allocUnsafe(x>>>0),b=this.head,w=0;b;)m(b.data,y,w),w+=b.data.length,b=b.next;return y}},{key:"consume",value:function(x,y){var b;return x<this.head.data.length?(b=this.head.data.slice(0,x),this.head.data=this.head.data.slice(x)):x===this.head.data.length?b=this.shift():b=y?this._getString(x):this._getBuffer(x),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(x){var y=this.head,b=1,w=y.data;for(x-=w.length;y=y.next;){var N=y.data,_=x>N.length?N.length:x;if(_===N.length?w+=N:w+=N.slice(0,x),x-=_,x===0){_===N.length?(++b,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=N.slice(_));break}++b}return this.length-=b,w}},{key:"_getBuffer",value:function(x){var y=l.allocUnsafe(x),b=this.head,w=1;for(b.data.copy(y),x-=b.data.length;b=b.next;){var N=b.data,_=x>N.length?N.length:x;if(N.copy(y,y.length-x,0,_),x-=_,x===0){_===N.length?(++w,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=N.slice(_));break}++w}return this.length-=w,y}},{key:f,value:function(x,y){return h(this,t({},y,{depth:0,customInspect:!1}))}}]),g})(),Km}var Gm,Qj;function p2(){if(Qj)return Gm;Qj=1;function e(c,l){var d=this,h=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return h||f?(l?l(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,st.nextTick(i,this,c)):st.nextTick(i,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(m){!l&&m?d._writableState?d._writableState.errorEmitted?st.nextTick(r,d):(d._writableState.errorEmitted=!0,st.nextTick(t,d,m)):st.nextTick(t,d,m):l?(st.nextTick(r,d),l(m)):st.nextTick(r,d)}),this)}function t(c,l){i(c,l),r(c)}function r(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(c,l){c.emit("error",l)}function a(c,l){var d=c._readableState,h=c._writableState;d&&d.autoDestroy||h&&h.autoDestroy?c.destroy(l):c.emit("error",l)}return Gm={destroy:e,undestroy:n,errorOrDestroy:a},Gm}var Ym={},Jj;function Co(){if(Jj)return Ym;Jj=1;function e(l,d){l.prototype=Object.create(d.prototype),l.prototype.constructor=l,l.__proto__=d}var t={};function r(l,d,h){h||(h=Error);function f(g,v,x){return typeof d=="string"?d:d(g,v,x)}var m=(function(g){e(v,g);function v(x,y,b){return g.call(this,f(x,y,b))||this}return v})(h);m.prototype.name=h.name,m.prototype.code=l,t[l]=m}function n(l,d){if(Array.isArray(l)){var h=l.length;return l=l.map(function(f){return String(f)}),h>2?"one of ".concat(d," ").concat(l.slice(0,h-1).join(", "),", or ")+l[h-1]:h===2?"one of ".concat(d," ").concat(l[0]," or ").concat(l[1]):"of ".concat(d," ").concat(l[0])}else return"of ".concat(d," ").concat(String(l))}function i(l,d,h){return l.substr(0,d.length)===d}function a(l,d,h){return(h===void 0||h>l.length)&&(h=l.length),l.substring(h-d.length,h)===d}function c(l,d,h){return typeof h!="number"&&(h=0),h+d.length>l.length?!1:l.indexOf(d,h)!==-1}return r("ERR_INVALID_OPT_VALUE",function(l,d){return'The value "'+d+'" is invalid for option "'+l+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(l,d,h){var f;typeof d=="string"&&i(d,"not ")?(f="must not be",d=d.replace(/^not /,"")):f="must be";var m;if(a(l," argument"))m="The ".concat(l," ").concat(f," ").concat(n(d,"type"));else{var g=c(l,".")?"property":"argument";m='The "'.concat(l,'" ').concat(g," ").concat(f," ").concat(n(d,"type"))}return m+=". Received type ".concat(typeof h),m},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Ym.codes=t,Ym}var Xm,Zj;function m2(){if(Zj)return Xm;Zj=1;var e=Co().codes.ERR_INVALID_OPT_VALUE;function t(n,i,a){return n.highWaterMark!=null?n.highWaterMark:i?n[a]:null}function r(n,i,a,c){var l=t(i,c,a);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var d=c?a:"highWaterMark";throw new e(d,l)}return Math.floor(l)}return n.objectMode?16:16*1024}return Xm={getHighWaterMark:r},Xm}var Qm,e_;function sz(){if(e_)return Qm;e_=1,Qm=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function a(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return a}function t(r){try{if(!Kn.localStorage)return!1}catch{return!1}var n=Kn.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Qm}var Jm,t_;function g2(){if(t_)return Jm;t_=1,Jm=$;function e(oe){var I=this;this.next=null,this.entry=null,this.finish=function(){he(I,oe)}}var t;$.WritableState=F;var r={deprecate:sz()},n=n2(),i=wh().Buffer,a=Kn.Uint8Array||function(){};function c(oe){return i.from(oe)}function l(oe){return i.isBuffer(oe)||oe instanceof a}var d=p2(),h=m2(),f=h.getHighWaterMark,m=Co().codes,g=m.ERR_INVALID_ARG_TYPE,v=m.ERR_METHOD_NOT_IMPLEMENTED,x=m.ERR_MULTIPLE_CALLBACK,y=m.ERR_STREAM_CANNOT_PIPE,b=m.ERR_STREAM_DESTROYED,w=m.ERR_STREAM_NULL_VALUES,N=m.ERR_STREAM_WRITE_AFTER_END,_=m.ERR_UNKNOWN_ENCODING,S=d.errorOrDestroy;fi()($,n);function T(){}function F(oe,I,O){t=t||uo(),oe=oe||{},typeof O!="boolean"&&(O=I instanceof t),this.objectMode=!!oe.objectMode,O&&(this.objectMode=this.objectMode||!!oe.writableObjectMode),this.highWaterMark=f(this,oe,"writableHighWaterMark",O),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var re=oe.decodeStrings===!1;this.decodeStrings=!re,this.defaultEncoding=oe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Q){ae(I,Q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=oe.emitClose!==!1,this.autoDestroy=!!oe.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}F.prototype.getBuffer=function(){for(var I=this.bufferedRequest,O=[];I;)O.push(I),I=I.next;return O},(function(){try{Object.defineProperty(F.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var U;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(U=Function.prototype[Symbol.hasInstance],Object.defineProperty($,Symbol.hasInstance,{value:function(I){return U.call(this,I)?!0:this!==$?!1:I&&I._writableState instanceof F}})):U=function(I){return I instanceof this};function $(oe){t=t||uo();var I=this instanceof t;if(!I&&!U.call($,this))return new $(oe);this._writableState=new F(oe,this,I),this.writable=!0,oe&&(typeof oe.write=="function"&&(this._write=oe.write),typeof oe.writev=="function"&&(this._writev=oe.writev),typeof oe.destroy=="function"&&(this._destroy=oe.destroy),typeof oe.final=="function"&&(this._final=oe.final)),n.call(this)}$.prototype.pipe=function(){S(this,new y)};function A(oe,I){var O=new N;S(oe,O),st.nextTick(I,O)}function J(oe,I,O,re){var Q;return O===null?Q=new w:typeof O!="string"&&!I.objectMode&&(Q=new g("chunk",["string","Buffer"],O)),Q?(S(oe,Q),st.nextTick(re,Q),!1):!0}$.prototype.write=function(oe,I,O){var re=this._writableState,Q=!1,K=!re.objectMode&&l(oe);return K&&!i.isBuffer(oe)&&(oe=c(oe)),typeof I=="function"&&(O=I,I=null),K?I="buffer":I||(I=re.defaultEncoding),typeof O!="function"&&(O=T),re.ending?A(this,O):(K||J(this,re,oe,O))&&(re.pendingcb++,Q=z(this,re,K,oe,I,O)),Q},$.prototype.cork=function(){this._writableState.corked++},$.prototype.uncork=function(){var oe=this._writableState;oe.corked&&(oe.corked--,!oe.writing&&!oe.corked&&!oe.bufferProcessing&&oe.bufferedRequest&&ne(this,oe))},$.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=I.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((I+"").toLowerCase())>-1))throw new _(I);return this._writableState.defaultEncoding=I,this},Object.defineProperty($.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function pe(oe,I,O){return!oe.objectMode&&oe.decodeStrings!==!1&&typeof I=="string"&&(I=i.from(I,O)),I}Object.defineProperty($.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function z(oe,I,O,re,Q,K){if(!O){var X=pe(I,re,Q);re!==X&&(O=!0,Q="buffer",re=X)}var me=I.objectMode?1:re.length;I.length+=me;var M=I.length<I.highWaterMark;if(M||(I.needDrain=!0),I.writing||I.corked){var ge=I.lastBufferedRequest;I.lastBufferedRequest={chunk:re,encoding:Q,isBuf:O,callback:K,next:null},ge?ge.next=I.lastBufferedRequest:I.bufferedRequest=I.lastBufferedRequest,I.bufferedRequestCount+=1}else G(oe,I,!1,me,re,Q,K);return M}function G(oe,I,O,re,Q,K,X){I.writelen=re,I.writecb=X,I.writing=!0,I.sync=!0,I.destroyed?I.onwrite(new b("write")):O?oe._writev(Q,I.onwrite):oe._write(Q,K,I.onwrite),I.sync=!1}function R(oe,I,O,re,Q){--I.pendingcb,O?(st.nextTick(Q,re),st.nextTick(se,oe,I),oe._writableState.errorEmitted=!0,S(oe,re)):(Q(re),oe._writableState.errorEmitted=!0,S(oe,re),se(oe,I))}function Z(oe){oe.writing=!1,oe.writecb=null,oe.length-=oe.writelen,oe.writelen=0}function ae(oe,I){var O=oe._writableState,re=O.sync,Q=O.writecb;if(typeof Q!="function")throw new x;if(Z(O),I)R(oe,O,re,I,Q);else{var K=te(O)||oe.destroyed;!K&&!O.corked&&!O.bufferProcessing&&O.bufferedRequest&&ne(oe,O),re?st.nextTick(q,oe,O,K,Q):q(oe,O,K,Q)}}function q(oe,I,O,re){O||Y(oe,I),I.pendingcb--,re(),se(oe,I)}function Y(oe,I){I.length===0&&I.needDrain&&(I.needDrain=!1,oe.emit("drain"))}function ne(oe,I){I.bufferProcessing=!0;var O=I.bufferedRequest;if(oe._writev&&O&&O.next){var re=I.bufferedRequestCount,Q=new Array(re),K=I.corkedRequestsFree;K.entry=O;for(var X=0,me=!0;O;)Q[X]=O,O.isBuf||(me=!1),O=O.next,X+=1;Q.allBuffers=me,G(oe,I,!0,I.length,Q,"",K.finish),I.pendingcb++,I.lastBufferedRequest=null,K.next?(I.corkedRequestsFree=K.next,K.next=null):I.corkedRequestsFree=new e(I),I.bufferedRequestCount=0}else{for(;O;){var M=O.chunk,ge=O.encoding,B=O.callback,C=I.objectMode?1:M.length;if(G(oe,I,!1,C,M,ge,B),O=O.next,I.bufferedRequestCount--,I.writing)break}O===null&&(I.lastBufferedRequest=null)}I.bufferedRequest=O,I.bufferProcessing=!1}$.prototype._write=function(oe,I,O){O(new v("_write()"))},$.prototype._writev=null,$.prototype.end=function(oe,I,O){var re=this._writableState;return typeof oe=="function"?(O=oe,oe=null,I=null):typeof I=="function"&&(O=I,I=null),oe!=null&&this.write(oe,I),re.corked&&(re.corked=1,this.uncork()),re.ending||ce(this,re,O),this},Object.defineProperty($.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function te(oe){return oe.ending&&oe.length===0&&oe.bufferedRequest===null&&!oe.finished&&!oe.writing}function W(oe,I){oe._final(function(O){I.pendingcb--,O&&S(oe,O),I.prefinished=!0,oe.emit("prefinish"),se(oe,I)})}function H(oe,I){!I.prefinished&&!I.finalCalled&&(typeof oe._final=="function"&&!I.destroyed?(I.pendingcb++,I.finalCalled=!0,st.nextTick(W,oe,I)):(I.prefinished=!0,oe.emit("prefinish")))}function se(oe,I){var O=te(I);if(O&&(H(oe,I),I.pendingcb===0&&(I.finished=!0,oe.emit("finish"),I.autoDestroy))){var re=oe._readableState;(!re||re.autoDestroy&&re.endEmitted)&&oe.destroy()}return O}function ce(oe,I,O){I.ending=!0,se(oe,I),O&&(I.finished?st.nextTick(O):oe.once("finish",O)),I.ended=!0,oe.writable=!1}function he(oe,I,O){var re=oe.entry;for(oe.entry=null;re;){var Q=re.callback;I.pendingcb--,Q(O),re=re.next}I.corkedRequestsFree.next=oe}return Object.defineProperty($.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(I){this._writableState&&(this._writableState.destroyed=I)}}),$.prototype.destroy=d.destroy,$.prototype._undestroy=d.undestroy,$.prototype._destroy=function(oe,I){I(oe)},Jm}var Zm,r_;function uo(){if(r_)return Zm;r_=1;var e=Object.keys||function(h){var f=[];for(var m in h)f.push(m);return f};Zm=c;var t=v2(),r=g2();fi()(c,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var a=n[i];c.prototype[a]||(c.prototype[a]=r.prototype[a])}function c(h){if(!(this instanceof c))return new c(h);t.call(this,h),r.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||st.nextTick(d,this)}function d(h){h.end()}return Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),Zm}var eg={},Xu={exports:{}},n_;function iz(){return n_||(n_=1,(function(e,t){var r=wh(),n=r.Buffer;function i(c,l){for(var d in c)l[d]=c[d]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a);function a(c,l,d){return n(c,l,d)}i(n,a),a.from=function(c,l,d){if(typeof c=="number")throw new TypeError("Argument must not be a number");return n(c,l,d)},a.alloc=function(c,l,d){if(typeof c!="number")throw new TypeError("Argument must be a number");var h=n(c);return l!==void 0?typeof d=="string"?h.fill(l,d):h.fill(l):h.fill(0),h},a.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n(c)},a.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(c)}})(Xu,Xu.exports)),Xu.exports}var s_;function jv(){if(s_)return eg;s_=1;var e=iz().Buffer,t=e.isEncoding||function(w){switch(w=""+w,w&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(w){if(!w)return"utf8";for(var N;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(N)return;w=(""+w).toLowerCase(),N=!0}}function n(w){var N=r(w);if(typeof N!="string"&&(e.isEncoding===t||!t(w)))throw new Error("Unknown encoding: "+w);return N||w}eg.StringDecoder=i;function i(w){this.encoding=n(w);var N;switch(this.encoding){case"utf16le":this.text=m,this.end=g,N=4;break;case"utf8":this.fillLast=d,N=4;break;case"base64":this.text=v,this.end=x,N=3;break;default:this.write=y,this.end=b;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(N)}i.prototype.write=function(w){if(w.length===0)return"";var N,_;if(this.lastNeed){if(N=this.fillLast(w),N===void 0)return"";_=this.lastNeed,this.lastNeed=0}else _=0;return _<w.length?N?N+this.text(w,_):this.text(w,_):N||""},i.prototype.end=f,i.prototype.text=h,i.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length};function a(w){return w<=127?0:w>>5===6?2:w>>4===14?3:w>>3===30?4:w>>6===2?-1:-2}function c(w,N,_){var S=N.length-1;if(S<_)return 0;var T=a(N[S]);return T>=0?(T>0&&(w.lastNeed=T-1),T):--S<_||T===-2?0:(T=a(N[S]),T>=0?(T>0&&(w.lastNeed=T-2),T):--S<_||T===-2?0:(T=a(N[S]),T>=0?(T>0&&(T===2?T=0:w.lastNeed=T-3),T):0))}function l(w,N,_){if((N[0]&192)!==128)return w.lastNeed=0,"";if(w.lastNeed>1&&N.length>1){if((N[1]&192)!==128)return w.lastNeed=1,"";if(w.lastNeed>2&&N.length>2&&(N[2]&192)!==128)return w.lastNeed=2,""}}function d(w){var N=this.lastTotal-this.lastNeed,_=l(this,w);if(_!==void 0)return _;if(this.lastNeed<=w.length)return w.copy(this.lastChar,N,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,N,0,w.length),this.lastNeed-=w.length}function h(w,N){var _=c(this,w,N);if(!this.lastNeed)return w.toString("utf8",N);this.lastTotal=_;var S=w.length-(_-this.lastNeed);return w.copy(this.lastChar,0,S),w.toString("utf8",N,S)}function f(w){var N=w&&w.length?this.write(w):"";return this.lastNeed?N+"":N}function m(w,N){if((w.length-N)%2===0){var _=w.toString("utf16le",N);if(_){var S=_.charCodeAt(_.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],_.slice(0,-1)}return _}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",N,w.length-1)}function g(w){var N=w&&w.length?this.write(w):"";if(this.lastNeed){var _=this.lastTotal-this.lastNeed;return N+this.lastChar.toString("utf16le",0,_)}return N}function v(w,N){var _=(w.length-N)%3;return _===0?w.toString("base64",N):(this.lastNeed=3-_,this.lastTotal=3,_===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",N,w.length-_))}function x(w){var N=w&&w.length?this.write(w):"";return this.lastNeed?N+this.lastChar.toString("base64",0,3-this.lastNeed):N}function y(w){return w.toString(this.encoding)}function b(w){return w&&w.length?this.write(w):""}return eg}var tg,i_;function ax(){if(i_)return tg;i_=1;var e=Co().codes.ERR_STREAM_PREMATURE_CLOSE;function t(a){var c=!1;return function(){if(!c){c=!0;for(var l=arguments.length,d=new Array(l),h=0;h<l;h++)d[h]=arguments[h];a.apply(this,d)}}}function r(){}function n(a){return a.setHeader&&typeof a.abort=="function"}function i(a,c,l){if(typeof c=="function")return i(a,null,c);c||(c={}),l=t(l||r);var d=c.readable||c.readable!==!1&&a.readable,h=c.writable||c.writable!==!1&&a.writable,f=function(){a.writable||g()},m=a._writableState&&a._writableState.finished,g=function(){h=!1,m=!0,d||l.call(a)},v=a._readableState&&a._readableState.endEmitted,x=function(){d=!1,v=!0,h||l.call(a)},y=function(_){l.call(a,_)},b=function(){var _;if(d&&!v)return(!a._readableState||!a._readableState.ended)&&(_=new e),l.call(a,_);if(h&&!m)return(!a._writableState||!a._writableState.ended)&&(_=new e),l.call(a,_)},w=function(){a.req.on("finish",g)};return n(a)?(a.on("complete",g),a.on("abort",b),a.req?w():a.on("request",w)):h&&!a._writableState&&(a.on("end",f),a.on("close",f)),a.on("end",x),a.on("finish",g),c.error!==!1&&a.on("error",y),a.on("close",b),function(){a.removeListener("complete",g),a.removeListener("abort",b),a.removeListener("request",w),a.req&&a.req.removeListener("finish",g),a.removeListener("end",f),a.removeListener("close",f),a.removeListener("finish",g),a.removeListener("end",x),a.removeListener("error",y),a.removeListener("close",b)}}return tg=i,tg}var rg,a_;function az(){if(a_)return rg;a_=1;var e;function t(w,N,_){return N in w?Object.defineProperty(w,N,{value:_,enumerable:!0,configurable:!0,writable:!0}):w[N]=_,w}var r=ax(),n=Symbol("lastResolve"),i=Symbol("lastReject"),a=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function f(w,N){return{value:w,done:N}}function m(w){var N=w[n];if(N!==null){var _=w[h].read();_!==null&&(w[l]=null,w[n]=null,w[i]=null,N(f(_,!1)))}}function g(w){st.nextTick(m,w)}function v(w,N){return function(_,S){w.then(function(){if(N[c]){_(f(void 0,!0));return}N[d](_,S)},S)}}var x=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((e={get stream(){return this[h]},next:function(){var N=this,_=this[a];if(_!==null)return Promise.reject(_);if(this[c])return Promise.resolve(f(void 0,!0));if(this[h].destroyed)return new Promise(function(U,$){st.nextTick(function(){N[a]?$(N[a]):U(f(void 0,!0))})});var S=this[l],T;if(S)T=new Promise(v(S,this));else{var F=this[h].read();if(F!==null)return Promise.resolve(f(F,!1));T=new Promise(this[d])}return this[l]=T,T}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var N=this;return new Promise(function(_,S){N[h].destroy(null,function(T){if(T){S(T);return}_(f(void 0,!0))})})}),e),x),b=function(N){var _,S=Object.create(y,(_={},t(_,h,{value:N,writable:!0}),t(_,n,{value:null,writable:!0}),t(_,i,{value:null,writable:!0}),t(_,a,{value:null,writable:!0}),t(_,c,{value:N._readableState.endEmitted,writable:!0}),t(_,d,{value:function(F,U){var $=S[h].read();$?(S[l]=null,S[n]=null,S[i]=null,F(f($,!1))):(S[n]=F,S[i]=U)},writable:!0}),_));return S[l]=null,r(N,function(T){if(T&&T.code!=="ERR_STREAM_PREMATURE_CLOSE"){var F=S[i];F!==null&&(S[l]=null,S[n]=null,S[i]=null,F(T)),S[a]=T;return}var U=S[n];U!==null&&(S[l]=null,S[n]=null,S[i]=null,U(f(void 0,!0))),S[c]=!0}),N.on("readable",g.bind(null,S)),S};return rg=b,rg}var ng,o_;function oz(){return o_||(o_=1,ng=function(){throw new Error("Readable.from is not available in the browser")}),ng}var sg,l_;function v2(){if(l_)return sg;l_=1,sg=A;var e;A.ReadableState=$,rx().EventEmitter;var t=function(X,me){return X.listeners(me).length},r=n2(),n=wh().Buffer,i=Kn.Uint8Array||function(){};function a(K){return n.from(K)}function c(K){return n.isBuffer(K)||K instanceof i}var l=f2(),d;l&&l.debuglog?d=l.debuglog("stream"):d=function(){};var h=nz(),f=p2(),m=m2(),g=m.getHighWaterMark,v=Co().codes,x=v.ERR_INVALID_ARG_TYPE,y=v.ERR_STREAM_PUSH_AFTER_EOF,b=v.ERR_METHOD_NOT_IMPLEMENTED,w=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,N,_,S;fi()(A,r);var T=f.errorOrDestroy,F=["error","close","destroy","pause","resume"];function U(K,X,me){if(typeof K.prependListener=="function")return K.prependListener(X,me);!K._events||!K._events[X]?K.on(X,me):Array.isArray(K._events[X])?K._events[X].unshift(me):K._events[X]=[me,K._events[X]]}function $(K,X,me){e=e||uo(),K=K||{},typeof me!="boolean"&&(me=X instanceof e),this.objectMode=!!K.objectMode,me&&(this.objectMode=this.objectMode||!!K.readableObjectMode),this.highWaterMark=g(this,K,"readableHighWaterMark",me),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=K.emitClose!==!1,this.autoDestroy=!!K.autoDestroy,this.destroyed=!1,this.defaultEncoding=K.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,K.encoding&&(N||(N=jv().StringDecoder),this.decoder=new N(K.encoding),this.encoding=K.encoding)}function A(K){if(e=e||uo(),!(this instanceof A))return new A(K);var X=this instanceof e;this._readableState=new $(K,this,X),this.readable=!0,K&&(typeof K.read=="function"&&(this._read=K.read),typeof K.destroy=="function"&&(this._destroy=K.destroy)),r.call(this)}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(X){this._readableState&&(this._readableState.destroyed=X)}}),A.prototype.destroy=f.destroy,A.prototype._undestroy=f.undestroy,A.prototype._destroy=function(K,X){X(K)},A.prototype.push=function(K,X){var me=this._readableState,M;return me.objectMode?M=!0:typeof K=="string"&&(X=X||me.defaultEncoding,X!==me.encoding&&(K=n.from(K,X),X=""),M=!0),J(this,K,X,!1,M)},A.prototype.unshift=function(K){return J(this,K,null,!0,!1)};function J(K,X,me,M,ge){d("readableAddChunk",X);var B=K._readableState;if(X===null)B.reading=!1,ae(K,B);else{var C;if(ge||(C=z(B,X)),C)T(K,C);else if(B.objectMode||X&&X.length>0)if(typeof X!="string"&&!B.objectMode&&Object.getPrototypeOf(X)!==n.prototype&&(X=a(X)),M)B.endEmitted?T(K,new w):pe(K,B,X,!0);else if(B.ended)T(K,new y);else{if(B.destroyed)return!1;B.reading=!1,B.decoder&&!me?(X=B.decoder.write(X),B.objectMode||X.length!==0?pe(K,B,X,!1):ne(K,B)):pe(K,B,X,!1)}else M||(B.reading=!1,ne(K,B))}return!B.ended&&(B.length<B.highWaterMark||B.length===0)}function pe(K,X,me,M){X.flowing&&X.length===0&&!X.sync?(X.awaitDrain=0,K.emit("data",me)):(X.length+=X.objectMode?1:me.length,M?X.buffer.unshift(me):X.buffer.push(me),X.needReadable&&q(K)),ne(K,X)}function z(K,X){var me;return!c(X)&&typeof X!="string"&&X!==void 0&&!K.objectMode&&(me=new x("chunk",["string","Buffer","Uint8Array"],X)),me}A.prototype.isPaused=function(){return this._readableState.flowing===!1},A.prototype.setEncoding=function(K){N||(N=jv().StringDecoder);var X=new N(K);this._readableState.decoder=X,this._readableState.encoding=this._readableState.decoder.encoding;for(var me=this._readableState.buffer.head,M="";me!==null;)M+=X.write(me.data),me=me.next;return this._readableState.buffer.clear(),M!==""&&this._readableState.buffer.push(M),this._readableState.length=M.length,this};var G=1073741824;function R(K){return K>=G?K=G:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K}function Z(K,X){return K<=0||X.length===0&&X.ended?0:X.objectMode?1:K!==K?X.flowing&&X.length?X.buffer.head.data.length:X.length:(K>X.highWaterMark&&(X.highWaterMark=R(K)),K<=X.length?K:X.ended?X.length:(X.needReadable=!0,0))}A.prototype.read=function(K){d("read",K),K=parseInt(K,10);var X=this._readableState,me=K;if(K!==0&&(X.emittedReadable=!1),K===0&&X.needReadable&&((X.highWaterMark!==0?X.length>=X.highWaterMark:X.length>0)||X.ended))return d("read: emitReadable",X.length,X.ended),X.length===0&&X.ended?O(this):q(this),null;if(K=Z(K,X),K===0&&X.ended)return X.length===0&&O(this),null;var M=X.needReadable;d("need readable",M),(X.length===0||X.length-K<X.highWaterMark)&&(M=!0,d("length less than watermark",M)),X.ended||X.reading?(M=!1,d("reading or ended",M)):M&&(d("do read"),X.reading=!0,X.sync=!0,X.length===0&&(X.needReadable=!0),this._read(X.highWaterMark),X.sync=!1,X.reading||(K=Z(me,X)));var ge;return K>0?ge=I(K,X):ge=null,ge===null?(X.needReadable=X.length<=X.highWaterMark,K=0):(X.length-=K,X.awaitDrain=0),X.length===0&&(X.ended||(X.needReadable=!0),me!==K&&X.ended&&O(this)),ge!==null&&this.emit("data",ge),ge};function ae(K,X){if(d("onEofChunk"),!X.ended){if(X.decoder){var me=X.decoder.end();me&&me.length&&(X.buffer.push(me),X.length+=X.objectMode?1:me.length)}X.ended=!0,X.sync?q(K):(X.needReadable=!1,X.emittedReadable||(X.emittedReadable=!0,Y(K)))}}function q(K){var X=K._readableState;d("emitReadable",X.needReadable,X.emittedReadable),X.needReadable=!1,X.emittedReadable||(d("emitReadable",X.flowing),X.emittedReadable=!0,st.nextTick(Y,K))}function Y(K){var X=K._readableState;d("emitReadable_",X.destroyed,X.length,X.ended),!X.destroyed&&(X.length||X.ended)&&(K.emit("readable"),X.emittedReadable=!1),X.needReadable=!X.flowing&&!X.ended&&X.length<=X.highWaterMark,oe(K)}function ne(K,X){X.readingMore||(X.readingMore=!0,st.nextTick(te,K,X))}function te(K,X){for(;!X.reading&&!X.ended&&(X.length<X.highWaterMark||X.flowing&&X.length===0);){var me=X.length;if(d("maybeReadMore read 0"),K.read(0),me===X.length)break}X.readingMore=!1}A.prototype._read=function(K){T(this,new b("_read()"))},A.prototype.pipe=function(K,X){var me=this,M=this._readableState;switch(M.pipesCount){case 0:M.pipes=K;break;case 1:M.pipes=[M.pipes,K];break;default:M.pipes.push(K);break}M.pipesCount+=1,d("pipe count=%d opts=%j",M.pipesCount,X);var ge=(!X||X.end!==!1)&&K!==st.stdout&&K!==st.stderr,B=ge?k:Me;M.endEmitted?st.nextTick(B):me.once("end",B),K.on("unpipe",C);function C(He,Qe){d("onunpipe"),He===me&&Qe&&Qe.hasUnpiped===!1&&(Qe.hasUnpiped=!0,ue())}function k(){d("onend"),K.end()}var L=W(me);K.on("drain",L);var ee=!1;function ue(){d("cleanup"),K.removeListener("close",Ne),K.removeListener("finish",_e),K.removeListener("drain",L),K.removeListener("error",be),K.removeListener("unpipe",C),me.removeListener("end",k),me.removeListener("end",Me),me.removeListener("data",ie),ee=!0,M.awaitDrain&&(!K._writableState||K._writableState.needDrain)&&L()}me.on("data",ie);function ie(He){d("ondata");var Qe=K.write(He);d("dest.write",Qe),Qe===!1&&((M.pipesCount===1&&M.pipes===K||M.pipesCount>1&&Q(M.pipes,K)!==-1)&&!ee&&(d("false write response, pause",M.awaitDrain),M.awaitDrain++),me.pause())}function be(He){d("onerror",He),Me(),K.removeListener("error",be),t(K,"error")===0&&T(K,He)}U(K,"error",be);function Ne(){K.removeListener("finish",_e),Me()}K.once("close",Ne);function _e(){d("onfinish"),K.removeListener("close",Ne),Me()}K.once("finish",_e);function Me(){d("unpipe"),me.unpipe(K)}return K.emit("pipe",me),M.flowing||(d("pipe resume"),me.resume()),K};function W(K){return function(){var me=K._readableState;d("pipeOnDrain",me.awaitDrain),me.awaitDrain&&me.awaitDrain--,me.awaitDrain===0&&t(K,"data")&&(me.flowing=!0,oe(K))}}A.prototype.unpipe=function(K){var X=this._readableState,me={hasUnpiped:!1};if(X.pipesCount===0)return this;if(X.pipesCount===1)return K&&K!==X.pipes?this:(K||(K=X.pipes),X.pipes=null,X.pipesCount=0,X.flowing=!1,K&&K.emit("unpipe",this,me),this);if(!K){var M=X.pipes,ge=X.pipesCount;X.pipes=null,X.pipesCount=0,X.flowing=!1;for(var B=0;B<ge;B++)M[B].emit("unpipe",this,{hasUnpiped:!1});return this}var C=Q(X.pipes,K);return C===-1?this:(X.pipes.splice(C,1),X.pipesCount-=1,X.pipesCount===1&&(X.pipes=X.pipes[0]),K.emit("unpipe",this,me),this)},A.prototype.on=function(K,X){var me=r.prototype.on.call(this,K,X),M=this._readableState;return K==="data"?(M.readableListening=this.listenerCount("readable")>0,M.flowing!==!1&&this.resume()):K==="readable"&&!M.endEmitted&&!M.readableListening&&(M.readableListening=M.needReadable=!0,M.flowing=!1,M.emittedReadable=!1,d("on readable",M.length,M.reading),M.length?q(this):M.reading||st.nextTick(se,this)),me},A.prototype.addListener=A.prototype.on,A.prototype.removeListener=function(K,X){var me=r.prototype.removeListener.call(this,K,X);return K==="readable"&&st.nextTick(H,this),me},A.prototype.removeAllListeners=function(K){var X=r.prototype.removeAllListeners.apply(this,arguments);return(K==="readable"||K===void 0)&&st.nextTick(H,this),X};function H(K){var X=K._readableState;X.readableListening=K.listenerCount("readable")>0,X.resumeScheduled&&!X.paused?X.flowing=!0:K.listenerCount("data")>0&&K.resume()}function se(K){d("readable nexttick read 0"),K.read(0)}A.prototype.resume=function(){var K=this._readableState;return K.flowing||(d("resume"),K.flowing=!K.readableListening,ce(this,K)),K.paused=!1,this};function ce(K,X){X.resumeScheduled||(X.resumeScheduled=!0,st.nextTick(he,K,X))}function he(K,X){d("resume",X.reading),X.reading||K.read(0),X.resumeScheduled=!1,K.emit("resume"),oe(K),X.flowing&&!X.reading&&K.read(0)}A.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function oe(K){var X=K._readableState;for(d("flow",X.flowing);X.flowing&&K.read()!==null;);}A.prototype.wrap=function(K){var X=this,me=this._readableState,M=!1;K.on("end",function(){if(d("wrapped end"),me.decoder&&!me.ended){var C=me.decoder.end();C&&C.length&&X.push(C)}X.push(null)}),K.on("data",function(C){if(d("wrapped data"),me.decoder&&(C=me.decoder.write(C)),!(me.objectMode&&C==null)&&!(!me.objectMode&&(!C||!C.length))){var k=X.push(C);k||(M=!0,K.pause())}});for(var ge in K)this[ge]===void 0&&typeof K[ge]=="function"&&(this[ge]=(function(k){return function(){return K[k].apply(K,arguments)}})(ge));for(var B=0;B<F.length;B++)K.on(F[B],this.emit.bind(this,F[B]));return this._read=function(C){d("wrapped _read",C),M&&(M=!1,K.resume())},this},typeof Symbol=="function"&&(A.prototype[Symbol.asyncIterator]=function(){return _===void 0&&(_=az()),_(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(X){this._readableState&&(this._readableState.flowing=X)}}),A._fromList=I,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function I(K,X){if(X.length===0)return null;var me;return X.objectMode?me=X.buffer.shift():!K||K>=X.length?(X.decoder?me=X.buffer.join(""):X.buffer.length===1?me=X.buffer.first():me=X.buffer.concat(X.length),X.buffer.clear()):me=X.buffer.consume(K,X.decoder),me}function O(K){var X=K._readableState;d("endReadable",X.endEmitted),X.endEmitted||(X.ended=!0,st.nextTick(re,X,K))}function re(K,X){if(d("endReadableNT",K.endEmitted,K.length),!K.endEmitted&&K.length===0&&(K.endEmitted=!0,X.readable=!1,X.emit("end"),K.autoDestroy)){var me=X._writableState;(!me||me.autoDestroy&&me.finished)&&X.destroy()}}typeof Symbol=="function"&&(A.from=function(K,X){return S===void 0&&(S=oz()),S(A,K,X)});function Q(K,X){for(var me=0,M=K.length;me<M;me++)if(K[me]===X)return me;return-1}return sg}var ig,c_;function y2(){if(c_)return ig;c_=1,ig=l;var e=Co().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,a=uo();fi()(l,a);function c(f,m){var g=this._transformState;g.transforming=!1;var v=g.writecb;if(v===null)return this.emit("error",new r);g.writechunk=null,g.writecb=null,m!=null&&this.push(m),v(f);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function l(f){if(!(this instanceof l))return new l(f);a.call(this,f),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",d)}function d(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(m,g){h(f,m,g)}):h(this,null,null)}l.prototype.push=function(f,m){return this._transformState.needTransform=!1,a.prototype.push.call(this,f,m)},l.prototype._transform=function(f,m,g){g(new t("_transform()"))},l.prototype._write=function(f,m,g){var v=this._transformState;if(v.writecb=g,v.writechunk=f,v.writeencoding=m,!v.transforming){var x=this._readableState;(v.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},l.prototype._read=function(f){var m=this._transformState;m.writechunk!==null&&!m.transforming?(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform)):m.needTransform=!0},l.prototype._destroy=function(f,m){a.prototype._destroy.call(this,f,function(g){m(g)})};function h(f,m,g){if(m)return f.emit("error",m);if(g!=null&&f.push(g),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return ig}var ag,u_;function lz(){if(u_)return ag;u_=1,ag=t;var e=y2();fi()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},ag}var og,d_;function cz(){if(d_)return og;d_=1;var e;function t(g){var v=!1;return function(){v||(v=!0,g.apply(void 0,arguments))}}var r=Co().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function a(g){if(g)throw g}function c(g){return g.setHeader&&typeof g.abort=="function"}function l(g,v,x,y){y=t(y);var b=!1;g.on("close",function(){b=!0}),e===void 0&&(e=ax()),e(g,{readable:v,writable:x},function(N){if(N)return y(N);b=!0,y()});var w=!1;return function(N){if(!b&&!w){if(w=!0,c(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();y(N||new i("pipe"))}}}function d(g){g()}function h(g,v){return g.pipe(v)}function f(g){return!g.length||typeof g[g.length-1]!="function"?a:g.pop()}function m(){for(var g=arguments.length,v=new Array(g),x=0;x<g;x++)v[x]=arguments[x];var y=f(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new n("streams");var b,w=v.map(function(N,_){var S=_<v.length-1,T=_>0;return l(N,S,T,function(F){b||(b=F),F&&w.forEach(d),!S&&(w.forEach(d),y(b))})});return v.reduce(h)}return og=m,og}var lg,h_;function ox(){if(h_)return lg;h_=1,lg=r;var e=rx().EventEmitter,t=fi();t(r,e),r.Readable=v2(),r.Writable=g2(),r.Duplex=uo(),r.Transform=y2(),r.PassThrough=lz(),r.finished=ax(),r.pipeline=cz(),r.Stream=r;function r(){e.call(this)}return r.prototype.pipe=function(n,i){var a=this;function c(v){n.writable&&n.write(v)===!1&&a.pause&&a.pause()}a.on("data",c);function l(){a.readable&&a.resume&&a.resume()}n.on("drain",l),!n._isStdio&&(!i||i.end!==!1)&&(a.on("end",h),a.on("close",f));var d=!1;function h(){d||(d=!0,n.end())}function f(){d||(d=!0,typeof n.destroy=="function"&&n.destroy())}function m(v){if(g(),e.listenerCount(this,"error")===0)throw v}a.on("error",m),n.on("error",m);function g(){a.removeListener("data",c),n.removeListener("drain",l),a.removeListener("end",h),a.removeListener("close",f),a.removeListener("error",m),n.removeListener("error",m),a.removeListener("end",g),a.removeListener("close",g),n.removeListener("close",g)}return a.on("end",g),a.on("close",g),n.on("close",g),n.emit("pipe",a),n},lg}var f_;function uz(){return f_||(f_=1,(function(e){(function(t){t.parser=function(I,O){return new n(I,O)},t.SAXParser=n,t.SAXStream=f,t.createStream=h,t.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(I,O){if(!(this instanceof n))return new n(I,O);var re=this;a(re),re.q=re.c="",re.bufferCheckPosition=t.MAX_BUFFER_LENGTH,re.opt=O||{},re.opt.lowercase=re.opt.lowercase||re.opt.lowercasetags,re.looseCase=re.opt.lowercase?"toLowerCase":"toUpperCase",re.tags=[],re.closed=re.closedRoot=re.sawRoot=!1,re.tag=re.error=null,re.strict=!!I,re.noscript=!!(I||re.opt.noscript),re.state=A.BEGIN,re.strictEntities=re.opt.strictEntities,re.ENTITIES=re.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),re.attribList=[],re.opt.xmlns&&(re.ns=Object.create(y)),re.trackPosition=re.opt.position!==!1,re.trackPosition&&(re.position=re.line=re.column=0),pe(re,"onready")}Object.create||(Object.create=function(I){function O(){}O.prototype=I;var re=new O;return re}),Object.keys||(Object.keys=function(I){var O=[];for(var re in I)I.hasOwnProperty(re)&&O.push(re);return O});function i(I){for(var O=Math.max(t.MAX_BUFFER_LENGTH,10),re=0,Q=0,K=r.length;Q<K;Q++){var X=I[r[Q]].length;if(X>O)switch(r[Q]){case"textNode":G(I);break;case"cdata":z(I,"oncdata",I.cdata),I.cdata="";break;case"script":z(I,"onscript",I.script),I.script="";break;default:Z(I,"Max buffer length exceeded: "+r[Q])}re=Math.max(re,X)}var me=t.MAX_BUFFER_LENGTH-re;I.bufferCheckPosition=me+I.position}function a(I){for(var O=0,re=r.length;O<re;O++)I[r[O]]=""}function c(I){G(I),I.cdata!==""&&(z(I,"oncdata",I.cdata),I.cdata=""),I.script!==""&&(z(I,"onscript",I.script),I.script="")}n.prototype={end:function(){ae(this)},write:oe,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){c(this)}};var l;try{l=ox().Stream}catch{l=function(){}}var d=t.EVENTS.filter(function(I){return I!=="error"&&I!=="end"});function h(I,O){return new f(I,O)}function f(I,O){if(!(this instanceof f))return new f(I,O);l.apply(this),this._parser=new n(I,O),this.writable=!0,this.readable=!0;var re=this;this._parser.onend=function(){re.emit("end")},this._parser.onerror=function(Q){re.emit("error",Q),re._parser.error=null},this._decoder=null,d.forEach(function(Q){Object.defineProperty(re,"on"+Q,{get:function(){return re._parser["on"+Q]},set:function(K){if(!K)return re.removeAllListeners(Q),re._parser["on"+Q]=K,K;re.on(Q,K)},enumerable:!0,configurable:!1})})}f.prototype=Object.create(l.prototype,{constructor:{value:f}}),f.prototype.write=function(I){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(I)){if(!this._decoder){var O=jv().StringDecoder;this._decoder=new O("utf8")}I=this._decoder.write(I)}return this._parser.write(I.toString()),this.emit("data",I),!0},f.prototype.end=function(I){return I&&I.length&&this.write(I),this._parser.end(),!0},f.prototype.on=function(I,O){var re=this;return!re._parser["on"+I]&&d.indexOf(I)!==-1&&(re._parser["on"+I]=function(){var Q=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);Q.splice(0,0,I),re.emit.apply(re,Q)}),l.prototype.on.call(re,I,O)};var m="[CDATA[",g="DOCTYPE",v="http://www.w3.org/XML/1998/namespace",x="http://www.w3.org/2000/xmlns/",y={xml:v,xmlns:x},b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,w=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,N=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function S(I){return I===" "||I===`
`||I==="\r"||I==="	"}function T(I){return I==='"'||I==="'"}function F(I){return I===">"||S(I)}function U(I,O){return I.test(O)}function $(I,O){return!U(I,O)}var A=0;t.STATE={BEGIN:A++,BEGIN_WHITESPACE:A++,TEXT:A++,TEXT_ENTITY:A++,OPEN_WAKA:A++,SGML_DECL:A++,SGML_DECL_QUOTED:A++,DOCTYPE:A++,DOCTYPE_QUOTED:A++,DOCTYPE_DTD:A++,DOCTYPE_DTD_QUOTED:A++,COMMENT_STARTING:A++,COMMENT:A++,COMMENT_ENDING:A++,COMMENT_ENDED:A++,CDATA:A++,CDATA_ENDING:A++,CDATA_ENDING_2:A++,PROC_INST:A++,PROC_INST_BODY:A++,PROC_INST_ENDING:A++,OPEN_TAG:A++,OPEN_TAG_SLASH:A++,ATTRIB:A++,ATTRIB_NAME:A++,ATTRIB_NAME_SAW_WHITE:A++,ATTRIB_VALUE:A++,ATTRIB_VALUE_QUOTED:A++,ATTRIB_VALUE_CLOSED:A++,ATTRIB_VALUE_UNQUOTED:A++,ATTRIB_VALUE_ENTITY_Q:A++,ATTRIB_VALUE_ENTITY_U:A++,CLOSE_TAG:A++,CLOSE_TAG_SAW_WHITE:A++,SCRIPT:A++,SCRIPT_ENDING:A++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(I){var O=t.ENTITIES[I],re=typeof O=="number"?String.fromCharCode(O):O;t.ENTITIES[I]=re});for(var J in t.STATE)t.STATE[t.STATE[J]]=J;A=t.STATE;function pe(I,O,re){I[O]&&I[O](re)}function z(I,O,re){I.textNode&&G(I),pe(I,O,re)}function G(I){I.textNode=R(I.opt,I.textNode),I.textNode&&pe(I,"ontext",I.textNode),I.textNode=""}function R(I,O){return I.trim&&(O=O.trim()),I.normalize&&(O=O.replace(/\s+/g," ")),O}function Z(I,O){return G(I),I.trackPosition&&(O+=`
Line: `+I.line+`
Column: `+I.column+`
Char: `+I.c),O=new Error(O),I.error=O,pe(I,"onerror",O),I}function ae(I){return I.sawRoot&&!I.closedRoot&&q(I,"Unclosed root tag"),I.state!==A.BEGIN&&I.state!==A.BEGIN_WHITESPACE&&I.state!==A.TEXT&&Z(I,"Unexpected end"),G(I),I.c="",I.closed=!0,pe(I,"onend"),n.call(I,I.strict,I.opt),I}function q(I,O){if(typeof I!="object"||!(I instanceof n))throw new Error("bad call to strictFail");I.strict&&Z(I,O)}function Y(I){I.strict||(I.tagName=I.tagName[I.looseCase]());var O=I.tags[I.tags.length-1]||I,re=I.tag={name:I.tagName,attributes:{}};I.opt.xmlns&&(re.ns=O.ns),I.attribList.length=0,z(I,"onopentagstart",re)}function ne(I,O){var re=I.indexOf(":"),Q=re<0?["",I]:I.split(":"),K=Q[0],X=Q[1];return O&&I==="xmlns"&&(K="xmlns",X=""),{prefix:K,local:X}}function te(I){if(I.strict||(I.attribName=I.attribName[I.looseCase]()),I.attribList.indexOf(I.attribName)!==-1||I.tag.attributes.hasOwnProperty(I.attribName)){I.attribName=I.attribValue="";return}if(I.opt.xmlns){var O=ne(I.attribName,!0),re=O.prefix,Q=O.local;if(re==="xmlns")if(Q==="xml"&&I.attribValue!==v)q(I,"xml: prefix must be bound to "+v+`
Actual: `+I.attribValue);else if(Q==="xmlns"&&I.attribValue!==x)q(I,"xmlns: prefix must be bound to "+x+`
Actual: `+I.attribValue);else{var K=I.tag,X=I.tags[I.tags.length-1]||I;K.ns===X.ns&&(K.ns=Object.create(X.ns)),K.ns[Q]=I.attribValue}I.attribList.push([I.attribName,I.attribValue])}else I.tag.attributes[I.attribName]=I.attribValue,z(I,"onattribute",{name:I.attribName,value:I.attribValue});I.attribName=I.attribValue=""}function W(I,O){if(I.opt.xmlns){var re=I.tag,Q=ne(I.tagName);re.prefix=Q.prefix,re.local=Q.local,re.uri=re.ns[Q.prefix]||"",re.prefix&&!re.uri&&(q(I,"Unbound namespace prefix: "+JSON.stringify(I.tagName)),re.uri=Q.prefix);var K=I.tags[I.tags.length-1]||I;re.ns&&K.ns!==re.ns&&Object.keys(re.ns).forEach(function(ie){z(I,"onopennamespace",{prefix:ie,uri:re.ns[ie]})});for(var X=0,me=I.attribList.length;X<me;X++){var M=I.attribList[X],ge=M[0],B=M[1],C=ne(ge,!0),k=C.prefix,L=C.local,ee=k===""?"":re.ns[k]||"",ue={name:ge,value:B,prefix:k,local:L,uri:ee};k&&k!=="xmlns"&&!ee&&(q(I,"Unbound namespace prefix: "+JSON.stringify(k)),ue.uri=k),I.tag.attributes[ge]=ue,z(I,"onattribute",ue)}I.attribList.length=0}I.tag.isSelfClosing=!!O,I.sawRoot=!0,I.tags.push(I.tag),z(I,"onopentag",I.tag),O||(!I.noscript&&I.tagName.toLowerCase()==="script"?I.state=A.SCRIPT:I.state=A.TEXT,I.tag=null,I.tagName=""),I.attribName=I.attribValue="",I.attribList.length=0}function H(I){if(!I.tagName){q(I,"Weird empty close tag."),I.textNode+="</>",I.state=A.TEXT;return}if(I.script){if(I.tagName!=="script"){I.script+="</"+I.tagName+">",I.tagName="",I.state=A.SCRIPT;return}z(I,"onscript",I.script),I.script=""}var O=I.tags.length,re=I.tagName;I.strict||(re=re[I.looseCase]());for(var Q=re;O--;){var K=I.tags[O];if(K.name!==Q)q(I,"Unexpected close tag");else break}if(O<0){q(I,"Unmatched closing tag: "+I.tagName),I.textNode+="</"+I.tagName+">",I.state=A.TEXT;return}I.tagName=re;for(var X=I.tags.length;X-- >O;){var me=I.tag=I.tags.pop();I.tagName=I.tag.name,z(I,"onclosetag",I.tagName);var M={};for(var ge in me.ns)M[ge]=me.ns[ge];var B=I.tags[I.tags.length-1]||I;I.opt.xmlns&&me.ns!==B.ns&&Object.keys(me.ns).forEach(function(C){var k=me.ns[C];z(I,"onclosenamespace",{prefix:C,uri:k})})}O===0&&(I.closedRoot=!0),I.tagName=I.attribValue=I.attribName="",I.attribList.length=0,I.state=A.TEXT}function se(I){var O=I.entity,re=O.toLowerCase(),Q,K="";return I.ENTITIES[O]?I.ENTITIES[O]:I.ENTITIES[re]?I.ENTITIES[re]:(O=re,O.charAt(0)==="#"&&(O.charAt(1)==="x"?(O=O.slice(2),Q=parseInt(O,16),K=Q.toString(16)):(O=O.slice(1),Q=parseInt(O,10),K=Q.toString(10))),O=O.replace(/^0+/,""),isNaN(Q)||K.toLowerCase()!==O?(q(I,"Invalid character entity"),"&"+I.entity+";"):String.fromCodePoint(Q))}function ce(I,O){O==="<"?(I.state=A.OPEN_WAKA,I.startTagPosition=I.position):S(O)||(q(I,"Non-whitespace before first tag."),I.textNode=O,I.state=A.TEXT)}function he(I,O){var re="";return O<I.length&&(re=I.charAt(O)),re}function oe(I){var O=this;if(this.error)throw this.error;if(O.closed)return Z(O,"Cannot write after close. Assign an onready handler.");if(I===null)return ae(O);typeof I=="object"&&(I=I.toString());for(var re=0,Q="";Q=he(I,re++),O.c=Q,!!Q;)switch(O.trackPosition&&(O.position++,Q===`
`?(O.line++,O.column=0):O.column++),O.state){case A.BEGIN:if(O.state=A.BEGIN_WHITESPACE,Q==="\uFEFF")continue;ce(O,Q);continue;case A.BEGIN_WHITESPACE:ce(O,Q);continue;case A.TEXT:if(O.sawRoot&&!O.closedRoot){for(var K=re-1;Q&&Q!=="<"&&Q!=="&";)Q=he(I,re++),Q&&O.trackPosition&&(O.position++,Q===`
`?(O.line++,O.column=0):O.column++);O.textNode+=I.substring(K,re-1)}Q==="<"&&!(O.sawRoot&&O.closedRoot&&!O.strict)?(O.state=A.OPEN_WAKA,O.startTagPosition=O.position):(!S(Q)&&(!O.sawRoot||O.closedRoot)&&q(O,"Text data outside of root node."),Q==="&"?O.state=A.TEXT_ENTITY:O.textNode+=Q);continue;case A.SCRIPT:Q==="<"?O.state=A.SCRIPT_ENDING:O.script+=Q;continue;case A.SCRIPT_ENDING:Q==="/"?O.state=A.CLOSE_TAG:(O.script+="<"+Q,O.state=A.SCRIPT);continue;case A.OPEN_WAKA:if(Q==="!")O.state=A.SGML_DECL,O.sgmlDecl="";else if(!S(Q))if(U(b,Q))O.state=A.OPEN_TAG,O.tagName=Q;else if(Q==="/")O.state=A.CLOSE_TAG,O.tagName="";else if(Q==="?")O.state=A.PROC_INST,O.procInstName=O.procInstBody="";else{if(q(O,"Unencoded <"),O.startTagPosition+1<O.position){var X=O.position-O.startTagPosition;Q=new Array(X).join(" ")+Q}O.textNode+="<"+Q,O.state=A.TEXT}continue;case A.SGML_DECL:(O.sgmlDecl+Q).toUpperCase()===m?(z(O,"onopencdata"),O.state=A.CDATA,O.sgmlDecl="",O.cdata=""):O.sgmlDecl+Q==="--"?(O.state=A.COMMENT,O.comment="",O.sgmlDecl=""):(O.sgmlDecl+Q).toUpperCase()===g?(O.state=A.DOCTYPE,(O.doctype||O.sawRoot)&&q(O,"Inappropriately located doctype declaration"),O.doctype="",O.sgmlDecl=""):Q===">"?(z(O,"onsgmldeclaration",O.sgmlDecl),O.sgmlDecl="",O.state=A.TEXT):(T(Q)&&(O.state=A.SGML_DECL_QUOTED),O.sgmlDecl+=Q);continue;case A.SGML_DECL_QUOTED:Q===O.q&&(O.state=A.SGML_DECL,O.q=""),O.sgmlDecl+=Q;continue;case A.DOCTYPE:Q===">"?(O.state=A.TEXT,z(O,"ondoctype",O.doctype),O.doctype=!0):(O.doctype+=Q,Q==="["?O.state=A.DOCTYPE_DTD:T(Q)&&(O.state=A.DOCTYPE_QUOTED,O.q=Q));continue;case A.DOCTYPE_QUOTED:O.doctype+=Q,Q===O.q&&(O.q="",O.state=A.DOCTYPE);continue;case A.DOCTYPE_DTD:O.doctype+=Q,Q==="]"?O.state=A.DOCTYPE:T(Q)&&(O.state=A.DOCTYPE_DTD_QUOTED,O.q=Q);continue;case A.DOCTYPE_DTD_QUOTED:O.doctype+=Q,Q===O.q&&(O.state=A.DOCTYPE_DTD,O.q="");continue;case A.COMMENT:Q==="-"?O.state=A.COMMENT_ENDING:O.comment+=Q;continue;case A.COMMENT_ENDING:Q==="-"?(O.state=A.COMMENT_ENDED,O.comment=R(O.opt,O.comment),O.comment&&z(O,"oncomment",O.comment),O.comment=""):(O.comment+="-"+Q,O.state=A.COMMENT);continue;case A.COMMENT_ENDED:Q!==">"?(q(O,"Malformed comment"),O.comment+="--"+Q,O.state=A.COMMENT):O.state=A.TEXT;continue;case A.CDATA:Q==="]"?O.state=A.CDATA_ENDING:O.cdata+=Q;continue;case A.CDATA_ENDING:Q==="]"?O.state=A.CDATA_ENDING_2:(O.cdata+="]"+Q,O.state=A.CDATA);continue;case A.CDATA_ENDING_2:Q===">"?(O.cdata&&z(O,"oncdata",O.cdata),z(O,"onclosecdata"),O.cdata="",O.state=A.TEXT):Q==="]"?O.cdata+="]":(O.cdata+="]]"+Q,O.state=A.CDATA);continue;case A.PROC_INST:Q==="?"?O.state=A.PROC_INST_ENDING:S(Q)?O.state=A.PROC_INST_BODY:O.procInstName+=Q;continue;case A.PROC_INST_BODY:if(!O.procInstBody&&S(Q))continue;Q==="?"?O.state=A.PROC_INST_ENDING:O.procInstBody+=Q;continue;case A.PROC_INST_ENDING:Q===">"?(z(O,"onprocessinginstruction",{name:O.procInstName,body:O.procInstBody}),O.procInstName=O.procInstBody="",O.state=A.TEXT):(O.procInstBody+="?"+Q,O.state=A.PROC_INST_BODY);continue;case A.OPEN_TAG:U(w,Q)?O.tagName+=Q:(Y(O),Q===">"?W(O):Q==="/"?O.state=A.OPEN_TAG_SLASH:(S(Q)||q(O,"Invalid character in tag name"),O.state=A.ATTRIB));continue;case A.OPEN_TAG_SLASH:Q===">"?(W(O,!0),H(O)):(q(O,"Forward-slash in opening tag not followed by >"),O.state=A.ATTRIB);continue;case A.ATTRIB:if(S(Q))continue;Q===">"?W(O):Q==="/"?O.state=A.OPEN_TAG_SLASH:U(b,Q)?(O.attribName=Q,O.attribValue="",O.state=A.ATTRIB_NAME):q(O,"Invalid attribute name");continue;case A.ATTRIB_NAME:Q==="="?O.state=A.ATTRIB_VALUE:Q===">"?(q(O,"Attribute without value"),O.attribValue=O.attribName,te(O),W(O)):S(Q)?O.state=A.ATTRIB_NAME_SAW_WHITE:U(w,Q)?O.attribName+=Q:q(O,"Invalid attribute name");continue;case A.ATTRIB_NAME_SAW_WHITE:if(Q==="=")O.state=A.ATTRIB_VALUE;else{if(S(Q))continue;q(O,"Attribute without value"),O.tag.attributes[O.attribName]="",O.attribValue="",z(O,"onattribute",{name:O.attribName,value:""}),O.attribName="",Q===">"?W(O):U(b,Q)?(O.attribName=Q,O.state=A.ATTRIB_NAME):(q(O,"Invalid attribute name"),O.state=A.ATTRIB)}continue;case A.ATTRIB_VALUE:if(S(Q))continue;T(Q)?(O.q=Q,O.state=A.ATTRIB_VALUE_QUOTED):(q(O,"Unquoted attribute value"),O.state=A.ATTRIB_VALUE_UNQUOTED,O.attribValue=Q);continue;case A.ATTRIB_VALUE_QUOTED:if(Q!==O.q){Q==="&"?O.state=A.ATTRIB_VALUE_ENTITY_Q:O.attribValue+=Q;continue}te(O),O.q="",O.state=A.ATTRIB_VALUE_CLOSED;continue;case A.ATTRIB_VALUE_CLOSED:S(Q)?O.state=A.ATTRIB:Q===">"?W(O):Q==="/"?O.state=A.OPEN_TAG_SLASH:U(b,Q)?(q(O,"No whitespace between attributes"),O.attribName=Q,O.attribValue="",O.state=A.ATTRIB_NAME):q(O,"Invalid attribute name");continue;case A.ATTRIB_VALUE_UNQUOTED:if(!F(Q)){Q==="&"?O.state=A.ATTRIB_VALUE_ENTITY_U:O.attribValue+=Q;continue}te(O),Q===">"?W(O):O.state=A.ATTRIB;continue;case A.CLOSE_TAG:if(O.tagName)Q===">"?H(O):U(w,Q)?O.tagName+=Q:O.script?(O.script+="</"+O.tagName,O.tagName="",O.state=A.SCRIPT):(S(Q)||q(O,"Invalid tagname in closing tag"),O.state=A.CLOSE_TAG_SAW_WHITE);else{if(S(Q))continue;$(b,Q)?O.script?(O.script+="</"+Q,O.state=A.SCRIPT):q(O,"Invalid tagname in closing tag."):O.tagName=Q}continue;case A.CLOSE_TAG_SAW_WHITE:if(S(Q))continue;Q===">"?H(O):q(O,"Invalid characters in closing tag");continue;case A.TEXT_ENTITY:case A.ATTRIB_VALUE_ENTITY_Q:case A.ATTRIB_VALUE_ENTITY_U:var me,M;switch(O.state){case A.TEXT_ENTITY:me=A.TEXT,M="textNode";break;case A.ATTRIB_VALUE_ENTITY_Q:me=A.ATTRIB_VALUE_QUOTED,M="attribValue";break;case A.ATTRIB_VALUE_ENTITY_U:me=A.ATTRIB_VALUE_UNQUOTED,M="attribValue";break}Q===";"?(O[M]+=se(O),O.entity="",O.state=me):U(O.entity.length?_:N,Q)?O.entity+=Q:(q(O,"Invalid character in entity name"),O[M]+="&"+O.entity+Q,O.entity="",O.state=me);continue;default:throw new Error(O,"Unknown state: "+O.state)}return O.position>=O.bufferCheckPosition&&i(O),O}String.fromCodePoint||(function(){var I=String.fromCharCode,O=Math.floor,re=function(){var Q=16384,K=[],X,me,M=-1,ge=arguments.length;if(!ge)return"";for(var B="";++M<ge;){var C=Number(arguments[M]);if(!isFinite(C)||C<0||C>1114111||O(C)!==C)throw RangeError("Invalid code point: "+C);C<=65535?K.push(C):(C-=65536,X=(C>>10)+55296,me=C%1024+56320,K.push(X,me)),(M+1===ge||K.length>Q)&&(B+=I.apply(null,K),K.length=0)}return B};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:re,configurable:!0,writable:!0}):String.fromCodePoint=re})()})(e)})(Kp)),Kp}var cg,p_;function lx(){return p_||(p_=1,cg={isArray:function(e){return Array.isArray?Array.isArray(e):Object.prototype.toString.call(e)==="[object Array]"}}),cg}var ug,m_;function cx(){if(m_)return ug;m_=1;var e=lx().isArray;return ug={copyOptions:function(t){var r,n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},ensureFlagExists:function(t,r){(!(t in r)||typeof r[t]!="boolean")&&(r[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||typeof t.spaces!="number"&&typeof t.spaces!="string")&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){(!("alwaysArray"in t)||typeof t.alwaysArray!="boolean"&&!e(t.alwaysArray))&&(t.alwaysArray=!1)},ensureKeyExists:function(t,r){(!(t+"Key"in r)||typeof r[t+"Key"]!="string")&&(r[t+"Key"]=r.compact?"_"+t:t)},checkFnExists:function(t,r){return t+"Fn"in r}},ug}var dg,g_;function x2(){if(g_)return dg;g_=1;var e=uz(),t=cx(),r=lx().isArray,n,i;function a(w){return n=t.copyOptions(w),t.ensureFlagExists("ignoreDeclaration",n),t.ensureFlagExists("ignoreInstruction",n),t.ensureFlagExists("ignoreAttributes",n),t.ensureFlagExists("ignoreText",n),t.ensureFlagExists("ignoreComment",n),t.ensureFlagExists("ignoreCdata",n),t.ensureFlagExists("ignoreDoctype",n),t.ensureFlagExists("compact",n),t.ensureFlagExists("alwaysChildren",n),t.ensureFlagExists("addParent",n),t.ensureFlagExists("trim",n),t.ensureFlagExists("nativeType",n),t.ensureFlagExists("nativeTypeAttributes",n),t.ensureFlagExists("sanitize",n),t.ensureFlagExists("instructionHasAttributes",n),t.ensureFlagExists("captureSpacesBetweenElements",n),t.ensureAlwaysArrayExists(n),t.ensureKeyExists("declaration",n),t.ensureKeyExists("instruction",n),t.ensureKeyExists("attributes",n),t.ensureKeyExists("text",n),t.ensureKeyExists("comment",n),t.ensureKeyExists("cdata",n),t.ensureKeyExists("doctype",n),t.ensureKeyExists("type",n),t.ensureKeyExists("name",n),t.ensureKeyExists("elements",n),t.ensureKeyExists("parent",n),t.checkFnExists("doctype",n),t.checkFnExists("instruction",n),t.checkFnExists("cdata",n),t.checkFnExists("comment",n),t.checkFnExists("text",n),t.checkFnExists("instructionName",n),t.checkFnExists("elementName",n),t.checkFnExists("attributeName",n),t.checkFnExists("attributeValue",n),t.checkFnExists("attributes",n),n}function c(w){var N=Number(w);if(!isNaN(N))return N;var _=w.toLowerCase();return _==="true"?!0:_==="false"?!1:w}function l(w,N){var _;if(n.compact){if(!i[n[w+"Key"]]&&(r(n.alwaysArray)?n.alwaysArray.indexOf(n[w+"Key"])!==-1:n.alwaysArray)&&(i[n[w+"Key"]]=[]),i[n[w+"Key"]]&&!r(i[n[w+"Key"]])&&(i[n[w+"Key"]]=[i[n[w+"Key"]]]),w+"Fn"in n&&typeof N=="string"&&(N=n[w+"Fn"](N,i)),w==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(_ in N)if(N.hasOwnProperty(_))if("instructionFn"in n)N[_]=n.instructionFn(N[_],_,i);else{var S=N[_];delete N[_],N[n.instructionNameFn(_,S,i)]=S}}r(i[n[w+"Key"]])?i[n[w+"Key"]].push(N):i[n[w+"Key"]]=N}else{i[n.elementsKey]||(i[n.elementsKey]=[]);var T={};if(T[n.typeKey]=w,w==="instruction"){for(_ in N)if(N.hasOwnProperty(_))break;T[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(_,N,i):_,n.instructionHasAttributes?(T[n.attributesKey]=N[_][n.attributesKey],"instructionFn"in n&&(T[n.attributesKey]=n.instructionFn(T[n.attributesKey],_,i))):("instructionFn"in n&&(N[_]=n.instructionFn(N[_],_,i)),T[n.instructionKey]=N[_])}else w+"Fn"in n&&(N=n[w+"Fn"](N,i)),T[n[w+"Key"]]=N;n.addParent&&(T[n.parentKey]=i),i[n.elementsKey].push(T)}}function d(w){if("attributesFn"in n&&w&&(w=n.attributesFn(w,i)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&w){var N;for(N in w)if(w.hasOwnProperty(N)&&(n.trim&&(w[N]=w[N].trim()),n.nativeTypeAttributes&&(w[N]=c(w[N])),"attributeValueFn"in n&&(w[N]=n.attributeValueFn(w[N],N,i)),"attributeNameFn"in n)){var _=w[N];delete w[N],w[n.attributeNameFn(N,w[N],i)]=_}}return w}function h(w){var N={};if(w.body&&(w.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var _=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,S;(S=_.exec(w.body))!==null;)N[S[1]]=S[2]||S[3]||S[4];N=d(N)}if(w.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;i[n.declarationKey]={},Object.keys(N).length&&(i[n.declarationKey][n.attributesKey]=N),n.addParent&&(i[n.declarationKey][n.parentKey]=i)}else{if(n.ignoreInstruction)return;n.trim&&(w.body=w.body.trim());var T={};n.instructionHasAttributes&&Object.keys(N).length?(T[w.name]={},T[w.name][n.attributesKey]=N):T[w.name]=w.body,l("instruction",T)}}function f(w,N){var _;if(typeof w=="object"&&(N=w.attributes,w=w.name),N=d(N),"elementNameFn"in n&&(w=n.elementNameFn(w,i)),n.compact){if(_={},!n.ignoreAttributes&&N&&Object.keys(N).length){_[n.attributesKey]={};var S;for(S in N)N.hasOwnProperty(S)&&(_[n.attributesKey][S]=N[S])}!(w in i)&&(r(n.alwaysArray)?n.alwaysArray.indexOf(w)!==-1:n.alwaysArray)&&(i[w]=[]),i[w]&&!r(i[w])&&(i[w]=[i[w]]),r(i[w])?i[w].push(_):i[w]=_}else i[n.elementsKey]||(i[n.elementsKey]=[]),_={},_[n.typeKey]="element",_[n.nameKey]=w,!n.ignoreAttributes&&N&&Object.keys(N).length&&(_[n.attributesKey]=N),n.alwaysChildren&&(_[n.elementsKey]=[]),i[n.elementsKey].push(_);_[n.parentKey]=i,i=_}function m(w){n.ignoreText||!w.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(w=w.trim()),n.nativeType&&(w=c(w)),n.sanitize&&(w=w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),l("text",w))}function g(w){n.ignoreComment||(n.trim&&(w=w.trim()),l("comment",w))}function v(w){var N=i[n.parentKey];n.addParent||delete i[n.parentKey],i=N}function x(w){n.ignoreCdata||(n.trim&&(w=w.trim()),l("cdata",w))}function y(w){n.ignoreDoctype||(w=w.replace(/^ /,""),n.trim&&(w=w.trim()),l("doctype",w))}function b(w){w.note=w}return dg=function(w,N){var _=e.parser(!0,{}),S={};if(i=S,n=a(N),_.opt={strictEntities:!0},_.onopentag=f,_.ontext=m,_.oncomment=g,_.onclosetag=v,_.onerror=b,_.oncdata=x,_.ondoctype=y,_.onprocessinginstruction=h,_.write(w).close(),S[n.elementsKey]){var T=S[n.elementsKey];delete S[n.elementsKey],S[n.elementsKey]=T,delete S.text}return S},dg}var hg,v_;function dz(){if(v_)return hg;v_=1;var e=cx(),t=x2();function r(n){var i=e.copyOptions(n);return e.ensureSpacesExists(i),i}return hg=function(n,i){var a,c,l,d;return a=r(i),c=t(n,a),d="compact"in a&&a.compact?"_parent":"parent","addParent"in a&&a.addParent?l=JSON.stringify(c,function(h,f){return h===d?"_":f},a.spaces):l=JSON.stringify(c,null,a.spaces),l.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},hg}var fg,y_;function w2(){if(y_)return fg;y_=1;var e=cx(),t=lx().isArray,r,n;function i(_){var S=e.copyOptions(_);return e.ensureFlagExists("ignoreDeclaration",S),e.ensureFlagExists("ignoreInstruction",S),e.ensureFlagExists("ignoreAttributes",S),e.ensureFlagExists("ignoreText",S),e.ensureFlagExists("ignoreComment",S),e.ensureFlagExists("ignoreCdata",S),e.ensureFlagExists("ignoreDoctype",S),e.ensureFlagExists("compact",S),e.ensureFlagExists("indentText",S),e.ensureFlagExists("indentCdata",S),e.ensureFlagExists("indentAttributes",S),e.ensureFlagExists("indentInstruction",S),e.ensureFlagExists("fullTagEmptyElement",S),e.ensureFlagExists("noQuotesForNativeAttributes",S),e.ensureSpacesExists(S),typeof S.spaces=="number"&&(S.spaces=Array(S.spaces+1).join(" ")),e.ensureKeyExists("declaration",S),e.ensureKeyExists("instruction",S),e.ensureKeyExists("attributes",S),e.ensureKeyExists("text",S),e.ensureKeyExists("comment",S),e.ensureKeyExists("cdata",S),e.ensureKeyExists("doctype",S),e.ensureKeyExists("type",S),e.ensureKeyExists("name",S),e.ensureKeyExists("elements",S),e.checkFnExists("doctype",S),e.checkFnExists("instruction",S),e.checkFnExists("cdata",S),e.checkFnExists("comment",S),e.checkFnExists("text",S),e.checkFnExists("instructionName",S),e.checkFnExists("elementName",S),e.checkFnExists("attributeName",S),e.checkFnExists("attributeValue",S),e.checkFnExists("attributes",S),e.checkFnExists("fullTagEmptyElement",S),S}function a(_,S,T){return(!T&&_.spaces?`
`:"")+Array(S+1).join(_.spaces)}function c(_,S,T){if(S.ignoreAttributes)return"";"attributesFn"in S&&(_=S.attributesFn(_,n,r));var F,U,$,A,J=[];for(F in _)_.hasOwnProperty(F)&&_[F]!==null&&_[F]!==void 0&&(A=S.noQuotesForNativeAttributes&&typeof _[F]!="string"?"":'"',U=""+_[F],U=U.replace(/"/g,"&quot;"),$="attributeNameFn"in S?S.attributeNameFn(F,U,n,r):F,J.push(S.spaces&&S.indentAttributes?a(S,T+1,!1):" "),J.push($+"="+A+("attributeValueFn"in S?S.attributeValueFn(U,F,n,r):U)+A));return _&&Object.keys(_).length&&S.spaces&&S.indentAttributes&&J.push(a(S,T,!1)),J.join("")}function l(_,S,T){return r=_,n="xml",S.ignoreDeclaration?"":"<?xml"+c(_[S.attributesKey],S,T)+"?>"}function d(_,S,T){if(S.ignoreInstruction)return"";var F;for(F in _)if(_.hasOwnProperty(F))break;var U="instructionNameFn"in S?S.instructionNameFn(F,_[F],n,r):F;if(typeof _[F]=="object")return r=_,n=U,"<?"+U+c(_[F][S.attributesKey],S,T)+"?>";var $=_[F]?_[F]:"";return"instructionFn"in S&&($=S.instructionFn($,F,n,r)),"<?"+U+($?" "+$:"")+"?>"}function h(_,S){return S.ignoreComment?"":"<!--"+("commentFn"in S?S.commentFn(_,n,r):_)+"-->"}function f(_,S){return S.ignoreCdata?"":"<![CDATA["+("cdataFn"in S?S.cdataFn(_,n,r):_.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function m(_,S){return S.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in S?S.doctypeFn(_,n,r):_)+">"}function g(_,S){return S.ignoreText?"":(_=""+_,_=_.replace(/&amp;/g,"&"),_=_.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in S?S.textFn(_,n,r):_)}function v(_,S){var T;if(_.elements&&_.elements.length)for(T=0;T<_.elements.length;++T)switch(_.elements[T][S.typeKey]){case"text":if(S.indentText)return!0;break;case"cdata":if(S.indentCdata)return!0;break;case"instruction":if(S.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function x(_,S,T){r=_,n=_.name;var F=[],U="elementNameFn"in S?S.elementNameFn(_.name,_):_.name;F.push("<"+U),_[S.attributesKey]&&F.push(c(_[S.attributesKey],S,T));var $=_[S.elementsKey]&&_[S.elementsKey].length||_[S.attributesKey]&&_[S.attributesKey]["xml:space"]==="preserve";return $||("fullTagEmptyElementFn"in S?$=S.fullTagEmptyElementFn(_.name,_):$=S.fullTagEmptyElement),$?(F.push(">"),_[S.elementsKey]&&_[S.elementsKey].length&&(F.push(y(_[S.elementsKey],S,T+1)),r=_,n=_.name),F.push(S.spaces&&v(_,S)?`
`+Array(T+1).join(S.spaces):""),F.push("</"+U+">")):F.push("/>"),F.join("")}function y(_,S,T,F){return _.reduce(function(U,$){var A=a(S,T,F&&!U);switch($.type){case"element":return U+A+x($,S,T);case"comment":return U+A+h($[S.commentKey],S);case"doctype":return U+A+m($[S.doctypeKey],S);case"cdata":return U+(S.indentCdata?A:"")+f($[S.cdataKey],S);case"text":return U+(S.indentText?A:"")+g($[S.textKey],S);case"instruction":var J={};return J[$[S.nameKey]]=$[S.attributesKey]?$:$[S.instructionKey],U+(S.indentInstruction?A:"")+d(J,S,T)}},"")}function b(_,S,T){var F;for(F in _)if(_.hasOwnProperty(F))switch(F){case S.parentKey:case S.attributesKey:break;case S.textKey:if(S.indentText||T)return!0;break;case S.cdataKey:if(S.indentCdata||T)return!0;break;case S.instructionKey:if(S.indentInstruction||T)return!0;break;case S.doctypeKey:case S.commentKey:return!0;default:return!0}return!1}function w(_,S,T,F,U){r=_,n=S;var $="elementNameFn"in T?T.elementNameFn(S,_):S;if(typeof _>"u"||_===null||_==="")return"fullTagEmptyElementFn"in T&&T.fullTagEmptyElementFn(S,_)||T.fullTagEmptyElement?"<"+$+"></"+$+">":"<"+$+"/>";var A=[];if(S){if(A.push("<"+$),typeof _!="object")return A.push(">"+g(_,T)+"</"+$+">"),A.join("");_[T.attributesKey]&&A.push(c(_[T.attributesKey],T,F));var J=b(_,T,!0)||_[T.attributesKey]&&_[T.attributesKey]["xml:space"]==="preserve";if(J||("fullTagEmptyElementFn"in T?J=T.fullTagEmptyElementFn(S,_):J=T.fullTagEmptyElement),J)A.push(">");else return A.push("/>"),A.join("")}return A.push(N(_,T,F+1,!1)),r=_,n=S,S&&A.push((U?a(T,F,!1):"")+"</"+$+">"),A.join("")}function N(_,S,T,F){var U,$,A,J=[];for($ in _)if(_.hasOwnProperty($))for(A=t(_[$])?_[$]:[_[$]],U=0;U<A.length;++U){switch($){case S.declarationKey:J.push(l(A[U],S,T));break;case S.instructionKey:J.push((S.indentInstruction?a(S,T,F):"")+d(A[U],S,T));break;case S.attributesKey:case S.parentKey:break;case S.textKey:J.push((S.indentText?a(S,T,F):"")+g(A[U],S));break;case S.cdataKey:J.push((S.indentCdata?a(S,T,F):"")+f(A[U],S));break;case S.doctypeKey:J.push(a(S,T,F)+m(A[U],S));break;case S.commentKey:J.push(a(S,T,F)+h(A[U],S));break;default:J.push(a(S,T,F)+w(A[U],$,S,T,b(A[U],S)))}F=F&&!J.length}return J.join("")}return fg=function(_,S){S=i(S);var T=[];return r=_,n="_root_",S.compact?T.push(N(_,S,0,!0)):(_[S.declarationKey]&&T.push(l(_[S.declarationKey],S,0)),_[S.elementsKey]&&_[S.elementsKey].length&&T.push(y(_[S.elementsKey],S,0,!T.length))),T.join("")},fg}var pg,x_;function hz(){if(x_)return pg;x_=1;var e=w2();return pg=function(t,r){t instanceof Buffer&&(t=t.toString());var n=null;if(typeof t=="string")try{n=JSON.parse(t)}catch{throw new Error("The JSON structure is invalid")}else n=t;return e(n,r)},pg}var mg,w_;function fz(){if(w_)return mg;w_=1;var e=x2(),t=dz(),r=w2(),n=hz();return mg={xml2js:e,xml2json:t,js2xml:r,json2xml:n},mg}var b2=fz();const ux=e=>{switch(e.type){case void 0:case"element":const t=new mz(e.name,e.attributes),r=e.elements||[];for(const n of r){const i=ux(n);i!==void 0&&t.push(i)}return t;case"text":return e.text;default:return}};class pz extends et{}class mz extends Ce{static fromXmlString(t){const r=b2.xml2js(t,{compact:!1});return ux(r)}constructor(t,r){super(t),r&&this.root.push(new pz(r))}push(t){this.root.push(t)}}class gz extends Ce{constructor(t){super(""),this._attr=t}prepForXml(t){return{_attr:this._attr}}}class j2 extends Ce{constructor(t,r){super(t),r&&(this.root=r.root)}}const Hr=e=>{if(isNaN(e))throw new Error(`Invalid value '${e}' specified. Must be an integer.`);return Math.floor(e)},jh=e=>{const t=Hr(e);if(t<0)throw new Error(`Invalid value '${e}' specified. Must be a positive integer.`);return t},_2=(e,t)=>{const r=t*2;if(e.length!==r||isNaN(+`0x${e}`))throw new Error(`Invalid hex value '${e}'. Expected ${r} digit hex value`);return e},b_=e=>_2(e,1),S2=e=>{const t=e.slice(-2),r=e.substring(0,e.length-2);return`${Number(r)}${t}`},N2=e=>{const t=S2(e);if(parseFloat(t)<0)throw new Error(`Invalid value '${t}' specified. Expected a positive number.`);return t},ho=e=>{if(e==="auto")return e;const t=e.charAt(0)==="#"?e.substring(1):e;return _2(t,3)},Hi=e=>typeof e=="string"?S2(e):Hr(e),vz=e=>typeof e=="string"?N2(e):jh(e),kn=e=>typeof e=="string"?N2(e):jh(e),yz=jh,xz=jh,wz=e=>e.toISOString();class Te extends Ce{constructor(t,r=!0){super(t),r!==!0&&this.root.push(new Kt({val:r}))}}class gg extends Ce{constructor(t,r){super(t),this.root.push(new Kt({val:vz(r)}))}}class qa extends Ce{constructor(t,r){super(t),this.root.push(new Kt({val:r}))}}const jl=(e,t)=>new es({name:e,attributes:{value:{key:"w:val",value:t}}});class Ml extends Ce{constructor(t,r){super(t),this.root.push(new Kt({val:r}))}}class Ai extends Ce{constructor(t,r){super(t),this.root.push(r)}}class es extends Ce{constructor({name:t,attributes:r,children:n}){super(t),r&&this.root.push(new xh(r)),n&&this.root.push(...n)}}const Hn={START:"start",LEFT:"left"};class bz extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class jz extends Ce{constructor(t){super("w:jc"),this.root.push(new bz({val:t}))}}class Ut extends Ce{constructor(t,{color:r,size:n,space:i,style:a}){super(t),this.root.push(new _z({style:a,color:r===void 0?void 0:ho(r),size:n===void 0?void 0:yz(n),space:i===void 0?void 0:xz(i)}))}}class _z extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const dx={SINGLE:"single",NONE:"none"};class Sz extends yh{constructor(t){super("w:pBdr"),t.top&&this.root.push(new Ut("w:top",t.top)),t.bottom&&this.root.push(new Ut("w:bottom",t.bottom)),t.left&&this.root.push(new Ut("w:left",t.left)),t.right&&this.root.push(new Ut("w:right",t.right))}}class Nz extends Ce{constructor(){super("w:pBdr");const t=new Ut("w:bottom",{color:"auto",space:1,style:dx.SINGLE,size:6});this.root.push(t)}}class Ez extends Ce{constructor({start:t,end:r,left:n,right:i,hanging:a,firstLine:c}){super("w:ind"),this.root.push(new xh({start:{key:"w:start",value:t===void 0?void 0:Hi(t)},end:{key:"w:end",value:r===void 0?void 0:Hi(r)},left:{key:"w:left",value:n===void 0?void 0:Hi(n)},right:{key:"w:right",value:i===void 0?void 0:Hi(i)},hanging:{key:"w:hanging",value:a===void 0?void 0:kn(a)},firstLine:{key:"w:firstLine",value:c===void 0?void 0:kn(c)}}))}}let Cz=class extends Ce{constructor(){super("w:br")}};const hx={BEGIN:"begin",END:"end",SEPARATE:"separate"};class fx extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Qu extends Ce{constructor(t){super("w:fldChar"),this.root.push(new fx({type:hx.BEGIN,dirty:t}))}}class Ju extends Ce{constructor(t){super("w:fldChar"),this.root.push(new fx({type:hx.SEPARATE,dirty:t}))}}class Zu extends Ce{constructor(t){super("w:fldChar"),this.root.push(new fx({type:hx.END,dirty:t}))}}const fo={DEFAULT:"default",PRESERVE:"preserve"};class po extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{space:"xml:space"})}}class kz extends Ce{constructor(){super("w:instrText"),this.root.push(new po({space:fo.PRESERVE})),this.root.push("PAGE")}}class Tz extends Ce{constructor(){super("w:instrText"),this.root.push(new po({space:fo.PRESERVE})),this.root.push("NUMPAGES")}}class Pz extends Ce{constructor(){super("w:instrText"),this.root.push(new po({space:fo.PRESERVE})),this.root.push("SECTIONPAGES")}}class Rz extends Ce{constructor(){super("w:instrText"),this.root.push(new po({space:fo.PRESERVE})),this.root.push("SECTION")}}class Az extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class E2 extends Ce{constructor({fill:t,color:r,type:n}){super("w:shd"),this.root.push(new Az({fill:t===void 0?void 0:ho(t),color:r===void 0?void 0:ho(r),type:n}))}}class Dz extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const Iz={DOT:"dot"};class Oz extends Ce{constructor(t){super("w:em"),this.root.push(new Kt({val:t}))}}class Mz extends Oz{constructor(t=Iz.DOT){super(t)}}class Fz extends Ce{constructor(t){super("w:spacing"),this.root.push(new Kt({val:Hi(t)}))}}class Lz extends Ce{constructor(t){super("w:color"),this.root.push(new Kt({val:ho(t)}))}}class Uz extends Ce{constructor(t){super("w:highlight"),this.root.push(new Kt({val:t}))}}class Bz extends Ce{constructor(t){super("w:highlightCs"),this.root.push(new Kt({val:t}))}}const Hz=e=>new es({name:"w:lang",attributes:{value:{key:"w:val",value:e.value},eastAsia:{key:"w:eastAsia",value:e.eastAsia},bidirectional:{key:"w:bidi",value:e.bidirectional}}});class j_ extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class vg extends Ce{constructor(t,r){if(super("w:rFonts"),typeof t=="string"){const n=t;this.root.push(new j_({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{const n=t;this.root.push(new j_(n))}}}let C2=class extends Ce{constructor(t){super("w:vertAlign"),this.root.push(new Kt({val:t}))}};class zz extends C2{constructor(){super("superscript")}}class $z extends C2{constructor(){super("subscript")}}const k2={SINGLE:"single"};class Wz extends Ce{constructor(t=k2.SINGLE,r){super("w:u"),this.root.push(new Kt({val:t,color:r===void 0?void 0:ho(r)}))}}class Qi extends yh{constructor(t){var r,n;if(super("w:rPr"),!t)return;t.style&&this.push(new qa("w:rStyle",t.style)),t.font&&(typeof t.font=="string"?this.push(new vg(t.font)):"name"in t.font?this.push(new vg(t.font.name,t.font.hint)):this.push(new vg(t.font))),t.bold!==void 0&&this.push(new Te("w:b",t.bold)),(t.boldComplexScript===void 0&&t.bold!==void 0||t.boldComplexScript)&&this.push(new Te("w:bCs",(r=t.boldComplexScript)!=null?r:t.bold)),t.italics!==void 0&&this.push(new Te("w:i",t.italics)),(t.italicsComplexScript===void 0&&t.italics!==void 0||t.italicsComplexScript)&&this.push(new Te("w:iCs",(n=t.italicsComplexScript)!=null?n:t.italics)),t.smallCaps!==void 0?this.push(new Te("w:smallCaps",t.smallCaps)):t.allCaps!==void 0&&this.push(new Te("w:caps",t.allCaps)),t.strike!==void 0&&this.push(new Te("w:strike",t.strike)),t.doubleStrike!==void 0&&this.push(new Te("w:dstrike",t.doubleStrike)),t.emboss!==void 0&&this.push(new Te("w:emboss",t.emboss)),t.imprint!==void 0&&this.push(new Te("w:imprint",t.imprint)),t.noProof!==void 0&&this.push(new Te("w:noProof",t.noProof)),t.snapToGrid!==void 0&&this.push(new Te("w:snapToGrid",t.snapToGrid)),t.vanish&&this.push(new Te("w:vanish",t.vanish)),t.color&&this.push(new Lz(t.color)),t.characterSpacing&&this.push(new Fz(t.characterSpacing)),t.scale!==void 0&&this.push(new Ml("w:w",t.scale)),t.kern&&this.push(new gg("w:kern",t.kern)),t.position&&this.push(new qa("w:position",t.position)),t.size!==void 0&&this.push(new gg("w:sz",t.size));const i=t.sizeComplexScript===void 0||t.sizeComplexScript===!0?t.size:t.sizeComplexScript;i&&this.push(new gg("w:szCs",i)),t.highlight&&this.push(new Uz(t.highlight));const a=t.highlightComplexScript===void 0||t.highlightComplexScript===!0?t.highlight:t.highlightComplexScript;a&&this.push(new Bz(a)),t.underline&&this.push(new Wz(t.underline.type,t.underline.color)),t.effect&&this.push(new qa("w:effect",t.effect)),t.border&&this.push(new Ut("w:bdr",t.border)),t.shading&&this.push(new E2(t.shading)),t.subScript&&this.push(new $z),t.superScript&&this.push(new zz),t.rightToLeft!==void 0&&this.push(new Te("w:rtl",t.rightToLeft)),t.emphasisMark&&this.push(new Mz(t.emphasisMark.type)),t.language&&this.push(Hz(t.language)),t.specVanish&&this.push(new Te("w:specVanish",t.vanish)),t.math&&this.push(new Te("w:oMath",t.math)),t.revision&&this.push(new qz(t.revision))}push(t){this.root.push(t)}}class qz extends Ce{constructor(t){super("w:rPrChange"),this.root.push(new Dz({id:t.id,author:t.author,date:t.date})),this.addChildElement(new Qi(t))}}class __ extends Ce{constructor(t){var r;super("w:t"),typeof t=="string"?(this.root.push(new po({space:fo.PRESERVE})),this.root.push(t)):(this.root.push(new po({space:(r=t.space)!=null?r:fo.DEFAULT})),this.root.push(t.text))}}const ed={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class _h extends Ce{constructor(t){if(super("w:r"),Se(this,"properties"),this.properties=new Qi(t),this.root.push(this.properties),t.break)for(let r=0;r<t.break;r++)this.root.push(new Cz);if(t.children)for(const r of t.children){if(typeof r=="string"){switch(r){case ed.CURRENT:this.root.push(new Qu),this.root.push(new kz),this.root.push(new Ju),this.root.push(new Zu);break;case ed.TOTAL_PAGES:this.root.push(new Qu),this.root.push(new Tz),this.root.push(new Ju),this.root.push(new Zu);break;case ed.TOTAL_PAGES_IN_SECTION:this.root.push(new Qu),this.root.push(new Pz),this.root.push(new Ju),this.root.push(new Zu);break;case ed.CURRENT_SECTION:this.root.push(new Qu),this.root.push(new Rz),this.root.push(new Ju),this.root.push(new Zu);break;default:this.root.push(new __(r));break}continue}this.root.push(r)}else t.text!==void 0&&this.root.push(new __(t.text))}}class _v extends _h{constructor(t){super(typeof t=="string"?{text:t}:t)}}var yg={},jt={},xg,S_;function jc(){if(S_)return xg;S_=1,xg=e;function e(t,r){if(!t)throw new Error(r||"Assertion failed")}return e.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},xg}var N_;function ss(){if(N_)return jt;N_=1;var e=jc(),t=fi();jt.inherits=t;function r(z,G){return(z.charCodeAt(G)&64512)!==55296||G<0||G+1>=z.length?!1:(z.charCodeAt(G+1)&64512)===56320}function n(z,G){if(Array.isArray(z))return z.slice();if(!z)return[];var R=[];if(typeof z=="string")if(G){if(G==="hex")for(z=z.replace(/[^a-z0-9]+/ig,""),z.length%2!==0&&(z="0"+z),ae=0;ae<z.length;ae+=2)R.push(parseInt(z[ae]+z[ae+1],16))}else for(var Z=0,ae=0;ae<z.length;ae++){var q=z.charCodeAt(ae);q<128?R[Z++]=q:q<2048?(R[Z++]=q>>6|192,R[Z++]=q&63|128):r(z,ae)?(q=65536+((q&1023)<<10)+(z.charCodeAt(++ae)&1023),R[Z++]=q>>18|240,R[Z++]=q>>12&63|128,R[Z++]=q>>6&63|128,R[Z++]=q&63|128):(R[Z++]=q>>12|224,R[Z++]=q>>6&63|128,R[Z++]=q&63|128)}else for(ae=0;ae<z.length;ae++)R[ae]=z[ae]|0;return R}jt.toArray=n;function i(z){for(var G="",R=0;R<z.length;R++)G+=l(z[R].toString(16));return G}jt.toHex=i;function a(z){var G=z>>>24|z>>>8&65280|z<<8&16711680|(z&255)<<24;return G>>>0}jt.htonl=a;function c(z,G){for(var R="",Z=0;Z<z.length;Z++){var ae=z[Z];G==="little"&&(ae=a(ae)),R+=d(ae.toString(16))}return R}jt.toHex32=c;function l(z){return z.length===1?"0"+z:z}jt.zero2=l;function d(z){return z.length===7?"0"+z:z.length===6?"00"+z:z.length===5?"000"+z:z.length===4?"0000"+z:z.length===3?"00000"+z:z.length===2?"000000"+z:z.length===1?"0000000"+z:z}jt.zero8=d;function h(z,G,R,Z){var ae=R-G;e(ae%4===0);for(var q=new Array(ae/4),Y=0,ne=G;Y<q.length;Y++,ne+=4){var te;Z==="big"?te=z[ne]<<24|z[ne+1]<<16|z[ne+2]<<8|z[ne+3]:te=z[ne+3]<<24|z[ne+2]<<16|z[ne+1]<<8|z[ne],q[Y]=te>>>0}return q}jt.join32=h;function f(z,G){for(var R=new Array(z.length*4),Z=0,ae=0;Z<z.length;Z++,ae+=4){var q=z[Z];G==="big"?(R[ae]=q>>>24,R[ae+1]=q>>>16&255,R[ae+2]=q>>>8&255,R[ae+3]=q&255):(R[ae+3]=q>>>24,R[ae+2]=q>>>16&255,R[ae+1]=q>>>8&255,R[ae]=q&255)}return R}jt.split32=f;function m(z,G){return z>>>G|z<<32-G}jt.rotr32=m;function g(z,G){return z<<G|z>>>32-G}jt.rotl32=g;function v(z,G){return z+G>>>0}jt.sum32=v;function x(z,G,R){return z+G+R>>>0}jt.sum32_3=x;function y(z,G,R,Z){return z+G+R+Z>>>0}jt.sum32_4=y;function b(z,G,R,Z,ae){return z+G+R+Z+ae>>>0}jt.sum32_5=b;function w(z,G,R,Z){var ae=z[G],q=z[G+1],Y=Z+q>>>0,ne=(Y<Z?1:0)+R+ae;z[G]=ne>>>0,z[G+1]=Y}jt.sum64=w;function N(z,G,R,Z){var ae=G+Z>>>0,q=(ae<G?1:0)+z+R;return q>>>0}jt.sum64_hi=N;function _(z,G,R,Z){var ae=G+Z;return ae>>>0}jt.sum64_lo=_;function S(z,G,R,Z,ae,q,Y,ne){var te=0,W=G;W=W+Z>>>0,te+=W<G?1:0,W=W+q>>>0,te+=W<q?1:0,W=W+ne>>>0,te+=W<ne?1:0;var H=z+R+ae+Y+te;return H>>>0}jt.sum64_4_hi=S;function T(z,G,R,Z,ae,q,Y,ne){var te=G+Z+q+ne;return te>>>0}jt.sum64_4_lo=T;function F(z,G,R,Z,ae,q,Y,ne,te,W){var H=0,se=G;se=se+Z>>>0,H+=se<G?1:0,se=se+q>>>0,H+=se<q?1:0,se=se+ne>>>0,H+=se<ne?1:0,se=se+W>>>0,H+=se<W?1:0;var ce=z+R+ae+Y+te+H;return ce>>>0}jt.sum64_5_hi=F;function U(z,G,R,Z,ae,q,Y,ne,te,W){var H=G+Z+q+ne+W;return H>>>0}jt.sum64_5_lo=U;function $(z,G,R){var Z=G<<32-R|z>>>R;return Z>>>0}jt.rotr64_hi=$;function A(z,G,R){var Z=z<<32-R|G>>>R;return Z>>>0}jt.rotr64_lo=A;function J(z,G,R){return z>>>R}jt.shr64_hi=J;function pe(z,G,R){var Z=z<<32-R|G>>>R;return Z>>>0}return jt.shr64_lo=pe,jt}var wg={},E_;function _c(){if(E_)return wg;E_=1;var e=ss(),t=jc();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return wg.BlockHash=r,r.prototype.update=function(i,a){if(i=e.toArray(i,a),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var c=i.length%this._delta8;this.pending=i.slice(i.length-c,i.length),this.pending.length===0&&(this.pending=null),i=e.join32(i,0,i.length-c,this.endian);for(var l=0;l<i.length;l+=this._delta32)this._update(i,l,l+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),t(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,a=this._delta8,c=a-(i+this.padLength)%a,l=new Array(c+this.padLength);l[0]=128;for(var d=1;d<c;d++)l[d]=0;if(i<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)l[d++]=0;l[d++]=0,l[d++]=0,l[d++]=0,l[d++]=0,l[d++]=i>>>24&255,l[d++]=i>>>16&255,l[d++]=i>>>8&255,l[d++]=i&255}else for(l[d++]=i&255,l[d++]=i>>>8&255,l[d++]=i>>>16&255,l[d++]=i>>>24&255,l[d++]=0,l[d++]=0,l[d++]=0,l[d++]=0,h=8;h<this.padLength;h++)l[d++]=0;return l},wg}var Di={},Bn={},C_;function T2(){if(C_)return Bn;C_=1;var e=ss(),t=e.rotr32;function r(f,m,g,v){if(f===0)return n(m,g,v);if(f===1||f===3)return a(m,g,v);if(f===2)return i(m,g,v)}Bn.ft_1=r;function n(f,m,g){return f&m^~f&g}Bn.ch32=n;function i(f,m,g){return f&m^f&g^m&g}Bn.maj32=i;function a(f,m,g){return f^m^g}Bn.p32=a;function c(f){return t(f,2)^t(f,13)^t(f,22)}Bn.s0_256=c;function l(f){return t(f,6)^t(f,11)^t(f,25)}Bn.s1_256=l;function d(f){return t(f,7)^t(f,18)^f>>>3}Bn.g0_256=d;function h(f){return t(f,17)^t(f,19)^f>>>10}return Bn.g1_256=h,Bn}var bg,k_;function Vz(){if(k_)return bg;k_=1;var e=ss(),t=_c(),r=T2(),n=e.rotl32,i=e.sum32,a=e.sum32_5,c=r.ft_1,l=t.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return e.inherits(h,l),bg=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(m,g){for(var v=this.W,x=0;x<16;x++)v[x]=m[g+x];for(;x<v.length;x++)v[x]=n(v[x-3]^v[x-8]^v[x-14]^v[x-16],1);var y=this.h[0],b=this.h[1],w=this.h[2],N=this.h[3],_=this.h[4];for(x=0;x<v.length;x++){var S=~~(x/20),T=a(n(y,5),c(S,b,w,N),_,v[x],d[S]);_=N,N=w,w=n(b,30),b=y,y=T}this.h[0]=i(this.h[0],y),this.h[1]=i(this.h[1],b),this.h[2]=i(this.h[2],w),this.h[3]=i(this.h[3],N),this.h[4]=i(this.h[4],_)},h.prototype._digest=function(m){return m==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},bg}var jg,T_;function P2(){if(T_)return jg;T_=1;var e=ss(),t=_c(),r=T2(),n=jc(),i=e.sum32,a=e.sum32_4,c=e.sum32_5,l=r.ch32,d=r.maj32,h=r.s0_256,f=r.s1_256,m=r.g0_256,g=r.g1_256,v=t.BlockHash,x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=x,this.W=new Array(64)}return e.inherits(y,v),jg=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(w,N){for(var _=this.W,S=0;S<16;S++)_[S]=w[N+S];for(;S<_.length;S++)_[S]=a(g(_[S-2]),_[S-7],m(_[S-15]),_[S-16]);var T=this.h[0],F=this.h[1],U=this.h[2],$=this.h[3],A=this.h[4],J=this.h[5],pe=this.h[6],z=this.h[7];for(n(this.k.length===_.length),S=0;S<_.length;S++){var G=c(z,f(A),l(A,J,pe),this.k[S],_[S]),R=i(h(T),d(T,F,U));z=pe,pe=J,J=A,A=i($,G),$=U,U=F,F=T,T=i(G,R)}this.h[0]=i(this.h[0],T),this.h[1]=i(this.h[1],F),this.h[2]=i(this.h[2],U),this.h[3]=i(this.h[3],$),this.h[4]=i(this.h[4],A),this.h[5]=i(this.h[5],J),this.h[6]=i(this.h[6],pe),this.h[7]=i(this.h[7],z)},y.prototype._digest=function(w){return w==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},jg}var _g,P_;function Kz(){if(P_)return _g;P_=1;var e=ss(),t=P2();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return e.inherits(r,t),_g=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?e.toHex32(this.h.slice(0,7),"big"):e.split32(this.h.slice(0,7),"big")},_g}var Sg,R_;function R2(){if(R_)return Sg;R_=1;var e=ss(),t=_c(),r=jc(),n=e.rotr64_hi,i=e.rotr64_lo,a=e.shr64_hi,c=e.shr64_lo,l=e.sum64,d=e.sum64_hi,h=e.sum64_lo,f=e.sum64_4_hi,m=e.sum64_4_lo,g=e.sum64_5_hi,v=e.sum64_5_lo,x=t.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;x.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}e.inherits(b,x),Sg=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(R,Z){for(var ae=this.W,q=0;q<32;q++)ae[q]=R[Z+q];for(;q<ae.length;q+=2){var Y=pe(ae[q-4],ae[q-3]),ne=z(ae[q-4],ae[q-3]),te=ae[q-14],W=ae[q-13],H=A(ae[q-30],ae[q-29]),se=J(ae[q-30],ae[q-29]),ce=ae[q-32],he=ae[q-31];ae[q]=f(Y,ne,te,W,H,se,ce,he),ae[q+1]=m(Y,ne,te,W,H,se,ce,he)}},b.prototype._update=function(R,Z){this._prepareBlock(R,Z);var ae=this.W,q=this.h[0],Y=this.h[1],ne=this.h[2],te=this.h[3],W=this.h[4],H=this.h[5],se=this.h[6],ce=this.h[7],he=this.h[8],oe=this.h[9],I=this.h[10],O=this.h[11],re=this.h[12],Q=this.h[13],K=this.h[14],X=this.h[15];r(this.k.length===ae.length);for(var me=0;me<ae.length;me+=2){var M=K,ge=X,B=U(he,oe),C=$(he,oe),k=w(he,oe,I,O,re),L=N(he,oe,I,O,re,Q),ee=this.k[me],ue=this.k[me+1],ie=ae[me],be=ae[me+1],Ne=g(M,ge,B,C,k,L,ee,ue,ie,be),_e=v(M,ge,B,C,k,L,ee,ue,ie,be);M=T(q,Y),ge=F(q,Y),B=_(q,Y,ne,te,W),C=S(q,Y,ne,te,W,H);var Me=d(M,ge,B,C),He=h(M,ge,B,C);K=re,X=Q,re=I,Q=O,I=he,O=oe,he=d(se,ce,Ne,_e),oe=h(ce,ce,Ne,_e),se=W,ce=H,W=ne,H=te,ne=q,te=Y,q=d(Ne,_e,Me,He),Y=h(Ne,_e,Me,He)}l(this.h,0,q,Y),l(this.h,2,ne,te),l(this.h,4,W,H),l(this.h,6,se,ce),l(this.h,8,he,oe),l(this.h,10,I,O),l(this.h,12,re,Q),l(this.h,14,K,X)},b.prototype._digest=function(R){return R==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")};function w(G,R,Z,ae,q){var Y=G&Z^~G&q;return Y<0&&(Y+=4294967296),Y}function N(G,R,Z,ae,q,Y){var ne=R&ae^~R&Y;return ne<0&&(ne+=4294967296),ne}function _(G,R,Z,ae,q){var Y=G&Z^G&q^Z&q;return Y<0&&(Y+=4294967296),Y}function S(G,R,Z,ae,q,Y){var ne=R&ae^R&Y^ae&Y;return ne<0&&(ne+=4294967296),ne}function T(G,R){var Z=n(G,R,28),ae=n(R,G,2),q=n(R,G,7),Y=Z^ae^q;return Y<0&&(Y+=4294967296),Y}function F(G,R){var Z=i(G,R,28),ae=i(R,G,2),q=i(R,G,7),Y=Z^ae^q;return Y<0&&(Y+=4294967296),Y}function U(G,R){var Z=n(G,R,14),ae=n(G,R,18),q=n(R,G,9),Y=Z^ae^q;return Y<0&&(Y+=4294967296),Y}function $(G,R){var Z=i(G,R,14),ae=i(G,R,18),q=i(R,G,9),Y=Z^ae^q;return Y<0&&(Y+=4294967296),Y}function A(G,R){var Z=n(G,R,1),ae=n(G,R,8),q=a(G,R,7),Y=Z^ae^q;return Y<0&&(Y+=4294967296),Y}function J(G,R){var Z=i(G,R,1),ae=i(G,R,8),q=c(G,R,7),Y=Z^ae^q;return Y<0&&(Y+=4294967296),Y}function pe(G,R){var Z=n(G,R,19),ae=n(R,G,29),q=a(G,R,6),Y=Z^ae^q;return Y<0&&(Y+=4294967296),Y}function z(G,R){var Z=i(G,R,19),ae=i(R,G,29),q=c(G,R,6),Y=Z^ae^q;return Y<0&&(Y+=4294967296),Y}return Sg}var Ng,A_;function Gz(){if(A_)return Ng;A_=1;var e=ss(),t=R2();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return e.inherits(r,t),Ng=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?e.toHex32(this.h.slice(0,12),"big"):e.split32(this.h.slice(0,12),"big")},Ng}var D_;function Yz(){return D_||(D_=1,Di.sha1=Vz(),Di.sha224=Kz(),Di.sha256=P2(),Di.sha384=Gz(),Di.sha512=R2()),Di}var Eg={},I_;function Xz(){if(I_)return Eg;I_=1;var e=ss(),t=_c(),r=e.rotl32,n=e.sum32,i=e.sum32_3,a=e.sum32_4,c=t.BlockHash;function l(){if(!(this instanceof l))return new l;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}e.inherits(l,c),Eg.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(b,w){for(var N=this.h[0],_=this.h[1],S=this.h[2],T=this.h[3],F=this.h[4],U=N,$=_,A=S,J=T,pe=F,z=0;z<80;z++){var G=n(r(a(N,d(z,_,S,T),b[m[z]+w],h(z)),v[z]),F);N=F,F=T,T=r(S,10),S=_,_=G,G=n(r(a(U,d(79-z,$,A,J),b[g[z]+w],f(z)),x[z]),pe),U=pe,pe=J,J=r(A,10),A=$,$=G}G=i(this.h[1],S,J),this.h[1]=i(this.h[2],T,pe),this.h[2]=i(this.h[3],F,U),this.h[3]=i(this.h[4],N,$),this.h[4]=i(this.h[0],_,A),this.h[0]=G},l.prototype._digest=function(b){return b==="hex"?e.toHex32(this.h,"little"):e.split32(this.h,"little")};function d(y,b,w,N){return y<=15?b^w^N:y<=31?b&w|~b&N:y<=47?(b|~w)^N:y<=63?b&N|w&~N:b^(w|~N)}function h(y){return y<=15?0:y<=31?1518500249:y<=47?1859775393:y<=63?2400959708:2840853838}function f(y){return y<=15?1352829926:y<=31?1548603684:y<=47?1836072691:y<=63?2053994217:0}var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],x=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Eg}var Cg,O_;function Qz(){if(O_)return Cg;O_=1;var e=ss(),t=jc();function r(n,i,a){if(!(this instanceof r))return new r(n,i,a);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(e.toArray(i,a))}return Cg=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),t(i.length<=this.blockSize);for(var a=i.length;a<this.blockSize;a++)i.push(0);for(a=0;a<i.length;a++)i[a]^=54;for(this.inner=new this.Hash().update(i),a=0;a<i.length;a++)i[a]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,a){return this.inner.update(i,a),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},Cg}var M_;function Jz(){return M_||(M_=1,(function(e){var t=e;t.utils=ss(),t.common=_c(),t.sha=Yz(),t.ripemd=Xz(),t.hmac=Qz(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(yg)),yg}Jz();let Zz="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",e$=(e,t=21)=>(r=t)=>{let n="",i=r|0;for(;i--;)n+=e[Math.random()*e.length|0];return n},t$=(e=21)=>{let t="",r=e|0;for(;r--;)t+=Zz[Math.random()*64|0];return t};const jn=e=>Math.floor(e*72*20),px=(e=0)=>{let t=e;return()=>++t},r$=()=>px(),n$=()=>px(1),s$=()=>px(),i$=()=>t$().toLowerCase(),_l=e=>e$("1234567890abcdef",e)(),a$=()=>`${_l(8)}-${_l(4)}-${_l(4)}-${_l(4)}-${_l(12)}`;class o$ extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns"})}}class l$ extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const c$={EXTERNAL:"External"};class u$ extends Ce{constructor(t,r,n,i){super("Relationship"),this.root.push(new l$({id:t,type:r,target:n,targetMode:i}))}}class Ji extends Ce{constructor(){super("Relationships"),this.root.push(new o$({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(t,r,n,i){const a=new u$(`rId${t}`,r,n,i);return this.root.push(a),a}get RelationshipCount(){return this.root.length-1}}class d$ extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class h$ extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class f$ extends Ce{constructor({id:t,initials:r,author:n,date:i=new Date,children:a}){super("w:comment"),this.root.push(new d$({id:t,initials:r,author:n,date:i.toISOString()}));for(const c of a)this.root.push(c)}}class p$ extends Ce{constructor({children:t}){super("w:comments"),Se(this,"relationships"),this.root.push(new h$({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of t)this.root.push(new f$(r));this.relationships=new Ji}get Relationships(){return this.relationships}}class m$ extends Ce{constructor(){super("w:pageBreakBefore")}}const Sv={AUTO:"auto"};class g$ extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class v$ extends Ce{constructor(t){super("w:spacing"),this.root.push(new g$(t))}}let td=class extends Ce{constructor(t){super("w:pStyle"),this.root.push(new Kt({val:t}))}};class y$ extends Ce{constructor(t){super("w:tabs");for(const r of t)this.root.push(new w$(r))}}const F_={LEFT:"left",RIGHT:"right"};class x$ extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class w$ extends Ce{constructor({type:t,position:r,leader:n}){super("w:tab"),this.root.push(new x$({val:t,pos:r,leader:n}))}}class kg extends Ce{constructor(t,r){super("w:numPr"),this.root.push(new b$(r)),this.root.push(new j$(t))}}class b$ extends Ce{constructor(t){if(super("w:ilvl"),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Kt({val:t}))}}class j$ extends Ce{constructor(t){super("w:numId"),this.root.push(new Kt({val:typeof t=="string"?`{${t}}`:t}))}}class _$ extends Ce{constructor(){super(...arguments),Se(this,"fileChild",Symbol())}}class S$ extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class N$ extends Ce{constructor(t,r,n){super("w:hyperlink"),Se(this,"linkId"),this.linkId=r;const i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},a=new S$(i);this.root.push(a),t.forEach(c=>{this.root.push(c)})}}class E$ extends Ce{constructor(t){super("w:externalHyperlink"),this.options=t}}class C$ extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class k$ extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{id:"w:id"})}}class T${constructor(t){Se(this,"bookmarkUniqueNumericId",s$()),Se(this,"start"),Se(this,"children"),Se(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new P$(t.id,r),this.children=t.children,this.end=new R$(r)}}class P$ extends Ce{constructor(t,r){super("w:bookmarkStart");const n=new C$({name:t,id:r});this.root.push(n)}}class R$ extends Ce{constructor(t){super("w:bookmarkEnd");const r=new k$({id:t});this.root.push(r)}}class A$ extends Ce{constructor(t){super("w:outlineLvl"),this.level=t,this.root.push(new Kt({val:t}))}}const D$={TOP:"top",CENTER:"center",BOTTOM:"bottom"};co(ut({},D$),{BOTH:"both"});class I$ extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{verticalAlign:"w:val"})}}class O$ extends Ce{constructor(t){super("w:vAlign"),this.root.push(new I$({verticalAlign:t}))}}class M$ extends Ce{constructor({space:t,count:r,separate:n,equalWidth:i,children:a}){super("w:cols"),this.root.push(new xh({space:{key:"w:space",value:t===void 0?void 0:kn(t)},count:{key:"w:num",value:r===void 0?void 0:Hr(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&a&&a.forEach(c=>this.addChildElement(c))}}const F$=({type:e,linePitch:t,charSpace:r})=>new es({name:"w:docGrid",attributes:{type:{key:"w:type",value:e},linePitch:{key:"w:linePitch",value:Hr(t)},charSpace:{key:"w:charSpace",value:r?Hr(r):void 0}}}),Va={DEFAULT:"default",FIRST:"first",EVEN:"even"};class L$ extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const L_={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class Tg extends Ce{constructor(t,r){super(t),this.root.push(new L$({type:r.type||Va.DEFAULT,id:`rId${r.id}`}))}}const U$=({countBy:e,start:t,restart:r,distance:n})=>new es({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:e===void 0?void 0:Hr(e)},start:{key:"w:start",value:t===void 0?void 0:Hr(t)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:kn(n)}}});class U_ extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class B$ extends yh{constructor(t){if(super("w:pgBorders"),!t)return this;t.pageBorders?this.root.push(new U_({display:t.pageBorders.display,offsetFrom:t.pageBorders.offsetFrom,zOrder:t.pageBorders.zOrder})):this.root.push(new U_({})),t.pageBorderTop&&this.root.push(new Ut("w:top",t.pageBorderTop)),t.pageBorderLeft&&this.root.push(new Ut("w:left",t.pageBorderLeft)),t.pageBorderBottom&&this.root.push(new Ut("w:bottom",t.pageBorderBottom)),t.pageBorderRight&&this.root.push(new Ut("w:right",t.pageBorderRight))}}class H$ extends Ce{constructor(t,r,n,i,a,c,l){super("w:pgMar"),this.root.push(new xh({top:{key:"w:top",value:Hi(t)},right:{key:"w:right",value:kn(r)},bottom:{key:"w:bottom",value:Hi(n)},left:{key:"w:left",value:kn(i)},header:{key:"w:header",value:kn(a)},footer:{key:"w:footer",value:kn(c)},gutter:{key:"w:gutter",value:kn(l)}}))}}class z$ extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class $$ extends Ce{constructor({start:t,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new z$({start:t===void 0?void 0:Hr(t),formatType:r,separator:n}))}}const Nv={PORTRAIT:"portrait",LANDSCAPE:"landscape"},W$=({width:e,height:t,orientation:r,code:n})=>{const i=kn(e),a=kn(t);return new es({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===Nv.LANDSCAPE?a:i},height:{key:"w:h",value:r===Nv.LANDSCAPE?i:a},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:n}}})};class q$ extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class V$ extends Ce{constructor(t){super("w:textDirection"),this.root.push(new q$({val:t}))}}class K$ extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class G$ extends Ce{constructor(t){super("w:type"),this.root.push(new K$({val:t}))}}const Ii={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},Pg={WIDTH:11906,HEIGHT:16838,ORIENTATION:Nv.PORTRAIT};class Y$ extends Ce{constructor({page:{size:{width:t=Pg.WIDTH,height:r=Pg.HEIGHT,orientation:n=Pg.ORIENTATION}={},margin:{top:i=Ii.TOP,right:a=Ii.RIGHT,bottom:c=Ii.BOTTOM,left:l=Ii.LEFT,header:d=Ii.HEADER,footer:h=Ii.FOOTER,gutter:f=Ii.GUTTER}={},pageNumbers:m={},borders:g,textDirection:v}={},grid:{linePitch:x=360,charSpace:y,type:b}={},headerWrapperGroup:w={},footerWrapperGroup:N={},lineNumbers:_,titlePage:S,verticalAlign:T,column:F,type:U}={}){super("w:sectPr"),this.addHeaderFooterGroup(L_.HEADER,w),this.addHeaderFooterGroup(L_.FOOTER,N),U&&this.root.push(new G$(U)),this.root.push(W$({width:t,height:r,orientation:n})),this.root.push(new H$(i,a,c,l,d,h,f)),g&&this.root.push(new B$(g)),_&&this.root.push(U$(_)),this.root.push(new $$(m)),F&&this.root.push(new M$(F)),T&&this.root.push(new O$(T)),S!==void 0&&this.root.push(new Te("w:titlePg",S)),v&&this.root.push(new V$(v)),this.root.push(F$({linePitch:x,charSpace:y,type:b}))}addHeaderFooterGroup(t,r){r.default&&this.root.push(new Tg(t,{type:Va.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new Tg(t,{type:Va.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new Tg(t,{type:Va.EVEN,id:r.even.View.ReferenceId}))}}class X$ extends Ce{constructor(){super("w:body"),Se(this,"sections",[])}addSection(t){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new Y$(t))}prepForXml(t){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(t)}push(t){this.root.push(t)}createSectionParagraph(t){const r=new Id({}),n=new mo({});return n.push(t),r.addChildElement(n),r}}const B_={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class Sh extends et{constructor(t,r){super(ut({Ignorable:r},Object.fromEntries(t.map(n=>[n,B_[n]])))),Se(this,"xmlKeys",ut({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(B_).map(n=>[n,`xmlns:${n}`]))))}}class Q$ extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class J$ extends Ce{constructor(t){super("w:background"),this.root.push(new Q$({color:t.color===void 0?void 0:ho(t.color),themeColor:t.themeColor,themeShade:t.themeShade===void 0?void 0:b_(t.themeShade),themeTint:t.themeTint===void 0?void 0:b_(t.themeTint)}))}}class Z$ extends Ce{constructor(t){super("w:document"),Se(this,"body"),this.root.push(new Sh(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new X$,t.background&&this.root.push(new J$(t.background)),this.root.push(this.body)}add(t){return this.body.push(t),this}get Body(){return this.body}}class A2{constructor(t){Se(this,"document"),Se(this,"relationships"),this.document=new Z$(t),this.relationships=new Ji}get View(){return this.document}get Relationships(){return this.relationships}}class eW extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class tW extends Ce{constructor(){super("w:wordWrap"),this.root.push(new eW({val:0}))}}const rW=e=>{var t,r;return new es({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:e.anchorLock},dropCap:{key:"w:dropCap",value:e.dropCap},width:{key:"w:w",value:e.width},height:{key:"w:h",value:e.height},x:{key:"w:x",value:e.position?e.position.x:void 0},y:{key:"w:y",value:e.position?e.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:e.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:e.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(t=e.space)==null?void 0:t.horizontal},spaceVertical:{key:"w:vSpace",value:(r=e.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:e.rule},alignmentX:{key:"w:xAlign",value:e.alignment?e.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:e.alignment?e.alignment.y:void 0},lines:{key:"w:lines",value:e.lines},wrap:{key:"w:wrap",value:e.wrap}}})};class mo extends yh{constructor(t){var r,n;if(super("w:pPr"),Se(this,"numberingReferences",[]),!t)return this;t.heading&&this.push(new td(t.heading)),t.bullet&&this.push(new td("ListParagraph")),t.numbering&&!t.style&&!t.heading&&(t.numbering.custom||this.push(new td("ListParagraph"))),t.style&&this.push(new td(t.style)),t.keepNext!==void 0&&this.push(new Te("w:keepNext",t.keepNext)),t.keepLines!==void 0&&this.push(new Te("w:keepLines",t.keepLines)),t.pageBreakBefore&&this.push(new m$),t.frame&&this.push(rW(t.frame)),t.widowControl!==void 0&&this.push(new Te("w:widowControl",t.widowControl)),t.bullet&&this.push(new kg(1,t.bullet.level)),t.numbering?(this.numberingReferences.push({reference:t.numbering.reference,instance:(r=t.numbering.instance)!=null?r:0}),this.push(new kg(`${t.numbering.reference}-${(n=t.numbering.instance)!=null?n:0}`,t.numbering.level))):t.numbering===!1&&this.push(new kg(0,0)),t.border&&this.push(new Sz(t.border)),t.thematicBreak&&this.push(new Nz),t.shading&&this.push(new E2(t.shading)),t.wordWrap&&this.push(new tW),t.overflowPunctuation&&this.push(new Te("w:overflowPunct",t.overflowPunctuation));const i=[...t.rightTabStop!==void 0?[{type:F_.RIGHT,position:t.rightTabStop}]:[],...t.tabStops?t.tabStops:[],...t.leftTabStop!==void 0?[{type:F_.LEFT,position:t.leftTabStop}]:[]];i.length>0&&this.push(new y$(i)),t.bidirectional!==void 0&&this.push(new Te("w:bidi",t.bidirectional)),t.spacing&&this.push(new v$(t.spacing)),t.indent&&this.push(new Ez(t.indent)),t.contextualSpacing!==void 0&&this.push(new Te("w:contextualSpacing",t.contextualSpacing)),t.alignment&&this.push(new jz(t.alignment)),t.outlineLevel!==void 0&&this.push(new A$(t.outlineLevel)),t.suppressLineNumbers!==void 0&&this.push(new Te("w:suppressLineNumbers",t.suppressLineNumbers)),t.autoSpaceEastAsianText!==void 0&&this.push(new Te("w:autoSpaceDN",t.autoSpaceEastAsianText)),t.run&&this.push(new Qi(t.run))}push(t){this.root.push(t)}prepForXml(t){if(t.viewWrapper instanceof A2)for(const r of this.numberingReferences)t.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(t)}}class Id extends _${constructor(t){if(super("w:p"),Se(this,"properties"),typeof t=="string")return this.properties=new mo({}),this.root.push(this.properties),this.root.push(new _v(t)),this;if(this.properties=new mo(t),this.root.push(this.properties),t.text&&this.root.push(new _v(t.text)),t.children)for(const r of t.children){if(r instanceof T$){this.root.push(r.start);for(const n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(t){for(const r of this.root)if(r instanceof E$){const n=this.root.indexOf(r),i=new N$(r.options.children,i$());t.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,c$.EXTERNAL),this.root[n]=i}return super.prepForXml(t)}addRunToFront(t){return this.root.splice(1,0,t),this}}const Oa={style:dx.NONE,size:0,color:"auto"},Ma={style:dx.SINGLE,size:4,color:"auto"};class nW extends Ce{constructor(t){super("w:tblBorders"),t.top?this.root.push(new Ut("w:top",t.top)):this.root.push(new Ut("w:top",Ma)),t.left?this.root.push(new Ut("w:left",t.left)):this.root.push(new Ut("w:left",Ma)),t.bottom?this.root.push(new Ut("w:bottom",t.bottom)):this.root.push(new Ut("w:bottom",Ma)),t.right?this.root.push(new Ut("w:right",t.right)):this.root.push(new Ut("w:right",Ma)),t.insideHorizontal?this.root.push(new Ut("w:insideH",t.insideHorizontal)):this.root.push(new Ut("w:insideH",Ma)),t.insideVertical?this.root.push(new Ut("w:insideV",t.insideVertical)):this.root.push(new Ut("w:insideV",Ma))}}Se(nW,"NONE",{top:Oa,bottom:Oa,left:Oa,right:Oa,insideHorizontal:Oa,insideVertical:Oa});class sW extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class iW extends Ce{constructor(){super("Properties"),this.root.push(new sW({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class aW extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns"})}}class oW extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class gs extends Ce{constructor(t,r){super("Default"),this.root.push(new oW({contentType:t,extension:r}))}}class lW extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class an extends Ce{constructor(t,r){super("Override"),this.root.push(new lW({contentType:t,partName:r}))}}class cW extends Ce{constructor(){super("Types"),this.root.push(new aW({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new gs("image/png","png")),this.root.push(new gs("image/jpeg","jpeg")),this.root.push(new gs("image/jpeg","jpg")),this.root.push(new gs("image/bmp","bmp")),this.root.push(new gs("image/gif","gif")),this.root.push(new gs("image/svg+xml","svg")),this.root.push(new gs("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new gs("application/xml","xml")),this.root.push(new gs("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new an("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new an("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new an("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new an("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new an("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new an("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new an("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new an("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new an("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new an("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(t){this.root.push(new an("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${t}.xml`))}addHeader(t){this.root.push(new an("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${t}.xml`))}}class uW extends Ce{constructor(t){super("cp:coreProperties"),this.root.push(new Sh(["cp","dc","dcterms","dcmitype","xsi"])),t.title&&this.root.push(new Ai("dc:title",t.title)),t.subject&&this.root.push(new Ai("dc:subject",t.subject)),t.creator&&this.root.push(new Ai("dc:creator",t.creator)),t.keywords&&this.root.push(new Ai("cp:keywords",t.keywords)),t.description&&this.root.push(new Ai("dc:description",t.description)),t.lastModifiedBy&&this.root.push(new Ai("cp:lastModifiedBy",t.lastModifiedBy)),t.revision&&this.root.push(new Ai("cp:revision",String(t.revision))),this.root.push(new H_("dcterms:created")),this.root.push(new H_("dcterms:modified"))}}class dW extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"xsi:type"})}}class H_ extends Ce{constructor(t){super(t),this.root.push(new dW({type:"dcterms:W3CDTF"})),this.root.push(wz(new Date))}}class hW extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class fW extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class pW extends Ce{constructor(t,r){super("property"),this.root.push(new fW({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t.toString(),name:r.name})),this.root.push(new mW(r.value))}}class mW extends Ce{constructor(t){super("vt:lpwstr"),this.root.push(t)}}class gW extends Ce{constructor(t){super("Properties"),Se(this,"nextId"),Se(this,"properties",[]),this.root.push(new hW({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of t)this.addCustomProperty(r)}prepForXml(t){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(t)}addCustomProperty(t){this.properties.push(new pW(this.nextId++,t))}}const rd=({id:e,fontKey:t,subsetted:r},n)=>new es({name:n,attributes:ut({id:{key:"r:id",value:e}},t?{fontKey:{key:"w:fontKey",value:`{${t}}`}}:{}),children:[...r?[new Te("w:subsetted",r)]:[]]}),vW=({name:e,altName:t,panose1:r,charset:n,family:i,notTrueType:a,pitch:c,sig:l,embedRegular:d,embedBold:h,embedItalic:f,embedBoldItalic:m})=>new es({name:"w:font",attributes:{name:{key:"w:name",value:e}},children:[...t?[jl("w:altName",t)]:[],...r?[jl("w:panose1",r)]:[],...n?[jl("w:charset",n)]:[],jl("w:family",i),...a?[new Te("w:notTrueType",a)]:[],jl("w:pitch",c),...l?[new es({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:l.usb0},usb1:{key:"w:usb1",value:l.usb1},usb2:{key:"w:usb2",value:l.usb2},usb3:{key:"w:usb3",value:l.usb3},csb0:{key:"w:csb0",value:l.csb0},csb1:{key:"w:csb1",value:l.csb1}}})]:[],...d?[rd(d,"w:embedRegular")]:[],...h?[rd(h,"w:embedBold")]:[],...f?[rd(f,"w:embedItalic")]:[],...m?[rd(m,"w:embedBoldItalic")]:[]]}),yW=({name:e,index:t,fontKey:r,characterSet:n})=>vW({name:e,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${t}`}}),xW=e=>new es({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:e.map((t,r)=>yW({name:t.name,index:r+1,fontKey:t.fontKey}))});class wW{constructor(t){Se(this,"fontTable"),Se(this,"relationships"),Se(this,"fontOptionsWithKey",[]),this.options=t,this.fontOptionsWithKey=t.map(r=>co(ut({},r),{fontKey:a$()})),this.fontTable=xW(this.fontOptionsWithKey),this.relationships=new Ji;for(let r=0;r<t.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${t[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class bW extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let jW=class extends j2{constructor(t,r){super("w:ftr",r),Se(this,"refId"),this.refId=t,r||this.root.push(new bW({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class _W{constructor(t,r,n){Se(this,"footer"),Se(this,"relationships"),this.media=t,this.footer=new jW(r,n),this.relationships=new Ji}add(t){this.footer.add(t)}addChildElement(t){this.footer.addChildElement(t)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class SW extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class NW extends Ce{constructor(){super("w:footnoteRef")}}class EW extends _h{constructor(){super({style:"FootnoteReference"}),this.root.push(new NW)}}const z_={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class Rg extends Ce{constructor(t){super("w:footnote"),this.root.push(new SW({type:t.type,id:t.id}));for(let r=0;r<t.children.length;r++){const n=t.children[r];r===0&&n.addRunToFront(new EW),this.root.push(n)}}}class CW extends Ce{constructor(){super("w:continuationSeparator")}}class kW extends _h{constructor(){super({}),this.root.push(new CW)}}class TW extends Ce{constructor(){super("w:separator")}}class PW extends _h{constructor(){super({}),this.root.push(new TW)}}class RW extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class AW extends Ce{constructor(){super("w:footnotes"),this.root.push(new RW({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const t=new Rg({id:-1,type:z_.SEPERATOR,children:[new Id({spacing:{after:0,line:240,lineRule:Sv.AUTO},children:[new PW]})]});this.root.push(t);const r=new Rg({id:0,type:z_.CONTINUATION_SEPERATOR,children:[new Id({spacing:{after:0,line:240,lineRule:Sv.AUTO},children:[new kW]})]});this.root.push(r)}createFootNote(t,r){const n=new Rg({id:t,children:r});this.root.push(n)}}class DW{constructor(){Se(this,"footnotess"),Se(this,"relationships"),this.footnotess=new AW,this.relationships=new Ji}get View(){return this.footnotess}get Relationships(){return this.relationships}}class IW extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let OW=class extends j2{constructor(t,r){super("w:hdr",r),Se(this,"refId"),this.refId=t,r||this.root.push(new IW({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class MW{constructor(t,r,n){Se(this,"header"),Se(this,"relationships"),this.media=t,this.header=new OW(r,n),this.relationships=new Ji}add(t){return this.header.add(t),this}addChildElement(t){this.header.addChildElement(t)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class FW{constructor(){Se(this,"map"),this.map=new Map}addImage(t,r){this.map.set(t,r)}get Array(){return Array.from(this.map.values())}}const vs={BULLET:"bullet"};class LW extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class UW extends Ce{constructor(t){super("w:numFmt"),this.root.push(new Kt({val:t}))}}class BW extends Ce{constructor(t){super("w:lvlText"),this.root.push(new Kt({val:t}))}}class HW extends Ce{constructor(t){super("w:lvlJc"),this.root.push(new Kt({val:t}))}}class zW extends Ce{constructor(t){super("w:suff"),this.root.push(new Kt({val:t}))}}class $W extends Ce{constructor(){super("w:isLgl")}}class WW extends Ce{constructor({level:t,format:r,text:n,alignment:i=Hn.START,start:a=1,style:c,suffix:l,isLegalNumberingStyle:d}){if(super("w:lvl"),Se(this,"paragraphProperties"),Se(this,"runProperties"),this.root.push(new Ml("w:start",Hr(a))),r&&this.root.push(new UW(r)),l&&this.root.push(new zW(l)),d&&this.root.push(new $W),n&&this.root.push(new BW(n)),this.root.push(new HW(i)),this.paragraphProperties=new mo(c&&c.paragraph),this.runProperties=new Qi(c&&c.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new LW({ilvl:Hr(t),tentative:1}))}}class qW extends WW{}class VW extends Ce{constructor(t){super("w:multiLevelType"),this.root.push(new Kt({val:t}))}}class KW extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class $_ extends Ce{constructor(t,r){super("w:abstractNum"),Se(this,"id"),this.root.push(new KW({abstractNumId:Hr(t),restartNumberingAfterBreak:0})),this.root.push(new VW("hybridMultilevel")),this.id=t;for(const n of r)this.root.push(new qW(n))}}class GW extends Ce{constructor(t){super("w:abstractNumId"),this.root.push(new Kt({val:t}))}}class YW extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{numId:"w:numId"})}}class W_ extends Ce{constructor(t){if(super("w:num"),Se(this,"numId"),Se(this,"reference"),Se(this,"instance"),this.numId=t.numId,this.reference=t.reference,this.instance=t.instance,this.root.push(new YW({numId:Hr(t.numId)})),this.root.push(new GW(Hr(t.abstractNumId))),t.overrideLevels&&t.overrideLevels.length)for(const r of t.overrideLevels)this.root.push(new QW(r.num,r.start))}}class XW extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{ilvl:"w:ilvl"})}}class QW extends Ce{constructor(t,r){super("w:lvlOverride"),this.root.push(new XW({ilvl:t})),r!==void 0&&this.root.push(new ZW(r))}}class JW extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class ZW extends Ce{constructor(t){super("w:startOverride"),this.root.push(new JW({val:t}))}}class eq extends Ce{constructor(t){super("w:numbering"),Se(this,"abstractNumberingMap",new Map),Se(this,"concreteNumberingMap",new Map),Se(this,"referenceConfigMap",new Map),Se(this,"abstractNumUniqueNumericId",r$()),Se(this,"concreteNumUniqueNumericId",n$()),this.root.push(new Sh(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const r=new $_(this.abstractNumUniqueNumericId(),[{level:0,format:vs.BULLET,text:"",alignment:Hn.LEFT,style:{paragraph:{indent:{left:jn(.5),hanging:jn(.25)}}}},{level:1,format:vs.BULLET,text:"",alignment:Hn.LEFT,style:{paragraph:{indent:{left:jn(1),hanging:jn(.25)}}}},{level:2,format:vs.BULLET,text:"",alignment:Hn.LEFT,style:{paragraph:{indent:{left:2160,hanging:jn(.25)}}}},{level:3,format:vs.BULLET,text:"",alignment:Hn.LEFT,style:{paragraph:{indent:{left:2880,hanging:jn(.25)}}}},{level:4,format:vs.BULLET,text:"",alignment:Hn.LEFT,style:{paragraph:{indent:{left:3600,hanging:jn(.25)}}}},{level:5,format:vs.BULLET,text:"",alignment:Hn.LEFT,style:{paragraph:{indent:{left:4320,hanging:jn(.25)}}}},{level:6,format:vs.BULLET,text:"",alignment:Hn.LEFT,style:{paragraph:{indent:{left:5040,hanging:jn(.25)}}}},{level:7,format:vs.BULLET,text:"",alignment:Hn.LEFT,style:{paragraph:{indent:{left:5760,hanging:jn(.25)}}}},{level:8,format:vs.BULLET,text:"",alignment:Hn.LEFT,style:{paragraph:{indent:{left:6480,hanging:jn(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new W_({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const n of t.config)this.abstractNumberingMap.set(n.reference,new $_(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(t){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(t)}createConcreteNumberingInstance(t,r){const n=this.abstractNumberingMap.get(t);if(!n)return;const i=`${t}-${r}`;if(this.concreteNumberingMap.has(i))return;const a=this.referenceConfigMap.get(t),c=a&&a[0].start,l={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:t,instance:r,overrideLevels:[c&&Number.isInteger(c)?{num:0,start:c}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new W_(l))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class tq extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class rq extends Ce{constructor(t){super("w:compatSetting"),this.root.push(new tq({version:t,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class nq extends Ce{constructor(t){super("w:compat"),t.version&&this.root.push(new rq(t.version)),t.useSingleBorderforContiguousCells&&this.root.push(new Te("w:useSingleBorderforContiguousCells",t.useSingleBorderforContiguousCells)),t.wordPerfectJustification&&this.root.push(new Te("w:wpJustification",t.wordPerfectJustification)),t.noTabStopForHangingIndent&&this.root.push(new Te("w:noTabHangInd",t.noTabStopForHangingIndent)),t.noLeading&&this.root.push(new Te("w:noLeading",t.noLeading)),t.spaceForUnderline&&this.root.push(new Te("w:spaceForUL",t.spaceForUnderline)),t.noColumnBalance&&this.root.push(new Te("w:noColumnBalance",t.noColumnBalance)),t.balanceSingleByteDoubleByteWidth&&this.root.push(new Te("w:balanceSingleByteDoubleByteWidth",t.balanceSingleByteDoubleByteWidth)),t.noExtraLineSpacing&&this.root.push(new Te("w:noExtraLineSpacing",t.noExtraLineSpacing)),t.doNotLeaveBackslashAlone&&this.root.push(new Te("w:doNotLeaveBackslashAlone",t.doNotLeaveBackslashAlone)),t.underlineTrailingSpaces&&this.root.push(new Te("w:ulTrailSpace",t.underlineTrailingSpaces)),t.doNotExpandShiftReturn&&this.root.push(new Te("w:doNotExpandShiftReturn",t.doNotExpandShiftReturn)),t.spacingInWholePoints&&this.root.push(new Te("w:spacingInWholePoints",t.spacingInWholePoints)),t.lineWrapLikeWord6&&this.root.push(new Te("w:lineWrapLikeWord6",t.lineWrapLikeWord6)),t.printBodyTextBeforeHeader&&this.root.push(new Te("w:printBodyTextBeforeHeader",t.printBodyTextBeforeHeader)),t.printColorsBlack&&this.root.push(new Te("w:printColBlack",t.printColorsBlack)),t.spaceWidth&&this.root.push(new Te("w:wpSpaceWidth",t.spaceWidth)),t.showBreaksInFrames&&this.root.push(new Te("w:showBreaksInFrames",t.showBreaksInFrames)),t.subFontBySize&&this.root.push(new Te("w:subFontBySize",t.subFontBySize)),t.suppressBottomSpacing&&this.root.push(new Te("w:suppressBottomSpacing",t.suppressBottomSpacing)),t.suppressTopSpacing&&this.root.push(new Te("w:suppressTopSpacing",t.suppressTopSpacing)),t.suppressSpacingAtTopOfPage&&this.root.push(new Te("w:suppressSpacingAtTopOfPage",t.suppressSpacingAtTopOfPage)),t.suppressTopSpacingWP&&this.root.push(new Te("w:suppressTopSpacingWP",t.suppressTopSpacingWP)),t.suppressSpBfAfterPgBrk&&this.root.push(new Te("w:suppressSpBfAfterPgBrk",t.suppressSpBfAfterPgBrk)),t.swapBordersFacingPages&&this.root.push(new Te("w:swapBordersFacingPages",t.swapBordersFacingPages)),t.convertMailMergeEsc&&this.root.push(new Te("w:convMailMergeEsc",t.convertMailMergeEsc)),t.truncateFontHeightsLikeWP6&&this.root.push(new Te("w:truncateFontHeightsLikeWP6",t.truncateFontHeightsLikeWP6)),t.macWordSmallCaps&&this.root.push(new Te("w:mwSmallCaps",t.macWordSmallCaps)),t.usePrinterMetrics&&this.root.push(new Te("w:usePrinterMetrics",t.usePrinterMetrics)),t.doNotSuppressParagraphBorders&&this.root.push(new Te("w:doNotSuppressParagraphBorders",t.doNotSuppressParagraphBorders)),t.wrapTrailSpaces&&this.root.push(new Te("w:wrapTrailSpaces",t.wrapTrailSpaces)),t.footnoteLayoutLikeWW8&&this.root.push(new Te("w:footnoteLayoutLikeWW8",t.footnoteLayoutLikeWW8)),t.shapeLayoutLikeWW8&&this.root.push(new Te("w:shapeLayoutLikeWW8",t.shapeLayoutLikeWW8)),t.alignTablesRowByRow&&this.root.push(new Te("w:alignTablesRowByRow",t.alignTablesRowByRow)),t.forgetLastTabAlignment&&this.root.push(new Te("w:forgetLastTabAlignment",t.forgetLastTabAlignment)),t.adjustLineHeightInTable&&this.root.push(new Te("w:adjustLineHeightInTable",t.adjustLineHeightInTable)),t.autoSpaceLikeWord95&&this.root.push(new Te("w:autoSpaceLikeWord95",t.autoSpaceLikeWord95)),t.noSpaceRaiseLower&&this.root.push(new Te("w:noSpaceRaiseLower",t.noSpaceRaiseLower)),t.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Te("w:doNotUseHTMLParagraphAutoSpacing",t.doNotUseHTMLParagraphAutoSpacing)),t.layoutRawTableWidth&&this.root.push(new Te("w:layoutRawTableWidth",t.layoutRawTableWidth)),t.layoutTableRowsApart&&this.root.push(new Te("w:layoutTableRowsApart",t.layoutTableRowsApart)),t.useWord97LineBreakRules&&this.root.push(new Te("w:useWord97LineBreakRules",t.useWord97LineBreakRules)),t.doNotBreakWrappedTables&&this.root.push(new Te("w:doNotBreakWrappedTables",t.doNotBreakWrappedTables)),t.doNotSnapToGridInCell&&this.root.push(new Te("w:doNotSnapToGridInCell",t.doNotSnapToGridInCell)),t.selectFieldWithFirstOrLastCharacter&&this.root.push(new Te("w:selectFldWithFirstOrLastChar",t.selectFieldWithFirstOrLastCharacter)),t.applyBreakingRules&&this.root.push(new Te("w:applyBreakingRules",t.applyBreakingRules)),t.doNotWrapTextWithPunctuation&&this.root.push(new Te("w:doNotWrapTextWithPunct",t.doNotWrapTextWithPunctuation)),t.doNotUseEastAsianBreakRules&&this.root.push(new Te("w:doNotUseEastAsianBreakRules",t.doNotUseEastAsianBreakRules)),t.useWord2002TableStyleRules&&this.root.push(new Te("w:useWord2002TableStyleRules",t.useWord2002TableStyleRules)),t.growAutofit&&this.root.push(new Te("w:growAutofit",t.growAutofit)),t.useFELayout&&this.root.push(new Te("w:useFELayout",t.useFELayout)),t.useNormalStyleForList&&this.root.push(new Te("w:useNormalStyleForList",t.useNormalStyleForList)),t.doNotUseIndentAsNumberingTabStop&&this.root.push(new Te("w:doNotUseIndentAsNumberingTabStop",t.doNotUseIndentAsNumberingTabStop)),t.useAlternateEastAsianLineBreakRules&&this.root.push(new Te("w:useAltKinsokuLineBreakRules",t.useAlternateEastAsianLineBreakRules)),t.allowSpaceOfSameStyleInTable&&this.root.push(new Te("w:allowSpaceOfSameStyleInTable",t.allowSpaceOfSameStyleInTable)),t.doNotSuppressIndentation&&this.root.push(new Te("w:doNotSuppressIndentation",t.doNotSuppressIndentation)),t.doNotAutofitConstrainedTables&&this.root.push(new Te("w:doNotAutofitConstrainedTables",t.doNotAutofitConstrainedTables)),t.autofitToFirstFixedWidthCell&&this.root.push(new Te("w:autofitToFirstFixedWidthCell",t.autofitToFirstFixedWidthCell)),t.underlineTabInNumberingList&&this.root.push(new Te("w:underlineTabInNumList",t.underlineTabInNumberingList)),t.displayHangulFixedWidth&&this.root.push(new Te("w:displayHangulFixedWidth",t.displayHangulFixedWidth)),t.splitPgBreakAndParaMark&&this.root.push(new Te("w:splitPgBreakAndParaMark",t.splitPgBreakAndParaMark)),t.doNotVerticallyAlignCellWithSp&&this.root.push(new Te("w:doNotVertAlignCellWithSp",t.doNotVerticallyAlignCellWithSp)),t.doNotBreakConstrainedForcedTable&&this.root.push(new Te("w:doNotBreakConstrainedForcedTable",t.doNotBreakConstrainedForcedTable)),t.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Te("w:doNotVertAlignInTxbx",t.ignoreVerticalAlignmentInTextboxes)),t.useAnsiKerningPairs&&this.root.push(new Te("w:useAnsiKerningPairs",t.useAnsiKerningPairs)),t.cachedColumnBalance&&this.root.push(new Te("w:cachedColBalance",t.cachedColumnBalance))}}class sq extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class iq extends Ce{constructor(t){var r,n,i,a,c,l,d,h;super("w:settings"),this.root.push(new sq({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Te("w:displayBackgroundShape",!0)),t.trackRevisions!==void 0&&this.root.push(new Te("w:trackRevisions",t.trackRevisions)),t.evenAndOddHeaders!==void 0&&this.root.push(new Te("w:evenAndOddHeaders",t.evenAndOddHeaders)),t.updateFields!==void 0&&this.root.push(new Te("w:updateFields",t.updateFields)),t.defaultTabStop!==void 0&&this.root.push(new Ml("w:defaultTabStop",t.defaultTabStop)),((r=t.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new Te("w:autoHyphenation",t.hyphenation.autoHyphenation)),((n=t.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new Ml("w:hyphenationZone",t.hyphenation.hyphenationZone)),((i=t.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new Ml("w:consecutiveHyphenLimit",t.hyphenation.consecutiveHyphenLimit)),((a=t.hyphenation)==null?void 0:a.doNotHyphenateCaps)!==void 0&&this.root.push(new Te("w:doNotHyphenateCaps",t.hyphenation.doNotHyphenateCaps)),this.root.push(new nq(co(ut({},(c=t.compatibility)!=null?c:{}),{version:(h=(d=(l=t.compatibility)==null?void 0:l.version)!=null?d:t.compatibilityModeVersion)!=null?h:15})))}}class D2 extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{val:"w:val"})}}class aq extends Ce{constructor(t){super("w:name"),this.root.push(new D2({val:t}))}}class oq extends Ce{constructor(t){super("w:uiPriority"),this.root.push(new D2({val:Hr(t)}))}}class lq extends et{constructor(){super(...arguments),Se(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class I2 extends Ce{constructor(t,r){super("w:style"),this.root.push(new lq(t)),r.name&&this.root.push(new aq(r.name)),r.basedOn&&this.root.push(new qa("w:basedOn",r.basedOn)),r.next&&this.root.push(new qa("w:next",r.next)),r.link&&this.root.push(new qa("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new oq(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new Te("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new Te("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new Te("w:qFormat",r.quickFormat))}}class Nh extends I2{constructor(t){super({type:"paragraph",styleId:t.id},t),Se(this,"paragraphProperties"),Se(this,"runProperties"),this.paragraphProperties=new mo(t.paragraph),this.runProperties=new Qi(t.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class Eh extends I2{constructor(t){super({type:"character",styleId:t.id},ut({uiPriority:99,unhideWhenUsed:!0},t)),Se(this,"runProperties"),this.runProperties=new Qi(t.run),this.root.push(this.runProperties)}}class pi extends Nh{constructor(t){super(ut({basedOn:"Normal",next:"Normal",quickFormat:!0},t))}}class cq extends pi{constructor(t){super(ut({id:"Title",name:"Title"},t))}}class uq extends pi{constructor(t){super(ut({id:"Heading1",name:"Heading 1"},t))}}class dq extends pi{constructor(t){super(ut({id:"Heading2",name:"Heading 2"},t))}}class hq extends pi{constructor(t){super(ut({id:"Heading3",name:"Heading 3"},t))}}class fq extends pi{constructor(t){super(ut({id:"Heading4",name:"Heading 4"},t))}}class pq extends pi{constructor(t){super(ut({id:"Heading5",name:"Heading 5"},t))}}class mq extends pi{constructor(t){super(ut({id:"Heading6",name:"Heading 6"},t))}}class gq extends pi{constructor(t){super(ut({id:"Strong",name:"Strong"},t))}}class vq extends Nh{constructor(t){super(ut({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},t))}}class yq extends Nh{constructor(t){super(ut({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:Sv.AUTO}},run:{size:20}},t))}}class xq extends Eh{constructor(t){super(ut({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},t))}}class wq extends Eh{constructor(t){super(ut({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},t))}}class bq extends Eh{constructor(t){super(ut({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:k2.SINGLE}}},t))}}class Ev extends Ce{constructor(t){if(super("w:styles"),t.initialStyles&&this.root.push(t.initialStyles),t.importedStyles)for(const r of t.importedStyles)this.root.push(r);if(t.paragraphStyles)for(const r of t.paragraphStyles)this.root.push(new Nh(r));if(t.characterStyles)for(const r of t.characterStyles)this.root.push(new Eh(r))}}class jq extends Ce{constructor(t){super("w:pPrDefault"),this.root.push(new mo(t))}}class _q extends Ce{constructor(t){super("w:rPrDefault"),this.root.push(new Qi(t))}}class Sq extends Ce{constructor(t){super("w:docDefaults"),Se(this,"runPropertiesDefaults"),Se(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new _q(t.run),this.paragraphPropertiesDefaults=new jq(t.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class Nq{newInstance(t){const r=b2.xml2js(t,{compact:!1});let n;for(const c of r.elements||[])c.name==="w:styles"&&(n=c);if(n===void 0)throw new Error("can not find styles element");const i=n.elements||[];return new Ev({initialStyles:new gz(n.attributes),importedStyles:i.map(c=>ux(c))})}}class q_{newInstance(t={}){var r;return{initialStyles:new Sh(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new Sq((r=t.document)!=null?r:{}),new cq(ut({run:{size:56}},t.title)),new uq(ut({run:{color:"2E74B5",size:32}},t.heading1)),new dq(ut({run:{color:"2E74B5",size:26}},t.heading2)),new hq(ut({run:{color:"1F4D78",size:24}},t.heading3)),new fq(ut({run:{color:"2E74B5",italics:!0}},t.heading4)),new pq(ut({run:{color:"2E74B5"}},t.heading5)),new mq(ut({run:{color:"1F4D78"}},t.heading6)),new gq(ut({run:{bold:!0}},t.strong)),new vq(t.listParagraph||{}),new bq(t.hyperlink||{}),new xq(t.footnoteReference||{}),new yq(t.footnoteText||{}),new wq(t.footnoteTextChar||{})]}}}class Eq{constructor(t){Se(this,"currentRelationshipId",1),Se(this,"documentWrapper"),Se(this,"headers",[]),Se(this,"footers",[]),Se(this,"coreProperties"),Se(this,"numbering"),Se(this,"media"),Se(this,"fileRelationships"),Se(this,"footnotesWrapper"),Se(this,"settings"),Se(this,"contentTypes"),Se(this,"customProperties"),Se(this,"appProperties"),Se(this,"styles"),Se(this,"comments"),Se(this,"fontWrapper");var r,n,i,a,c,l,d,h,f,m,g,v;if(this.coreProperties=new uW(co(ut({},t),{creator:(r=t.creator)!=null?r:"Un-named",revision:(n=t.revision)!=null?n:1,lastModifiedBy:(i=t.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new eq(t.numbering?t.numbering:{config:[]}),this.comments=new p$((a=t.comments)!=null?a:{children:[]}),this.fileRelationships=new Ji,this.customProperties=new gW((c=t.customProperties)!=null?c:[]),this.appProperties=new iW,this.footnotesWrapper=new DW,this.contentTypes=new cW,this.documentWrapper=new A2({background:t.background}),this.settings=new iq({compatibilityModeVersion:t.compatabilityModeVersion,compatibility:t.compatibility,evenAndOddHeaders:!!t.evenAndOddHeaderAndFooters,trackRevisions:(l=t.features)==null?void 0:l.trackRevisions,updateFields:(d=t.features)==null?void 0:d.updateFields,defaultTabStop:t.defaultTabStop,hyphenation:{autoHyphenation:(h=t.hyphenation)==null?void 0:h.autoHyphenation,hyphenationZone:(f=t.hyphenation)==null?void 0:f.hyphenationZone,consecutiveHyphenLimit:(m=t.hyphenation)==null?void 0:m.consecutiveHyphenLimit,doNotHyphenateCaps:(g=t.hyphenation)==null?void 0:g.doNotHyphenateCaps}}),this.media=new FW,t.externalStyles!==void 0){const x=new Nq;this.styles=x.newInstance(t.externalStyles)}else if(t.styles){const y=new q_().newInstance(t.styles.default);this.styles=new Ev(ut(ut({},y),t.styles))}else{const x=new q_;this.styles=new Ev(x.newInstance())}this.addDefaultRelationships();for(const x of t.sections)this.addSection(x);if(t.footnotes)for(const x in t.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(x),t.footnotes[x].children);this.fontWrapper=new wW((v=t.fonts)!=null?v:[])}addSection({headers:t={},footers:r={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(co(ut({},i),{headerWrapperGroup:{default:t.default?this.createHeader(t.default):void 0,first:t.first?this.createHeader(t.first):void 0,even:t.even?this.createHeader(t.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const a of n)this.documentWrapper.View.add(a)}createHeader(t){const r=new MW(this.media,this.currentRelationshipId++);for(const n of t.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(t){const r=new _W(this.media,this.currentRelationshipId++);for(const n of t.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(t,r=Va.DEFAULT){this.headers.push({header:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(t,r=Va.DEFAULT){this.footers.push({footer:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(t=>t.header)}get Footers(){return this.footers.map(t=>t.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}var Cq=ox();function nd(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ag={exports:{}},V_;function kq(){return V_||(V_=1,(function(e,t){(function(r){e.exports=r()})(function(){return(function r(n,i,a){function c(h,f){if(!i[h]){if(!n[h]){var m=typeof nd=="function"&&nd;if(!f&&m)return m(h,!0);if(l)return l(h,!0);var g=new Error("Cannot find module '"+h+"'");throw g.code="MODULE_NOT_FOUND",g}var v=i[h]={exports:{}};n[h][0].call(v.exports,function(x){var y=n[h][1][x];return c(y||x)},v,v.exports,r,n,i,a)}return i[h].exports}for(var l=typeof nd=="function"&&nd,d=0;d<a.length;d++)c(a[d]);return c})({1:[function(r,n,i){var a=r("./utils"),c=r("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(d){for(var h,f,m,g,v,x,y,b=[],w=0,N=d.length,_=N,S=a.getTypeOf(d)!=="string";w<d.length;)_=N-w,m=S?(h=d[w++],f=w<N?d[w++]:0,w<N?d[w++]:0):(h=d.charCodeAt(w++),f=w<N?d.charCodeAt(w++):0,w<N?d.charCodeAt(w++):0),g=h>>2,v=(3&h)<<4|f>>4,x=1<_?(15&f)<<2|m>>6:64,y=2<_?63&m:64,b.push(l.charAt(g)+l.charAt(v)+l.charAt(x)+l.charAt(y));return b.join("")},i.decode=function(d){var h,f,m,g,v,x,y=0,b=0,w="data:";if(d.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var N,_=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===l.charAt(64)&&_--,d.charAt(d.length-2)===l.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=c.uint8array?new Uint8Array(0|_):new Array(0|_);y<d.length;)h=l.indexOf(d.charAt(y++))<<2|(g=l.indexOf(d.charAt(y++)))>>4,f=(15&g)<<4|(v=l.indexOf(d.charAt(y++)))>>2,m=(3&v)<<6|(x=l.indexOf(d.charAt(y++))),N[b++]=h,v!==64&&(N[b++]=f),x!==64&&(N[b++]=m);return N}},{"./support":30,"./utils":32}],2:[function(r,n,i){var a=r("./external"),c=r("./stream/DataWorker"),l=r("./stream/Crc32Probe"),d=r("./stream/DataLengthProbe");function h(f,m,g,v,x){this.compressedSize=f,this.uncompressedSize=m,this.crc32=g,this.compression=v,this.compressedContent=x}h.prototype={getContentWorker:function(){var f=new c(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),m=this;return f.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new c(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(f,m,g){return f.pipe(new l).pipe(new d("uncompressedSize")).pipe(m.compressWorker(g)).pipe(new d("compressedSize")).withStreamInfo("compression",m)},n.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var a=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var a=r("./utils"),c=(function(){for(var l,d=[],h=0;h<256;h++){l=h;for(var f=0;f<8;f++)l=1&l?3988292384^l>>>1:l>>>1;d[h]=l}return d})();n.exports=function(l,d){return l!==void 0&&l.length?a.getTypeOf(l)!=="string"?(function(h,f,m,g){var v=c,x=g+m;h^=-1;for(var y=g;y<x;y++)h=h>>>8^v[255&(h^f[y])];return-1^h})(0|d,l,l.length,0):(function(h,f,m,g){var v=c,x=g+m;h^=-1;for(var y=g;y<x;y++)h=h>>>8^v[255&(h^f.charCodeAt(y))];return-1^h})(0|d,l,l.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var a=null;a=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:a}},{lie:37}],7:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=r("pako"),l=r("./utils"),d=r("./stream/GenericWorker"),h=a?"uint8array":"array";function f(m,g){d.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=g,this.meta={}}i.magic="\b\0",l.inherits(f,d),f.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(h,m.data),!1)},f.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(g){m.push({data:g,meta:m.meta})}},i.compressWorker=function(m){return new f("Deflate",m)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function a(v,x){var y,b="";for(y=0;y<x;y++)b+=String.fromCharCode(255&v),v>>>=8;return b}function c(v,x,y,b,w,N){var _,S,T=v.file,F=v.compression,U=N!==h.utf8encode,$=l.transformTo("string",N(T.name)),A=l.transformTo("string",h.utf8encode(T.name)),J=T.comment,pe=l.transformTo("string",N(J)),z=l.transformTo("string",h.utf8encode(J)),G=A.length!==T.name.length,R=z.length!==J.length,Z="",ae="",q="",Y=T.dir,ne=T.date,te={crc32:0,compressedSize:0,uncompressedSize:0};x&&!y||(te.crc32=v.crc32,te.compressedSize=v.compressedSize,te.uncompressedSize=v.uncompressedSize);var W=0;x&&(W|=8),U||!G&&!R||(W|=2048);var H=0,se=0;Y&&(H|=16),w==="UNIX"?(se=798,H|=(function(he,oe){var I=he;return he||(I=oe?16893:33204),(65535&I)<<16})(T.unixPermissions,Y)):(se=20,H|=(function(he){return 63&(he||0)})(T.dosPermissions)),_=ne.getUTCHours(),_<<=6,_|=ne.getUTCMinutes(),_<<=5,_|=ne.getUTCSeconds()/2,S=ne.getUTCFullYear()-1980,S<<=4,S|=ne.getUTCMonth()+1,S<<=5,S|=ne.getUTCDate(),G&&(ae=a(1,1)+a(f($),4)+A,Z+="up"+a(ae.length,2)+ae),R&&(q=a(1,1)+a(f(pe),4)+z,Z+="uc"+a(q.length,2)+q);var ce="";return ce+=`
\0`,ce+=a(W,2),ce+=F.magic,ce+=a(_,2),ce+=a(S,2),ce+=a(te.crc32,4),ce+=a(te.compressedSize,4),ce+=a(te.uncompressedSize,4),ce+=a($.length,2),ce+=a(Z.length,2),{fileRecord:m.LOCAL_FILE_HEADER+ce+$+Z,dirRecord:m.CENTRAL_FILE_HEADER+a(se,2)+ce+a(pe.length,2)+"\0\0\0\0"+a(H,4)+a(b,4)+$+Z+pe}}var l=r("../utils"),d=r("../stream/GenericWorker"),h=r("../utf8"),f=r("../crc32"),m=r("../signature");function g(v,x,y,b){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=y,this.encodeFileName=b,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(g,d),g.prototype.push=function(v){var x=v.meta.percent||0,y=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,d.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:y?(x+100*(y-b-1))/y:100}}))},g.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var x=this.streamFiles&&!v.file.dir;if(x){var y=c(v,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(v){this.accumulate=!1;var x=this.streamFiles&&!v.file.dir,y=c(v,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),x)this.push({data:(function(b){return m.DATA_DESCRIPTOR+a(b.crc32,4)+a(b.compressedSize,4)+a(b.uncompressedSize,4)})(v),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var v=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var y=this.bytesWritten-v,b=(function(w,N,_,S,T){var F=l.transformTo("string",T(S));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(w,2)+a(w,2)+a(N,4)+a(_,4)+a(F.length,2)+F})(this.dirRecords.length,y,v,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(v){this._sources.push(v);var x=this;return v.on("data",function(y){x.processChunk(y)}),v.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),v.on("error",function(y){x.error(y)}),this},g.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(v){var x=this._sources;if(!d.prototype.error.call(this,v))return!1;for(var y=0;y<x.length;y++)try{x[y].error(v)}catch{}return!0},g.prototype.lock=function(){d.prototype.lock.call(this);for(var v=this._sources,x=0;x<v.length;x++)v[x].lock()},n.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var a=r("../compressions"),c=r("./ZipFileWorker");i.generateWorker=function(l,d,h){var f=new c(d.streamFiles,h,d.platform,d.encodeFileName),m=0;try{l.forEach(function(g,v){m++;var x=(function(N,_){var S=N||_,T=a[S];if(!T)throw new Error(S+" is not a valid compression method !");return T})(v.options.compression,d.compression),y=v.options.compressionOptions||d.compressionOptions||{},b=v.dir,w=v.date;v._compressWorker(x,y).withStreamInfo("file",{name:g,dir:b,date:w,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(f)}),f.entriesCount=m}catch(g){f.error(g)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new a;for(var l in this)typeof this[l]!="function"&&(c[l]=this[l]);return c}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(c,l){return new a().loadAsync(c,l)},a.external=r("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var a=r("./utils"),c=r("./external"),l=r("./utf8"),d=r("./zipEntries"),h=r("./stream/Crc32Probe"),f=r("./nodejsUtils");function m(g){return new c.Promise(function(v,x){var y=g.decompressed.getContentWorker().pipe(new h);y.on("error",function(b){x(b)}).on("end",function(){y.streamInfo.crc32!==g.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}n.exports=function(g,v){var x=this;return v=a.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),f.isNode&&f.isStream(g)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",g,!0,v.optimizedBinaryString,v.base64).then(function(y){var b=new d(v);return b.load(y),b}).then(function(y){var b=[c.Promise.resolve(y)],w=y.files;if(v.checkCRC32)for(var N=0;N<w.length;N++)b.push(m(w[N]));return c.Promise.all(b)}).then(function(y){for(var b=y.shift(),w=b.files,N=0;N<w.length;N++){var _=w[N],S=_.fileNameStr,T=a.resolve(_.fileNameStr);x.file(T,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:v.createFolders}),_.dir||(x.file(T).unsafeOriginalName=S)}return b.zipComment.length&&(x.comment=b.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var a=r("../utils"),c=r("../stream/GenericWorker");function l(d,h){c.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(h)}a.inherits(l,c),l.prototype._bindStream=function(d){var h=this;(this._stream=d).pause(),d.on("data",function(f){h.push({data:f,meta:{percent:0}})}).on("error",function(f){h.isPaused?this.generatedError=f:h.error(f)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},l.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var a=r("readable-stream").Readable;function c(l,d,h){a.call(this,d),this._helper=l;var f=this;l.on("data",function(m,g){f.push(m)||f._helper.pause(),h&&h(g)}).on("error",function(m){f.emit("error",m)}).on("end",function(){f.push(null)})}r("../utils").inherits(c,a),c.prototype._read=function(){this._helper.resume()},n.exports=c},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,c);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,c)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var c=new Buffer(a);return c.fill(0),c},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,n,i){function a(T,F,U){var $,A=l.getTypeOf(F),J=l.extend(U||{},f);J.date=J.date||new Date,J.compression!==null&&(J.compression=J.compression.toUpperCase()),typeof J.unixPermissions=="string"&&(J.unixPermissions=parseInt(J.unixPermissions,8)),J.unixPermissions&&16384&J.unixPermissions&&(J.dir=!0),J.dosPermissions&&16&J.dosPermissions&&(J.dir=!0),J.dir&&(T=w(T)),J.createFolders&&($=b(T))&&N.call(this,$,!0);var pe=A==="string"&&J.binary===!1&&J.base64===!1;U&&U.binary!==void 0||(J.binary=!pe),(F instanceof m&&F.uncompressedSize===0||J.dir||!F||F.length===0)&&(J.base64=!1,J.binary=!0,F="",J.compression="STORE",A="string");var z=null;z=F instanceof m||F instanceof d?F:x.isNode&&x.isStream(F)?new y(T,F):l.prepareContent(T,F,J.binary,J.optimizedBinaryString,J.base64);var G=new g(T,z,J);this.files[T]=G}var c=r("./utf8"),l=r("./utils"),d=r("./stream/GenericWorker"),h=r("./stream/StreamHelper"),f=r("./defaults"),m=r("./compressedObject"),g=r("./zipObject"),v=r("./generate"),x=r("./nodejsUtils"),y=r("./nodejs/NodejsStreamInputAdapter"),b=function(T){T.slice(-1)==="/"&&(T=T.substring(0,T.length-1));var F=T.lastIndexOf("/");return 0<F?T.substring(0,F):""},w=function(T){return T.slice(-1)!=="/"&&(T+="/"),T},N=function(T,F){return F=F!==void 0?F:f.createFolders,T=w(T),this.files[T]||a.call(this,T,null,{dir:!0,createFolders:F}),this.files[T]};function _(T){return Object.prototype.toString.call(T)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var F,U,$;for(F in this.files)$=this.files[F],(U=F.slice(this.root.length,F.length))&&F.slice(0,this.root.length)===this.root&&T(U,$)},filter:function(T){var F=[];return this.forEach(function(U,$){T(U,$)&&F.push($)}),F},file:function(T,F,U){if(arguments.length!==1)return T=this.root+T,a.call(this,T,F,U),this;if(_(T)){var $=T;return this.filter(function(J,pe){return!pe.dir&&$.test(J)})}var A=this.files[this.root+T];return A&&!A.dir?A:null},folder:function(T){if(!T)return this;if(_(T))return this.filter(function(A,J){return J.dir&&T.test(A)});var F=this.root+T,U=N.call(this,F),$=this.clone();return $.root=U.name,$},remove:function(T){T=this.root+T;var F=this.files[T];if(F||(T.slice(-1)!=="/"&&(T+="/"),F=this.files[T]),F&&!F.dir)delete this.files[T];else for(var U=this.filter(function(A,J){return J.name.slice(0,T.length)===T}),$=0;$<U.length;$++)delete this.files[U[$].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var F,U={};try{if((U=l.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=U.type.toLowerCase(),U.compression=U.compression.toUpperCase(),U.type==="binarystring"&&(U.type="string"),!U.type)throw new Error("No output type specified.");l.checkSupport(U.type),U.platform!=="darwin"&&U.platform!=="freebsd"&&U.platform!=="linux"&&U.platform!=="sunos"||(U.platform="UNIX"),U.platform==="win32"&&(U.platform="DOS");var $=U.comment||this.comment||"";F=v.generateWorker(this,U,$)}catch(A){(F=new d("error")).error(A)}return new h(F,U.type||"string",U.mimeType)},generateAsync:function(T,F){return this.generateInternalStream(T).accumulate(F)},generateNodeStream:function(T,F){return(T=T||{}).type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(F)}};n.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var a=r("./DataReader");function c(l){a.call(this,l);for(var d=0;d<this.data.length;d++)l[d]=255&l[d]}r("../utils").inherits(c,a),c.prototype.byteAt=function(l){return this.data[this.zero+l]},c.prototype.lastIndexOfSignature=function(l){for(var d=l.charCodeAt(0),h=l.charCodeAt(1),f=l.charCodeAt(2),m=l.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===d&&this.data[g+1]===h&&this.data[g+2]===f&&this.data[g+3]===m)return g-this.zero;return-1},c.prototype.readAndCheckSignature=function(l){var d=l.charCodeAt(0),h=l.charCodeAt(1),f=l.charCodeAt(2),m=l.charCodeAt(3),g=this.readData(4);return d===g[0]&&h===g[1]&&f===g[2]&&m===g[3]},c.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,d},n.exports=c},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var a=r("../utils");function c(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var d,h=0;for(this.checkOffset(l),d=this.index+l-1;d>=this.index;d--)h=(h<<8)+this.byteAt(d);return this.index+=l,h},readString:function(l){return a.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},n.exports=c},{"../utils":32}],19:[function(r,n,i){var a=r("./Uint8ArrayReader");function c(l){a.call(this,l)}r("../utils").inherits(c,a),c.prototype.readData=function(l){this.checkOffset(l);var d=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,d},n.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var a=r("./DataReader");function c(l){a.call(this,l)}r("../utils").inherits(c,a),c.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},c.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},c.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},c.prototype.readData=function(l){this.checkOffset(l);var d=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,d},n.exports=c},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var a=r("./ArrayReader");function c(l){a.call(this,l)}r("../utils").inherits(c,a),c.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,d},n.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var a=r("../utils"),c=r("../support"),l=r("./ArrayReader"),d=r("./StringReader"),h=r("./NodeBufferReader"),f=r("./Uint8ArrayReader");n.exports=function(m){var g=a.getTypeOf(m);return a.checkSupport(g),g!=="string"||c.uint8array?g==="nodebuffer"?new h(m):c.uint8array?new f(a.transformTo("uint8array",m)):new l(a.transformTo("array",m)):new d(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var a=r("./GenericWorker"),c=r("../utils");function l(d){a.call(this,"ConvertWorker to "+d),this.destType=d}c.inherits(l,a),l.prototype.processChunk=function(d){this.push({data:c.transformTo(this.destType,d.data),meta:d.meta})},n.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var a=r("./GenericWorker"),c=r("../crc32");function l(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(l,a),l.prototype.processChunk=function(d){this.streamInfo.crc32=c(d.data,this.streamInfo.crc32||0),this.push(d)},n.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var a=r("../utils"),c=r("./GenericWorker");function l(d){c.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}a.inherits(l,c),l.prototype.processChunk=function(d){if(d){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+d.data.length}c.prototype.processChunk.call(this,d)},n.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var a=r("../utils"),c=r("./GenericWorker");function l(d){c.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(f){h.dataIsReady=!0,h.data=f,h.max=f&&f.length||0,h.type=a.getTypeOf(f),h.isPaused||h._tickAndRepeat()},function(f){h.error(f)})}a.inherits(l,c),l.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,h);break;case"uint8array":d=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":d=this.data.slice(this.index,h)}return this.index=h,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function a(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,l){return this._listeners[c].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,l){if(this._listeners[c])for(var d=0;d<this._listeners[c].length;d++)this._listeners[c][d].call(this,l)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var l=this;return c.on("data",function(d){l.processChunk(d)}),c.on("end",function(){l.end()}),c.on("error",function(d){l.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,l){return this.extraStreamInfo[c]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},n.exports=a},{}],29:[function(r,n,i){var a=r("../utils"),c=r("./ConvertWorker"),l=r("./GenericWorker"),d=r("../base64"),h=r("../support"),f=r("../external"),m=null;if(h.nodestream)try{m=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(x,y){return new f.Promise(function(b,w){var N=[],_=x._internalType,S=x._outputType,T=x._mimeType;x.on("data",function(F,U){N.push(F),y&&y(U)}).on("error",function(F){N=[],w(F)}).on("end",function(){try{var F=(function(U,$,A){switch(U){case"blob":return a.newBlob(a.transformTo("arraybuffer",$),A);case"base64":return d.encode($);default:return a.transformTo(U,$)}})(S,(function(U,$){var A,J=0,pe=null,z=0;for(A=0;A<$.length;A++)z+=$[A].length;switch(U){case"string":return $.join("");case"array":return Array.prototype.concat.apply([],$);case"uint8array":for(pe=new Uint8Array(z),A=0;A<$.length;A++)pe.set($[A],J),J+=$[A].length;return pe;case"nodebuffer":return Buffer.concat($);default:throw new Error("concat : unsupported type '"+U+"'")}})(_,N),T);b(F)}catch(U){w(U)}N=[]}).resume()})}function v(x,y,b){var w=y;switch(y){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=y,this._mimeType=b,a.checkSupport(w),this._worker=x.pipe(new c(w)),x.lock()}catch(N){this._worker=new l("error"),this._worker.error(N)}}v.prototype={accumulate:function(x){return g(this,x)},on:function(x,y){var b=this;return x==="data"?this._worker.on(x,function(w){y.call(b,w.data,w.meta)}):this._worker.on(x,function(){a.delay(y,arguments,b)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},x)}},n.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(a),i.blob=c.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var a=r("./utils"),c=r("./support"),l=r("./nodejsUtils"),d=r("./stream/GenericWorker"),h=new Array(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;h[254]=h[254]=1;function m(){d.call(this,"utf-8 decode"),this.leftOver=null}function g(){d.call(this,"utf-8 encode")}i.utf8encode=function(v){return c.nodebuffer?l.newBufferFrom(v,"utf-8"):(function(x){var y,b,w,N,_,S=x.length,T=0;for(N=0;N<S;N++)(64512&(b=x.charCodeAt(N)))==55296&&N+1<S&&(64512&(w=x.charCodeAt(N+1)))==56320&&(b=65536+(b-55296<<10)+(w-56320),N++),T+=b<128?1:b<2048?2:b<65536?3:4;for(y=c.uint8array?new Uint8Array(T):new Array(T),N=_=0;_<T;N++)(64512&(b=x.charCodeAt(N)))==55296&&N+1<S&&(64512&(w=x.charCodeAt(N+1)))==56320&&(b=65536+(b-55296<<10)+(w-56320),N++),b<128?y[_++]=b:(b<2048?y[_++]=192|b>>>6:(b<65536?y[_++]=224|b>>>12:(y[_++]=240|b>>>18,y[_++]=128|b>>>12&63),y[_++]=128|b>>>6&63),y[_++]=128|63&b);return y})(v)},i.utf8decode=function(v){return c.nodebuffer?a.transformTo("nodebuffer",v).toString("utf-8"):(function(x){var y,b,w,N,_=x.length,S=new Array(2*_);for(y=b=0;y<_;)if((w=x[y++])<128)S[b++]=w;else if(4<(N=h[w]))S[b++]=65533,y+=N-1;else{for(w&=N===2?31:N===3?15:7;1<N&&y<_;)w=w<<6|63&x[y++],N--;1<N?S[b++]=65533:w<65536?S[b++]=w:(w-=65536,S[b++]=55296|w>>10&1023,S[b++]=56320|1023&w)}return S.length!==b&&(S.subarray?S=S.subarray(0,b):S.length=b),a.applyFromCharCode(S)})(v=a.transformTo(c.uint8array?"uint8array":"array",v))},a.inherits(m,d),m.prototype.processChunk=function(v){var x=a.transformTo(c.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var y=x;(x=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),x.set(y,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var b=(function(N,_){var S;for((_=_||N.length)>N.length&&(_=N.length),S=_-1;0<=S&&(192&N[S])==128;)S--;return S<0||S===0?_:S+h[N[S]]>_?S:_})(x),w=x;b!==x.length&&(c.uint8array?(w=x.subarray(0,b),this.leftOver=x.subarray(b,x.length)):(w=x.slice(0,b),this.leftOver=x.slice(b,x.length))),this.push({data:i.utf8decode(w),meta:v.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,a.inherits(g,d),g.prototype.processChunk=function(v){this.push({data:i.utf8encode(v.data),meta:v.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var a=r("./support"),c=r("./base64"),l=r("./nodejsUtils"),d=r("./external");function h(y){return y}function f(y,b){for(var w=0;w<y.length;++w)b[w]=255&y.charCodeAt(w);return b}r("setimmediate"),i.newBlob=function(y,b){i.checkSupport("blob");try{return new Blob([y],{type:b})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(y),w.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(y,b,w){var N=[],_=0,S=y.length;if(S<=w)return String.fromCharCode.apply(null,y);for(;_<S;)b==="array"||b==="nodebuffer"?N.push(String.fromCharCode.apply(null,y.slice(_,Math.min(_+w,S)))):N.push(String.fromCharCode.apply(null,y.subarray(_,Math.min(_+w,S)))),_+=w;return N.join("")},stringifyByChar:function(y){for(var b="",w=0;w<y.length;w++)b+=String.fromCharCode(y[w]);return b},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}})()}};function g(y){var b=65536,w=i.getTypeOf(y),N=!0;if(w==="uint8array"?N=m.applyCanBeUsed.uint8array:w==="nodebuffer"&&(N=m.applyCanBeUsed.nodebuffer),N)for(;1<b;)try{return m.stringifyByChunk(y,w,b)}catch{b=Math.floor(b/2)}return m.stringifyByChar(y)}function v(y,b){for(var w=0;w<y.length;w++)b[w]=y[w];return b}i.applyFromCharCode=g;var x={};x.string={string:h,array:function(y){return f(y,new Array(y.length))},arraybuffer:function(y){return x.string.uint8array(y).buffer},uint8array:function(y){return f(y,new Uint8Array(y.length))},nodebuffer:function(y){return f(y,l.allocBuffer(y.length))}},x.array={string:g,array:h,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(y)}},x.arraybuffer={string:function(y){return g(new Uint8Array(y))},array:function(y){return v(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:h,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(new Uint8Array(y))}},x.uint8array={string:g,array:function(y){return v(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:h,nodebuffer:function(y){return l.newBufferFrom(y)}},x.nodebuffer={string:g,array:function(y){return v(y,new Array(y.length))},arraybuffer:function(y){return x.nodebuffer.uint8array(y).buffer},uint8array:function(y){return v(y,new Uint8Array(y.length))},nodebuffer:h},i.transformTo=function(y,b){if(b=b||"",!y)return b;i.checkSupport(y);var w=i.getTypeOf(b);return x[w][y](b)},i.resolve=function(y){for(var b=y.split("/"),w=[],N=0;N<b.length;N++){var _=b[N];_==="."||_===""&&N!==0&&N!==b.length-1||(_===".."?w.pop():w.push(_))}return w.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":a.nodebuffer&&l.isBuffer(y)?"nodebuffer":a.uint8array&&y instanceof Uint8Array?"uint8array":a.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!a[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var b,w,N="";for(w=0;w<(y||"").length;w++)N+="\\x"+((b=y.charCodeAt(w))<16?"0":"")+b.toString(16).toUpperCase();return N},i.delay=function(y,b,w){setImmediate(function(){y.apply(w||null,b||[])})},i.inherits=function(y,b){function w(){}w.prototype=b.prototype,y.prototype=new w},i.extend=function(){var y,b,w={};for(y=0;y<arguments.length;y++)for(b in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],b)&&w[b]===void 0&&(w[b]=arguments[y][b]);return w},i.prepareContent=function(y,b,w,N,_){return d.Promise.resolve(b).then(function(S){return a.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new d.Promise(function(T,F){var U=new FileReader;U.onload=function($){T($.target.result)},U.onerror=function($){F($.target.error)},U.readAsArrayBuffer(S)}):S}).then(function(S){var T=i.getTypeOf(S);return T?(T==="arraybuffer"?S=i.transformTo("uint8array",S):T==="string"&&(_?S=c.decode(S):w&&N!==!0&&(S=(function(F){return f(F,a.uint8array?new Uint8Array(F.length):new Array(F.length))})(S))),S):d.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var a=r("./reader/readerFor"),c=r("./utils"),l=r("./signature"),d=r("./zipEntry"),h=r("./support");function f(m){this.files=[],this.loadOptions=m}f.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(g)+", expected "+c.pretty(m)+")")}},isSignature:function(m,g){var v=this.reader.index;this.reader.setIndex(m);var x=this.reader.readString(4)===g;return this.reader.setIndex(v),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),g=h.uint8array?"uint8array":"array",v=c.transformTo(g,m);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,g,v,x=this.zip64EndOfCentralSize-44;0<x;)m=this.reader.readInt(2),g=this.reader.readInt(4),v=this.reader.readData(g),this.zip64ExtensibleData[m]={id:m,length:g,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,g;for(m=0;m<this.files.length;m++)g=this.files[m],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(m=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var g=m;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var x=g-v;if(0<x)this.isSignature(g,l.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(m){this.reader=a(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var a=r("./reader/readerFor"),c=r("./utils"),l=r("./compressedObject"),d=r("./crc32"),h=r("./utf8"),f=r("./compressions"),m=r("./support");function g(v,x){this.options=v,this.loadOptions=x}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var x,y;if(v.skip(22),this.fileNameLength=v.readInt(2),y=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=(function(b){for(var w in f)if(Object.prototype.hasOwnProperty.call(f,w)&&f[w].magic===b)return f[w];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,x,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var x=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(x),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=a(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var x,y,b,w=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<w;)x=v.readInt(2),y=v.readInt(2),b=v.readData(y),this.extraFields[x]={id:x,length:y,value:b};v.setIndex(w)},handleUTF8:function(){var v=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var y=c.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var w=c.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var x=a(v.value);return x.readInt(1)!==1||d(this.fileName)!==x.readInt(4)?null:h.utf8decode(x.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var x=a(v.value);return x.readInt(1)!==1||d(this.fileComment)!==x.readInt(4)?null:h.utf8decode(x.readData(v.length-5))}return null}},n.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function a(x,y,b){this.name=x,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=y,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var c=r("./stream/StreamHelper"),l=r("./stream/DataWorker"),d=r("./utf8"),h=r("./compressedObject"),f=r("./stream/GenericWorker");a.prototype={internalStream:function(x){var y=null,b="string";try{if(!x)throw new Error("No output type specified.");var w=(b=x.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),y=this._decompressWorker();var N=!this._dataBinary;N&&!w&&(y=y.pipe(new d.Utf8EncodeWorker)),!N&&w&&(y=y.pipe(new d.Utf8DecodeWorker))}catch(_){(y=new f("error")).error(_)}return new c(y,b,"")},async:function(x,y){return this.internalStream(x).accumulate(y)},nodeStream:function(x,y){return this.internalStream(x||"nodebuffer").toNodejsStream(y)},_compressWorker:function(x,y){if(this._data instanceof h&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new d.Utf8EncodeWorker)),h.createWorkerFrom(b,x,y)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof f?this._data:new l(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<m.length;v++)a.prototype[m[v]]=g;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(a){var c,l,d=a.MutationObserver||a.WebKitMutationObserver;if(d){var h=0,f=new d(x),m=a.document.createTextNode("");f.observe(m,{characterData:!0}),c=function(){m.data=h=++h%2}}else if(a.setImmediate||a.MessageChannel===void 0)c="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var y=a.document.createElement("script");y.onreadystatechange=function(){x(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},a.document.documentElement.appendChild(y)}:function(){setTimeout(x,0)};else{var g=new a.MessageChannel;g.port1.onmessage=x,c=function(){g.port2.postMessage(0)}}var v=[];function x(){var y,b;l=!0;for(var w=v.length;w;){for(b=v,v=[],y=-1;++y<w;)b[y]();w=v.length}l=!1}n.exports=function(y){v.push(y)!==1||l||c()}}).call(this,typeof Kn<"u"?Kn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var a=r("immediate");function c(){}var l={},d=["REJECTED"],h=["FULFILLED"],f=["PENDING"];function m(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,w!==c&&y(this,w)}function g(w,N,_){this.promise=w,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function v(w,N,_){a(function(){var S;try{S=N(_)}catch(T){return l.reject(w,T)}S===w?l.reject(w,new TypeError("Cannot resolve promise with itself")):l.resolve(w,S)})}function x(w){var N=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof N=="function")return function(){N.apply(w,arguments)}}function y(w,N){var _=!1;function S(U){_||(_=!0,l.reject(w,U))}function T(U){_||(_=!0,l.resolve(w,U))}var F=b(function(){N(T,S)});F.status==="error"&&S(F.value)}function b(w,N){var _={};try{_.value=w(N),_.status="success"}catch(S){_.status="error",_.value=S}return _}(n.exports=m).prototype.finally=function(w){if(typeof w!="function")return this;var N=this.constructor;return this.then(function(_){return N.resolve(w()).then(function(){return _})},function(_){return N.resolve(w()).then(function(){throw _})})},m.prototype.catch=function(w){return this.then(null,w)},m.prototype.then=function(w,N){if(typeof w!="function"&&this.state===h||typeof N!="function"&&this.state===d)return this;var _=new this.constructor(c);return this.state!==f?v(_,this.state===h?w:N,this.outcome):this.queue.push(new g(_,w,N)),_},g.prototype.callFulfilled=function(w){l.resolve(this.promise,w)},g.prototype.otherCallFulfilled=function(w){v(this.promise,this.onFulfilled,w)},g.prototype.callRejected=function(w){l.reject(this.promise,w)},g.prototype.otherCallRejected=function(w){v(this.promise,this.onRejected,w)},l.resolve=function(w,N){var _=b(x,N);if(_.status==="error")return l.reject(w,_.value);var S=_.value;if(S)y(w,S);else{w.state=h,w.outcome=N;for(var T=-1,F=w.queue.length;++T<F;)w.queue[T].callFulfilled(N)}return w},l.reject=function(w,N){w.state=d,w.outcome=N;for(var _=-1,S=w.queue.length;++_<S;)w.queue[_].callRejected(N);return w},m.resolve=function(w){return w instanceof this?w:l.resolve(new this(c),w)},m.reject=function(w){var N=new this(c);return l.reject(N,w)},m.all=function(w){var N=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=w.length,S=!1;if(!_)return this.resolve([]);for(var T=new Array(_),F=0,U=-1,$=new this(c);++U<_;)A(w[U],U);return $;function A(J,pe){N.resolve(J).then(function(z){T[pe]=z,++F!==_||S||(S=!0,l.resolve($,T))},function(z){S||(S=!0,l.reject($,z))})}},m.race=function(w){var N=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=w.length,S=!1;if(!_)return this.resolve([]);for(var T=-1,F=new this(c);++T<_;)U=w[T],N.resolve(U).then(function($){S||(S=!0,l.resolve(F,$))},function($){S||(S=!0,l.reject(F,$))});var U;return F}},{immediate:36}],38:[function(r,n,i){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var a=r("./zlib/deflate"),c=r("./utils/common"),l=r("./utils/strings"),d=r("./zlib/messages"),h=r("./zlib/zstream"),f=Object.prototype.toString,m=0,g=-1,v=0,x=8;function y(w){if(!(this instanceof y))return new y(w);this.options=c.assign({level:g,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},w||{});var N=this.options;N.raw&&0<N.windowBits?N.windowBits=-N.windowBits:N.gzip&&0<N.windowBits&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var _=a.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(_!==m)throw new Error(d[_]);if(N.header&&a.deflateSetHeader(this.strm,N.header),N.dictionary){var S;if(S=typeof N.dictionary=="string"?l.string2buf(N.dictionary):f.call(N.dictionary)==="[object ArrayBuffer]"?new Uint8Array(N.dictionary):N.dictionary,(_=a.deflateSetDictionary(this.strm,S))!==m)throw new Error(d[_]);this._dict_set=!0}}function b(w,N){var _=new y(N);if(_.push(w,!0),_.err)throw _.msg||d[_.err];return _.result}y.prototype.push=function(w,N){var _,S,T=this.strm,F=this.options.chunkSize;if(this.ended)return!1;S=N===~~N?N:N===!0?4:0,typeof w=="string"?T.input=l.string2buf(w):f.call(w)==="[object ArrayBuffer]"?T.input=new Uint8Array(w):T.input=w,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new c.Buf8(F),T.next_out=0,T.avail_out=F),(_=a.deflate(T,S))!==1&&_!==m)return this.onEnd(_),!(this.ended=!0);T.avail_out!==0&&(T.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(c.shrinkBuf(T.output,T.next_out))):this.onData(c.shrinkBuf(T.output,T.next_out)))}while((0<T.avail_in||T.avail_out===0)&&_!==1);return S===4?(_=a.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===m):S!==2||(this.onEnd(m),!(T.avail_out=0))},y.prototype.onData=function(w){this.chunks.push(w)},y.prototype.onEnd=function(w){w===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Deflate=y,i.deflate=b,i.deflateRaw=function(w,N){return(N=N||{}).raw=!0,b(w,N)},i.gzip=function(w,N){return(N=N||{}).gzip=!0,b(w,N)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var a=r("./zlib/inflate"),c=r("./utils/common"),l=r("./utils/strings"),d=r("./zlib/constants"),h=r("./zlib/messages"),f=r("./zlib/zstream"),m=r("./zlib/gzheader"),g=Object.prototype.toString;function v(y){if(!(this instanceof v))return new v(y);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},y||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||y&&y.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var w=a.inflateInit2(this.strm,b.windowBits);if(w!==d.Z_OK)throw new Error(h[w]);this.header=new m,a.inflateGetHeader(this.strm,this.header)}function x(y,b){var w=new v(b);if(w.push(y,!0),w.err)throw w.msg||h[w.err];return w.result}v.prototype.push=function(y,b){var w,N,_,S,T,F,U=this.strm,$=this.options.chunkSize,A=this.options.dictionary,J=!1;if(this.ended)return!1;N=b===~~b?b:b===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof y=="string"?U.input=l.binstring2buf(y):g.call(y)==="[object ArrayBuffer]"?U.input=new Uint8Array(y):U.input=y,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new c.Buf8($),U.next_out=0,U.avail_out=$),(w=a.inflate(U,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&A&&(F=typeof A=="string"?l.string2buf(A):g.call(A)==="[object ArrayBuffer]"?new Uint8Array(A):A,w=a.inflateSetDictionary(this.strm,F)),w===d.Z_BUF_ERROR&&J===!0&&(w=d.Z_OK,J=!1),w!==d.Z_STREAM_END&&w!==d.Z_OK)return this.onEnd(w),!(this.ended=!0);U.next_out&&(U.avail_out!==0&&w!==d.Z_STREAM_END&&(U.avail_in!==0||N!==d.Z_FINISH&&N!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=l.utf8border(U.output,U.next_out),S=U.next_out-_,T=l.buf2string(U.output,_),U.next_out=S,U.avail_out=$-S,S&&c.arraySet(U.output,U.output,_,S,0),this.onData(T)):this.onData(c.shrinkBuf(U.output,U.next_out)))),U.avail_in===0&&U.avail_out===0&&(J=!0)}while((0<U.avail_in||U.avail_out===0)&&w!==d.Z_STREAM_END);return w===d.Z_STREAM_END&&(N=d.Z_FINISH),N===d.Z_FINISH?(w=a.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===d.Z_OK):N!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(U.avail_out=0))},v.prototype.onData=function(y){this.chunks.push(y)},v.prototype.onEnd=function(y){y===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=v,i.inflate=x,i.inflateRaw=function(y,b){return(b=b||{}).raw=!0,x(y,b)},i.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(d){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var f=h.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var m in f)f.hasOwnProperty(m)&&(d[m]=f[m])}}return d},i.shrinkBuf=function(d,h){return d.length===h?d:d.subarray?d.subarray(0,h):(d.length=h,d)};var c={arraySet:function(d,h,f,m,g){if(h.subarray&&d.subarray)d.set(h.subarray(f,f+m),g);else for(var v=0;v<m;v++)d[g+v]=h[f+v]},flattenChunks:function(d){var h,f,m,g,v,x;for(h=m=0,f=d.length;h<f;h++)m+=d[h].length;for(x=new Uint8Array(m),h=g=0,f=d.length;h<f;h++)v=d[h],x.set(v,g),g+=v.length;return x}},l={arraySet:function(d,h,f,m,g){for(var v=0;v<m;v++)d[g+v]=h[f+v]},flattenChunks:function(d){return[].concat.apply([],d)}};i.setTyped=function(d){d?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,c)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(a)},{}],42:[function(r,n,i){var a=r("./common"),c=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var d=new a.Buf8(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function f(m,g){if(g<65537&&(m.subarray&&l||!m.subarray&&c))return String.fromCharCode.apply(null,a.shrinkBuf(m,g));for(var v="",x=0;x<g;x++)v+=String.fromCharCode(m[x]);return v}d[254]=d[254]=1,i.string2buf=function(m){var g,v,x,y,b,w=m.length,N=0;for(y=0;y<w;y++)(64512&(v=m.charCodeAt(y)))==55296&&y+1<w&&(64512&(x=m.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),y++),N+=v<128?1:v<2048?2:v<65536?3:4;for(g=new a.Buf8(N),y=b=0;b<N;y++)(64512&(v=m.charCodeAt(y)))==55296&&y+1<w&&(64512&(x=m.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),y++),v<128?g[b++]=v:(v<2048?g[b++]=192|v>>>6:(v<65536?g[b++]=224|v>>>12:(g[b++]=240|v>>>18,g[b++]=128|v>>>12&63),g[b++]=128|v>>>6&63),g[b++]=128|63&v);return g},i.buf2binstring=function(m){return f(m,m.length)},i.binstring2buf=function(m){for(var g=new a.Buf8(m.length),v=0,x=g.length;v<x;v++)g[v]=m.charCodeAt(v);return g},i.buf2string=function(m,g){var v,x,y,b,w=g||m.length,N=new Array(2*w);for(v=x=0;v<w;)if((y=m[v++])<128)N[x++]=y;else if(4<(b=d[y]))N[x++]=65533,v+=b-1;else{for(y&=b===2?31:b===3?15:7;1<b&&v<w;)y=y<<6|63&m[v++],b--;1<b?N[x++]=65533:y<65536?N[x++]=y:(y-=65536,N[x++]=55296|y>>10&1023,N[x++]=56320|1023&y)}return f(N,x)},i.utf8border=function(m,g){var v;for((g=g||m.length)>m.length&&(g=m.length),v=g-1;0<=v&&(192&m[v])==128;)v--;return v<0||v===0?g:v+d[m[v]]>g?v:g}},{"./common":41}],43:[function(r,n,i){n.exports=function(a,c,l,d){for(var h=65535&a|0,f=a>>>16&65535|0,m=0;l!==0;){for(l-=m=2e3<l?2e3:l;f=f+(h=h+c[d++]|0)|0,--m;);h%=65521,f%=65521}return h|f<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var a=(function(){for(var c,l=[],d=0;d<256;d++){c=d;for(var h=0;h<8;h++)c=1&c?3988292384^c>>>1:c>>>1;l[d]=c}return l})();n.exports=function(c,l,d,h){var f=a,m=h+d;c^=-1;for(var g=h;g<m;g++)c=c>>>8^f[255&(c^l[g])];return-1^c}},{}],46:[function(r,n,i){var a,c=r("../utils/common"),l=r("./trees"),d=r("./adler32"),h=r("./crc32"),f=r("./messages"),m=0,g=4,v=0,x=-2,y=-1,b=4,w=2,N=8,_=9,S=286,T=30,F=19,U=2*S+1,$=15,A=3,J=258,pe=J+A+1,z=42,G=113,R=1,Z=2,ae=3,q=4;function Y(M,ge){return M.msg=f[ge],ge}function ne(M){return(M<<1)-(4<M?9:0)}function te(M){for(var ge=M.length;0<=--ge;)M[ge]=0}function W(M){var ge=M.state,B=ge.pending;B>M.avail_out&&(B=M.avail_out),B!==0&&(c.arraySet(M.output,ge.pending_buf,ge.pending_out,B,M.next_out),M.next_out+=B,ge.pending_out+=B,M.total_out+=B,M.avail_out-=B,ge.pending-=B,ge.pending===0&&(ge.pending_out=0))}function H(M,ge){l._tr_flush_block(M,0<=M.block_start?M.block_start:-1,M.strstart-M.block_start,ge),M.block_start=M.strstart,W(M.strm)}function se(M,ge){M.pending_buf[M.pending++]=ge}function ce(M,ge){M.pending_buf[M.pending++]=ge>>>8&255,M.pending_buf[M.pending++]=255&ge}function he(M,ge){var B,C,k=M.max_chain_length,L=M.strstart,ee=M.prev_length,ue=M.nice_match,ie=M.strstart>M.w_size-pe?M.strstart-(M.w_size-pe):0,be=M.window,Ne=M.w_mask,_e=M.prev,Me=M.strstart+J,He=be[L+ee-1],Qe=be[L+ee];M.prev_length>=M.good_match&&(k>>=2),ue>M.lookahead&&(ue=M.lookahead);do if(be[(B=ge)+ee]===Qe&&be[B+ee-1]===He&&be[B]===be[L]&&be[++B]===be[L+1]){L+=2,B++;do;while(be[++L]===be[++B]&&be[++L]===be[++B]&&be[++L]===be[++B]&&be[++L]===be[++B]&&be[++L]===be[++B]&&be[++L]===be[++B]&&be[++L]===be[++B]&&be[++L]===be[++B]&&L<Me);if(C=J-(Me-L),L=Me-J,ee<C){if(M.match_start=ge,ue<=(ee=C))break;He=be[L+ee-1],Qe=be[L+ee]}}while((ge=_e[ge&Ne])>ie&&--k!=0);return ee<=M.lookahead?ee:M.lookahead}function oe(M){var ge,B,C,k,L,ee,ue,ie,be,Ne,_e=M.w_size;do{if(k=M.window_size-M.lookahead-M.strstart,M.strstart>=_e+(_e-pe)){for(c.arraySet(M.window,M.window,_e,_e,0),M.match_start-=_e,M.strstart-=_e,M.block_start-=_e,ge=B=M.hash_size;C=M.head[--ge],M.head[ge]=_e<=C?C-_e:0,--B;);for(ge=B=_e;C=M.prev[--ge],M.prev[ge]=_e<=C?C-_e:0,--B;);k+=_e}if(M.strm.avail_in===0)break;if(ee=M.strm,ue=M.window,ie=M.strstart+M.lookahead,be=k,Ne=void 0,Ne=ee.avail_in,be<Ne&&(Ne=be),B=Ne===0?0:(ee.avail_in-=Ne,c.arraySet(ue,ee.input,ee.next_in,Ne,ie),ee.state.wrap===1?ee.adler=d(ee.adler,ue,Ne,ie):ee.state.wrap===2&&(ee.adler=h(ee.adler,ue,Ne,ie)),ee.next_in+=Ne,ee.total_in+=Ne,Ne),M.lookahead+=B,M.lookahead+M.insert>=A)for(L=M.strstart-M.insert,M.ins_h=M.window[L],M.ins_h=(M.ins_h<<M.hash_shift^M.window[L+1])&M.hash_mask;M.insert&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[L+A-1])&M.hash_mask,M.prev[L&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=L,L++,M.insert--,!(M.lookahead+M.insert<A)););}while(M.lookahead<pe&&M.strm.avail_in!==0)}function I(M,ge){for(var B,C;;){if(M.lookahead<pe){if(oe(M),M.lookahead<pe&&ge===m)return R;if(M.lookahead===0)break}if(B=0,M.lookahead>=A&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+A-1])&M.hash_mask,B=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),B!==0&&M.strstart-B<=M.w_size-pe&&(M.match_length=he(M,B)),M.match_length>=A)if(C=l._tr_tally(M,M.strstart-M.match_start,M.match_length-A),M.lookahead-=M.match_length,M.match_length<=M.max_lazy_match&&M.lookahead>=A){for(M.match_length--;M.strstart++,M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+A-1])&M.hash_mask,B=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart,--M.match_length!=0;);M.strstart++}else M.strstart+=M.match_length,M.match_length=0,M.ins_h=M.window[M.strstart],M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+1])&M.hash_mask;else C=l._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++;if(C&&(H(M,!1),M.strm.avail_out===0))return R}return M.insert=M.strstart<A-1?M.strstart:A-1,ge===g?(H(M,!0),M.strm.avail_out===0?ae:q):M.last_lit&&(H(M,!1),M.strm.avail_out===0)?R:Z}function O(M,ge){for(var B,C,k;;){if(M.lookahead<pe){if(oe(M),M.lookahead<pe&&ge===m)return R;if(M.lookahead===0)break}if(B=0,M.lookahead>=A&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+A-1])&M.hash_mask,B=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),M.prev_length=M.match_length,M.prev_match=M.match_start,M.match_length=A-1,B!==0&&M.prev_length<M.max_lazy_match&&M.strstart-B<=M.w_size-pe&&(M.match_length=he(M,B),M.match_length<=5&&(M.strategy===1||M.match_length===A&&4096<M.strstart-M.match_start)&&(M.match_length=A-1)),M.prev_length>=A&&M.match_length<=M.prev_length){for(k=M.strstart+M.lookahead-A,C=l._tr_tally(M,M.strstart-1-M.prev_match,M.prev_length-A),M.lookahead-=M.prev_length-1,M.prev_length-=2;++M.strstart<=k&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+A-1])&M.hash_mask,B=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),--M.prev_length!=0;);if(M.match_available=0,M.match_length=A-1,M.strstart++,C&&(H(M,!1),M.strm.avail_out===0))return R}else if(M.match_available){if((C=l._tr_tally(M,0,M.window[M.strstart-1]))&&H(M,!1),M.strstart++,M.lookahead--,M.strm.avail_out===0)return R}else M.match_available=1,M.strstart++,M.lookahead--}return M.match_available&&(C=l._tr_tally(M,0,M.window[M.strstart-1]),M.match_available=0),M.insert=M.strstart<A-1?M.strstart:A-1,ge===g?(H(M,!0),M.strm.avail_out===0?ae:q):M.last_lit&&(H(M,!1),M.strm.avail_out===0)?R:Z}function re(M,ge,B,C,k){this.good_length=M,this.max_lazy=ge,this.nice_length=B,this.max_chain=C,this.func=k}function Q(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*U),this.dyn_dtree=new c.Buf16(2*(2*T+1)),this.bl_tree=new c.Buf16(2*(2*F+1)),te(this.dyn_ltree),te(this.dyn_dtree),te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16($+1),this.heap=new c.Buf16(2*S+1),te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*S+1),te(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function K(M){var ge;return M&&M.state?(M.total_in=M.total_out=0,M.data_type=w,(ge=M.state).pending=0,ge.pending_out=0,ge.wrap<0&&(ge.wrap=-ge.wrap),ge.status=ge.wrap?z:G,M.adler=ge.wrap===2?0:1,ge.last_flush=m,l._tr_init(ge),v):Y(M,x)}function X(M){var ge=K(M);return ge===v&&(function(B){B.window_size=2*B.w_size,te(B.head),B.max_lazy_match=a[B.level].max_lazy,B.good_match=a[B.level].good_length,B.nice_match=a[B.level].nice_length,B.max_chain_length=a[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=A-1,B.match_available=0,B.ins_h=0})(M.state),ge}function me(M,ge,B,C,k,L){if(!M)return x;var ee=1;if(ge===y&&(ge=6),C<0?(ee=0,C=-C):15<C&&(ee=2,C-=16),k<1||_<k||B!==N||C<8||15<C||ge<0||9<ge||L<0||b<L)return Y(M,x);C===8&&(C=9);var ue=new Q;return(M.state=ue).strm=M,ue.wrap=ee,ue.gzhead=null,ue.w_bits=C,ue.w_size=1<<ue.w_bits,ue.w_mask=ue.w_size-1,ue.hash_bits=k+7,ue.hash_size=1<<ue.hash_bits,ue.hash_mask=ue.hash_size-1,ue.hash_shift=~~((ue.hash_bits+A-1)/A),ue.window=new c.Buf8(2*ue.w_size),ue.head=new c.Buf16(ue.hash_size),ue.prev=new c.Buf16(ue.w_size),ue.lit_bufsize=1<<k+6,ue.pending_buf_size=4*ue.lit_bufsize,ue.pending_buf=new c.Buf8(ue.pending_buf_size),ue.d_buf=1*ue.lit_bufsize,ue.l_buf=3*ue.lit_bufsize,ue.level=ge,ue.strategy=L,ue.method=B,X(M)}a=[new re(0,0,0,0,function(M,ge){var B=65535;for(B>M.pending_buf_size-5&&(B=M.pending_buf_size-5);;){if(M.lookahead<=1){if(oe(M),M.lookahead===0&&ge===m)return R;if(M.lookahead===0)break}M.strstart+=M.lookahead,M.lookahead=0;var C=M.block_start+B;if((M.strstart===0||M.strstart>=C)&&(M.lookahead=M.strstart-C,M.strstart=C,H(M,!1),M.strm.avail_out===0)||M.strstart-M.block_start>=M.w_size-pe&&(H(M,!1),M.strm.avail_out===0))return R}return M.insert=0,ge===g?(H(M,!0),M.strm.avail_out===0?ae:q):(M.strstart>M.block_start&&(H(M,!1),M.strm.avail_out),R)}),new re(4,4,8,4,I),new re(4,5,16,8,I),new re(4,6,32,32,I),new re(4,4,16,16,O),new re(8,16,32,32,O),new re(8,16,128,128,O),new re(8,32,128,256,O),new re(32,128,258,1024,O),new re(32,258,258,4096,O)],i.deflateInit=function(M,ge){return me(M,ge,N,15,8,0)},i.deflateInit2=me,i.deflateReset=X,i.deflateResetKeep=K,i.deflateSetHeader=function(M,ge){return M&&M.state?M.state.wrap!==2?x:(M.state.gzhead=ge,v):x},i.deflate=function(M,ge){var B,C,k,L;if(!M||!M.state||5<ge||ge<0)return M?Y(M,x):x;if(C=M.state,!M.output||!M.input&&M.avail_in!==0||C.status===666&&ge!==g)return Y(M,M.avail_out===0?-5:x);if(C.strm=M,B=C.last_flush,C.last_flush=ge,C.status===z)if(C.wrap===2)M.adler=0,se(C,31),se(C,139),se(C,8),C.gzhead?(se(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),se(C,255&C.gzhead.time),se(C,C.gzhead.time>>8&255),se(C,C.gzhead.time>>16&255),se(C,C.gzhead.time>>24&255),se(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),se(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(se(C,255&C.gzhead.extra.length),se(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(M.adler=h(M.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(se(C,0),se(C,0),se(C,0),se(C,0),se(C,0),se(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),se(C,3),C.status=G);else{var ee=N+(C.w_bits-8<<4)<<8;ee|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(ee|=32),ee+=31-ee%31,C.status=G,ce(C,ee),C.strstart!==0&&(ce(C,M.adler>>>16),ce(C,65535&M.adler)),M.adler=1}if(C.status===69)if(C.gzhead.extra){for(k=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>k&&(M.adler=h(M.adler,C.pending_buf,C.pending-k,k)),W(M),k=C.pending,C.pending!==C.pending_buf_size));)se(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>k&&(M.adler=h(M.adler,C.pending_buf,C.pending-k,k)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){k=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>k&&(M.adler=h(M.adler,C.pending_buf,C.pending-k,k)),W(M),k=C.pending,C.pending===C.pending_buf_size)){L=1;break}L=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,se(C,L)}while(L!==0);C.gzhead.hcrc&&C.pending>k&&(M.adler=h(M.adler,C.pending_buf,C.pending-k,k)),L===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){k=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>k&&(M.adler=h(M.adler,C.pending_buf,C.pending-k,k)),W(M),k=C.pending,C.pending===C.pending_buf_size)){L=1;break}L=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,se(C,L)}while(L!==0);C.gzhead.hcrc&&C.pending>k&&(M.adler=h(M.adler,C.pending_buf,C.pending-k,k)),L===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&W(M),C.pending+2<=C.pending_buf_size&&(se(C,255&M.adler),se(C,M.adler>>8&255),M.adler=0,C.status=G)):C.status=G),C.pending!==0){if(W(M),M.avail_out===0)return C.last_flush=-1,v}else if(M.avail_in===0&&ne(ge)<=ne(B)&&ge!==g)return Y(M,-5);if(C.status===666&&M.avail_in!==0)return Y(M,-5);if(M.avail_in!==0||C.lookahead!==0||ge!==m&&C.status!==666){var ue=C.strategy===2?(function(ie,be){for(var Ne;;){if(ie.lookahead===0&&(oe(ie),ie.lookahead===0)){if(be===m)return R;break}if(ie.match_length=0,Ne=l._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++,Ne&&(H(ie,!1),ie.strm.avail_out===0))return R}return ie.insert=0,be===g?(H(ie,!0),ie.strm.avail_out===0?ae:q):ie.last_lit&&(H(ie,!1),ie.strm.avail_out===0)?R:Z})(C,ge):C.strategy===3?(function(ie,be){for(var Ne,_e,Me,He,Qe=ie.window;;){if(ie.lookahead<=J){if(oe(ie),ie.lookahead<=J&&be===m)return R;if(ie.lookahead===0)break}if(ie.match_length=0,ie.lookahead>=A&&0<ie.strstart&&(_e=Qe[Me=ie.strstart-1])===Qe[++Me]&&_e===Qe[++Me]&&_e===Qe[++Me]){He=ie.strstart+J;do;while(_e===Qe[++Me]&&_e===Qe[++Me]&&_e===Qe[++Me]&&_e===Qe[++Me]&&_e===Qe[++Me]&&_e===Qe[++Me]&&_e===Qe[++Me]&&_e===Qe[++Me]&&Me<He);ie.match_length=J-(He-Me),ie.match_length>ie.lookahead&&(ie.match_length=ie.lookahead)}if(ie.match_length>=A?(Ne=l._tr_tally(ie,1,ie.match_length-A),ie.lookahead-=ie.match_length,ie.strstart+=ie.match_length,ie.match_length=0):(Ne=l._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++),Ne&&(H(ie,!1),ie.strm.avail_out===0))return R}return ie.insert=0,be===g?(H(ie,!0),ie.strm.avail_out===0?ae:q):ie.last_lit&&(H(ie,!1),ie.strm.avail_out===0)?R:Z})(C,ge):a[C.level].func(C,ge);if(ue!==ae&&ue!==q||(C.status=666),ue===R||ue===ae)return M.avail_out===0&&(C.last_flush=-1),v;if(ue===Z&&(ge===1?l._tr_align(C):ge!==5&&(l._tr_stored_block(C,0,0,!1),ge===3&&(te(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),W(M),M.avail_out===0))return C.last_flush=-1,v}return ge!==g?v:C.wrap<=0?1:(C.wrap===2?(se(C,255&M.adler),se(C,M.adler>>8&255),se(C,M.adler>>16&255),se(C,M.adler>>24&255),se(C,255&M.total_in),se(C,M.total_in>>8&255),se(C,M.total_in>>16&255),se(C,M.total_in>>24&255)):(ce(C,M.adler>>>16),ce(C,65535&M.adler)),W(M),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?v:1)},i.deflateEnd=function(M){var ge;return M&&M.state?(ge=M.state.status)!==z&&ge!==69&&ge!==73&&ge!==91&&ge!==103&&ge!==G&&ge!==666?Y(M,x):(M.state=null,ge===G?Y(M,-3):v):x},i.deflateSetDictionary=function(M,ge){var B,C,k,L,ee,ue,ie,be,Ne=ge.length;if(!M||!M.state||(L=(B=M.state).wrap)===2||L===1&&B.status!==z||B.lookahead)return x;for(L===1&&(M.adler=d(M.adler,ge,Ne,0)),B.wrap=0,Ne>=B.w_size&&(L===0&&(te(B.head),B.strstart=0,B.block_start=0,B.insert=0),be=new c.Buf8(B.w_size),c.arraySet(be,ge,Ne-B.w_size,B.w_size,0),ge=be,Ne=B.w_size),ee=M.avail_in,ue=M.next_in,ie=M.input,M.avail_in=Ne,M.next_in=0,M.input=ge,oe(B);B.lookahead>=A;){for(C=B.strstart,k=B.lookahead-(A-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[C+A-1])&B.hash_mask,B.prev[C&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=C,C++,--k;);B.strstart=C,B.lookahead=A-1,oe(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=A-1,B.match_available=0,M.next_in=ue,M.input=ie,M.avail_in=ee,B.wrap=L,v},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(a,c){var l,d,h,f,m,g,v,x,y,b,w,N,_,S,T,F,U,$,A,J,pe,z,G,R,Z;l=a.state,d=a.next_in,R=a.input,h=d+(a.avail_in-5),f=a.next_out,Z=a.output,m=f-(c-a.avail_out),g=f+(a.avail_out-257),v=l.dmax,x=l.wsize,y=l.whave,b=l.wnext,w=l.window,N=l.hold,_=l.bits,S=l.lencode,T=l.distcode,F=(1<<l.lenbits)-1,U=(1<<l.distbits)-1;e:do{_<15&&(N+=R[d++]<<_,_+=8,N+=R[d++]<<_,_+=8),$=S[N&F];t:for(;;){if(N>>>=A=$>>>24,_-=A,(A=$>>>16&255)===0)Z[f++]=65535&$;else{if(!(16&A)){if((64&A)==0){$=S[(65535&$)+(N&(1<<A)-1)];continue t}if(32&A){l.mode=12;break e}a.msg="invalid literal/length code",l.mode=30;break e}J=65535&$,(A&=15)&&(_<A&&(N+=R[d++]<<_,_+=8),J+=N&(1<<A)-1,N>>>=A,_-=A),_<15&&(N+=R[d++]<<_,_+=8,N+=R[d++]<<_,_+=8),$=T[N&U];r:for(;;){if(N>>>=A=$>>>24,_-=A,!(16&(A=$>>>16&255))){if((64&A)==0){$=T[(65535&$)+(N&(1<<A)-1)];continue r}a.msg="invalid distance code",l.mode=30;break e}if(pe=65535&$,_<(A&=15)&&(N+=R[d++]<<_,(_+=8)<A&&(N+=R[d++]<<_,_+=8)),v<(pe+=N&(1<<A)-1)){a.msg="invalid distance too far back",l.mode=30;break e}if(N>>>=A,_-=A,(A=f-m)<pe){if(y<(A=pe-A)&&l.sane){a.msg="invalid distance too far back",l.mode=30;break e}if(G=w,(z=0)===b){if(z+=x-A,A<J){for(J-=A;Z[f++]=w[z++],--A;);z=f-pe,G=Z}}else if(b<A){if(z+=x+b-A,(A-=b)<J){for(J-=A;Z[f++]=w[z++],--A;);if(z=0,b<J){for(J-=A=b;Z[f++]=w[z++],--A;);z=f-pe,G=Z}}}else if(z+=b-A,A<J){for(J-=A;Z[f++]=w[z++],--A;);z=f-pe,G=Z}for(;2<J;)Z[f++]=G[z++],Z[f++]=G[z++],Z[f++]=G[z++],J-=3;J&&(Z[f++]=G[z++],1<J&&(Z[f++]=G[z++]))}else{for(z=f-pe;Z[f++]=Z[z++],Z[f++]=Z[z++],Z[f++]=Z[z++],2<(J-=3););J&&(Z[f++]=Z[z++],1<J&&(Z[f++]=Z[z++]))}break}}break}}while(d<h&&f<g);d-=J=_>>3,N&=(1<<(_-=J<<3))-1,a.next_in=d,a.next_out=f,a.avail_in=d<h?h-d+5:5-(d-h),a.avail_out=f<g?g-f+257:257-(f-g),l.hold=N,l.bits=_}},{}],49:[function(r,n,i){var a=r("../utils/common"),c=r("./adler32"),l=r("./crc32"),d=r("./inffast"),h=r("./inftrees"),f=1,m=2,g=0,v=-2,x=1,y=852,b=592;function w(z){return(z>>>24&255)+(z>>>8&65280)+((65280&z)<<8)+((255&z)<<24)}function N(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(z){var G;return z&&z.state?(G=z.state,z.total_in=z.total_out=G.total=0,z.msg="",G.wrap&&(z.adler=1&G.wrap),G.mode=x,G.last=0,G.havedict=0,G.dmax=32768,G.head=null,G.hold=0,G.bits=0,G.lencode=G.lendyn=new a.Buf32(y),G.distcode=G.distdyn=new a.Buf32(b),G.sane=1,G.back=-1,g):v}function S(z){var G;return z&&z.state?((G=z.state).wsize=0,G.whave=0,G.wnext=0,_(z)):v}function T(z,G){var R,Z;return z&&z.state?(Z=z.state,G<0?(R=0,G=-G):(R=1+(G>>4),G<48&&(G&=15)),G&&(G<8||15<G)?v:(Z.window!==null&&Z.wbits!==G&&(Z.window=null),Z.wrap=R,Z.wbits=G,S(z))):v}function F(z,G){var R,Z;return z?(Z=new N,(z.state=Z).window=null,(R=T(z,G))!==g&&(z.state=null),R):v}var U,$,A=!0;function J(z){if(A){var G;for(U=new a.Buf32(512),$=new a.Buf32(32),G=0;G<144;)z.lens[G++]=8;for(;G<256;)z.lens[G++]=9;for(;G<280;)z.lens[G++]=7;for(;G<288;)z.lens[G++]=8;for(h(f,z.lens,0,288,U,0,z.work,{bits:9}),G=0;G<32;)z.lens[G++]=5;h(m,z.lens,0,32,$,0,z.work,{bits:5}),A=!1}z.lencode=U,z.lenbits=9,z.distcode=$,z.distbits=5}function pe(z,G,R,Z){var ae,q=z.state;return q.window===null&&(q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new a.Buf8(q.wsize)),Z>=q.wsize?(a.arraySet(q.window,G,R-q.wsize,q.wsize,0),q.wnext=0,q.whave=q.wsize):(Z<(ae=q.wsize-q.wnext)&&(ae=Z),a.arraySet(q.window,G,R-Z,ae,q.wnext),(Z-=ae)?(a.arraySet(q.window,G,R-Z,Z,0),q.wnext=Z,q.whave=q.wsize):(q.wnext+=ae,q.wnext===q.wsize&&(q.wnext=0),q.whave<q.wsize&&(q.whave+=ae))),0}i.inflateReset=S,i.inflateReset2=T,i.inflateResetKeep=_,i.inflateInit=function(z){return F(z,15)},i.inflateInit2=F,i.inflate=function(z,G){var R,Z,ae,q,Y,ne,te,W,H,se,ce,he,oe,I,O,re,Q,K,X,me,M,ge,B,C,k=0,L=new a.Buf8(4),ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!z||!z.state||!z.output||!z.input&&z.avail_in!==0)return v;(R=z.state).mode===12&&(R.mode=13),Y=z.next_out,ae=z.output,te=z.avail_out,q=z.next_in,Z=z.input,ne=z.avail_in,W=R.hold,H=R.bits,se=ne,ce=te,ge=g;e:for(;;)switch(R.mode){case x:if(R.wrap===0){R.mode=13;break}for(;H<16;){if(ne===0)break e;ne--,W+=Z[q++]<<H,H+=8}if(2&R.wrap&&W===35615){L[R.check=0]=255&W,L[1]=W>>>8&255,R.check=l(R.check,L,2,0),H=W=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&W)<<8)+(W>>8))%31){z.msg="incorrect header check",R.mode=30;break}if((15&W)!=8){z.msg="unknown compression method",R.mode=30;break}if(H-=4,M=8+(15&(W>>>=4)),R.wbits===0)R.wbits=M;else if(M>R.wbits){z.msg="invalid window size",R.mode=30;break}R.dmax=1<<M,z.adler=R.check=1,R.mode=512&W?10:12,H=W=0;break;case 2:for(;H<16;){if(ne===0)break e;ne--,W+=Z[q++]<<H,H+=8}if(R.flags=W,(255&R.flags)!=8){z.msg="unknown compression method",R.mode=30;break}if(57344&R.flags){z.msg="unknown header flags set",R.mode=30;break}R.head&&(R.head.text=W>>8&1),512&R.flags&&(L[0]=255&W,L[1]=W>>>8&255,R.check=l(R.check,L,2,0)),H=W=0,R.mode=3;case 3:for(;H<32;){if(ne===0)break e;ne--,W+=Z[q++]<<H,H+=8}R.head&&(R.head.time=W),512&R.flags&&(L[0]=255&W,L[1]=W>>>8&255,L[2]=W>>>16&255,L[3]=W>>>24&255,R.check=l(R.check,L,4,0)),H=W=0,R.mode=4;case 4:for(;H<16;){if(ne===0)break e;ne--,W+=Z[q++]<<H,H+=8}R.head&&(R.head.xflags=255&W,R.head.os=W>>8),512&R.flags&&(L[0]=255&W,L[1]=W>>>8&255,R.check=l(R.check,L,2,0)),H=W=0,R.mode=5;case 5:if(1024&R.flags){for(;H<16;){if(ne===0)break e;ne--,W+=Z[q++]<<H,H+=8}R.length=W,R.head&&(R.head.extra_len=W),512&R.flags&&(L[0]=255&W,L[1]=W>>>8&255,R.check=l(R.check,L,2,0)),H=W=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&(ne<(he=R.length)&&(he=ne),he&&(R.head&&(M=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),a.arraySet(R.head.extra,Z,q,he,M)),512&R.flags&&(R.check=l(R.check,Z,he,q)),ne-=he,q+=he,R.length-=he),R.length))break e;R.length=0,R.mode=7;case 7:if(2048&R.flags){if(ne===0)break e;for(he=0;M=Z[q+he++],R.head&&M&&R.length<65536&&(R.head.name+=String.fromCharCode(M)),M&&he<ne;);if(512&R.flags&&(R.check=l(R.check,Z,he,q)),ne-=he,q+=he,M)break e}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if(ne===0)break e;for(he=0;M=Z[q+he++],R.head&&M&&R.length<65536&&(R.head.comment+=String.fromCharCode(M)),M&&he<ne;);if(512&R.flags&&(R.check=l(R.check,Z,he,q)),ne-=he,q+=he,M)break e}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;H<16;){if(ne===0)break e;ne--,W+=Z[q++]<<H,H+=8}if(W!==(65535&R.check)){z.msg="header crc mismatch",R.mode=30;break}H=W=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),z.adler=R.check=0,R.mode=12;break;case 10:for(;H<32;){if(ne===0)break e;ne--,W+=Z[q++]<<H,H+=8}z.adler=R.check=w(W),H=W=0,R.mode=11;case 11:if(R.havedict===0)return z.next_out=Y,z.avail_out=te,z.next_in=q,z.avail_in=ne,R.hold=W,R.bits=H,2;z.adler=R.check=1,R.mode=12;case 12:if(G===5||G===6)break e;case 13:if(R.last){W>>>=7&H,H-=7&H,R.mode=27;break}for(;H<3;){if(ne===0)break e;ne--,W+=Z[q++]<<H,H+=8}switch(R.last=1&W,H-=1,3&(W>>>=1)){case 0:R.mode=14;break;case 1:if(J(R),R.mode=20,G!==6)break;W>>>=2,H-=2;break e;case 2:R.mode=17;break;case 3:z.msg="invalid block type",R.mode=30}W>>>=2,H-=2;break;case 14:for(W>>>=7&H,H-=7&H;H<32;){if(ne===0)break e;ne--,W+=Z[q++]<<H,H+=8}if((65535&W)!=(W>>>16^65535)){z.msg="invalid stored block lengths",R.mode=30;break}if(R.length=65535&W,H=W=0,R.mode=15,G===6)break e;case 15:R.mode=16;case 16:if(he=R.length){if(ne<he&&(he=ne),te<he&&(he=te),he===0)break e;a.arraySet(ae,Z,q,he,Y),ne-=he,q+=he,te-=he,Y+=he,R.length-=he;break}R.mode=12;break;case 17:for(;H<14;){if(ne===0)break e;ne--,W+=Z[q++]<<H,H+=8}if(R.nlen=257+(31&W),W>>>=5,H-=5,R.ndist=1+(31&W),W>>>=5,H-=5,R.ncode=4+(15&W),W>>>=4,H-=4,286<R.nlen||30<R.ndist){z.msg="too many length or distance symbols",R.mode=30;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;H<3;){if(ne===0)break e;ne--,W+=Z[q++]<<H,H+=8}R.lens[ee[R.have++]]=7&W,W>>>=3,H-=3}for(;R.have<19;)R.lens[ee[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,B={bits:R.lenbits},ge=h(0,R.lens,0,19,R.lencode,0,R.work,B),R.lenbits=B.bits,ge){z.msg="invalid code lengths set",R.mode=30;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;re=(k=R.lencode[W&(1<<R.lenbits)-1])>>>16&255,Q=65535&k,!((O=k>>>24)<=H);){if(ne===0)break e;ne--,W+=Z[q++]<<H,H+=8}if(Q<16)W>>>=O,H-=O,R.lens[R.have++]=Q;else{if(Q===16){for(C=O+2;H<C;){if(ne===0)break e;ne--,W+=Z[q++]<<H,H+=8}if(W>>>=O,H-=O,R.have===0){z.msg="invalid bit length repeat",R.mode=30;break}M=R.lens[R.have-1],he=3+(3&W),W>>>=2,H-=2}else if(Q===17){for(C=O+3;H<C;){if(ne===0)break e;ne--,W+=Z[q++]<<H,H+=8}H-=O,M=0,he=3+(7&(W>>>=O)),W>>>=3,H-=3}else{for(C=O+7;H<C;){if(ne===0)break e;ne--,W+=Z[q++]<<H,H+=8}H-=O,M=0,he=11+(127&(W>>>=O)),W>>>=7,H-=7}if(R.have+he>R.nlen+R.ndist){z.msg="invalid bit length repeat",R.mode=30;break}for(;he--;)R.lens[R.have++]=M}}if(R.mode===30)break;if(R.lens[256]===0){z.msg="invalid code -- missing end-of-block",R.mode=30;break}if(R.lenbits=9,B={bits:R.lenbits},ge=h(f,R.lens,0,R.nlen,R.lencode,0,R.work,B),R.lenbits=B.bits,ge){z.msg="invalid literal/lengths set",R.mode=30;break}if(R.distbits=6,R.distcode=R.distdyn,B={bits:R.distbits},ge=h(m,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,B),R.distbits=B.bits,ge){z.msg="invalid distances set",R.mode=30;break}if(R.mode=20,G===6)break e;case 20:R.mode=21;case 21:if(6<=ne&&258<=te){z.next_out=Y,z.avail_out=te,z.next_in=q,z.avail_in=ne,R.hold=W,R.bits=H,d(z,ce),Y=z.next_out,ae=z.output,te=z.avail_out,q=z.next_in,Z=z.input,ne=z.avail_in,W=R.hold,H=R.bits,R.mode===12&&(R.back=-1);break}for(R.back=0;re=(k=R.lencode[W&(1<<R.lenbits)-1])>>>16&255,Q=65535&k,!((O=k>>>24)<=H);){if(ne===0)break e;ne--,W+=Z[q++]<<H,H+=8}if(re&&(240&re)==0){for(K=O,X=re,me=Q;re=(k=R.lencode[me+((W&(1<<K+X)-1)>>K)])>>>16&255,Q=65535&k,!(K+(O=k>>>24)<=H);){if(ne===0)break e;ne--,W+=Z[q++]<<H,H+=8}W>>>=K,H-=K,R.back+=K}if(W>>>=O,H-=O,R.back+=O,R.length=Q,re===0){R.mode=26;break}if(32&re){R.back=-1,R.mode=12;break}if(64&re){z.msg="invalid literal/length code",R.mode=30;break}R.extra=15&re,R.mode=22;case 22:if(R.extra){for(C=R.extra;H<C;){if(ne===0)break e;ne--,W+=Z[q++]<<H,H+=8}R.length+=W&(1<<R.extra)-1,W>>>=R.extra,H-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;re=(k=R.distcode[W&(1<<R.distbits)-1])>>>16&255,Q=65535&k,!((O=k>>>24)<=H);){if(ne===0)break e;ne--,W+=Z[q++]<<H,H+=8}if((240&re)==0){for(K=O,X=re,me=Q;re=(k=R.distcode[me+((W&(1<<K+X)-1)>>K)])>>>16&255,Q=65535&k,!(K+(O=k>>>24)<=H);){if(ne===0)break e;ne--,W+=Z[q++]<<H,H+=8}W>>>=K,H-=K,R.back+=K}if(W>>>=O,H-=O,R.back+=O,64&re){z.msg="invalid distance code",R.mode=30;break}R.offset=Q,R.extra=15&re,R.mode=24;case 24:if(R.extra){for(C=R.extra;H<C;){if(ne===0)break e;ne--,W+=Z[q++]<<H,H+=8}R.offset+=W&(1<<R.extra)-1,W>>>=R.extra,H-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){z.msg="invalid distance too far back",R.mode=30;break}R.mode=25;case 25:if(te===0)break e;if(he=ce-te,R.offset>he){if((he=R.offset-he)>R.whave&&R.sane){z.msg="invalid distance too far back",R.mode=30;break}oe=he>R.wnext?(he-=R.wnext,R.wsize-he):R.wnext-he,he>R.length&&(he=R.length),I=R.window}else I=ae,oe=Y-R.offset,he=R.length;for(te<he&&(he=te),te-=he,R.length-=he;ae[Y++]=I[oe++],--he;);R.length===0&&(R.mode=21);break;case 26:if(te===0)break e;ae[Y++]=R.length,te--,R.mode=21;break;case 27:if(R.wrap){for(;H<32;){if(ne===0)break e;ne--,W|=Z[q++]<<H,H+=8}if(ce-=te,z.total_out+=ce,R.total+=ce,ce&&(z.adler=R.check=R.flags?l(R.check,ae,ce,Y-ce):c(R.check,ae,ce,Y-ce)),ce=te,(R.flags?W:w(W))!==R.check){z.msg="incorrect data check",R.mode=30;break}H=W=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;H<32;){if(ne===0)break e;ne--,W+=Z[q++]<<H,H+=8}if(W!==(4294967295&R.total)){z.msg="incorrect length check",R.mode=30;break}H=W=0}R.mode=29;case 29:ge=1;break e;case 30:ge=-3;break e;case 31:return-4;default:return v}return z.next_out=Y,z.avail_out=te,z.next_in=q,z.avail_in=ne,R.hold=W,R.bits=H,(R.wsize||ce!==z.avail_out&&R.mode<30&&(R.mode<27||G!==4))&&pe(z,z.output,z.next_out,ce-z.avail_out)?(R.mode=31,-4):(se-=z.avail_in,ce-=z.avail_out,z.total_in+=se,z.total_out+=ce,R.total+=ce,R.wrap&&ce&&(z.adler=R.check=R.flags?l(R.check,ae,ce,z.next_out-ce):c(R.check,ae,ce,z.next_out-ce)),z.data_type=R.bits+(R.last?64:0)+(R.mode===12?128:0)+(R.mode===20||R.mode===15?256:0),(se==0&&ce===0||G===4)&&ge===g&&(ge=-5),ge)},i.inflateEnd=function(z){if(!z||!z.state)return v;var G=z.state;return G.window&&(G.window=null),z.state=null,g},i.inflateGetHeader=function(z,G){var R;return z&&z.state?(2&(R=z.state).wrap)==0?v:((R.head=G).done=!1,g):v},i.inflateSetDictionary=function(z,G){var R,Z=G.length;return z&&z.state?(R=z.state).wrap!==0&&R.mode!==11?v:R.mode===11&&c(1,G,Z,0)!==R.check?-3:pe(z,G,Z,Z)?(R.mode=31,-4):(R.havedict=1,g):v},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var a=r("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(f,m,g,v,x,y,b,w){var N,_,S,T,F,U,$,A,J,pe=w.bits,z=0,G=0,R=0,Z=0,ae=0,q=0,Y=0,ne=0,te=0,W=0,H=null,se=0,ce=new a.Buf16(16),he=new a.Buf16(16),oe=null,I=0;for(z=0;z<=15;z++)ce[z]=0;for(G=0;G<v;G++)ce[m[g+G]]++;for(ae=pe,Z=15;1<=Z&&ce[Z]===0;Z--);if(Z<ae&&(ae=Z),Z===0)return x[y++]=20971520,x[y++]=20971520,w.bits=1,0;for(R=1;R<Z&&ce[R]===0;R++);for(ae<R&&(ae=R),z=ne=1;z<=15;z++)if(ne<<=1,(ne-=ce[z])<0)return-1;if(0<ne&&(f===0||Z!==1))return-1;for(he[1]=0,z=1;z<15;z++)he[z+1]=he[z]+ce[z];for(G=0;G<v;G++)m[g+G]!==0&&(b[he[m[g+G]]++]=G);if(U=f===0?(H=oe=b,19):f===1?(H=c,se-=257,oe=l,I-=257,256):(H=d,oe=h,-1),z=R,F=y,Y=G=W=0,S=-1,T=(te=1<<(q=ae))-1,f===1&&852<te||f===2&&592<te)return 1;for(;;){for($=z-Y,J=b[G]<U?(A=0,b[G]):b[G]>U?(A=oe[I+b[G]],H[se+b[G]]):(A=96,0),N=1<<z-Y,R=_=1<<q;x[F+(W>>Y)+(_-=N)]=$<<24|A<<16|J|0,_!==0;);for(N=1<<z-1;W&N;)N>>=1;if(N!==0?(W&=N-1,W+=N):W=0,G++,--ce[z]==0){if(z===Z)break;z=m[g+b[G]]}if(ae<z&&(W&T)!==S){for(Y===0&&(Y=ae),F+=R,ne=1<<(q=z-Y);q+Y<Z&&!((ne-=ce[q+Y])<=0);)q++,ne<<=1;if(te+=1<<q,f===1&&852<te||f===2&&592<te)return 1;x[S=W&T]=ae<<24|q<<16|F-y|0}}return W!==0&&(x[F+W]=z-Y<<24|64<<16|0),w.bits=ae,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var a=r("../utils/common"),c=0,l=1;function d(k){for(var L=k.length;0<=--L;)k[L]=0}var h=0,f=29,m=256,g=m+1+f,v=30,x=19,y=2*g+1,b=15,w=16,N=7,_=256,S=16,T=17,F=18,U=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],$=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pe=new Array(2*(g+2));d(pe);var z=new Array(2*v);d(z);var G=new Array(512);d(G);var R=new Array(256);d(R);var Z=new Array(f);d(Z);var ae,q,Y,ne=new Array(v);function te(k,L,ee,ue,ie){this.static_tree=k,this.extra_bits=L,this.extra_base=ee,this.elems=ue,this.max_length=ie,this.has_stree=k&&k.length}function W(k,L){this.dyn_tree=k,this.max_code=0,this.stat_desc=L}function H(k){return k<256?G[k]:G[256+(k>>>7)]}function se(k,L){k.pending_buf[k.pending++]=255&L,k.pending_buf[k.pending++]=L>>>8&255}function ce(k,L,ee){k.bi_valid>w-ee?(k.bi_buf|=L<<k.bi_valid&65535,se(k,k.bi_buf),k.bi_buf=L>>w-k.bi_valid,k.bi_valid+=ee-w):(k.bi_buf|=L<<k.bi_valid&65535,k.bi_valid+=ee)}function he(k,L,ee){ce(k,ee[2*L],ee[2*L+1])}function oe(k,L){for(var ee=0;ee|=1&k,k>>>=1,ee<<=1,0<--L;);return ee>>>1}function I(k,L,ee){var ue,ie,be=new Array(b+1),Ne=0;for(ue=1;ue<=b;ue++)be[ue]=Ne=Ne+ee[ue-1]<<1;for(ie=0;ie<=L;ie++){var _e=k[2*ie+1];_e!==0&&(k[2*ie]=oe(be[_e]++,_e))}}function O(k){var L;for(L=0;L<g;L++)k.dyn_ltree[2*L]=0;for(L=0;L<v;L++)k.dyn_dtree[2*L]=0;for(L=0;L<x;L++)k.bl_tree[2*L]=0;k.dyn_ltree[2*_]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function re(k){8<k.bi_valid?se(k,k.bi_buf):0<k.bi_valid&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function Q(k,L,ee,ue){var ie=2*L,be=2*ee;return k[ie]<k[be]||k[ie]===k[be]&&ue[L]<=ue[ee]}function K(k,L,ee){for(var ue=k.heap[ee],ie=ee<<1;ie<=k.heap_len&&(ie<k.heap_len&&Q(L,k.heap[ie+1],k.heap[ie],k.depth)&&ie++,!Q(L,ue,k.heap[ie],k.depth));)k.heap[ee]=k.heap[ie],ee=ie,ie<<=1;k.heap[ee]=ue}function X(k,L,ee){var ue,ie,be,Ne,_e=0;if(k.last_lit!==0)for(;ue=k.pending_buf[k.d_buf+2*_e]<<8|k.pending_buf[k.d_buf+2*_e+1],ie=k.pending_buf[k.l_buf+_e],_e++,ue===0?he(k,ie,L):(he(k,(be=R[ie])+m+1,L),(Ne=U[be])!==0&&ce(k,ie-=Z[be],Ne),he(k,be=H(--ue),ee),(Ne=$[be])!==0&&ce(k,ue-=ne[be],Ne)),_e<k.last_lit;);he(k,_,L)}function me(k,L){var ee,ue,ie,be=L.dyn_tree,Ne=L.stat_desc.static_tree,_e=L.stat_desc.has_stree,Me=L.stat_desc.elems,He=-1;for(k.heap_len=0,k.heap_max=y,ee=0;ee<Me;ee++)be[2*ee]!==0?(k.heap[++k.heap_len]=He=ee,k.depth[ee]=0):be[2*ee+1]=0;for(;k.heap_len<2;)be[2*(ie=k.heap[++k.heap_len]=He<2?++He:0)]=1,k.depth[ie]=0,k.opt_len--,_e&&(k.static_len-=Ne[2*ie+1]);for(L.max_code=He,ee=k.heap_len>>1;1<=ee;ee--)K(k,be,ee);for(ie=Me;ee=k.heap[1],k.heap[1]=k.heap[k.heap_len--],K(k,be,1),ue=k.heap[1],k.heap[--k.heap_max]=ee,k.heap[--k.heap_max]=ue,be[2*ie]=be[2*ee]+be[2*ue],k.depth[ie]=(k.depth[ee]>=k.depth[ue]?k.depth[ee]:k.depth[ue])+1,be[2*ee+1]=be[2*ue+1]=ie,k.heap[1]=ie++,K(k,be,1),2<=k.heap_len;);k.heap[--k.heap_max]=k.heap[1],(function(Qe,rr){var Tr,vr,mi,Rt,gi,ko,zr=rr.dyn_tree,Zi=rr.max_code,To=rr.stat_desc.static_tree,Po=rr.stat_desc.has_stree,Ro=rr.stat_desc.extra_bits,is=rr.stat_desc.extra_base,Jr=rr.stat_desc.max_length,vi=0;for(Rt=0;Rt<=b;Rt++)Qe.bl_count[Rt]=0;for(zr[2*Qe.heap[Qe.heap_max]+1]=0,Tr=Qe.heap_max+1;Tr<y;Tr++)Jr<(Rt=zr[2*zr[2*(vr=Qe.heap[Tr])+1]+1]+1)&&(Rt=Jr,vi++),zr[2*vr+1]=Rt,Zi<vr||(Qe.bl_count[Rt]++,gi=0,is<=vr&&(gi=Ro[vr-is]),ko=zr[2*vr],Qe.opt_len+=ko*(Rt+gi),Po&&(Qe.static_len+=ko*(To[2*vr+1]+gi)));if(vi!==0){do{for(Rt=Jr-1;Qe.bl_count[Rt]===0;)Rt--;Qe.bl_count[Rt]--,Qe.bl_count[Rt+1]+=2,Qe.bl_count[Jr]--,vi-=2}while(0<vi);for(Rt=Jr;Rt!==0;Rt--)for(vr=Qe.bl_count[Rt];vr!==0;)Zi<(mi=Qe.heap[--Tr])||(zr[2*mi+1]!==Rt&&(Qe.opt_len+=(Rt-zr[2*mi+1])*zr[2*mi],zr[2*mi+1]=Rt),vr--)}})(k,L),I(be,He,k.bl_count)}function M(k,L,ee){var ue,ie,be=-1,Ne=L[1],_e=0,Me=7,He=4;for(Ne===0&&(Me=138,He=3),L[2*(ee+1)+1]=65535,ue=0;ue<=ee;ue++)ie=Ne,Ne=L[2*(ue+1)+1],++_e<Me&&ie===Ne||(_e<He?k.bl_tree[2*ie]+=_e:ie!==0?(ie!==be&&k.bl_tree[2*ie]++,k.bl_tree[2*S]++):_e<=10?k.bl_tree[2*T]++:k.bl_tree[2*F]++,be=ie,He=(_e=0)===Ne?(Me=138,3):ie===Ne?(Me=6,3):(Me=7,4))}function ge(k,L,ee){var ue,ie,be=-1,Ne=L[1],_e=0,Me=7,He=4;for(Ne===0&&(Me=138,He=3),ue=0;ue<=ee;ue++)if(ie=Ne,Ne=L[2*(ue+1)+1],!(++_e<Me&&ie===Ne)){if(_e<He)for(;he(k,ie,k.bl_tree),--_e!=0;);else ie!==0?(ie!==be&&(he(k,ie,k.bl_tree),_e--),he(k,S,k.bl_tree),ce(k,_e-3,2)):_e<=10?(he(k,T,k.bl_tree),ce(k,_e-3,3)):(he(k,F,k.bl_tree),ce(k,_e-11,7));be=ie,He=(_e=0)===Ne?(Me=138,3):ie===Ne?(Me=6,3):(Me=7,4)}}d(ne);var B=!1;function C(k,L,ee,ue){ce(k,(h<<1)+(ue?1:0),3),(function(ie,be,Ne,_e){re(ie),se(ie,Ne),se(ie,~Ne),a.arraySet(ie.pending_buf,ie.window,be,Ne,ie.pending),ie.pending+=Ne})(k,L,ee)}i._tr_init=function(k){B||((function(){var L,ee,ue,ie,be,Ne=new Array(b+1);for(ie=ue=0;ie<f-1;ie++)for(Z[ie]=ue,L=0;L<1<<U[ie];L++)R[ue++]=ie;for(R[ue-1]=ie,ie=be=0;ie<16;ie++)for(ne[ie]=be,L=0;L<1<<$[ie];L++)G[be++]=ie;for(be>>=7;ie<v;ie++)for(ne[ie]=be<<7,L=0;L<1<<$[ie]-7;L++)G[256+be++]=ie;for(ee=0;ee<=b;ee++)Ne[ee]=0;for(L=0;L<=143;)pe[2*L+1]=8,L++,Ne[8]++;for(;L<=255;)pe[2*L+1]=9,L++,Ne[9]++;for(;L<=279;)pe[2*L+1]=7,L++,Ne[7]++;for(;L<=287;)pe[2*L+1]=8,L++,Ne[8]++;for(I(pe,g+1,Ne),L=0;L<v;L++)z[2*L+1]=5,z[2*L]=oe(L,5);ae=new te(pe,U,m+1,g,b),q=new te(z,$,0,v,b),Y=new te(new Array(0),A,0,x,N)})(),B=!0),k.l_desc=new W(k.dyn_ltree,ae),k.d_desc=new W(k.dyn_dtree,q),k.bl_desc=new W(k.bl_tree,Y),k.bi_buf=0,k.bi_valid=0,O(k)},i._tr_stored_block=C,i._tr_flush_block=function(k,L,ee,ue){var ie,be,Ne=0;0<k.level?(k.strm.data_type===2&&(k.strm.data_type=(function(_e){var Me,He=4093624447;for(Me=0;Me<=31;Me++,He>>>=1)if(1&He&&_e.dyn_ltree[2*Me]!==0)return c;if(_e.dyn_ltree[18]!==0||_e.dyn_ltree[20]!==0||_e.dyn_ltree[26]!==0)return l;for(Me=32;Me<m;Me++)if(_e.dyn_ltree[2*Me]!==0)return l;return c})(k)),me(k,k.l_desc),me(k,k.d_desc),Ne=(function(_e){var Me;for(M(_e,_e.dyn_ltree,_e.l_desc.max_code),M(_e,_e.dyn_dtree,_e.d_desc.max_code),me(_e,_e.bl_desc),Me=x-1;3<=Me&&_e.bl_tree[2*J[Me]+1]===0;Me--);return _e.opt_len+=3*(Me+1)+5+5+4,Me})(k),ie=k.opt_len+3+7>>>3,(be=k.static_len+3+7>>>3)<=ie&&(ie=be)):ie=be=ee+5,ee+4<=ie&&L!==-1?C(k,L,ee,ue):k.strategy===4||be===ie?(ce(k,2+(ue?1:0),3),X(k,pe,z)):(ce(k,4+(ue?1:0),3),(function(_e,Me,He,Qe){var rr;for(ce(_e,Me-257,5),ce(_e,He-1,5),ce(_e,Qe-4,4),rr=0;rr<Qe;rr++)ce(_e,_e.bl_tree[2*J[rr]+1],3);ge(_e,_e.dyn_ltree,Me-1),ge(_e,_e.dyn_dtree,He-1)})(k,k.l_desc.max_code+1,k.d_desc.max_code+1,Ne+1),X(k,k.dyn_ltree,k.dyn_dtree)),O(k),ue&&re(k)},i._tr_tally=function(k,L,ee){return k.pending_buf[k.d_buf+2*k.last_lit]=L>>>8&255,k.pending_buf[k.d_buf+2*k.last_lit+1]=255&L,k.pending_buf[k.l_buf+k.last_lit]=255&ee,k.last_lit++,L===0?k.dyn_ltree[2*ee]++:(k.matches++,L--,k.dyn_ltree[2*(R[ee]+m+1)]++,k.dyn_dtree[2*H(L)]++),k.last_lit===k.lit_bufsize-1},i._tr_align=function(k){ce(k,2,3),he(k,_,pe),(function(L){L.bi_valid===16?(se(L,L.bi_buf),L.bi_buf=0,L.bi_valid=0):8<=L.bi_valid&&(L.pending_buf[L.pending++]=255&L.bi_buf,L.bi_buf>>=8,L.bi_valid-=8)})(k)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(a){(function(c,l){if(!c.setImmediate){var d,h,f,m,g=1,v={},x=!1,y=c.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(c);b=b&&b.setTimeout?b:c,d={}.toString.call(c.process)==="[object process]"?function(S){st.nextTick(function(){N(S)})}:(function(){if(c.postMessage&&!c.importScripts){var S=!0,T=c.onmessage;return c.onmessage=function(){S=!1},c.postMessage("","*"),c.onmessage=T,S}})()?(m="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",_,!1):c.attachEvent("onmessage",_),function(S){c.postMessage(m+S,"*")}):c.MessageChannel?((f=new MessageChannel).port1.onmessage=function(S){N(S.data)},function(S){f.port2.postMessage(S)}):y&&"onreadystatechange"in y.createElement("script")?(h=y.documentElement,function(S){var T=y.createElement("script");T.onreadystatechange=function(){N(S),T.onreadystatechange=null,h.removeChild(T),T=null},h.appendChild(T)}):function(S){setTimeout(N,0,S)},b.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var T=new Array(arguments.length-1),F=0;F<T.length;F++)T[F]=arguments[F+1];var U={callback:S,args:T};return v[g]=U,d(g),g++},b.clearImmediate=w}function w(S){delete v[S]}function N(S){if(x)setTimeout(N,0,S);else{var T=v[S];if(T){x=!0;try{(function(F){var U=F.callback,$=F.args;switch($.length){case 0:U();break;case 1:U($[0]);break;case 2:U($[0],$[1]);break;case 3:U($[0],$[1],$[2]);break;default:U.apply(l,$)}})(T)}finally{w(S),x=!1}}}}function _(S){S.source===c&&typeof S.data=="string"&&S.data.indexOf(m)===0&&N(+S.data.slice(m.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Kn<"u"?Kn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Ag)),Ag.exports}var Tq=kq();const Pq=JT(Tq);var Sl={exports:{}},Dg,K_;function Rq(){if(K_)return Dg;K_=1;var e={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function t(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(n,i){return e[i]}):r}return Dg=t,Dg}var G_;function Aq(){if(G_)return Sl.exports;G_=1;var e=Rq(),t=ox().Stream,r="    ";function n(h,f){typeof f!="object"&&(f={indent:f});var m=f.stream?new t:null,g="",v=!1,x=f.indent?f.indent===!0?r:f.indent:"",y=!0;function b(T){y?st.nextTick(T):T()}function w(T,F){if(F!==void 0&&(g+=F),T&&!v&&(m=m||new t,v=!0),T&&v){var U=g;b(function(){m.emit("data",U)}),g=""}}function N(T,F){l(w,c(T,x,x?1:0),F)}function _(){if(m){var T=g;b(function(){m.emit("data",T),m.emit("end"),m.readable=!1,m.emit("close")})}}function S(T){var F=T.encoding||"UTF-8",U={version:"1.0",encoding:F};T.standalone&&(U.standalone=T.standalone),N({"?xml":{_attr:U}}),g=g.replace("/>","?>")}return b(function(){y=!1}),f.declaration&&S(f.declaration),h&&h.forEach?h.forEach(function(T,F){var U;F+1===h.length&&(U=_),N(T,U)}):N(h,_),m?(m.readable=!0,m):g}function i(){var h=Array.prototype.slice.call(arguments),f={_elem:c(h)};return f.push=function(m){if(!this.append)throw new Error("not assigned to a parent!");var g=this,v=this._elem.indent;l(this.append,c(m,v,this._elem.icount+(v?1:0)),function(){g.append(!0)})},f.close=function(m){m!==void 0&&this.push(m),this.end&&this.end()},f}function a(h,f){return new Array(f||0).join(h||"")}function c(h,f,m){m=m||0;var g=a(f,m),v,x=h,y=!1;if(typeof h=="object"){var b=Object.keys(h);if(v=b[0],x=h[v],x&&x._elem)return x._elem.name=v,x._elem.icount=m,x._elem.indent=f,x._elem.indents=g,x._elem.interrupt=x,x._elem}var w=[],N=[],_;function S(T){var F=Object.keys(T);F.forEach(function(U){w.push(d(U,T[U]))})}switch(typeof x){case"object":if(x===null)break;x._attr&&S(x._attr),x._cdata&&N.push(("<![CDATA["+x._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),x.forEach&&(_=!1,N.push(""),x.forEach(function(T){if(typeof T=="object"){var F=Object.keys(T)[0];F=="_attr"?S(T._attr):N.push(c(T,f,m+1))}else N.pop(),_=!0,N.push(e(T))}),_||N.push(""));break;default:N.push(e(x))}return{name:v,interrupt:y,attributes:w,content:N,icount:m,indents:g,indent:f}}function l(h,f,m){if(typeof f!="object")return h(!1,f);var g=f.interrupt?1:f.content.length;function v(){for(;f.content.length;){var y=f.content.shift();if(y!==void 0){if(x(y))return;l(h,y)}}h(!1,(g>1?f.indents:"")+(f.name?"</"+f.name+">":"")+(f.indent&&!m?`
`:"")),m&&m()}function x(y){return y.interrupt?(y.interrupt.append=h,y.interrupt.end=v,y.interrupt=!1,h(!0),!0):!1}if(h(!1,f.indents+(f.name?"<"+f.name:"")+(f.attributes.length?" "+f.attributes.join(" "):"")+(g?f.name?">":"":f.name?"/>":"")+(f.indent&&g>1?`
`:"")),!g)return h(!1,f.indent?`
`:"");x(f)||v()}function d(h,f){return h+'="'+e(f)+'"'}return Sl.exports=n,Sl.exports.element=Sl.exports.Element=i,Sl.exports}var Dq=Aq();const Lt=JT(Dq),Nl=0,Ig=32,Iq=32,Oq=(e,t)=>{const r=t.replace(/-/g,"");if(r.length!==Iq)throw new Error(`Error: Cannot extract GUID from font filename: ${t}`);const i=r.replace(/(..)/g,"$1 ").trim().split(" ").map(d=>parseInt(d,16));i.reverse();const c=e.slice(Nl,Ig).map((d,h)=>d^i[h%i.length]),l=new Uint8Array(Nl+c.length+Math.max(0,e.length-Ig));return l.set(e.slice(0,Nl)),l.set(c,Nl),l.set(e.slice(Ig),Nl+c.length),l};class Mq{format(t,r={stack:[]}){const n=t.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}}class Fq{replace(t,r,n){let i=t;return r.forEach((a,c)=>{i=i.replace(new RegExp(`{${a.fileName}}`,"g"),(n+c).toString())}),i}getMediaData(t,r){return r.Array.filter(n=>t.search(`{${n.fileName}}`)>0)}}class Lq{replace(t,r){let n=t;for(const i of r)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}}class Uq{constructor(){Se(this,"formatter"),Se(this,"imageReplacer"),Se(this,"numberingReplacer"),this.formatter=new Mq,this.imageReplacer=new Fq,this.numberingReplacer=new Lq}compile(t,r,n=[]){const i=new Pq,a=this.xmlifyFile(t,r),c=new Map(Object.entries(a));for(const[,l]of c)if(Array.isArray(l))for(const d of l)i.file(d.path,d.data);else i.file(l.path,l.data);for(const l of n)i.file(l.path,l.data);for(const l of t.Media.Array)l.type!=="svg"?i.file(`word/media/${l.fileName}`,l.data):(i.file(`word/media/${l.fileName}`,l.data),i.file(`word/media/${l.fallback.fileName}`,l.fallback.data));for(const{data:l,name:d,fontKey:h}of t.FontTable.fontOptionsWithKey){const[f]=d.split(".");i.file(`word/fonts/${f}.odttf`,Oq(l,h))}return i}xmlifyFile(t,r){const n=t.Document.Relationships.RelationshipCount+1,i=Lt(this.formatter.format(t.Document.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),a=t.Comments.Relationships.RelationshipCount+1,c=Lt(this.formatter.format(t.Comments,{viewWrapper:{View:t.Comments,Relationships:t.Comments.Relationships},file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),l=this.imageReplacer.getMediaData(i,t.Media),d=this.imageReplacer.getMediaData(c,t.Media);return{Relationships:{data:(l.forEach((h,f)=>{t.Document.Relationships.createRelationship(n+f,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),t.Document.Relationships.createRelationship(t.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),Lt(this.formatter.format(t.Document.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const h=this.imageReplacer.replace(i,l,n);return this.numberingReplacer.replace(h,t.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const h=Lt(this.formatter.format(t.Styles,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(h,t.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Lt(this.formatter.format(t.CoreProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Lt(this.formatter.format(t.Numbering,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Lt(this.formatter.format(t.FileRelationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:t.Headers.map((h,f)=>{const m=Lt(this.formatter.format(h.View,{viewWrapper:h,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(m,t.Media).forEach((v,x)=>{h.Relationships.createRelationship(x,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${v.fileName}`)}),{data:Lt(this.formatter.format(h.Relationships,{viewWrapper:h,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${f+1}.xml.rels`}}),FooterRelationships:t.Footers.map((h,f)=>{const m=Lt(this.formatter.format(h.View,{viewWrapper:h,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(m,t.Media).forEach((v,x)=>{h.Relationships.createRelationship(x,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${v.fileName}`)}),{data:Lt(this.formatter.format(h.Relationships,{viewWrapper:h,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${f+1}.xml.rels`}}),Headers:t.Headers.map((h,f)=>{const m=Lt(this.formatter.format(h.View,{viewWrapper:h,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),g=this.imageReplacer.getMediaData(m,t.Media),v=this.imageReplacer.replace(m,g,0);return{data:this.numberingReplacer.replace(v,t.Numbering.ConcreteNumbering),path:`word/header${f+1}.xml`}}),Footers:t.Footers.map((h,f)=>{const m=Lt(this.formatter.format(h.View,{viewWrapper:h,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),g=this.imageReplacer.getMediaData(m,t.Media),v=this.imageReplacer.replace(m,g,0);return{data:this.numberingReplacer.replace(v,t.Numbering.ConcreteNumbering),path:`word/footer${f+1}.xml`}}),ContentTypes:{data:Lt(this.formatter.format(t.ContentTypes,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Lt(this.formatter.format(t.CustomProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Lt(this.formatter.format(t.AppProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Lt(this.formatter.format(t.FootNotes.View,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Lt(this.formatter.format(t.FootNotes.Relationships,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Lt(this.formatter.format(t.Settings,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const h=this.imageReplacer.replace(c,d,a);return this.numberingReplacer.replace(h,t.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(d.forEach((h,f)=>{t.Comments.Relationships.createRelationship(a+f,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),Lt(this.formatter.format(t.Comments.Relationships,{viewWrapper:{View:t.Comments,Relationships:t.Comments.Relationships},file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:Lt(this.formatter.format(t.FontTable.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Lt(this.formatter.format(t.FontTable.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const Bq={WITH_2_BLANKS:"  "},Y_=e=>e===!0?Bq.WITH_2_BLANKS:e===!1?void 0:e,O2=class La{static pack(t,r,n){return mH(this,arguments,function*(i,a,c,l=[]){return this.compiler.compile(i,Y_(c),l).generateAsync({type:a,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(t,r,n=[]){return La.pack(t,"string",r,n)}static toBuffer(t,r,n=[]){return La.pack(t,"nodebuffer",r,n)}static toBase64String(t,r,n=[]){return La.pack(t,"base64",r,n)}static toBlob(t,r,n=[]){return La.pack(t,"blob",r,n)}static toArrayBuffer(t,r,n=[]){return La.pack(t,"arraybuffer",r,n)}static toStream(t,r,n=[]){const i=new Cq.Stream;return this.compiler.compile(t,Y_(r),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(c=>{i.emit("data",c),i.emit("end")}),i}};Se(O2,"compiler",new Uq);let Hq=O2;const zq=()=>({downloadDocument:async t=>{try{const r=t.generated_content.split(`
`).map(l=>new Id({children:[new _v(l||" ")]})),n=new Eq({sections:[{properties:{},children:r}]}),i=await Hq.toBlob(n),a=URL.createObjectURL(i),c=window.document.createElement("a");c.href=a,c.download=`${t.document_name}.docx`,window.document.body.appendChild(c),c.click(),window.document.body.removeChild(c),URL.revokeObjectURL(a)}catch(r){console.error("Error generating Word document:",r)}}}),$q=({open:e,onOpenChange:t})=>{const{addTemplate:r}=vh(),[n,i]=E.useState(""),[a,c]=E.useState(""),[l,d]=E.useState([]),[h,f]=E.useState(""),[m,g]=E.useState(!1),v=()=>{h.trim()&&!l.includes(h.trim())&&(d([...l,h.trim()]),f(""))},x=w=>{d(l.filter(N=>N!==w))},y=async w=>{if(w.preventDefault(),!(!n.trim()||!a.trim())){g(!0);try{await r({name:n.trim(),template_content:a.trim(),variables:l}),i(""),c(""),d([]),f(""),t(!1)}catch(N){console.error("Error adding template:",N)}finally{g(!1)}}},b=w=>{w.key==="Enter"&&(w.preventDefault(),v())};return s.jsx(gr,{open:e,onOpenChange:t,children:s.jsxs(ur,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(dr,{children:s.jsx(hr,{children:"Add Contract Template"})}),s.jsxs("form",{onSubmit:y,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"name",children:"Template Name"}),s.jsx(De,{id:"name",value:n,onChange:w=>i(w.target.value),placeholder:"e.g., Monthly Invoice Template",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"variables",children:"Template Variables"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(De,{value:h,onChange:w=>f(w.target.value),onKeyPress:b,placeholder:"e.g., client_name, project_name"}),s.jsx(je,{type:"button",onClick:v,variant:"outline",children:s.jsx(Et,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.map(w=>s.jsxs(Xe,{variant:"secondary",className:"flex items-center gap-1",children:[w,s.jsx(je,{type:"button",variant:"ghost",size:"sm",className:"h-auto p-0 w-4 h-4",onClick:()=>x(w),children:s.jsx(Ur,{className:"w-3 h-3"})})]},w))}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Use variables in your template like this: ","{{variable_name}}"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"content",children:"Template Content"}),s.jsx(tr,{id:"content",value:a,onChange:w=>c(w.target.value),placeholder:"Enter your template content here. Use {{variable_name}} for dynamic content.",className:"min-h-[300px] font-mono text-sm",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(je,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:m,children:"Cancel"}),s.jsx(je,{type:"submit",disabled:m,children:m?"Adding...":"Add Template"})]})]})]})})},Wq=({open:e,onOpenChange:t,template:r})=>{const{updateTemplate:n}=vh(),[i,a]=E.useState(""),[c,l]=E.useState(""),[d,h]=E.useState([]),[f,m]=E.useState(""),[g,v]=E.useState(!1);E.useEffect(()=>{r&&(a(r.name),l(r.template_content),h(r.variables||[]))},[r]);const x=()=>{f.trim()&&!d.includes(f.trim())&&(h([...d,f.trim()]),m(""))},y=N=>{h(d.filter(_=>_!==N))},b=async N=>{if(N.preventDefault(),!(!i.trim()||!c.trim())){v(!0);try{await n(r.id,{name:i.trim(),template_content:c.trim(),variables:d}),t(!1)}catch(_){console.error("Error updating template:",_)}finally{v(!1)}}},w=N=>{N.key==="Enter"&&(N.preventDefault(),x())};return s.jsx(gr,{open:e,onOpenChange:t,children:s.jsxs(ur,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(dr,{children:[s.jsx(hr,{children:"Edit Contract Template"}),s.jsx(hi,{children:"Modify your contract template content and variables."})]}),s.jsxs("form",{onSubmit:b,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"name",children:"Template Name"}),s.jsx(De,{id:"name",value:i,onChange:N=>a(N.target.value),placeholder:"e.g., Monthly Invoice Template",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"variables",children:"Template Variables"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(De,{value:f,onChange:N=>m(N.target.value),onKeyPress:w,placeholder:"e.g., client_name, project_name"}),s.jsx(je,{type:"button",onClick:x,variant:"outline",children:s.jsx(Et,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:d.map(N=>s.jsxs(Xe,{variant:"secondary",className:"flex items-center gap-1",children:[N,s.jsx(je,{type:"button",variant:"ghost",size:"sm",className:"h-auto p-0 w-4 h-4",onClick:()=>y(N),children:s.jsx(Ur,{className:"w-3 h-3"})})]},N))}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Use variables in your template like this: ","{{variable_name}}"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"content",children:"Template Content"}),s.jsx(tr,{id:"content",value:c,onChange:N=>l(N.target.value),placeholder:"Enter your template content here. Use {{variable_name}} for dynamic content.",className:"min-h-[300px] font-mono text-sm",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(je,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:g,children:"Cancel"}),s.jsx(je,{type:"submit",disabled:g,children:g?"Updating...":"Update Template"})]})]})]})})},qq=e=>{const{generateDocument:t}=vh(),{projects:r}=yc(),{clients:n}=Xi(),{tasks:i}=ph(),{toast:a}=Dt(),[c,l]=E.useState(""),[d,h]=E.useState(""),[f,m]=E.useState(""),[g,v]=E.useState({}),[x,y]=E.useState({}),[b,w]=E.useState(""),[N,_]=E.useState(!1),[S,T]=E.useState(!1),[F,U]=E.useState(!1),$=(G,R)=>{let Z=G;return Object.entries(R).forEach(([ae,q])=>{const Y=new RegExp(`{{${ae}}}`,"g");Z=Z.replace(Y,q)}),Z};return E.useEffect(()=>{if(e){const G={};e.variables.forEach(Z=>{G[Z]=""}),v(G),y(G),l(`${e.name} - ${new Date().toLocaleDateString()}`),U(!1);const R=$(e.template_content,G);w(R)}},[e]),E.useEffect(()=>{const G=Object.keys(g).some(R=>g[R]!==x[R]);U(G)},[g,x]),{documentName:c,setDocumentName:l,selectedProjectId:d,setSelectedProjectId:h,selectedClientId:f,setSelectedClientId:m,variables:g,savedVariables:x,generatedContent:b,isSubmitting:N,isPopulating:S,hasUnsavedChanges:F,projects:r,clients:n,populateVariablesFromData:async()=>{if(!f){a({title:"Selection Required",description:"Please select a client first",variant:"destructive"});return}T(!0);try{const G=n.find(R=>R.id.toString()===f);if(G){const R={...x};if(x.hasOwnProperty("client_name")&&(R.client_name=G.name),(x.hasOwnProperty("client_currency")||x.hasOwnProperty("currency"))&&(x.hasOwnProperty("client_currency")&&(R.client_currency=G.currency||"USD"),x.hasOwnProperty("currency")&&(R.currency=G.currency||"USD")),x.hasOwnProperty("hourly_rate")&&G.priceType==="hour"&&(R.hourly_rate=G.price?.toString()||"0"),x.hasOwnProperty("daily_rate")&&G.priceType==="day"&&(R.daily_rate=G.price?.toString()||"0"),x.hasOwnProperty("current_date")&&(R.current_date=new Date().toLocaleDateString("ro-RO")),x.hasOwnProperty("current_month")&&(R.current_month=new Date().toLocaleDateString("ro-RO",{month:"long",year:"numeric"})),d){const Z=r.find(ae=>ae.id===d);if(Z){const q=i.filter(H=>H.projectId===d).filter(H=>H.status==="completed"),Y=q.reduce((H,se)=>H+(se.workedHours||0),0),ne=Z.hourlyRate||G.price,te=Y*ne,W=q.map(H=>`${H.title} - ${H.workedHours||0} hours`).join(`
`);x.hasOwnProperty("project_name")&&(R.project_name=Z.name),x.hasOwnProperty("project_start_date")&&(R.project_start_date=Z.startDate),x.hasOwnProperty("project_end_date")&&(R.project_end_date=Z.endDate||"Ongoing"),x.hasOwnProperty("total_hours")&&(R.total_hours=Y.toString()),x.hasOwnProperty("total_amount")&&(R.total_amount=te.toString()),x.hasOwnProperty("task_list")&&(R.task_list=W),x.hasOwnProperty("hourly_rate")&&Z.hourlyRate&&(R.hourly_rate=Z.hourlyRate.toString())}}v(R),a({title:"Data Populated",description:"Template variables have been filled with client data. Click 'Save & Update Preview' to apply changes."})}}catch(G){console.error("Error populating variables:",G),a({title:"Error",description:"Failed to populate variables from client data",variant:"destructive"})}finally{T(!1)}},saveAndUpdatePreview:()=>{const G={...g};y(G);const R=$(e.template_content,G);w(R),U(!1),a({title:"Preview Updated",description:"Template variables saved and preview updated successfully"})},handleVariableChange:(G,R)=>{v(Z=>({...Z,[G]:R}))},handleSubmit:async(G,R)=>{if(G.trim()){if(F){a({title:"Unsaved Changes",description:"Please save your variables before generating the document",variant:"destructive"});return}_(!0);try{await t(e.id,x,G.trim(),d||void 0,f?parseInt(f):void 0),l(""),h(""),m(""),v({}),y({}),U(!1),R()}catch(Z){console.error("Error generating document:",Z)}finally{_(!1)}}}}},Vq=({documentName:e,setDocumentName:t,selectedProjectId:r,setSelectedProjectId:n,selectedClientId:i,setSelectedClientId:a,projects:c,clients:l,onPopulateData:d,isPopulating:h})=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"documentName",children:"Document Name"}),s.jsx(De,{id:"documentName",value:e,onChange:f=>t(f.target.value),placeholder:"Enter document name",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"project",children:"Project (Optional)"}),s.jsxs(vt,{value:r,onValueChange:n,children:[s.jsx(dt,{children:s.jsx(yt,{placeholder:"Select a project"})}),s.jsx(ht,{children:c.map(f=>s.jsx(Oe,{value:f.id,children:f.name},f.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"client",children:"Client (Optional)"}),s.jsxs(vt,{value:i,onValueChange:a,children:[s.jsx(dt,{children:s.jsx(yt,{placeholder:"Select a client"})}),s.jsx(ht,{children:l.map(f=>s.jsx(Oe,{value:f.id.toString(),children:f.name},f.id))})]})]}),s.jsx("div",{className:"flex items-end space-x-2",children:i&&s.jsx(je,{type:"button",variant:"outline",onClick:d,disabled:h,className:"flex-1",children:h?s.jsxs(s.Fragment,{children:[s.jsx(FD,{className:"w-4 h-4 mr-2 animate-spin"}),"Populating..."]}):"Auto-populate Data"})})]}),Kq=({variables:e,variableValues:t,onVariableChange:r,onSaveAndUpdatePreview:n,hasUnsavedChanges:i})=>e.length===0?null:s.jsxs(We,{children:[s.jsxs(ot,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(lt,{className:"text-lg",children:"Template Variables"}),s.jsxs(je,{type:"button",onClick:n,variant:i?"success":"outline",size:"sm",children:[s.jsx(zd,{className:"w-4 h-4 mr-2"}),"Save & Update Preview"]})]}),i&&s.jsx("p",{className:"text-sm text-amber-600",children:'You have unsaved changes. Click "Save & Update Preview" to apply them.'})]}),s.jsx(qe,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(a=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:a,children:s.jsx(Xe,{variant:"outline",className:"mr-2",children:a})}),s.jsx(De,{id:a,value:t[a]||"",onChange:c=>r(a,c.target.value),placeholder:`Enter ${a.replace("_"," ")}`})]},a))})})]}),Gq=({generatedContent:e,hasUnsavedChanges:t})=>s.jsxs(We,{children:[s.jsxs(ot,{children:[s.jsx(lt,{children:"Document Preview"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["This preview shows the document with your saved variables.",t&&" Save your changes in the Setup tab to update this preview."]})]}),s.jsx(qe,{children:s.jsx(tr,{value:e,readOnly:!0,className:"min-h-[500px] font-mono text-sm",placeholder:"Save your template variables to see the preview here..."})})]}),Yq=({open:e,onOpenChange:t,template:r})=>{const{documentName:n,setDocumentName:i,selectedProjectId:a,setSelectedProjectId:c,selectedClientId:l,setSelectedClientId:d,variables:h,generatedContent:f,isSubmitting:m,isPopulating:g,hasUnsavedChanges:v,projects:x,clients:y,populateVariablesFromData:b,saveAndUpdatePreview:w,handleVariableChange:N,handleSubmit:_}=qq(r),S=async T=>{T.preventDefault(),await _(n,()=>t(!1))};return s.jsx(gr,{open:e,onOpenChange:t,children:s.jsxs(ur,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(dr,{children:[s.jsxs(hr,{children:["Generate Document from ",r.name]}),s.jsx(hi,{children:"Fill in the template variables and generate a document based on your template."})]}),s.jsxs(Ss,{defaultValue:"setup",className:"space-y-4",children:[s.jsxs(ts,{children:[s.jsxs(Mt,{value:"setup",children:["Setup",v&&s.jsx(Xe,{variant:"destructive",className:"ml-2 text-xs",children:"Unsaved"})]}),s.jsx(Mt,{value:"preview",children:"Preview"})]}),s.jsx(Xt,{value:"setup",className:"space-y-6",children:s.jsxs("form",{onSubmit:S,className:"space-y-6",children:[s.jsx(Vq,{documentName:n,setDocumentName:i,selectedProjectId:a,setSelectedProjectId:c,selectedClientId:l,setSelectedClientId:d,projects:x,clients:y,onPopulateData:b,isPopulating:g}),s.jsx(Kq,{variables:r.variables,variableValues:h,onVariableChange:N,onSaveAndUpdatePreview:w,hasUnsavedChanges:v}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(je,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:m,children:"Cancel"}),s.jsx(je,{type:"submit",disabled:m||v,children:m?"Generating...":"Generate Document"})]})]})}),s.jsx(Xt,{value:"preview",className:"space-y-4",children:s.jsx(Gq,{generatedContent:f,hasUnsavedChanges:v})})]})]})})},Xq=({onAddTemplate:e})=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Contract Templates"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your document templates and generate contracts"})]}),s.jsxs(je,{variant:"primary",onClick:e,children:[s.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Template"]})]}),Qq=({searchTerm:e,onSearchChange:t})=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(LD,{className:"w-4 h-4 text-muted-foreground"}),s.jsx(De,{placeholder:"Search templates and documents...",value:e,onChange:r=>t(r.target.value),className:"max-w-md"})]}),Jq=({template:e,onEdit:t,onGenerate:r,onDelete:n})=>s.jsxs(We,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(ot,{children:s.jsxs(lt,{className:"flex items-center justify-between",children:[s.jsx("span",{className:"truncate",children:e.name}),s.jsxs(Xe,{variant:"secondary",children:[e.variables.length," vars"]})]})}),s.jsxs(qe,{children:[s.jsxs("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-3",children:[e.template_content.substring(0,150),"..."]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.variables.slice(0,3).map(i=>s.jsx(Xe,{variant:"outline",className:"text-xs",children:i},i)),e.variables.length>3&&s.jsxs(Xe,{variant:"outline",className:"text-xs",children:["+",e.variables.length-3," more"]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsxs(je,{variant:"outline",size:"sm",onClick:()=>r(e),children:[s.jsx(Yn,{className:"w-4 h-4 mr-1"}),"Generate"]}),s.jsx(je,{variant:"outline",size:"sm",onClick:()=>t(e),children:s.jsx(bs,{className:"w-4 h-4"})}),s.jsxs(Kl,{children:[s.jsx(Pd,{asChild:!0,children:s.jsx(je,{variant:"outline",size:"sm",children:s.jsx(Xn,{className:"w-4 h-4"})})}),s.jsxs(to,{children:[s.jsxs(ro,{children:[s.jsx(so,{children:"Delete Template"}),s.jsxs(io,{children:['Are you sure you want to delete "',e.name,'"? This action cannot be undone.']})]}),s.jsxs(no,{children:[s.jsx(oo,{children:"Cancel"}),s.jsx(ao,{onClick:()=>n(e.id),className:"bg-red-100 text-red-800 hover:bg-red-200",children:"Delete"})]})]})]})]})]})]}),M2=({type:e,onAddTemplate:t})=>e==="templates"?s.jsx(We,{children:s.jsxs(qe,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Yn,{className:"w-12 h-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No templates yet"}),s.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Create your first contract template to get started with document generation."}),s.jsxs(je,{onClick:t,children:[s.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Template"]})]})}):s.jsx(We,{children:s.jsxs(qe,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Yn,{className:"w-12 h-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No generated documents"}),s.jsx("p",{className:"text-muted-foreground text-center",children:"Generate your first document from a template to see it here."})]})}),Zq=({templates:e,onEdit:t,onGenerate:r,onDelete:n,onAddTemplate:i})=>e.length===0?s.jsx(M2,{type:"templates",onAddTemplate:i}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(a=>s.jsx(Jq,{template:a,onEdit:t,onGenerate:r,onDelete:n},a.id))}),eV=({document:e,onDownload:t,onDelete:r})=>s.jsxs(We,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(ot,{children:s.jsx(lt,{className:"truncate",children:e.document_name})}),s.jsxs(qe,{children:[s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Generated on ",new Date(e.created_at).toLocaleDateString()]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsxs(je,{variant:"outline",size:"sm",onClick:()=>t(e),children:[s.jsx(VS,{className:"w-4 h-4 mr-1"}),"Download Word"]}),s.jsxs(Kl,{children:[s.jsx(Pd,{asChild:!0,children:s.jsx(je,{variant:"outline",size:"sm",children:s.jsx(Xn,{className:"w-4 h-4"})})}),s.jsxs(to,{children:[s.jsxs(ro,{children:[s.jsx(so,{children:"Delete Document"}),s.jsxs(io,{children:['Are you sure you want to delete "',e.document_name,'"? This action cannot be undone.']})]}),s.jsxs(no,{children:[s.jsx(oo,{children:"Cancel"}),s.jsx(ao,{onClick:()=>r(e.id),className:"bg-red-100 text-red-800 hover:bg-red-200",children:"Delete"})]})]})]})]})]})]}),tV=({documents:e,onDownload:t,onDelete:r})=>e.length===0?s.jsx(M2,{type:"documents"}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(n=>s.jsx(eV,{document:n,onDownload:t,onDelete:r},n.id))}),rV=()=>{const{profile:e,user:t}=_t(),r=e?.role??t?.user_metadata?.role,{templates:n,generatedDocuments:i,loading:a,deleteTemplate:c,deleteGeneratedDocument:l}=vh(),{downloadDocument:d}=zq(),[h,f]=E.useState(!1),[m,g]=E.useState(!1),[v,x]=E.useState(!1),[y,b]=E.useState(null),[w,N]=E.useState(""),_=n.filter(A=>A.name.toLowerCase().includes(w.toLowerCase())||A.template_content.toLowerCase().includes(w.toLowerCase())),S=i.filter(A=>A.document_name.toLowerCase().includes(w.toLowerCase())),T=A=>{b(A),g(!0)},F=A=>{b(A),x(!0)},U=async A=>{await c(A)},$=async A=>{await l(A)};return r==="client"?s.jsx(Vp,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-lg text-slate-600",children:"Clients cannot access this page."})})}):a?s.jsx(Vp,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-lg",children:"Loading contract templates..."})})}):s.jsx(Vp,{children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx(Xq,{onAddTemplate:()=>f(!0)}),s.jsx(Qq,{searchTerm:w,onSearchChange:N}),s.jsxs(Ss,{defaultValue:"templates",className:"space-y-4",children:[s.jsxs(ts,{children:[s.jsxs(Mt,{value:"templates",children:["Templates (",n.length,")"]}),s.jsxs(Mt,{value:"documents",children:["Generated Documents (",i.length,")"]})]}),s.jsx(Xt,{value:"templates",className:"space-y-4",children:s.jsx(Zq,{templates:_,onEdit:T,onGenerate:F,onDelete:U,onAddTemplate:()=>f(!0)})}),s.jsx(Xt,{value:"documents",className:"space-y-4",children:s.jsx(tV,{documents:S,onDownload:d,onDelete:$})})]}),s.jsx($q,{open:h,onOpenChange:f}),y&&s.jsxs(s.Fragment,{children:[s.jsx(Wq,{open:m,onOpenChange:g,template:y}),s.jsx(Yq,{open:v,onOpenChange:x,template:y})]})]})})},nV=({inProgressTasks:e,nextUpTasks:t,completedCount:r,totalWorkedHours:n,urgentWorkedHours:i,standardWorkedHours:a,dailyDaysTotal:c,billableTotal:l,urgentBillableTotal:d,standardBillableTotal:h,unbilledValue:f,displayCurrency:m,showFinancials:g})=>{const v=g?ct(f,m):"";return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(We,{className:"ui-analytics-card",children:s.jsxs(qe,{className:"ui-analytics-content",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"ui-analytics-title flex items-center gap-2",children:[s.jsx(DD,{className:"w-4 h-4"}),"In Progress"]}),s.jsx("div",{className:"ui-analytics-value mt-2",children:e.length})]}),s.jsxs("div",{className:"space-y-1 mt-auto",children:[e.slice(0,3).map(x=>s.jsx("div",{className:"ui-analytics-meta truncate",children:x.title},x.id)),e.length===0&&s.jsx("div",{className:"ui-analytics-meta",children:"No active tasks"})]})]})}),s.jsx(We,{className:"ui-analytics-card",children:s.jsxs(qe,{className:"ui-analytics-content",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"ui-analytics-title flex items-center gap-2",children:[s.jsx(bD,{className:"w-4 h-4"}),"Next Up"]}),s.jsx("div",{className:"ui-analytics-value mt-2",children:t.length})]}),s.jsxs("div",{className:"space-y-1 mt-auto",children:[t.slice(0,3).map(x=>s.jsx("div",{className:"ui-analytics-meta truncate",children:x.title},x.id)),t.length===0&&s.jsx("div",{className:"ui-analytics-meta",children:"No pending tasks"})]})]})}),s.jsx(We,{className:"ui-analytics-card",children:s.jsxs(qe,{className:"ui-analytics-content",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"ui-analytics-title flex items-center gap-2",children:[s.jsx(Ka,{className:"w-4 h-4"}),"Completed"]}),s.jsx("div",{className:"ui-analytics-value mt-2",children:r})]}),s.jsxs("div",{className:"space-y-1 mt-auto",children:[s.jsxs("div",{className:"ui-analytics-meta",children:["Total hours: ",n.toFixed(1),"h"]}),i>0&&s.jsxs(Xe,{className:"ui-pill ui-pill--neutral",children:["Urgent hours: ",i.toFixed(1),"h"]})]})]})}),s.jsx(We,{className:"ui-analytics-card",children:s.jsxs(qe,{className:"ui-analytics-content",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"ui-analytics-title flex items-center gap-2",children:[s.jsx(Br,{className:"w-4 h-4"}),"Work Logged"]}),s.jsxs("div",{className:"ui-analytics-value mt-2",children:[n.toFixed(1),"h"]})]}),s.jsxs("div",{className:"space-y-1 mt-auto",children:[s.jsx("div",{className:"ui-analytics-meta",children:c>0?`${c} day${c!==1?"s":""} (daily projects)`:"Hours from completed tasks"}),g&&s.jsxs("div",{className:"flex items-center gap-1 ui-analytics-meta",children:[s.jsx(Wn,{className:"w-3 h-3"}),ct(l,m)]})]})]})}),s.jsx(We,{className:"ui-analytics-card",children:s.jsxs(qe,{className:"ui-analytics-content",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"ui-analytics-title flex items-center gap-2",children:[s.jsx(Wn,{className:"w-4 h-4"}),"Unbilled Value"]}),s.jsx("div",{className:"ui-analytics-value mt-2",children:v})]}),s.jsx("div",{className:"space-y-1 mt-auto",children:s.jsx("div",{className:"ui-analytics-meta",children:g?"From completed tasks":"Fixed price project"})})]})}),s.jsx(We,{className:"ui-analytics-card",children:s.jsxs(qe,{className:"ui-analytics-content",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"ui-analytics-title flex items-center gap-2",children:[s.jsx(Wn,{className:"w-4 h-4"}),"Urgent Hours"]}),s.jsxs("div",{className:"ui-analytics-value mt-2",children:[i.toFixed(1),"h"]})]}),s.jsxs("div",{className:"space-y-1 mt-auto",children:[s.jsx("div",{className:"ui-analytics-meta",children:"Completed urgent tasks"}),g&&s.jsxs("div",{className:"flex items-center gap-1 ui-analytics-meta",children:[s.jsx(Wn,{className:"w-3 h-3"}),ct(d,m)]})]})]})}),s.jsx(We,{className:"ui-analytics-card",children:s.jsxs(qe,{className:"ui-analytics-content",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"ui-analytics-title flex items-center gap-2",children:[s.jsx(Wn,{className:"w-4 h-4"}),"Standard Hours"]}),s.jsxs("div",{className:"ui-analytics-value mt-2",children:[a.toFixed(1),"h"]})]}),s.jsxs("div",{className:"space-y-1 mt-auto",children:[s.jsx("div",{className:"ui-analytics-meta",children:"Completed non-urgent tasks"}),g&&s.jsxs("div",{className:"flex items-center gap-1 ui-analytics-meta",children:[s.jsx(Wn,{className:"w-3 h-3"}),ct(h,m)]})]})]})})]})},Cv=e=>(e||"").trim().toLowerCase(),sV=e=>{if(!e)return[];const t=[];for(const r of e){if(typeof r=="string"){try{const n=JSON.parse(r);n?.email&&t.push(Cv(n.email))}catch{}continue}r&&typeof r=="object"&&"email"in r&&t.push(Cv(r.email))}return t.filter(Boolean)},iV=()=>{const{user:e}=_t(),{toast:t}=Dt(),[r,n]=E.useState(null),[i,a]=E.useState(!0);return E.useEffect(()=>{(async()=>{if(!e?.email){n(null),a(!1);return}try{a(!0);const{data:l,error:d}=await Pe.from("clients").select("*").order("created_at",{ascending:!1});if(d)throw d;const h=Cv(e.email),f=(l||[]).find(m=>sV(m.people).includes(h));n(f||null)}catch(l){console.error("Error loading client identity:",l),t({title:"Error",description:"Failed to load client profile",variant:"destructive"}),n(null)}finally{a(!1)}})()},[e?.email]),{client:r,loading:i}},aV=e=>({id:e.id,name:e.name,clientId:e.client_id,startDate:e.start_date,estimatedEndDate:e.estimated_end_date,endDate:e.end_date||void 0,status:e.status,notes:e.notes||"",documents:e.documents||[],team:e.team||[],archived:e.archived||!1,pricingType:e.pricing_type,fixedPrice:e.fixed_price||void 0,hourlyRate:e.hourly_rate||void 0,urgentHourlyRate:e.urgent_hourly_rate||void 0,dailyRate:e.daily_rate||void 0,estimatedHours:e.estimated_hours||void 0,currency:e.currency||"USD",useMilestones:e.use_milestones!==!1,invoices:Array.isArray(e.invoices)?e.invoices:[]}),oV=e=>{const{toast:t}=Dt(),[r,n]=E.useState([]),[i,a]=E.useState(!0);return E.useEffect(()=>{(async()=>{if(!e?.id){n([]),a(!1);return}try{a(!0);const{data:l,error:d}=await Pe.from("projects").select("*").eq("client_id",e.id).order("created_at",{ascending:!1});if(d)throw d;n((l||[]).map(aV))}catch(l){console.error("Error loading client projects:",l),t({title:"Error",description:"Failed to load client projects",variant:"destructive"}),n([])}finally{a(!1)}})()},[e?.id]),{projects:r,loading:i}},lV=e=>{const{toast:t}=Dt(),[r,n]=E.useState([]),[i,a]=E.useState(!0),c=E.useMemo(()=>e.map(l=>l.id),[e]);return E.useEffect(()=>{(async()=>{if(c.length===0){n([]),a(!1);return}try{a(!0);const h=(await Fk()).filter(f=>f.projectId&&c.includes(f.projectId));n(h)}catch(d){console.error("Error loading client tasks:",d),t({title:"Error",description:"Failed to load client tasks",variant:"destructive"}),n([])}finally{a(!1)}})()},[c.join("|")]),{tasks:r,loading:i}},cV=e=>({id:e.id,projectId:e.project_id,title:e.title,description:e.description||void 0,targetDate:e.target_date,status:e.status,amount:e.amount||void 0,currency:e.currency||"USD",completionPercentage:e.completion_percentage||0,estimatedHours:e.estimated_hours||void 0,createdAt:e.created_at,updatedAt:e.updated_at}),uV=e=>{const{toast:t}=Dt(),[r,n]=E.useState([]),[i,a]=E.useState(!0),c=E.useMemo(()=>e.map(l=>l.id),[e]);return E.useEffect(()=>{(async()=>{if(c.length===0){n([]),a(!1);return}try{a(!0);const{data:d,error:h}=await Pe.from("milestones").select("*").in("project_id",c).order("target_date",{ascending:!0});if(h)throw h;n((d||[]).map(cV))}catch(d){console.error("Error loading client milestones:",d),t({title:"Error",description:"Failed to load client milestones",variant:"destructive"}),n([])}finally{a(!1)}})()},[c.join("|")]),{milestones:r,loading:i}},mx=()=>{const{client:e,loading:t}=iV(),{projects:r,loading:n}=oV(e),{tasks:i,loading:a}=lV(r),{milestones:c,loading:l}=uV(r);return{client:e,projects:r,tasks:i,milestones:c,loading:t||n||a||l,clientLoading:t,projectsLoading:n,tasksLoading:a,milestonesLoading:l}},sd=e=>{if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t.toISOString().slice(0,10)},Og=e=>sd(e.completedDate)||sd(e.endDate)||sd(e.startDate)||sd(e.createdDate),dV=()=>{const{displayCurrency:e,convert:t}=pt(),{client:r,projects:n,tasks:i,milestones:a,loading:c}=mx(),l=E.useMemo(()=>{const h=i.filter(_=>_.status==="in-progress"),f=i.filter(_=>_.status==="pending"),m=i.filter(_=>_.status==="completed"),g=m.reduce((_,S)=>_+(S.workedHours||0),0),v=m.reduce((_,S)=>_+(S.urgent&&S.workedHours||0),0),x=new Map;n.forEach(_=>x.set(_.id,_));let y=0,b=0;const w=new Map;m.forEach(_=>{const S=_.projectId?x.get(_.projectId):void 0;if(S){if(S.pricingType==="hourly"){const T=_.urgent&&S.urgentHourlyRate?S.urgentHourlyRate:S.hourlyRate||0,F=t(T,S.currency,e);y+=(_.workedHours||0)*F}if(S.pricingType==="daily"){const T=Og(_);if(!T)return;w.has(S.id)||w.set(S.id,new Set),w.get(S.id).add(T)}}}),w.forEach((_,S)=>{const T=x.get(S);if(!T||T.pricingType!=="daily"||!T.dailyRate)return;const F=t(T.dailyRate,T.currency,e);b+=_.size,y+=_.size*F});const N=n.some(_=>_.pricingType!=="fixed");return{inProgressTasks:h,pendingTasks:f,completedTasks:m,totalWorkedHours:g,urgentWorkedHours:v,dailyDaysTotal:b,billableTotal:y,hasBillableProjects:N}},[i,n,e,t]),d=E.useMemo(()=>l.pendingTasks.slice().sort((f,m)=>{const g=Og(f)||"",v=Og(m)||"";return g.localeCompare(v)}),[l.pendingTasks]);return{client:r,projects:n,tasks:i,milestones:a,loading:c,metrics:l,nextUpTasks:d,displayCurrency:e}},hV=()=>{const{profile:e,user:t}=_t(),r=e?.role??t?.user_metadata?.role,[n,i]=E.useState(["active"]),{convert:a,displayCurrency:c}=pt(),{client:l,projects:d,tasks:h,milestones:f,loading:m,displayCurrency:g}=dV(),[v,x]=E.useState(null),y=E.useMemo(()=>d.filter(U=>n.includes(U.status)),[d,n]),b=E.useMemo(()=>new Set(y.map(U=>U.id)),[y]),w=E.useMemo(()=>h.filter(U=>U.projectId&&b.has(U.projectId)),[h,b]),N=E.useMemo(()=>f.filter(U=>b.has(U.projectId)),[f,b]),_=U=>{if(!U)return null;const $=new Date(U);return Number.isNaN($.getTime())?null:$.toISOString().slice(0,10)},S=U=>_(U.completedDate)||_(U.endDate)||_(U.startDate)||_(U.createdDate),T=E.useMemo(()=>{const U=w.filter(W=>W.status==="in-progress"),$=w.filter(W=>W.status==="pending"),A=w.filter(W=>W.status==="completed"),J=A.reduce((W,H)=>W+(H.workedHours||0),0),pe=A.reduce((W,H)=>W+(H.urgent&&H.workedHours||0),0),z=J-pe,G=new Map;y.forEach(W=>G.set(W.id,W));let R=0,Z=0,ae=0,q=0,Y=0;const ne=new Map;A.forEach(W=>{const H=W.projectId?G.get(W.projectId):void 0;if(H){if(H.pricingType==="hourly"){const se=W.urgent&&H.urgentHourlyRate?H.urgentHourlyRate:H.hourlyRate||0,ce=a(se,H.currency,c),he=(W.workedHours||0)*ce;R+=he,W.billed||(Z+=he),W.urgent?ae+=he:q+=he}if(H.pricingType==="daily"){const se=S(W);if(!se)return;ne.has(H.id)||ne.set(H.id,new Set),ne.get(H.id).add(se)}}}),ne.forEach((W,H)=>{const se=G.get(H);if(!se||se.pricingType!=="daily"||!se.dailyRate)return;const ce=a(se.dailyRate,se.currency,c);Y+=W.size;const he=W.size*ce;R+=he,q+=he});const te=y.some(W=>W.pricingType!=="fixed");return{inProgressTasks:U,pendingTasks:$,completedTasks:A,totalWorkedHours:J,urgentWorkedHours:pe,standardWorkedHours:z,dailyDaysTotal:Y,billableTotal:R,urgentBillableTotal:ae,standardBillableTotal:q,unbilledValue:Z,hasBillableProjects:te}},[w,y,a,c]),F=E.useMemo(()=>T.pendingTasks.slice().sort(($,A)=>{const J=S($)||"",pe=S(A)||"";return J.localeCompare(pe)}),[T.pendingTasks]);return r!=="client"?s.jsx(Bt,{children:s.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",style:{backgroundColor:"#F3F3F2"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-slate-600",children:"This area is for clients only."})]})})}):s.jsx(Bt,{children:s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"w-full space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Client Dashboard"}),s.jsx("p",{className:"text-slate-600",children:l?.name||"Your projects at a glance"})]})}),m?s.jsx("div",{className:"text-slate-600",children:"Loading your dashboard..."}):l?s.jsxs(s.Fragment,{children:[s.jsx(nV,{inProgressTasks:T.inProgressTasks,nextUpTasks:F,completedCount:T.completedTasks.length,totalWorkedHours:T.totalWorkedHours,urgentWorkedHours:T.urgentWorkedHours,standardWorkedHours:T.standardWorkedHours,dailyDaysTotal:T.dailyDaysTotal,billableTotal:T.billableTotal,urgentBillableTotal:T.urgentBillableTotal,standardBillableTotal:T.standardBillableTotal,unbilledValue:T.unbilledValue,displayCurrency:g,showFinancials:T.hasBillableProjects}),s.jsx("div",{className:"space-y-4",children:s.jsx(zy,{tasks:h,clients:l?[l]:[],projects:d,onTaskClick:U=>x(U),selectedStatuses:n,onStatusChange:i,readOnly:!0})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Project Timeline"}),s.jsx($y,{projects:y,tasks:w,milestones:N,clients:l?[l]:[]})]}),s.jsx(fh,{task:v,isOpen:!!v,onClose:()=>x(null),projects:y})]}):s.jsx("div",{className:"text-slate-600",children:"No client profile found for this account."})]})})})},fV=e=>{switch(e){case"active":return"ui-pill ui-pill--success";case"completed":return"ui-pill ui-pill--info";case"paused":return"ui-pill ui-pill--warning";case"canceled":return"ui-pill ui-pill--danger";default:return"ui-pill ui-pill--neutral"}},pV=({project:e,clientName:t})=>{const r=Dn();return s.jsxs(We,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>r(`/client/projects/${e.id}`),children:[s.jsx(ot,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(lt,{className:"text-lg font-semibold mb-1",children:e.name}),s.jsx("p",{className:"text-sm text-slate-600",children:t||"Your project"})]}),s.jsx(Xe,{className:fV(e.status),children:e.status})]})}),s.jsxs(qe,{className:"ui-card-content space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[s.jsx(un,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:[new Date(e.startDate).toLocaleDateString()," - ",new Date(e.estimatedEndDate).toLocaleDateString()]})]}),e.team&&e.team.length>0&&s.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[s.jsx(Xr,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:[e.team.length," team member",e.team.length!==1?"s":""]})]}),e.notes&&s.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:e.notes})]})]})},mV=({projects:e,clientName:t})=>s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(r=>s.jsx(pV,{project:r,clientName:t},r.id))}),gV=()=>{const{profile:e,user:t}=_t(),r=e?.role??t?.user_metadata?.role,{client:n,projects:i,loading:a}=mx();return r!=="client"?s.jsx(Bt,{children:s.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",style:{backgroundColor:"#F3F3F2"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-slate-600",children:"This area is for clients only."})]})})}):s.jsx(Bt,{children:s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"w-full space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Your Projects"})}),a?s.jsx(eo,{count:3,lines:4}):i.length===0?s.jsx("div",{className:"text-slate-600",children:"No projects assigned yet."}):s.jsx(mV,{projects:i,clientName:n?.name})]})})})},vV=({project:e,tasks:t})=>{const{displayCurrency:r,convert:n}=pt(),i=t.filter(f=>f.status==="completed"),a=i.reduce((f,m)=>f+(m.workedHours||0),0),c=i.reduce((f,m)=>f+(m.urgent&&m.workedHours||0),0);let l=0,d=0;if(e.pricingType==="hourly"&&i.forEach(f=>{const m=f.urgent&&e.urgentHourlyRate?e.urgentHourlyRate:e.hourlyRate||0,g=n(m,e.currency,r);l+=(f.workedHours||0)*g}),e.pricingType==="daily"&&e.dailyRate){const f=new Set;i.forEach(g=>{const v=g.completedDate||g.endDate||g.startDate||g.createdDate;if(!v)return;const x=new Date(v);Number.isNaN(x.getTime())||f.add(x.toISOString().slice(0,10))}),d=f.size;const m=n(e.dailyRate,e.currency,r);l=d*m}const h=e.pricingType!=="fixed";return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(We,{children:[s.jsx(ot,{className:"pb-2",children:s.jsxs(lt,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Br,{className:"w-4 h-4"}),"Hours Worked"]})}),s.jsxs(qe,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[a.toFixed(1),"h"]}),c>0&&s.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:["Urgent: ",c.toFixed(1),"h"]})]})]}),s.jsxs(We,{children:[s.jsx(ot,{className:"pb-2",children:s.jsxs(lt,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(un,{className:"w-4 h-4"}),"Days Worked"]})}),s.jsxs(qe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.pricingType==="daily"?d:""}),s.jsx("div",{className:"text-xs text-slate-600 mt-1",children:e.pricingType==="daily"?"Daily billing based on completed tasks":"Not applicable"})]})]}),s.jsxs(We,{children:[s.jsx(ot,{className:"pb-2",children:s.jsxs(lt,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Wn,{className:"w-4 h-4"}),"Billable"]})}),s.jsxs(qe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:h?ct(l,r):""}),s.jsx("div",{className:"text-xs text-slate-600 mt-1",children:h?"Based on completed tasks":"Fixed-price project"})]})]})]})},yV=e=>{if(typeof e=="string")try{const t=JSON.parse(e);return{name:t.name||e,title:t.title||"",notes:t.notes||""}}catch{return{name:e,title:"",notes:""}}return e},xV=({project:e})=>{const t=e.team||[];return s.jsx("div",{className:"space-y-6",children:s.jsxs(We,{children:[s.jsx(ot,{children:s.jsxs(lt,{className:"flex items-center",children:[s.jsx(Xr,{className:"w-5 h-5 mr-2"}),"Team Members (",t.length,")"]})}),s.jsx(qe,{children:t.length>0?s.jsx("div",{className:"space-y-3",children:t.map((r,n)=>{const i=yV(r);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Kv,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:i.name}),i.title&&s.jsx("p",{className:"text-sm text-slate-600",children:i.title}),i.notes&&s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:i.notes})]})]}),s.jsx(Xe,{className:"ui-pill ui-pill--success",children:"Active"})]},n)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Xr,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-slate-600 mb-2",children:"No team members yet"}),s.jsx("p",{className:"text-slate-500",children:"Your project team will appear here"})]})})]})})},wV=()=>{const{id:e}=Dv(),t=Dn(),{profile:r,user:n}=_t(),i=r?.role??n?.user_metadata?.role,{client:a,projects:c,tasks:l,milestones:d,loading:h}=mx(),[f,m]=E.useState(null);if(i!=="client")return s.jsx(Bt,{children:s.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",style:{backgroundColor:"#F3F3F2"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-slate-600",children:"This area is for clients only."})]})})});const g=c.find(y=>y.id===e),v=l.filter(y=>y.projectId===e),x=d.filter(y=>y.projectId===e);return!g&&!h?s.jsx(Bt,{children:s.jsx("div",{className:"min-h-screen p-6 flex items-center justify-center",style:{backgroundColor:"#F3F3F2"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Project not found"}),s.jsxs(je,{onClick:()=>t("/client/projects"),variant:"outline",children:[s.jsx(gd,{className:"w-4 h-4 mr-2"}),"Back to Projects"]})]})})}):s.jsx(Bt,{children:s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"w-full space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs(je,{onClick:()=>t("/client/projects"),variant:"outline",size:"sm",children:[s.jsx(gd,{className:"w-4 h-4 mr-2"}),"Back to Projects"]})}),g&&s.jsxs(s.Fragment,{children:[s.jsx(iT,{project:g,client:a,tasks:v,milestones:x}),s.jsx(vV,{project:g,tasks:v}),s.jsxs(Ss,{defaultValue:"overview",className:"w-full",children:[s.jsxs(ts,{className:"bg-white border border-slate-200",children:[s.jsx(Mt,{value:"overview",children:"Overview"}),s.jsx(Mt,{value:"team",children:"Team"})]}),s.jsxs(Xt,{value:"overview",className:"mt-4 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Tasks"}),s.jsx(zy,{tasks:v,clients:a?[a]:[],projects:[g],onTaskClick:y=>m(y),selectedStatuses:[g.status],onStatusChange:()=>{},readOnly:!0})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Project Timeline"}),s.jsx($y,{projects:[g],tasks:v,milestones:x,clients:a?[a]:[]})]})]}),s.jsxs(Xt,{value:"team",className:"mt-4 space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Team Members"}),s.jsx(xV,{project:g})]})]}),s.jsx(fh,{task:f,isOpen:!!f,onClose:()=>m(null),projects:[g]})]})]})})})};function bV(){const e=new m4;return s.jsx(v4,{client:e,children:s.jsx(A5,{children:s.jsx(I5,{children:s.jsxs(x4,{attribute:"class",defaultTheme:"light",enableSystem:!0,children:[s.jsx("div",{className:"min-h-screen bg-background",children:s.jsx(zA,{children:s.jsxs(IA,{children:[s.jsx(Fr,{path:"/auth",element:s.jsx(s6,{})}),s.jsx(Fr,{path:"/",element:s.jsx(bn,{children:s.jsx(HB,{})})}),s.jsx(Fr,{path:"/projects",element:s.jsx(bn,{children:s.jsx(l7,{})})}),s.jsx(Fr,{path:"/projects/:id",element:s.jsx(bn,{children:s.jsx(n9,{})})}),s.jsx(Fr,{path:"/clients",element:s.jsx(bn,{children:s.jsx(_9,{})})}),s.jsx(Fr,{path:"/clients/:id",element:s.jsx(bn,{children:s.jsx(S9,{})})}),s.jsx(Fr,{path:"/subscriptions",element:s.jsx(bn,{children:s.jsx(T9,{})})}),s.jsx(Fr,{path:"/users",element:s.jsx(bn,{children:s.jsx(tH,{})})}),s.jsx(Fr,{path:"/client",element:s.jsx(bn,{children:s.jsx(hV,{})})}),s.jsx(Fr,{path:"/client/projects",element:s.jsx(bn,{children:s.jsx(gV,{})})}),s.jsx(Fr,{path:"/client/projects/:id",element:s.jsx(bn,{children:s.jsx(wV,{})})}),s.jsx(Fr,{path:"/contracts",element:s.jsx(bn,{children:s.jsx(rV,{})})}),s.jsx(Fr,{path:"*",element:s.jsx(rH,{})})]})})}),s.jsx(SI,{})]})})})})}const F2=document.getElementById("root");if(!F2)throw new Error("Failed to find the root element");const jV=HR.createRoot(F2);jV.render(s.jsx(gt.StrictMode,{children:s.jsx(bV,{})}));
